import{r as c,j as s}from"./vendor-react-C7f8pR3v.js";import{S as z,L}from"./index-Coc4F8A7.js";import{c as M}from"./params-DPw20rNZ.js";import{P as V}from"./PlotlyLoader-BtFnQrUm.js";import{R,n as v,q as C}from"./vendor-ui-D8QOqaKz.js";import"./vendor-BihtTMD9.js";/* empty css                     */import"./vendor-plotly-BS04eDUH.js";const h={"pseudo-controls":"_pseudo-controls_wotht_1","pseudo-checkbox":"_pseudo-checkbox_wotht_4","eos-note":"_eos-note_wotht_1","eos-plot":"_eos-plot_wotht_14"},O=1e3,y=2,P=`(%{x:.${y}f}, %{y:.${y}f})`,K=({element:u,activeAccuracy:b})=>{const[F,B]=c.useState(!0),[j,k]=c.useState(),[p,f]=c.useState(["REF"]),[S,D]=c.useState([]),[d,$]=c.useState({});c.useEffect(()=>{if(!u)return;new z().fetchEosData(b).then(l=>{const r=l[u];k(r);const a=Object.keys(Object.values(r)[0]);D(a),$(a.reduce((i,o,e)=>(i[o]=M[e%M.length],i),{}))}).catch(l=>{console.error("Error fetching EOS data:",l),k(void 0)}).finally(()=>{B(!1)})},[b,u]);const N=c.useMemo(()=>(t,l,r,a,i)=>t.map(o=>{const e=Math.pow(o/l,.6666666666666666);return r+9*a*l/16*(Math.pow(e-1,3)*i+Math.pow(e-1,2)*(6-4*e))}),[]);return F?s.jsx(L,{}):j?s.jsxs("div",{id:"eos-plots",children:[s.jsxs(R,{children:[s.jsxs(v,{md:4,lg:3,xxl:2,className:h["pseudo-controls"],children:[s.jsx(C,{type:"checkbox",id:"all",label:"Select all",defaultChecked:!1,className:h["pseudo-checkbox"],style:{color:"black"},onChange:t=>{t.target.checked?f(S):f(["REF"])}}),S.map(t=>s.jsx(C,{type:"checkbox",id:t,label:t,checked:p.includes(t),disabled:t==="REF",className:h["pseudo-checkbox"],style:{color:d[t]},onChange:l=>{l.target.checked?f([...p,t]):f(p.filter(r=>r!==t))}},t))]}),s.jsx(v,{children:s.jsx(R,{children:Object.entries(j).map(([t,l])=>{const r=Object.values(l).flatMap(o=>o.volumes||[]),a=Math.min(...r),i=Math.max(...r);return s.jsx(v,{lg:6,xl:4,xxl:3,children:s.jsx(V,{data:Object.entries(l).filter(([o])=>p.includes(o)).map(([o,e])=>{var E;if(o!=="REF"&&e.volumes&&e.energies){if(e.volumes.length!==e.energies.length)return console.error(`Mismatch in volumes and energies for ${u} ${t} ${o}`),{};const m=e.volumes.map((n,g)=>{var _;return{volume:n,energy:(((_=e.energies)==null?void 0:_[g])||0)-((e==null?void 0:e.E0)||0)}}).sort((n,g)=>n.volume-g.volume),w=m.map(n=>n.volume),x=m.map(n=>n.energy);return{x:w,y:x,mode:"lines+markers",type:"scatter",line:{shape:"spline"},name:o,marker:{color:d[o]},hovertemplate:P+`<br>ν = ${(E=e.nu)==null?void 0:E.toFixed(y)}`,hoverlabel:{align:"left"}}}else{const m=Array.from({length:O},(w,x)=>a+x*(i-a)/(O-1));return{x:m,y:N(m,e.V0,0,e.B0,e.B1),mode:"lines",type:"scatter",line:{color:d[o]},name:o,hovertemplate:P}}}),layout:{title:{text:t,xref:"paper",yref:"paper",x:.45,y:1},xaxis:{title:{text:"Volume [Å³/atoms]",standoff:20},showgrid:!1},yaxis:{title:{text:"Energy [eV/atom]",standoff:20},showgrid:!1},showlegend:!1,margin:{l:70,r:20,t:30,b:60},autosize:!0},config:{displaylogo:!1,responsive:!0,modeBarButtonsToRemove:["zoomIn2d","zoomOut2d","autoScale2d","lasso2d","select2d"]},className:h["eos-plot"],useResizeHandler:!0})},t)})})})]}),s.jsx("div",{id:h["eos-note"],children:'Comparison of the Birch-Murnaghan fit of the pseudopotential equation of state ("Fit") with the reference all-electron results ("Wien2k").'})]}):s.jsx("span",{children:"No data available"})};export{K as default};
