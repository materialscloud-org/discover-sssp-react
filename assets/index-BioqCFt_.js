const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlotlyLoader-CkbsAcpa.js","assets/index-BXRE74-o.js","assets/index-DrCkp0rM.css","assets/PlotlyLoader-CuCRB34y.css"])))=>i.map(i=>d[i]);
import{r as h,_ as w,j as s,P as j,L as v,R as P,b as _}from"./index-BXRE74-o.js";const M={"chessboard-plot":"_chessboard-plot_14kug_1"},k={responsive:!0,displayModeBar:!1,scrollZoom:!1},g=({pseudos:a,values:u,title:o,colorMax:p,tileClickHandler:m})=>{const l=h.useRef(null);return h.useEffect(()=>{if(!l.current)return;let r=null,e=null,n=!1,i=null;return(async()=>{if(r=(await w(async()=>{const{default:t}=await import("./PlotlyLoader-CkbsAcpa.js");return{default:t}},__vite__mapDeps([0,1,2,3]))).default,n||!l.current)return;const c=[{z:u,x:a,y:a,colorscale:"Inferno",type:"heatmap"},{yaxis:"y2",mode:"none",showlegend:!1}],d={xaxis:{side:"top",title:{text:""},fixedrange:!0,tickangle:-90},yaxis:{autorange:"reversed",title:{text:""},fixedrange:!0},yaxis2:{overlaying:"y",side:"right",title:{text:`Max ${o}`,standoff:100},showticklabels:!1,fixedrange:!0},hoverlabel:{namelength:0},annotations:u.map((t,x)=>t.map((y,b)=>({x:a[b],y:a[x],text:y.toFixed(1),showarrow:!1,font:{color:y>p/2?"white":"black",size:10}}))).flat(),margin:{t:140,r:60,b:40,l:140},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)"};e=await r.react(l.current,c,d,k),e.on("plotly_click",t=>{const{x,y}=t.points[0];m([y,x])});const f=t=>{if(!t)return;const x={width:t.offsetWidth,height:t.offsetWidth};r.relayout(t,x)};return i=()=>f(e),window.addEventListener("resize",i),f(e),()=>{var t;e&&((t=e.removeAllListeners)==null||t.call(e,"plotly_click"))}})(),()=>{var c;if(n=!0,i&&window.removeEventListener("resize",i),r&&e)try{(c=e.removeAllListeners)==null||c.call(e,"plotly_click"),r.purge(e)}catch(d){console.error("Error purging BandsChessboardPlot:",d)}}},[a,u,o,p]),s.jsx("div",{ref:l,className:M["chessboard-plot"]})},E={"chessboard-plots":"_chessboard-plots_sjmsm_1"},L=({goToBands:a})=>{const{loadingMetadata:u,allPseudos:o,setActivePseudos:p}=h.useContext(j),m=n=>{const i=[];for(let c=0;c<n;c++){const d=[];for(let f=0;f<n;f++)d.push(Math.random()*100);i.push(d)}return i},l=h.useMemo(()=>m(o.length),[o]),r=h.useMemo(()=>m(o.length),[o]),e=n=>{p(n),a("Band Structure")};return u?s.jsx(v,{}):s.jsxs("div",{id:"chessboard-page",children:[s.jsx("div",{style:{fontWeight:"bold",textAlign:"center"},children:"Disclaimer: The data shown does not reflect real data and is for demonstration purposes only."}),s.jsx("div",{id:E["chessboard-plots"],children:s.jsxs(P,{className:"justify-content-center g-0",children:[s.jsx(_,{xxl:"6",children:s.jsx(g,{pseudos:o,values:l,title:"V",colorMax:Math.max(...l.flat()),tileClickHandler:e})}),s.jsx(_,{xxl:"6",children:s.jsx(g,{pseudos:o,values:r,title:"10",colorMax:Math.max(...r.flat()),tileClickHandler:e})})]})})]})};export{L as default};
