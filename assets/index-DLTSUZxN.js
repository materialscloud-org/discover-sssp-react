const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlotlyLoader-Cmh1i-Xe.js","assets/index-B4xB9-IS.js","assets/index-CcxwSnyO.css","assets/PlotlyLoader-CuCRB34y.css"])))=>i.map(i=>d[i]);
import{r as d,_ as w,j as o,P as v,L as j}from"./index-B4xB9-IS.js";import{C as _}from"./Col-CRGjvHyF.js";const M={"chessboard-plot":"_chessboard-plot_9gqlk_1"},k={responsive:!0,displayModeBar:!1,scrollZoom:!1},g=({pseudos:l,values:u,title:f,colorMax:m,tileClickHandler:r})=>{const n=d.useRef(null);return d.useEffect(()=>{if(!n.current)return;let a=null,e=null,x=!1,s=null;return(async()=>{if(a=(await w(async()=>{const{default:t}=await import("./PlotlyLoader-Cmh1i-Xe.js");return{default:t}},__vite__mapDeps([0,1,2,3]))).default,x||!n.current)return;const i=[{z:u,x:l,y:l,colorscale:"Inferno",type:"heatmap"},{yaxis:"y2",mode:"none",showlegend:!1}],c={xaxis:{side:"top",title:{text:""},fixedrange:!0,tickangle:-90},yaxis:{autorange:"reversed",title:{text:""},fixedrange:!0},yaxis2:{overlaying:"y",side:"right",title:{text:`Max ${f}`,standoff:100},showticklabels:!1,fixedrange:!0},hoverlabel:{namelength:0},annotations:u.map((t,p)=>t.map((y,b)=>({x:l[b],y:l[p],text:y.toFixed(1),showarrow:!1,font:{color:y>m/2?"white":"black",size:10}}))).flat(),margin:{t:140,r:60,b:40,l:140},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)"};e=await a.react(n.current,i,c,k),e.on("plotly_click",t=>{const{x:p,y}=t.points[0];r([p,y])});const h=t=>{if(!t)return;const p={width:t.offsetWidth,height:t.offsetWidth};a.relayout(t,p)};return s=()=>h(e),window.addEventListener("resize",s),h(e),()=>{var t;e&&((t=e.removeAllListeners)==null||t.call(e,"plotly_click"))}})(),()=>{var i;if(x=!0,s&&window.removeEventListener("resize",s),a&&e)try{(i=e.removeAllListeners)==null||i.call(e,"plotly_click"),a.purge(e)}catch(c){console.error("Error purging BandsChessboardPlot:",c)}}},[l,u,f,m]),o.jsx("div",{ref:n,className:M["chessboard-plot"]})},P={"chessboard-plots":"_chessboard-plots_zg9za_1"},z=({setActiveTab:l})=>{const{loadingMetadata:u,pseudosMetadata:f,setActivePseudos:m}=d.useContext(v),r=d.useMemo(()=>Object.keys(f),[f]),n=s=>{const i=[];for(let c=0;c<s;c++){const h=[];for(let t=0;t<s;t++)h.push(Math.random()*100);i.push(h)}return i},a=d.useMemo(()=>n(r.length),[r]),e=d.useMemo(()=>n(r.length),[r]),x=s=>{m(s),l("Band Structure")};return u?o.jsx(j,{}):o.jsxs("div",{id:"chessboard-page",children:[o.jsx("div",{style:{fontWeight:"bold",textAlign:"center"},children:"Disclaimer: The data shown does not reflect real data and is for demonstration purposes only."}),o.jsxs("div",{id:P["chessboard-plots"],children:[o.jsx(_,{xl:12,xxl:6,children:o.jsx(g,{pseudos:r,values:a,title:"V",colorMax:Math.max(...a.flat()),tileClickHandler:x})}),o.jsx(_,{xl:12,xxl:6,children:o.jsx(g,{pseudos:r,values:e,title:"10",colorMax:Math.max(...e.flat()),tileClickHandler:x})})]})]})};export{z as default};
