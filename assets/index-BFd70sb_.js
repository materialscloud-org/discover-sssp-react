const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-SZkUiTep.js","assets/index-CYywZYbx.js","assets/index-DrCkp0rM.css"])))=>i.map(i=>d[i]);
import{r,f as g,j as a,h as f,p as z,q as N,b as C,n as w,m as R,t as q,P as W,S as H,_ as J,L as K,R as Q}from"./index-CYywZYbx.js";import{N as U}from"./NoDataMessage-b9HEuKs2.js";const T=r.forwardRef(({bsPrefix:e,fluid:s=!1,as:t="div",className:n,...o},l)=>{const c=g(e,"container"),i=typeof s=="string"?`-${s}`:"-fluid";return a.jsx(t,{ref:l,...o,className:f(n,s?`${c}${i}`:c)})});T.displayName="Container";const E=r.forwardRef(({bsPrefix:e,type:s,size:t,htmlSize:n,id:o,className:l,isValid:c=!1,isInvalid:i=!1,plaintext:p,readOnly:d,as:h="input",...j},S)=>{const{controlId:v}=r.useContext(N);return e=g(e,"form-control"),a.jsx(h,{...j,type:s,size:n,ref:S,readOnly:d,id:o||v,className:f(l,p?`${e}-plaintext`:e,t&&`${e}-${t}`,s==="color"&&`${e}-color`,c&&"is-valid",i&&"is-invalid")})});E.displayName="FormControl";const X=Object.assign(E,{Feedback:z}),k=r.forwardRef(({className:e,bsPrefix:s,as:t="div",...n},o)=>(s=g(s,"form-floating"),a.jsx(t,{ref:o,className:f(e,s),...n})));k.displayName="FormFloating";const _=r.forwardRef(({controlId:e,as:s="div",...t},n)=>{const o=r.useMemo(()=>({controlId:e}),[e]);return a.jsx(N.Provider,{value:o,children:a.jsx(s,{...t,ref:n})})});_.displayName="FormGroup";const M=r.forwardRef(({as:e="label",bsPrefix:s,column:t=!1,visuallyHidden:n=!1,className:o,htmlFor:l,...c},i)=>{const{controlId:p}=r.useContext(N);s=g(s,"form-label");let d="col-form-label";typeof t=="string"&&(d=`${d} ${d}-${t}`);const h=f(o,s,n&&"visually-hidden",t&&d);return l=l||p,t?a.jsx(C,{ref:i,as:"label",className:h,htmlFor:l,...c}):a.jsx(e,{ref:i,className:h,htmlFor:l,...c})});M.displayName="FormLabel";const O=r.forwardRef(({bsPrefix:e,className:s,id:t,...n},o)=>{const{controlId:l}=r.useContext(N);return e=g(e,"form-range"),a.jsx("input",{...n,type:"range",ref:o,className:f(s,e),id:t||l})});O.displayName="FormRange";const I=r.forwardRef(({bsPrefix:e,size:s,htmlSize:t,className:n,isValid:o=!1,isInvalid:l=!1,id:c,...i},p)=>{const{controlId:d}=r.useContext(N);return e=g(e,"form-select"),a.jsx("select",{...i,size:t,ref:p,className:f(n,e,s&&`${e}-${s}`,o&&"is-valid",l&&"is-invalid"),id:c||d})});I.displayName="FormSelect";const V=r.forwardRef(({bsPrefix:e,className:s,as:t="small",muted:n,...o},l)=>(e=g(e,"form-text"),a.jsx(t,{...o,ref:l,className:f(s,e,n&&"text-muted")})));V.displayName="FormText";const A=r.forwardRef((e,s)=>a.jsx(w,{...e,ref:s,type:"switch"}));A.displayName="Switch";const Y=Object.assign(A,{Input:w.Input,Label:w.Label}),G=r.forwardRef(({bsPrefix:e,className:s,children:t,controlId:n,label:o,...l},c)=>(e=g(e,"form-floating"),a.jsxs(_,{ref:c,className:f(s,e),controlId:n,...l,children:[t,a.jsx("label",{htmlFor:n,children:o})]})));G.displayName="FloatingLabel";const Z={_ref:R.any,validated:R.bool,as:R.elementType},$=r.forwardRef(({className:e,validated:s,as:t="form",...n},o)=>a.jsx(t,{...n,ref:o,className:f(e,s&&"was-validated")}));$.displayName="Form";$.propTypes=Z;const F=Object.assign($,{Group:_,Control:X,Floating:k,Check:w,Switch:Y,Label:M,Text:V,Range:O,Select:I,FloatingLabel:G}),B=({which:e,pseudos:s,value:t,onSelect:n})=>a.jsxs("div",{id:`${e}-pseudo-selector`,children:[a.jsxs(F.Label,{htmlFor:`${e}-select`,children:[q(e),":"]}),a.jsx(F.Select,{id:`${e}-select`,value:t,onChange:o=>n(o.target.value),children:s.map(o=>a.jsx("option",{value:o,children:o},o))})]}),b={"pseudo-selectors-form":"_pseudo-selectors-form_1k53o_1","bands-plot":"_bands-plot_1k53o_1","bands-note":"_bands-note_1k53o_1"},te=({element:e})=>{const[s,t]=r.useState(!0),{loadingMetadata:n,categorizedPseudosMetadata:o,activePseudos:l,setActivePseudos:c}=r.useContext(W),[i,p]=r.useState([]),[d,h]=r.useState(),[j,S]=r.useState(0),v=r.useRef(null),L=r.useMemo(()=>Object.assign({},...Object.values(o)),[]);return r.useEffect(()=>{e&&H.fetchBandsData().then(u=>{const x=u[e];h(x);const m=x&&Object.keys(x);p(m);const y=m?m[0]:"";c([y,y])}).catch(u=>{console.error("Error fetching bands data:",u),h(void 0),p([]),c([])}).finally(()=>{t(!1)})},[e]),r.useEffect(()=>S(0),[l]),r.useEffect(()=>{if(d&&v.current){const u=l.map((m,y)=>{var D;return{bandsData:y==0?d[m]:P(d[m],j),traceFormat:{line:{color:y==0?"black":((D=L[m])==null?void 0:D.color)||"red"}}}});let x=null;(async()=>(x=(await J(async()=>{const{BandsVisualiser:m}=await import("./main-SZkUiTep.js");return{BandsVisualiser:m}},__vite__mapDeps([0,1,2]))).BandsVisualiser,x(v.current,{bandsDataArray:u,settings:{showlegend:!1}})))()}},[l,d,L,j]),s||n?a.jsx(K,{}):d?a.jsxs(T,{id:"bands-plots",children:[a.jsx("div",{style:{fontWeight:"bold",textAlign:"center",marginBottom:"1rem"},children:"Disclaimer: The data shown does not reflect real data and is for demonstration purposes only."}),a.jsxs(Q,{children:[a.jsx(C,{lg:"3",children:a.jsxs("div",{id:b["pseudo-selectors-form"],children:[a.jsx(B,{which:"reference",pseudos:i,value:l[0],onSelect:u=>c([u,l[1]])}),a.jsx(B,{which:"compared",pseudos:i,value:l[1],onSelect:u=>c([l[0],u])}),a.jsxs(F.Group,{children:[a.jsxs(F.Label,{htmlFor:"pseudo-shift-range",children:["Avg. band difference = ",j," eV"]}),a.jsx(F.Range,{id:"pseudo-shift-range",value:j,min:-5,max:5,step:.1,onChange:u=>S(Number(u.target.value))})]})]})}),a.jsx(C,{lg:"6",children:a.jsx("div",{ref:v,id:b["bands-plot"]})})]}),a.jsx("div",{id:b["bands-note"],children:"Electronic band structure along high-symmetry path. The reference energy (0 eV) corresponds to the Fermi level."})]}):a.jsx(U,{})};function P(e,s){return{...e,paths:e.paths.map(t=>({...t,values:t.values.map(n=>n.map(o=>o+s))}))}}export{te as default};
