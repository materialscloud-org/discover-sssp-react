const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-1PS3Gt30.js","assets/index-BV9MqgB5.js","assets/index-CESS_hL7.css"])))=>i.map(i=>d[i]);
import{r as n,u as N,j as e,d as w,B as R,P as L,S as F,_ as V,k as $,R as y,C as u}from"./index-BV9MqgB5.js";import{F as p,N as A}from"./NoDataMessage-jWsPPAgj.js";const E=n.forwardRef(({bsPrefix:t,fluid:o=!1,as:r="div",className:i,...a},b)=>{const f=N(t,"container"),g=typeof o=="string"?`-${o}`:"-fluid";return e.jsx(r,{ref:b,...a,className:w(i,o?`${f}${g}`:f)})});E.displayName="Container";const D=({which:t,pseudos:o,value:r,onSelect:i})=>e.jsxs("div",{id:`${t}-pseudo-selector`,children:[e.jsxs(p.Label,{htmlFor:`${t}-select`,children:[R(t),":"]}),e.jsx(p.Select,{id:`${t}-select`,value:r,onChange:a=>i(a.target.value),children:o.map(a=>e.jsx("option",{value:a,children:a},a))})]}),m={"pseudo-selectors-form":"_pseudo-selectors-form_1b4c1_1","pseudo-shift-range":"_pseudo-shift-range_1b4c1_1","bands-plot-wrapper":"_bands-plot-wrapper_1b4c1_1","bands-plot":"_bands-plot_1b4c1_1","bands-note":"_bands-note_1b4c1_1"},O=({element:t,chessboardPseudos:o,bandShift:r})=>{const[i,a]=n.useState(!0),{loadingMetadata:b,pseudosMetadata:f}=n.useContext(L),[g,S]=n.useState([]),[c,v]=n.useState(o),[h,P]=n.useState({}),[j,x]=n.useState(r),_=n.useRef(null);return n.useEffect(()=>{t&&F.fetchBandsData(t).then(s=>{P(s);const d=s&&Object.keys(s);S(d),v(l=>l.length?l:d.length?[d[0],d[0]]:[])}).catch(s=>{console.error("Error fetching bands data:",s),P({}),S([])}).finally(()=>{a(!1)})},[t]),n.useEffect(()=>x(r),[r]),n.useEffect(()=>{if(h&&_.current){const s=c.map((l,B)=>{var C;return{bandsData:B==0?h[l]:M(h[l],j),traceFormat:{line:{color:B==0?"black":((C=f[l])==null?void 0:C.color)||"red"}}}});let d=null;(async()=>(d=(await V(async()=>{const{BandsVisualiser:l}=await import("./main-1PS3Gt30.js");return{BandsVisualiser:l}},__vite__mapDeps([0,1,2]))).BandsVisualiser,d(_.current,{bandsDataArray:s,settings:{showlegend:!1,yaxis:{range:[-10,25]}}})))()}},[c,h,f,j]),i||b?e.jsx($,{}):h?e.jsxs(E,{id:"bands-plots",children:[e.jsx("div",{style:{fontWeight:"bold",textAlign:"center",marginBottom:"1rem"},children:"Disclaimer: The data shown does not reflect real data and is for demonstration purposes only."}),e.jsxs(y,{children:[e.jsx(u,{lg:"3",children:e.jsxs("div",{id:m["pseudo-selectors-form"],children:[e.jsxs(y,{className:"gap-3",children:[e.jsx(u,{sm:"6",lg:"12",children:e.jsx(D,{which:"reference",pseudos:g,value:c[0],onSelect:s=>{v([s,c[1]]),x(0)}})}),e.jsx(u,{children:e.jsx(D,{which:"compared",pseudos:g,value:c[1],onSelect:s=>{v([c[0],s]),x(0)}})})]}),e.jsxs(p.Group,{children:[e.jsx(p.Label,{htmlFor:"pseudo-shift-range",children:"Avg. band difference (eV):"}),e.jsxs(y,{style:{alignItems:"center"},children:[e.jsx(u,{xs:"8",sm:"9",md:"10",lg:"6",xl:"7",xxl:"8",children:e.jsx(p.Range,{id:m["pseudo-shift-range"],value:j,min:-5,max:5,step:.001,onChange:s=>x(Number(s.target.value))})}),e.jsx(u,{children:e.jsx(p.Control,{type:"number",value:j,min:-5,max:5,step:.001,onChange:s=>x(Number(s.target.value))})})]})]})]})}),e.jsx(u,{lg:"auto",className:"ms-lg-5",children:e.jsx("div",{id:m["bands-plot-wrapper"],children:e.jsx("div",{ref:_,id:m["bands-plot"]})})})]}),e.jsx("div",{id:m["bands-note"],children:"Electronic band structure along high-symmetry path. The reference energy (0 eV) corresponds to the Fermi level."})]}):e.jsx(A,{})};function M(t,o){return{...t,paths:t.paths.map(r=>({...r,values:r.values.map(i=>i.map(a=>a+o))}))}}export{O as default};
