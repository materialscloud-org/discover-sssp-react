import{r as a,j as s}from"./vendor-react-C7f8pR3v.js";import{r as D,R as P,n as k,q as v}from"./vendor-ui-D8QOqaKz.js";import{S as R,L as C}from"./index-CIh-S6NK.js";import{c as j}from"./params-DPw20rNZ.js";import"./vendor-BihtTMD9.js";import"./vendor-plotly-BS04eDUH.js";/* empty css                     */const n={"pseudo-controls":"_pseudo-controls_1auve_1","pseudo-checkbox":"_pseudo-checkbox_1auve_4","bands-plot":"_bands-plot_1auve_1","bands-note":"_bands-note_1auve_1"},q=({element:i,activeAccuracy:h})=>{const u=a.useRef(null),[c,p]=a.useState(),[S,_]=a.useState(!0),[o,l]=a.useState(["REF"]),[b,f]=a.useState([]),[m,x]=a.useState({});return a.useEffect(()=>{if(!i)return;new R().fetchBandsData(h).then(t=>{const r=t[i];p(r);const d=r&&Object.keys(r);f(d),x(d==null?void 0:d.reduce((g,y,E)=>(g[y]=j[E%j.length],g),{}))}).catch(t=>{console.error("Error fetching bands data:",t),p(void 0),f([]),x({})}).finally(()=>{_(!1)})},[h,i]),a.useEffect(()=>{if(c&&u.current){const e=o.map(t=>({bandsData:c[t],traceFormat:{line:{color:m[t]||"black"}}}));D(u.current,{bandsDataArray:e,settings:{showlegend:!1}})}},[o,c]),S?s.jsx(C,{}):c?s.jsxs("div",{id:"bands-plots",children:[s.jsxs(P,{children:[s.jsxs(k,{md:3,lg:2,className:n["pseudo-controls"],children:[s.jsx(v,{type:"checkbox",id:"all",label:"Select all",defaultChecked:!1,className:n["pseudo-checkbox"],style:{color:"black"},onChange:e=>{e.target.checked?l(b):l(["REF"])}}),b.map(e=>s.jsx(v,{type:"checkbox",id:e,label:e,checked:o.includes(e),disabled:e==="REF",className:n["pseudo-checkbox"],style:{color:m[e]},onChange:t=>{t.target.checked?l([...o,e]):l(o.filter(r=>r!==e))}},e))]}),s.jsx(k,{children:s.jsx("div",{ref:u,id:n["bands-plot"]})})]}),s.jsx("div",{id:n["bands-note"],children:"Electronic band structure along high-symmetry path. The reference energy (0 eV) corresponds to the Fermi level."})]}):s.jsx("span",{children:"No data available"})};export{q as default};
