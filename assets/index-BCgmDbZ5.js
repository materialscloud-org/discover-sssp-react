const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlotlyLoader-CEg7dZRr.js","assets/index-CYywZYbx.js","assets/index-DrCkp0rM.css","assets/PlotlyLoader-CuCRB34y.css"])))=>i.map(i=>d[i]);
import{r as h,_ as w,j as o,P as v,L as j,b as m}from"./index-CYywZYbx.js";const P={"chessboard-plot":"_chessboard-plot_9gqlk_1"},M={responsive:!0,displayModeBar:!1,scrollZoom:!1},g=({pseudos:a,values:u,title:s,colorMax:p,tileClickHandler:y})=>{const l=h.useRef(null);return h.useEffect(()=>{if(!l.current)return;let r=null,e=null,n=!1,i=null;return(async()=>{if(r=(await w(async()=>{const{default:t}=await import("./PlotlyLoader-CEg7dZRr.js");return{default:t}},__vite__mapDeps([0,1,2,3]))).default,n||!l.current)return;const c=[{z:u,x:a,y:a,colorscale:"Inferno",type:"heatmap"},{yaxis:"y2",mode:"none",showlegend:!1}],d={xaxis:{side:"top",title:{text:""},fixedrange:!0,tickangle:-90},yaxis:{autorange:"reversed",title:{text:""},fixedrange:!0},yaxis2:{overlaying:"y",side:"right",title:{text:`Max ${s}`,standoff:100},showticklabels:!1,fixedrange:!0},hoverlabel:{namelength:0},annotations:u.map((t,x)=>t.map((_,b)=>({x:a[b],y:a[x],text:_.toFixed(1),showarrow:!1,font:{color:_>p/2?"white":"black",size:10}}))).flat(),margin:{t:140,r:60,b:40,l:140},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)"};e=await r.react(l.current,c,d,M),e.on("plotly_click",t=>{const{x,y:_}=t.points[0];y([_,x])});const f=t=>{if(!t)return;const x={width:t.offsetWidth,height:t.offsetWidth};r.relayout(t,x)};return i=()=>f(e),window.addEventListener("resize",i),f(e),()=>{var t;e&&((t=e.removeAllListeners)==null||t.call(e,"plotly_click"))}})(),()=>{var c;if(n=!0,i&&window.removeEventListener("resize",i),r&&e)try{(c=e.removeAllListeners)==null||c.call(e,"plotly_click"),r.purge(e)}catch(d){console.error("Error purging BandsChessboardPlot:",d)}}},[a,u,s,p]),o.jsx("div",{ref:l,className:P["chessboard-plot"]})},k={"chessboard-plots":"_chessboard-plots_zg9za_1"},z=({goToBands:a})=>{const{loadingMetadata:u,allPseudos:s,setActivePseudos:p}=h.useContext(v),y=n=>{const i=[];for(let c=0;c<n;c++){const d=[];for(let f=0;f<n;f++)d.push(Math.random()*100);i.push(d)}return i},l=h.useMemo(()=>y(s.length),[s]),r=h.useMemo(()=>y(s.length),[s]),e=n=>{p(n),a("Band Structure")};return u?o.jsx(j,{}):o.jsxs("div",{id:"chessboard-page",children:[o.jsx("div",{style:{fontWeight:"bold",textAlign:"center"},children:"Disclaimer: The data shown does not reflect real data and is for demonstration purposes only."}),o.jsxs("div",{id:k["chessboard-plots"],children:[o.jsx(m,{xl:12,xxl:6,children:o.jsx(g,{pseudos:s,values:l,title:"V",colorMax:Math.max(...l.flat()),tileClickHandler:e})}),o.jsx(m,{xl:12,xxl:6,children:o.jsx(g,{pseudos:s,values:r,title:"10",colorMax:Math.max(...r.flat()),tileClickHandler:e})})]})]})};export{z as default};
