const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlotlyLoader-Bt1PDnE0.js","assets/index-CyQzFSQI.js","assets/index-CBUEvKxG.css","assets/PlotlyLoader-CuCRB34y.css"])))=>i.map(i=>d[i]);
import{R as G,r as l,c as ue,j as o,T as Pt,t as $t,a as P,s as Q,b as Dt,E as Lt,d as Ut,e as It,f as zt,u as z,g as Wt,P as Me,h as Fe,o as it,i as Ht,k as lt,l as qt,m as Vt,n as Y,p as We,q as He,K as Kt,v as oe,w as Gt,x as Xt,y as Yt,z as Qt,A as qe,F as ct,B as Zt,C as Jt,D as dt,L as ut,G as Ve,H as en,S as Ke,I as tn,J as ft,_ as nn,M as Ge,N as on,O as sn}from"./index-CyQzFSQI.js";import{P as rn,N as Xe}from"./PlotPaneHeader-C_5sTKAA.js";import{F as an}from"./Form-COUq-4M0.js";import{u as ln,a as ht,i as cn,r as Ye,h as dn,f as un}from"./utils-Bn5IJuze.js";const fn={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function hn(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,s=t[n],r=fn[e];return s+parseInt(Q(t,r[0]),10)+parseInt(Q(t,r[1]),10)}const pn={[zt]:"collapse",[It]:"collapsing",[Ut]:"collapsing",[Lt]:"collapse show"},mn=G.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:s,onExiting:r,className:a,children:c,dimension:u="height",in:h=!1,timeout:g=300,mountOnEnter:w=!1,unmountOnExit:E=!1,appear:v=!1,getDimensionValue:y=hn,...b},x)=>{const i=typeof u=="function"?u():u,p=l.useMemo(()=>ue(C=>{C.style[i]="0"},e),[i,e]),M=l.useMemo(()=>ue(C=>{const f=`scroll${i[0].toUpperCase()}${i.slice(1)}`;C.style[i]=`${C[f]}px`},t),[i,t]),A=l.useMemo(()=>ue(C=>{C.style[i]=null},n),[i,n]),O=l.useMemo(()=>ue(C=>{C.style[i]=`${y(i,C)}px`,Dt(C)},s),[s,y,i]),$=l.useMemo(()=>ue(C=>{C.style[i]=null},r),[i,r]);return o.jsx(Pt,{ref:x,addEndListener:$t,...b,"aria-expanded":b.role?h:null,onEnter:p,onEntering:M,onEntered:A,onExit:O,onExiting:$,childRef:c.ref,in:h,timeout:g,mountOnEnter:w,unmountOnExit:E,appear:v,children:(C,f)=>G.cloneElement(c,{...f,className:P(a,c.props.className,pn[C],i==="width"&&"collapse-horizontal")})})});function pt(e,t){return Array.isArray(e)?e.includes(t):e===t}const pe=l.createContext({});pe.displayName="AccordionContext";const Be=l.forwardRef(({as:e="div",bsPrefix:t,className:n,children:s,eventKey:r,...a},c)=>{const{activeEventKey:u}=l.useContext(pe);return t=z(t,"accordion-collapse"),o.jsx(mn,{ref:c,in:pt(u,r),...a,className:P(n,t),children:o.jsx(e,{children:l.Children.only(s)})})});Be.displayName="AccordionCollapse";const Re=l.createContext({eventKey:""});Re.displayName="AccordionItemContext";const mt=l.forwardRef(({as:e="div",bsPrefix:t,className:n,onEnter:s,onEntering:r,onEntered:a,onExit:c,onExiting:u,onExited:h,...g},w)=>{t=z(t,"accordion-body");const{eventKey:E}=l.useContext(Re);return o.jsx(Be,{eventKey:E,onEnter:s,onEntering:r,onEntered:a,onExit:c,onExiting:u,onExited:h,children:o.jsx(e,{ref:w,...g,className:P(n,t)})})});mt.displayName="AccordionBody";function xn(e,t){const{activeEventKey:n,onSelect:s,alwaysOpen:r}=l.useContext(pe);return a=>{let c=e===n?null:e;r&&(Array.isArray(n)?n.includes(e)?c=n.filter(u=>u!==e):c=[...n,e]:c=[e]),s==null||s(c,a),t==null||t(a)}}const Pe=l.forwardRef(({as:e="button",bsPrefix:t,className:n,onClick:s,...r},a)=>{t=z(t,"accordion-button");const{eventKey:c}=l.useContext(Re),u=xn(c,s),{activeEventKey:h}=l.useContext(pe);return e==="button"&&(r.type="button"),o.jsx(e,{ref:a,onClick:u,...r,"aria-expanded":Array.isArray(h)?h.includes(c):c===h,className:P(n,t,!pt(h,c)&&"collapsed")})});Pe.displayName="AccordionButton";const xt=l.forwardRef(({as:e="h2",bsPrefix:t,className:n,children:s,onClick:r,...a},c)=>(t=z(t,"accordion-header"),o.jsx(e,{ref:c,...a,className:P(n,t),children:o.jsx(Pe,{onClick:r,children:s})})));xt.displayName="AccordionHeader";const gt=l.forwardRef(({as:e="div",bsPrefix:t,className:n,eventKey:s,...r},a)=>{t=z(t,"accordion-item");const c=l.useMemo(()=>({eventKey:s}),[s]);return o.jsx(Re.Provider,{value:c,children:o.jsx(e,{ref:a,...r,className:P(n,t)})})});gt.displayName="AccordionItem";const yt=l.forwardRef((e,t)=>{const{as:n="div",activeKey:s,bsPrefix:r,className:a,onSelect:c,flush:u,alwaysOpen:h,...g}=Wt(e,{activeKey:"onSelect"}),w=z(r,"accordion"),E=l.useMemo(()=>({activeEventKey:s,onSelect:c,alwaysOpen:h}),[s,c,h]);return o.jsx(pe.Provider,{value:E,children:o.jsx(n,{ref:t,...g,className:P(a,w,u&&`${w}-flush`)})})});yt.displayName="Accordion";const ye=Object.assign(yt,{Button:Pe,Collapse:Be,Item:gt,Header:xt,Body:mt}),gn={"aria-label":Me.string,onClick:Me.func,variant:Me.oneOf(["white"])},$e=l.forwardRef(({className:e,variant:t,"aria-label":n="Close",...s},r)=>o.jsx("button",{ref:r,type:"button",className:P("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...s}));$e.displayName="CloseButton";$e.propTypes=gn;var be;function Qe(e){if((!be&&be!==0||e)&&Fe){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),be=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return be}function ke(e){e===void 0&&(e=it());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function yn(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Ze=Ht("modal-open");class De{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return yn(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[s]:r.style[s]},t.scrollBarWidth&&(n[s]=`${parseInt(Q(r,s)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(Ze,""),Q(r,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Ze),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const bn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function vn(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,a;for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}let Ae;function jn(e){return Ae||(Ae=new De({ownerDocument:e==null?void 0:e.document})),Ae}function wn(e){const t=lt(),n=e||jn(t),s=l.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:l.useCallback(r=>{s.current.dialog=r},[]),setBackdropRef:l.useCallback(r=>{s.current.backdrop=r},[])})}const bt=l.forwardRef((e,t)=>{let{show:n=!1,role:s="dialog",className:r,style:a,children:c,backdrop:u=!0,keyboard:h=!0,onBackdropClick:g,onEscapeKeyDown:w,transition:E,runTransition:v,backdropTransition:y,runBackdropTransition:b,autoFocus:x=!0,enforceFocus:i=!0,restoreFocus:p=!0,restoreFocusOptions:M,renderDialog:A,renderBackdrop:O=T=>o.jsx("div",Object.assign({},T)),manager:$,container:C,onShow:f,onHide:N=()=>{},onExit:m,onExited:_,onExiting:R,onEnter:F,onEntering:k,onEntered:D}=e,Z=vn(e,bn);const W=lt(),V=ln(C),d=wn($),S=qt(),U=Vt(n),[I,K]=l.useState(!n),L=l.useRef(null);l.useImperativeHandle(t,()=>d,[d]),Fe&&!U&&n&&(L.current=ke(W==null?void 0:W.document)),n&&I&&K(!1);const H=Y(()=>{if(d.add(),J.current=We(document,"keydown",Te),le.current=We(document,"focus",()=>setTimeout(Se),!0),f&&f(),x){var T,ge;const de=ke((T=(ge=d.dialog)==null?void 0:ge.ownerDocument)!=null?T:W==null?void 0:W.document);d.dialog&&de&&!He(d.dialog,de)&&(L.current=de,d.dialog.focus())}}),X=Y(()=>{if(d.remove(),J.current==null||J.current(),le.current==null||le.current(),p){var T;(T=L.current)==null||T.focus==null||T.focus(M),L.current=null}});l.useEffect(()=>{!n||!V||H()},[n,V,H]),l.useEffect(()=>{I&&X()},[I,X]),ht(()=>{X()});const Se=Y(()=>{if(!i||!S()||!d.isTopModal())return;const T=ke(W==null?void 0:W.document);d.dialog&&T&&!He(d.dialog,T)&&d.dialog.focus()}),me=Y(T=>{T.target===T.currentTarget&&(g==null||g(T),u===!0&&N())}),Te=Y(T=>{h&&cn(T)&&d.isTopModal()&&(w==null||w(T),T.defaultPrevented||N())}),le=l.useRef(),J=l.useRef(),xe=(...T)=>{K(!0),_==null||_(...T)};if(!V)return null;const ee=Object.assign({role:s,ref:d.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Z,{style:a,className:r,tabIndex:-1});let ce=A?A(ee):o.jsx("div",Object.assign({},ee,{children:l.cloneElement(c,{role:"document"})}));ce=Ye(E,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:m,onExiting:R,onExited:xe,onEnter:F,onEntering:k,onEntered:D,children:ce});let te=null;return u&&(te=O({ref:d.setBackdropRef,onClick:me}),te=Ye(y,b,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:te})),o.jsx(o.Fragment,{children:Kt.createPortal(o.jsxs(o.Fragment,{children:[te,ce]}),V)})});bt.displayName="Modal";const En=Object.assign(bt,{Manager:De});function Cn(e,t){e.classList?e.classList.add(t):dn(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Je(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Nn(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Je(e.className,t):e.setAttribute("class",Je(e.className&&e.className.baseVal||"",t))}const se={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class _n extends De{adjustAndStore(t,n,s){const r=n.style[t];n.dataset[t]=r,Q(n,{[t]:`${parseFloat(Q(n,t))+s}px`})}restore(t,n){const s=n.dataset[t];s!==void 0&&(delete n.dataset[t],Q(n,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Cn(n,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";oe(n,se.FIXED_CONTENT).forEach(a=>this.adjustAndStore(s,a,t.scrollBarWidth)),oe(n,se.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-t.scrollBarWidth)),oe(n,se.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Nn(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";oe(n,se.FIXED_CONTENT).forEach(a=>this.restore(s,a)),oe(n,se.STICKY_CONTENT).forEach(a=>this.restore(r,a)),oe(n,se.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let Oe;function Rn(e){return Oe||(Oe=new _n(e)),Oe}const vt=l.forwardRef(({className:e,bsPrefix:t,as:n="div",...s},r)=>(t=z(t,"modal-body"),o.jsx(n,{ref:r,className:P(e,t),...s})));vt.displayName="ModalBody";const jt=l.createContext({onHide(){}}),Le=l.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:s,size:r,fullscreen:a,children:c,scrollable:u,...h},g)=>{e=z(e,"modal");const w=`${e}-dialog`,E=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return o.jsx("div",{...h,ref:g,className:P(w,t,r&&`${e}-${r}`,s&&`${w}-centered`,u&&`${w}-scrollable`,a&&E),children:o.jsx("div",{className:P(`${e}-content`,n),children:c})})});Le.displayName="ModalDialog";const wt=l.forwardRef(({className:e,bsPrefix:t,as:n="div",...s},r)=>(t=z(t,"modal-footer"),o.jsx(n,{ref:r,className:P(e,t),...s})));wt.displayName="ModalFooter";const Sn=l.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:s,children:r,...a},c)=>{const u=l.useContext(jt),h=Y(()=>{u==null||u.onHide(),s==null||s()});return o.jsxs("div",{ref:c,...a,children:[r,n&&o.jsx($e,{"aria-label":e,variant:t,onClick:h})]})}),Et=l.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:s=!1,...r},a)=>(e=z(e,"modal-header"),o.jsx(Sn,{ref:a,...r,className:P(t,e),closeLabel:n,closeButton:s})));Et.displayName="ModalHeader";const Tn=Gt("h4"),Ct=l.forwardRef(({className:e,bsPrefix:t,as:n=Tn,...s},r)=>(t=z(t,"modal-title"),o.jsx(n,{ref:r,className:P(e,t),...s})));Ct.displayName="ModalTitle";function Mn(e){return o.jsx(ct,{...e,timeout:null})}function kn(e){return o.jsx(ct,{...e,timeout:null})}const Nt=l.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:s,contentClassName:r,children:a,dialogAs:c=Le,"data-bs-theme":u,"aria-labelledby":h,"aria-describedby":g,"aria-label":w,show:E=!1,animation:v=!0,backdrop:y=!0,keyboard:b=!0,onEscapeKeyDown:x,onShow:i,onHide:p,container:M,autoFocus:A=!0,enforceFocus:O=!0,restoreFocus:$=!0,restoreFocusOptions:C,onEntered:f,onExit:N,onExiting:m,onEnter:_,onEntering:R,onExited:F,backdropClassName:k,manager:D,...Z},W)=>{const[V,d]=l.useState({}),[S,U]=l.useState(!1),I=l.useRef(!1),K=l.useRef(!1),L=l.useRef(null),[H,X]=Xt(),Se=Yt(W,X),me=Y(p),Te=Qt();e=z(e,"modal");const le=l.useMemo(()=>({onHide:me}),[me]);function J(){return D||Rn({isRTL:Te})}function xe(j){if(!Fe)return;const ne=J().getScrollbarWidth()>0,ze=j.scrollHeight>it(j).documentElement.clientHeight;d({paddingRight:ne&&!ze?Qe():void 0,paddingLeft:!ne&&ze?Qe():void 0})}const ee=Y(()=>{H&&xe(H.dialog)});ht(()=>{qe(window,"resize",ee),L.current==null||L.current()});const ce=()=>{I.current=!0},te=j=>{I.current&&H&&j.target===H.dialog&&(K.current=!0),I.current=!1},T=()=>{U(!0),L.current=Jt(H.dialog,()=>{U(!1)})},ge=j=>{j.target===j.currentTarget&&T()},de=j=>{if(y==="static"){ge(j);return}if(K.current||j.target!==j.currentTarget){K.current=!1;return}p==null||p()},Tt=j=>{b?x==null||x(j):(j.preventDefault(),y==="static"&&T())},Mt=(j,ne)=>{j&&xe(j),_==null||_(j,ne)},kt=j=>{L.current==null||L.current(),N==null||N(j)},At=(j,ne)=>{R==null||R(j,ne),Zt(window,"resize",ee)},Ot=j=>{j&&(j.style.display=""),F==null||F(j),qe(window,"resize",ee)},Ft=l.useCallback(j=>o.jsx("div",{...j,className:P(`${e}-backdrop`,k,!v&&"show")}),[v,k,e]),Ie={...n,...V};Ie.display="block";const Bt=j=>o.jsx("div",{role:"dialog",...j,style:Ie,className:P(t,e,S&&`${e}-static`,!v&&"show"),onClick:y?de:void 0,onMouseUp:te,"data-bs-theme":u,"aria-label":w,"aria-labelledby":h,"aria-describedby":g,children:o.jsx(c,{...Z,onMouseDown:ce,className:s,contentClassName:r,children:a})});return o.jsx(jt.Provider,{value:le,children:o.jsx(En,{show:E,ref:Se,backdrop:y,container:M,keyboard:!0,autoFocus:A,enforceFocus:O,restoreFocus:$,restoreFocusOptions:C,onEscapeKeyDown:Tt,onShow:i,onHide:p,onEnter:Mt,onEntering:At,onEntered:f,onExit:kt,onExiting:m,onExited:Ot,manager:J(),transition:v?Mn:void 0,backdropTransition:v?kn:void 0,renderBackdrop:Ft,renderDialog:Bt})})});Nt.displayName="Modal";const fe=Object.assign(Nt,{Body:vt,Header:Et,Title:Ct,Footer:wt,Dialog:Le,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),An={"category-selector":"_category-selector_1aq5o_1"},On={nc:"Norm-conserving",us:"Ultrasoft",paw:"PAW"},Fn=({categories:e,activeCategories:t,onCategorySelect:n})=>o.jsx("div",{className:An["category-selector"],children:e.map(s=>o.jsx(an.Check,{type:"checkbox",id:`category-${s}`,label:On[s]||s,checked:t.includes(s),onChange:r=>r.target.checked?n([...t,s]):n(t.filter(a=>a!==s))},s))}),Bn="_convergencePane_nqzin_1",Pn="_categorySelectorContainer_nqzin_1",$n="_plotTitle_nqzin_1",Dn="_convergencePlotDetailsContainer_nqzin_1",re={convergencePane:Bn,categorySelectorContainer:Pn,plotTitle:$n,convergencePlotDetailsContainer:Dn},Ln="_convergencePlot_x5r81_1",Un={convergencePlot:Ln};var _t={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},et=G.createContext&&G.createContext(_t),In=["attr","size","title"];function zn(e,t){if(e==null)return{};var n=Wn(e,t),s,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Wn(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ce.apply(this,arguments)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tt(Object(n),!0).forEach(function(s){Hn(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Hn(e,t,n){return t=qn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e){var t=Vn(e,"string");return typeof t=="symbol"?t:t+""}function Vn(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e){return e&&e.map((t,n)=>G.createElement(t.tag,Ne({key:n},t.attr),Rt(t.child)))}function Kn(e){return t=>G.createElement(Gn,Ce({attr:Ne({},e.attr)},t),Rt(e.child))}function Gn(e){var t=n=>{var{attr:s,size:r,title:a}=e,c=zn(e,In),u=r||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),G.createElement("svg",Ce({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:h,style:Ne(Ne({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&G.createElement("title",null,a),e.children)};return et!==void 0?G.createElement(et.Consumer,null,n=>t(n)):t(_t)}function Xn(e){return Kn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"},child:[]},{tag:"path",attr:{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"},child:[]}]})(e)}const Yn="_modalBody_f8cvt_1",Qn="_content_f8cvt_5",Zn="_pre_f8cvt_12",Jn="_loadContainer_f8cvt_20",eo="_hint_f8cvt_30",to="_message_f8cvt_34",no="_filename_f8cvt_1",oo="_downloadUpfText_f8cvt_1",so="_downloadUpfButton_f8cvt_1",q={modalBody:Yn,content:Qn,pre:Zn,loadContainer:Jn,hint:eo,message:to,filename:no,downloadUpfText:oo,downloadUpfButton:so},ro=({show:e,element:t,pseudoName:n,Z:s,onHide:r})=>{const{getUpfUuid:a,getPseudoFilename:c}=l.useContext(dt),[u,h]=l.useState(""),[g,w]=l.useState(""),[E,v]=l.useState(!1),[y,b]=l.useState(!1),[x,i]=l.useState(null),p=!!en,M=l.useMemo(()=>!t||!n||s===void 0?"":a(t,n,s),[t,n,s,a]),A=l.useMemo(()=>!t||!n||s===void 0?"":c(t,n,s),[t,n,s,c]);l.useEffect(()=>{e&&(i(null),h(""),v(!1),b(!1),w(A||""))},[e,t,n,s,A]);const O=async()=>{if(i(null),!p){i("UPF viewer is unavailable (VITE_API_URL is not set)");return}if(!n||s===void 0){i("No pseudopotential selected");return}if(!M){i("No UPF UUID found for this pseudopotential");return}v(!0);try{const{filename:f,content:N}=await Ke.fetchUpfFile(M);w(m=>m||f),h(N)}catch(f){f instanceof Error&&i(f.message||"Failed to load UPF file")}finally{v(!1)}},$=async()=>{if(i(null),!p){i("UPF download is unavailable (VITE_API_URL is not set)");return}if(!M){i("No UPF UUID found for this pseudopotential");return}b(!0);try{const{filename:f,blob:N}=await Ke.fetchUpfBlob(M),m=URL.createObjectURL(N),_=document.createElement("a");_.href=m;const R=`${t}-${n||"pseudo"}${s!==void 0?`-Z${s}`:""}.upf`;_.download=g||f||R,document.body.appendChild(_),_.click(),_.remove(),URL.revokeObjectURL(m)}catch(f){f instanceof Error&&i((f==null?void 0:f.message)||"Failed to download UPF file")}finally{b(!1)}},C=!p||!M;return o.jsxs(fe,{show:e,onHide:r,size:"xl",centered:!0,scrollable:!0,children:[o.jsx(fe.Header,{closeButton:!0,children:o.jsxs(fe.Title,{children:[t," (Z",o.jsx("sub",{children:"val"})," = ",s,") ",n]})}),o.jsx(fe.Body,{className:q.modalBody,children:x?o.jsx("div",{className:q.message,children:x}):E?o.jsx(ut,{}):u?o.jsx("div",{className:q.content,children:o.jsx("pre",{className:q.pre,children:u})}):p?M?o.jsxs("div",{className:q.loadContainer,children:[o.jsx(Ve,{variant:"primary",onClick:O,children:"Load UPF content"}),o.jsx("div",{className:q.hint,children:"May take some time"})]}):o.jsx("div",{className:q.message,children:"No UPF UUID found for this pseudopotential."}):o.jsx("div",{className:q.message,children:"Backend not configured. UPF download/viewing is unavailable."})}),o.jsxs(fe.Footer,{className:"justify-content-start",children:[o.jsxs(Ve,{id:q.downloadUpfButton,variant:"primary",onClick:$,disabled:C||y,children:[o.jsx("span",{id:q.downloadUpfText,children:"Download UPF file"}),y?o.jsx("div",{className:"spinner-border spinner-border-sm text-light",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})}):o.jsx(Xn,{})]}),o.jsx("span",{id:q.filename,children:g})]})]})},nt=1.2,ot=1.3,st=.13,St=6,he=1,ae=10,ao=40,io=80,ve=1.6,je=8,lo=120,_e={l:180,r:180,t:40,b:80},co=10,uo=80,B=25,ie=205,Ue=100,fo=new Set(["O","Fe","Mn","Hf","Co","Ni","Cr"]),ho=.2,po=2,mo=1,xo=["δω","δV<sub>press</sub>","δE<sub>coh</sub>","δν"],go=["circle","triangle-down","star","square"],yo=["solid","dash","dot","solid"],we={phononFrequencies:{label:"δω",symbol:"circle",dash:"solid"},pressure:{label:"δV<sub>press</sub>",symbol:"triangle-down",dash:"dash"},cohesiveEnergy:{label:"δE<sub>coh</sub>",symbol:"star",dash:"dot"},eos:{label:"δν",symbol:"square",dash:"solid"}},bo=(e,t,n,s,r)=>{const a=je/4,c=s.map((y,b)=>b*je),u=s.length*lo+(ao+io),h=fo.has(e)?18:8,g=[],w=[],E=[];s.forEach((y,b)=>{var W,V;const x=((W=r[y.name])==null?void 0:W.color)||"black",i=b*je,{quantities:p}=y;let M=[],A=[],O=[],$=[],C=[],f=[],N=[],m;if(g.push({x:[-1e3,1e3],y:[i+a,i+a],type:"scatter",mode:"lines",text:f.map(d=>d.toFixed(2)),showlegend:!1,line:{color:x,width:he,dash:"dashdot"},hoverinfo:"skip"}),g.push({x:[-1e3,1e3],y:[i-a,i-a],type:"scatter",mode:"lines",text:N.map(d=>d.toFixed(2)),showlegend:!1,line:{color:x,width:he,dash:"dashdot"},hoverinfo:"skip"}),g.push({x:[-1e3,1e3],y:[i+a*.5,i+a*.5],type:"scatter",mode:"lines",text:f.map(d=>d.toFixed(2)),showlegend:!1,line:{color:"lightgray",width:he,dash:"dot"},hoverinfo:"skip"}),p.phononFrequencies){M=p.phononFrequencies.values,m=Ee(we.phononFrequencies,x),m.x=p.phononFrequencies.cutoffs,m.y=M.map(S=>S*2/po+i),A=p.phononFrequencies.error,m.error_y={type:"data",array:A,arrayminus:M.map(()=>0),visible:!0,color:x},g.push(m);const d=p.phononFrequencies.ref.toFixed(2);w.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i-.6,text:`ω<sub>max</sub> = ${d} cm<sup>-1</sup>`,showarrow:!1,align:"left",font:{size:ae}})}if(p.pressure&&(m=Ee(we.pressure,x),O=p.pressure.values,m.x=p.pressure.cutoffs,m.y=O.map(d=>d*2/mo+i),g.push(m)),p.cohesiveEnergy){$=p.cohesiveEnergy.values,m=Ee(we.cohesiveEnergy,x),m.x=p.cohesiveEnergy.cutoffs,m.y=$.map(S=>S+i),g.push(m);const d=p.cohesiveEnergy.ref.toFixed(2);w.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i+.6,text:`E<sub>coh</sub> = ${d} <i>meV/atom</i>`,align:"left",showarrow:!1,font:{size:ae}})}if(p.eos&&(C=p.eos.values,m=Ee(we.eos,x),m.x=p.eos.cutoffs,m.y=C.map(d=>d*2/ho+i),g.push(m)),p.bands){const d=p.bands.cutoffs;f=p.bands.etaC,N=p.bands.maxDiffC,g.push({x:d,y:f.map(()=>i+nt*a),type:"scatter",mode:"text",text:f.map(S=>S>=100?S.toExponential(0).toString().replace("e+","e"):S.toFixed(2)),showlegend:!1,textfont:{size:ae},hoverinfo:"skip"}),w.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i-ot*a+st,text:"max <i>η</i><sub>10</sub> [meV]",showarrow:!1,align:"left",font:{size:ae}}),g.push({x:d,y:N.map(()=>i-ot*a),type:"scatter",mode:"text",text:N.map(S=>S>=100?S.toExponential(0).toString().replace("e+","e"):S.toFixed(2)),showlegend:!1,textfont:{size:ae},hoverinfo:"skip"}),w.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i+nt*a+st,text:"<i>η</i><sub>10</sub> [meV]",showarrow:!1,align:"left",font:{size:ae}})}E.push({type:"line",x0:-1e3,x1:1e3,y0:i,y1:i,opacity:.25,line:{width:.5}});const _=((V=y.quantities.bands)==null?void 0:V.cutoffs)||[],R=[_],F=["E<sub>wfc</sub> = %{customdata[0]} Ry"];let k=1;if(M.length){R.push(M);let d=`<br />δω = %{customdata[${k}]:.3f}`;k+=1,A.length&&(R.push(A),d+=` &plusmn; %{customdata[${k}]:.1e}`,k+=1),d+="%",F.push(d)}O.length&&(R.push(O),F.push(`<br />δV<sub>press</sub> = %{customdata[${k}]:.3f}%`),k+=1),$.length&&(R.push($),F.push(`<br />δE<sub>coh</sub> = %{customdata[${k}]:.3f} meV`),k+=1),C.length&&(R.push(C),F.push(`<br />δv = %{customdata[${k}]:.3f}`),k+=1),f.length&&(R.push(f),F.push(`<br />η<sub>10</sub> = %{customdata[${k}]:.3f} meV`),k+=1),N.length&&(R.push(N),F.push(`<br />max η<sub>10</sub> = %{customdata[${k}]:.3f} meV`),k+=1),g.push({x:_,y:new Array(_.length).fill(i),mode:"markers",marker:{size:24,opacity:0,line:{width:0}},showlegend:!1,customdata:_.map((d,S)=>R.map(U=>U[S])),hoverlabel:{bgcolor:"rgb(225, 225, 225)",bordercolor:"black"},hovertemplate:`<b>${y.name}</b><br />`+F.join("")+"<extra></extra>"});const{metadata:D}=y.quantities;let Z="not all EOS valid";if(D){const d=D.avgNu.toFixed(2),S=D.maxNu.toFixed(2),U=un(D.maxConf),I=D.avgNuWoMax.toFixed(2);Z=`ν<sub>avg</sub> = ${d}<br />ν<sub>max</sub> = ${S} (${U})<br />ν<sub>avg</sub> (w/o ${U}) = ${I}`}w.push({xref:"paper",x:0,xanchor:"right",xshift:-30,y:i,text:`<span style="color:${x}"><b>${y.name}</b></span><br />Z<sub>val</sub> = ${y.Z}<br />${Z}`,showarrow:!1,align:"left",font:{size:10},captureevents:!0}),t.forEach(d=>{if(n[d].pseudopotential===y.name&&n[d].Z===y.Z){const S=n[d].cutoff_wfc;if(d==="efficiency")E.push({type:"rect",x0:S-ve*.5,x1:S+ve*.5,y0:c[b]-a,y1:c[b]+a,fillcolor:"rgba(0, 128, 0, 0.5)",line:{width:1,color:"rgb(0, 128, 0)"},opacity:.5});else{const U=S-ve,I=S+ve,K=c[b]-a*.5,L=c[b]+a*.5,H=(U+I)*.5,X=(K+L)*.5;E.push({type:"path",path:`M ${H} ${L} L ${I} ${X} L ${H} ${K} L ${U} ${X} Z`,fillcolor:"rgba(128, 0, 128, 0.5)",line:{width:1,color:"rgb(128, 0, 128)"},opacity:.5})}}})}),xo.forEach((y,b)=>{g.push({name:y,type:"scatter",mode:"lines+markers",x:[NaN],y:[NaN],line:{color:"black",width:he,dash:yo[b]},marker:{size:St,symbol:go[b]},showlegend:!0,legendgroup:y,hoverinfo:"skip"})});const v={xaxis:{title:{text:`Wavefunction cutoff [Ry]<br><br>Charge density cutoff [Ry] = ${h} x Ewfc (PAW/US) | 4 x Ewfc (NC); q-point = [0.5, 0.5, 0.5]`},zeroline:!1,showgrid:!1,showline:!0,mirror:!0,tickvals:[...Array.from({length:18},(y,b)=>b*10+30)],ticks:"inside",ticklen:5,range:[B,B+Ue]},yaxis:{side:"left",zeroline:!1,showgrid:!1,showline:!0,mirror:!0,ticks:"inside",ticklen:5,tickmode:"array",tickvals:c,ticktext:c.map(()=>"0"),range:[-5,(s.length-1)*je+5],fixedrange:!0},showlegend:!0,legend:{orientation:"h",xref:"paper",yref:"container",x:.5,y:1,xanchor:"center",yanchor:"top",font:{size:12,color:"black"}},annotations:w,shapes:E,hovermode:"closest",dragmode:"pan",autosize:!0,height:u,margin:_e};return{data:g,layout:v}},Ee=(e,t)=>({name:e.label,type:"scatter",mode:"lines+markers",line:{color:t,width:he,dash:e.dash},marker:{size:St,symbol:e.symbol},showlegend:!1,legendgroup:e.label,hoverinfo:"skip"}),vo=e=>{if(!e||typeof e!="object")return null;const t=e,n=t["xaxis.range"];if(Array.isArray(n)&&n.length>=2){const a=Number(n[0]),c=Number(n[1]);if(Number.isFinite(a)&&Number.isFinite(c))return{x0:a,x1:c}}const s=Number(t["xaxis.range[0]"]),r=Number(t["xaxis.range[1]"]);return Number.isFinite(s)&&Number.isFinite(r)?{x0:s,x1:r}:null},jo=e=>!e||typeof e!="object"?!1:e["xaxis.autorange"]===!0,wo=e=>{if(!e)return 0;const n=e.getBoundingClientRect().width-_e.l-_e.r;return Math.max(0,n)},rt=(e,t)=>{const n=ie-B,s=Math.min(Math.max(t,1),n);let r=e.min,a=e.max;if(!Number.isFinite(r)||!Number.isFinite(a))r=B,a=B+s;else if(Math.abs(a-r-s)>1e-6){const c=(r+a)*.5;r=c-s*.5,a=c+s*.5}return r<B?(r=B,a=B+s):a>ie&&(a=ie,r=ie-s),{min:r,max:a}},Eo=e=>{if(!e)return Ue;const t=e*co/uo,n=ie-B;return Math.min(Math.max(t,30),n)},Co=e=>{var r,a;const t=(a=(r=e.layout)==null?void 0:r.xaxis)==null?void 0:a.range;if(!t)return null;const n=t[0],s=t[1];return!Number.isFinite(n)||!Number.isFinite(s)?null:{min:n,max:s}},No=e=>({..._e,t:e<35?70:40}),_o=e=>{if(typeof window<"u"&&typeof window.requestAnimationFrame=="function"){window.requestAnimationFrame(e);return}setTimeout(e,0)},Ro={responsive:!0,displayModeBar:!1,displaylogo:!1,scrollZoom:!1,showAxisDragHandles:!1},So=({element:e,activePseudos:t,pseudosMetadata:n})=>{const{libraries:s}=l.useContext(tn),{elementsInfo:r}=l.useContext(ft),[a,c]=l.useState(!1),[u,h]=l.useState(""),[g,w]=l.useState(),E=l.useRef(null),v=l.useRef(Ue),y=l.useMemo(()=>Object.fromEntries(Object.entries(r).map(([b,x])=>[b,x[e]])),[r,e]);return l.useEffect(()=>{if(!t.length||!E.current)return;let b=!1,x=null,i=null,p=null;return(async()=>{var O,$,C;if(x=(await nn(async()=>{const{default:f}=await import("./PlotlyLoader-Bt1PDnE0.js");return{default:f}},__vite__mapDeps([0,1,2,3]))).default,b||!E.current)return;const{data:M,layout:A}=bo(e,s,y,t,n);i=await x.react(E.current,M,A,Ro),p=new ResizeObserver(async()=>{if(!x||!i)return;const f=wo(E.current);v.current=Eo(f),x.Plots.resize(i);const N=Co(i)??{min:B,max:B+v.current},m=(N.min+N.max)*.5,_=v.current*.5,R=rt({min:m-_,max:m+_},v.current);await x.relayout(i,{margin:No(v.current),"xaxis.range":[R.min,R.max]})}),p.observe(E.current),(O=i.removeAllListeners)==null||O.call(i,"plotly_relayout"),i.on("plotly_relayout",async f=>{if(!x||!i)return;if(jo(f)){await x.relayout(i,{"xaxis.range":[B,B+v.current]});return}const N=vo(f);if(!N){await x.relayout(i,{"xaxis.range":[B,B+v.current]});return}const m={min:N.x0,max:N.x1},_=m.max-m.min,R=v.current;if(m.min>=B&&m.max<=ie&&Number.isFinite(_)&&Math.abs(_-R)<1e-6)return;const F=rt(m,R);await x.relayout(i,{"xaxis.range":[F.min,F.max]})}),($=i.removeAllListeners)==null||$.call(i,"plotly_doubleclick"),i.on("plotly_doubleclick",()=>{!x||!i||_o(()=>{x==null||x.relayout(i,{"xaxis.range":[B,B+v.current]})})}),(C=i.removeAllListeners)==null||C.call(i,"plotly_clickannotation"),i.on("plotly_clickannotation",async f=>{var D;const N=f&&typeof f=="object"&&"annotation"in f?(D=f.annotation)==null?void 0:D.text:void 0,m=typeof N=="string"?N:"",_=m.match(/<b>(.*?)<\/b>/),R=_==null?void 0:_[1];if(!R)return;const F=m.match(/Z<sub>val<\/sub>\s*=\s*(\d+)/),k=F?Number.parseInt(F[1],10):NaN;Number.isFinite(k)&&(h(R),w(k),c(!0))})})(),()=>{var M,A,O;b=!0,p==null||p.disconnect(),i&&((M=i.removeAllListeners)==null||M.call(i,"plotly_clickannotation"),(A=i.removeAllListeners)==null||A.call(i,"plotly_doubleclick"),(O=i.removeAllListeners)==null||O.call(i,"plotly_relayout"))}},[e,s,y,t,n]),o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:E,id:Un.convergencePlot}),o.jsx(ro,{show:a,element:e,pseudoName:u,Z:g,onHide:()=>c(!1)})]})},To="_metadataTable_5ur8v_1",Mo="_legendTable_5ur8v_1",at={metadataTable:To,legendTable:Mo},ko=()=>o.jsx(ye,{children:o.jsxs(ye.Item,{eventKey:"0",children:[o.jsx(ye.Header,{children:"About the SSSP protocol convergence pattern plots"}),o.jsxs(ye.Body,{children:[o.jsx("section",{children:o.jsxs("p",{children:["We report here the zone-boundary phonons, cohesive energy, pressure, and band structure versus the wavefunction cutoff for all the considered pseudopotential libraries. The colored horizontal dashed lines correspond to the thresholds of the SSSP efficiency criteria, whereas the gray dotted lines correspond to the precision criteria. The recommended efficiency (precision) pseudopotential is marked with a ",o.jsx("span",{style:{color:"rgb(0, 128, 0)"},children:"rectangle"})," (",o.jsx("span",{style:{color:"rgb(128, 0, 128)"},children:"rhombus"}),") at the recommended cutoff."]})}),o.jsxs("section",{children:[o.jsx("h5",{children:"Categories"}),o.jsx("p",{children:"You can use the pseudopotential category checkboxes to filter the pseudopotentials shown in the plots."})]}),o.jsxs("section",{children:[o.jsx("h5",{children:"Metadata"}),o.jsx("p",{children:"We report on the left of the plot:"}),o.jsxs(Ge,{id:at.metadataTable,striped:!0,bordered:!0,responsive:!0,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Quantity"}),o.jsx("th",{children:"Description"})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsxs("td",{children:["Z",o.jsx("sub",{children:"val"})]}),o.jsx("td",{children:"Number of valence electrons of the pseudopotential"})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:["ν",o.jsx("sub",{children:"avg"})]}),o.jsxs("td",{children:["Average of ",o.jsx("b",{children:"ν"})," across 10 configurations"]})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:["ν",o.jsx("sub",{children:"max"})," (#)"]}),o.jsxs("td",{children:["Maximum ",o.jsx("b",{children:"ν"})," value across 10 configurations and the corresponding configuration (#)"]})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:["ν",o.jsx("sub",{children:"avg"})," (w/o #)"]}),o.jsxs("td",{children:["Average of ",o.jsx("b",{children:"ν"}),", excluding the configuration with the largest discrepancy (#)"]})]})]})]}),o.jsx("p",{children:o.jsx("em",{children:"Click on the metadata to open a UPF viewer to view/download the UPF file for the pseudopotential (requires an API backend)."})})]}),o.jsxs("section",{children:[o.jsx("h5",{children:"Legend"}),o.jsx("p",{children:"The legend reflects the corresponding quantity/discrepancy across all pseudopotentials:"}),o.jsxs(Ge,{id:at.legendTable,striped:!0,bordered:!0,responsive:!0,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Marker"}),o.jsx("th",{children:"Quantity"}),o.jsx("th",{children:"Units"}),o.jsx("th",{children:"Description"})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{children:"●"}),o.jsx("td",{children:"δω"}),o.jsx("td",{children:"%"}),o.jsx("td",{children:"Discrepancy in all phonon frequencies at the zone boundary"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"▼"}),o.jsxs("td",{children:["δV",o.jsx("sub",{children:"press"})]}),o.jsx("td",{children:"%"}),o.jsx("td",{children:"Discrepancy in pressure"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"★"}),o.jsxs("td",{children:["δE",o.jsx("sub",{children:"coh"})]}),o.jsx("td",{children:"meV"}),o.jsx("td",{children:"Discrepancy in cohesive energy"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"■"}),o.jsx("td",{children:"δν"}),o.jsx("td",{children:"-"}),o.jsx("td",{children:"Discrepancy in equation of state"})]})]})]}),o.jsx("p",{children:o.jsx("em",{children:"Click once on a legend item to toggle its visibility. Double-click to exclude all other items."})})]}),o.jsxs("section",{children:[o.jsx("h5",{children:"Additional information"}),o.jsxs("p",{children:["See the ",o.jsx("b",{children:"About"})," tab of the"," ",o.jsx("a",{href:"https://acwf-verification.materialscloud.org/",target:"_blank",style:{textDecoration:"none"},children:"Verification of the precision of DFT implementations via AiiDA common workflows"})," ","app to learn more about how ",o.jsx("b",{children:"ν"})," is computed. All calculations are performed on the ground-state elemental solids unless stated otherwise (i.e. rare-earths and flourine). See"," ",o.jsx(on,{to:"/about",style:{textDecoration:"none"},children:"About SSSP"})," ","for more details."]})]})]})]})}),Po=()=>{const{element:e}=l.useContext(ft),{loadingMetadata:t,categories:n,pseudosMetadata:s,activeCategories:r,setActiveCategories:a}=l.useContext(dt),{loadingConvergenceData:c,convergenceData:u}=l.useContext(sn),h=l.useMemo(()=>{const v={};return Object.entries(s).forEach(([y,b])=>{r.includes(b.category)&&(v[y]=b)}),v},[r,s]),g=l.useMemo(()=>!u||!u.pseudos?[]:u.pseudos.filter(v=>h==null?void 0:h[v.name]).reverse(),[u,h]),w=t||c,E=Object.keys(u).length>0;return w?o.jsx(ut,{}):o.jsxs("div",{id:re.convergencePane,children:[o.jsx(rn,{title:`Verification Summary: ${e} ${u.conff?`(${u.conff})`:""}`}),E&&o.jsx("div",{id:re.categorySelectorContainer,children:o.jsx(Fn,{categories:n,activeCategories:r,onCategorySelect:a})}),E?g.length?o.jsxs("div",{id:re.convergenceSummaryContent,children:[o.jsx("div",{id:re.plotTitle,children:o.jsx("h6",{children:"Error w.r.t. ref. wavefunction cutoff"})}),o.jsx(So,{element:e,activePseudos:g,pseudosMetadata:h})]}):o.jsx("div",{id:re.noCategorySelected,children:o.jsx(Xe,{})}):o.jsx(Xe,{}),o.jsx("div",{id:re.convergencePlotDetailsContainer,children:o.jsx(ko,{})})]})};export{Po as default};
