const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlotlyLoader-CUtEtfm2.js","assets/index-DHFbRL9-.js","assets/index-Dae_2jy-.css","assets/PlotlyLoader-CuCRB34y.css"])))=>i.map(i=>d[i]);
import{R as G,r as l,c as ue,j as s,T as Bt,t as $t,a as B,s as Z,b as Dt,E as Lt,d as Ut,e as It,f as Wt,u as W,g as zt,P as Te,h as Fe,o as it,i as Ht,k as lt,l as Vt,m as qt,n as Q,p as ze,q as He,K as Kt,v as oe,w as Gt,x as Xt,y as Yt,z as Qt,A as Ve,F as ct,B as Zt,C as Jt,D as dt,L as ut,G as qe,H as en,S as Ke,I as tn,J as ft,_ as nn,M as Ge,N as sn,O as on}from"./index-DHFbRL9-.js";import{F as rn,N as Xe}from"./NoDataMessage-D39RFNsl.js";import{u as an,a as ht,i as ln,r as Ye,h as cn,f as dn}from"./utils-jYyP6k4A.js";const un={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function fn(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,o=t[n],r=un[e];return o+parseInt(Z(t,r[0]),10)+parseInt(Z(t,r[1]),10)}const hn={[Wt]:"collapse",[It]:"collapsing",[Ut]:"collapsing",[Lt]:"collapse show"},pn=G.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:o,onExiting:r,className:a,children:c,dimension:g="height",in:u=!1,timeout:b=300,mountOnEnter:v=!1,unmountOnExit:w=!1,appear:C=!1,getDimensionValue:y=fn,...x},p)=>{const i=typeof g=="function"?g():g,h=l.useMemo(()=>ue(E=>{E.style[i]="0"},e),[i,e]),T=l.useMemo(()=>ue(E=>{const f=`scroll${i[0].toUpperCase()}${i.slice(1)}`;E.style[i]=`${E[f]}px`},t),[i,t]),A=l.useMemo(()=>ue(E=>{E.style[i]=null},n),[i,n]),O=l.useMemo(()=>ue(E=>{E.style[i]=`${y(i,E)}px`,Dt(E)},o),[o,y,i]),$=l.useMemo(()=>ue(E=>{E.style[i]=null},r),[i,r]);return s.jsx(Bt,{ref:p,addEndListener:$t,...x,"aria-expanded":x.role?u:null,onEnter:h,onEntering:T,onEntered:A,onExit:O,onExiting:$,childRef:c.ref,in:u,timeout:b,mountOnEnter:v,unmountOnExit:w,appear:C,children:(E,f)=>G.cloneElement(c,{...f,className:B(a,c.props.className,hn[E],i==="width"&&"collapse-horizontal")})})});function pt(e,t){return Array.isArray(e)?e.includes(t):e===t}const pe=l.createContext({});pe.displayName="AccordionContext";const Pe=l.forwardRef(({as:e="div",bsPrefix:t,className:n,children:o,eventKey:r,...a},c)=>{const{activeEventKey:g}=l.useContext(pe);return t=W(t,"accordion-collapse"),s.jsx(pn,{ref:c,in:pt(g,r),...a,className:B(n,t),children:s.jsx(e,{children:l.Children.only(o)})})});Pe.displayName="AccordionCollapse";const Se=l.createContext({eventKey:""});Se.displayName="AccordionItemContext";const mt=l.forwardRef(({as:e="div",bsPrefix:t,className:n,onEnter:o,onEntering:r,onEntered:a,onExit:c,onExiting:g,onExited:u,...b},v)=>{t=W(t,"accordion-body");const{eventKey:w}=l.useContext(Se);return s.jsx(Pe,{eventKey:w,onEnter:o,onEntering:r,onEntered:a,onExit:c,onExiting:g,onExited:u,children:s.jsx(e,{ref:v,...b,className:B(n,t)})})});mt.displayName="AccordionBody";function mn(e,t){const{activeEventKey:n,onSelect:o,alwaysOpen:r}=l.useContext(pe);return a=>{let c=e===n?null:e;r&&(Array.isArray(n)?n.includes(e)?c=n.filter(g=>g!==e):c=[...n,e]:c=[e]),o==null||o(c,a),t==null||t(a)}}const Be=l.forwardRef(({as:e="button",bsPrefix:t,className:n,onClick:o,...r},a)=>{t=W(t,"accordion-button");const{eventKey:c}=l.useContext(Se),g=mn(c,o),{activeEventKey:u}=l.useContext(pe);return e==="button"&&(r.type="button"),s.jsx(e,{ref:a,onClick:g,...r,"aria-expanded":Array.isArray(u)?u.includes(c):c===u,className:B(n,t,!pt(u,c)&&"collapsed")})});Be.displayName="AccordionButton";const xt=l.forwardRef(({as:e="h2",bsPrefix:t,className:n,children:o,onClick:r,...a},c)=>(t=W(t,"accordion-header"),s.jsx(e,{ref:c,...a,className:B(n,t),children:s.jsx(Be,{onClick:r,children:o})})));xt.displayName="AccordionHeader";const gt=l.forwardRef(({as:e="div",bsPrefix:t,className:n,eventKey:o,...r},a)=>{t=W(t,"accordion-item");const c=l.useMemo(()=>({eventKey:o}),[o]);return s.jsx(Se.Provider,{value:c,children:s.jsx(e,{ref:a,...r,className:B(n,t)})})});gt.displayName="AccordionItem";const yt=l.forwardRef((e,t)=>{const{as:n="div",activeKey:o,bsPrefix:r,className:a,onSelect:c,flush:g,alwaysOpen:u,...b}=zt(e,{activeKey:"onSelect"}),v=W(r,"accordion"),w=l.useMemo(()=>({activeEventKey:o,onSelect:c,alwaysOpen:u}),[o,c,u]);return s.jsx(pe.Provider,{value:w,children:s.jsx(n,{ref:t,...b,className:B(a,v,g&&`${v}-flush`)})})});yt.displayName="Accordion";const ye=Object.assign(yt,{Button:Be,Collapse:Pe,Item:gt,Header:xt,Body:mt}),xn={"aria-label":Te.string,onClick:Te.func,variant:Te.oneOf(["white"])},$e=l.forwardRef(({className:e,variant:t,"aria-label":n="Close",...o},r)=>s.jsx("button",{ref:r,type:"button",className:B("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...o}));$e.displayName="CloseButton";$e.propTypes=xn;var be;function Qe(e){if((!be&&be!==0||e)&&Fe){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),be=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return be}function Me(e){e===void 0&&(e=it());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function gn(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Ze=Ht("modal-open");class De{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return gn(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[o]:r.style[o]},t.scrollBarWidth&&(n[o]=`${parseInt(Z(r,o)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(Ze,""),Z(r,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Ze),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const yn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function bn(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,a;for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}let Ae;function vn(e){return Ae||(Ae=new De({ownerDocument:e==null?void 0:e.document})),Ae}function jn(e){const t=lt(),n=e||vn(t),o=l.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:l.useCallback(r=>{o.current.dialog=r},[]),setBackdropRef:l.useCallback(r=>{o.current.backdrop=r},[])})}const bt=l.forwardRef((e,t)=>{let{show:n=!1,role:o="dialog",className:r,style:a,children:c,backdrop:g=!0,keyboard:u=!0,onBackdropClick:b,onEscapeKeyDown:v,transition:w,runTransition:C,backdropTransition:y,runBackdropTransition:x,autoFocus:p=!0,enforceFocus:i=!0,restoreFocus:h=!0,restoreFocusOptions:T,renderDialog:A,renderBackdrop:O=k=>s.jsx("div",Object.assign({},k)),manager:$,container:E,onShow:f,onHide:_=()=>{},onExit:m,onExited:N,onExiting:S,onEnter:F,onEntering:M,onEntered:D}=e,J=bn(e,yn);const z=lt(),q=an(E),d=jn($),R=Vt(),U=qt(n),[I,K]=l.useState(!n),L=l.useRef(null);l.useImperativeHandle(t,()=>d,[d]),Fe&&!U&&n&&(L.current=Me(z==null?void 0:z.document)),n&&I&&K(!1);const H=Q(()=>{if(d.add(),ee.current=ze(document,"keydown",ke),le.current=ze(document,"focus",()=>setTimeout(Re),!0),f&&f(),p){var k,ge;const de=Me((k=(ge=d.dialog)==null?void 0:ge.ownerDocument)!=null?k:z==null?void 0:z.document);d.dialog&&de&&!He(d.dialog,de)&&(L.current=de,d.dialog.focus())}}),X=Q(()=>{if(d.remove(),ee.current==null||ee.current(),le.current==null||le.current(),h){var k;(k=L.current)==null||k.focus==null||k.focus(T),L.current=null}});l.useEffect(()=>{!n||!q||H()},[n,q,H]),l.useEffect(()=>{I&&X()},[I,X]),ht(()=>{X()});const Re=Q(()=>{if(!i||!R()||!d.isTopModal())return;const k=Me(z==null?void 0:z.document);d.dialog&&k&&!He(d.dialog,k)&&d.dialog.focus()}),me=Q(k=>{k.target===k.currentTarget&&(b==null||b(k),g===!0&&_())}),ke=Q(k=>{u&&ln(k)&&d.isTopModal()&&(v==null||v(k),k.defaultPrevented||_())}),le=l.useRef(),ee=l.useRef(),xe=(...k)=>{K(!0),N==null||N(...k)};if(!q)return null;const te=Object.assign({role:o,ref:d.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},J,{style:a,className:r,tabIndex:-1});let ce=A?A(te):s.jsx("div",Object.assign({},te,{children:l.cloneElement(c,{role:"document"})}));ce=Ye(w,C,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:m,onExiting:S,onExited:xe,onEnter:F,onEntering:M,onEntered:D,children:ce});let ne=null;return g&&(ne=O({ref:d.setBackdropRef,onClick:me}),ne=Ye(y,x,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ne})),s.jsx(s.Fragment,{children:Kt.createPortal(s.jsxs(s.Fragment,{children:[ne,ce]}),q)})});bt.displayName="Modal";const wn=Object.assign(bt,{Manager:De});function En(e,t){e.classList?e.classList.add(t):cn(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Je(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Cn(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Je(e.className,t):e.setAttribute("class",Je(e.className&&e.className.baseVal||"",t))}const re={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class _n extends De{adjustAndStore(t,n,o){const r=n.style[t];n.dataset[t]=r,Z(n,{[t]:`${parseFloat(Z(n,t))+o}px`})}restore(t,n){const o=n.dataset[t];o!==void 0&&(delete n.dataset[t],Z(n,{[t]:o}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(En(n,"modal-open"),!t.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";oe(n,re.FIXED_CONTENT).forEach(a=>this.adjustAndStore(o,a,t.scrollBarWidth)),oe(n,re.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-t.scrollBarWidth)),oe(n,re.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Cn(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";oe(n,re.FIXED_CONTENT).forEach(a=>this.restore(o,a)),oe(n,re.STICKY_CONTENT).forEach(a=>this.restore(r,a)),oe(n,re.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let Oe;function Nn(e){return Oe||(Oe=new _n(e)),Oe}const vt=l.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},r)=>(t=W(t,"modal-body"),s.jsx(n,{ref:r,className:B(e,t),...o})));vt.displayName="ModalBody";const jt=l.createContext({onHide(){}}),Le=l.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:o,size:r,fullscreen:a,children:c,scrollable:g,...u},b)=>{e=W(e,"modal");const v=`${e}-dialog`,w=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return s.jsx("div",{...u,ref:b,className:B(v,t,r&&`${e}-${r}`,o&&`${v}-centered`,g&&`${v}-scrollable`,a&&w),children:s.jsx("div",{className:B(`${e}-content`,n),children:c})})});Le.displayName="ModalDialog";const wt=l.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},r)=>(t=W(t,"modal-footer"),s.jsx(n,{ref:r,className:B(e,t),...o})));wt.displayName="ModalFooter";const Sn=l.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:o,children:r,...a},c)=>{const g=l.useContext(jt),u=Q(()=>{g==null||g.onHide(),o==null||o()});return s.jsxs("div",{ref:c,...a,children:[r,n&&s.jsx($e,{"aria-label":e,variant:t,onClick:u})]})}),Et=l.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:o=!1,...r},a)=>(e=W(e,"modal-header"),s.jsx(Sn,{ref:a,...r,className:B(t,e),closeLabel:n,closeButton:o})));Et.displayName="ModalHeader";const Rn=Gt("h4"),Ct=l.forwardRef(({className:e,bsPrefix:t,as:n=Rn,...o},r)=>(t=W(t,"modal-title"),s.jsx(n,{ref:r,className:B(e,t),...o})));Ct.displayName="ModalTitle";function kn(e){return s.jsx(ct,{...e,timeout:null})}function Tn(e){return s.jsx(ct,{...e,timeout:null})}const _t=l.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:o,contentClassName:r,children:a,dialogAs:c=Le,"data-bs-theme":g,"aria-labelledby":u,"aria-describedby":b,"aria-label":v,show:w=!1,animation:C=!0,backdrop:y=!0,keyboard:x=!0,onEscapeKeyDown:p,onShow:i,onHide:h,container:T,autoFocus:A=!0,enforceFocus:O=!0,restoreFocus:$=!0,restoreFocusOptions:E,onEntered:f,onExit:_,onExiting:m,onEnter:N,onEntering:S,onExited:F,backdropClassName:M,manager:D,...J},z)=>{const[q,d]=l.useState({}),[R,U]=l.useState(!1),I=l.useRef(!1),K=l.useRef(!1),L=l.useRef(null),[H,X]=Xt(),Re=Yt(z,X),me=Q(h),ke=Qt();e=W(e,"modal");const le=l.useMemo(()=>({onHide:me}),[me]);function ee(){return D||Nn({isRTL:ke})}function xe(j){if(!Fe)return;const se=ee().getScrollbarWidth()>0,We=j.scrollHeight>it(j).documentElement.clientHeight;d({paddingRight:se&&!We?Qe():void 0,paddingLeft:!se&&We?Qe():void 0})}const te=Q(()=>{H&&xe(H.dialog)});ht(()=>{Ve(window,"resize",te),L.current==null||L.current()});const ce=()=>{I.current=!0},ne=j=>{I.current&&H&&j.target===H.dialog&&(K.current=!0),I.current=!1},k=()=>{U(!0),L.current=Jt(H.dialog,()=>{U(!1)})},ge=j=>{j.target===j.currentTarget&&k()},de=j=>{if(y==="static"){ge(j);return}if(K.current||j.target!==j.currentTarget){K.current=!1;return}h==null||h()},kt=j=>{x?p==null||p(j):(j.preventDefault(),y==="static"&&k())},Tt=(j,se)=>{j&&xe(j),N==null||N(j,se)},Mt=j=>{L.current==null||L.current(),_==null||_(j)},At=(j,se)=>{S==null||S(j,se),Zt(window,"resize",te)},Ot=j=>{j&&(j.style.display=""),F==null||F(j),Ve(window,"resize",te)},Ft=l.useCallback(j=>s.jsx("div",{...j,className:B(`${e}-backdrop`,M,!C&&"show")}),[C,M,e]),Ie={...n,...q};Ie.display="block";const Pt=j=>s.jsx("div",{role:"dialog",...j,style:Ie,className:B(t,e,R&&`${e}-static`,!C&&"show"),onClick:y?de:void 0,onMouseUp:ne,"data-bs-theme":g,"aria-label":v,"aria-labelledby":u,"aria-describedby":b,children:s.jsx(c,{...J,onMouseDown:ce,className:o,contentClassName:r,children:a})});return s.jsx(jt.Provider,{value:le,children:s.jsx(wn,{show:w,ref:Re,backdrop:y,container:T,keyboard:!0,autoFocus:A,enforceFocus:O,restoreFocus:$,restoreFocusOptions:E,onEscapeKeyDown:kt,onShow:i,onHide:h,onEnter:Tt,onEntering:At,onEntered:f,onExit:Mt,onExiting:m,onExited:Ot,manager:ee(),transition:C?kn:void 0,backdropTransition:C?Tn:void 0,renderBackdrop:Ft,renderDialog:Pt})})});_t.displayName="Modal";const fe=Object.assign(_t,{Body:vt,Header:Et,Title:Ct,Footer:wt,Dialog:Le,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Mn={"category-selector":"_category-selector_1aq5o_1"},An={nc:"Norm-conserving",us:"Ultrasoft",paw:"PAW"},On=({categories:e,activeCategories:t,onCategorySelect:n})=>s.jsx("div",{className:Mn["category-selector"],children:e.map(o=>s.jsx(rn.Check,{type:"checkbox",id:`category-${o}`,label:An[o]||o,checked:t.includes(o),onChange:r=>r.target.checked?n([...t,o]):n(t.filter(a=>a!==o))},o))}),Fn="_convergencePane_7g4ka_1",Pn="_convergenceSummaryHeader_7g4ka_1",Bn="_selectedPseudos_7g4ka_1",$n="_efficiencyPseudo_7g4ka_1",Dn="_precisionPseudo_7g4ka_1",Ln="_plotTitle_7g4ka_1",Un="_convergencePlotDetailsContainer_7g4ka_1",Y={convergencePane:Fn,convergenceSummaryHeader:Pn,selectedPseudos:Bn,efficiencyPseudo:$n,precisionPseudo:Dn,plotTitle:Ln,convergencePlotDetailsContainer:Un},In="_convergencePlot_x5r81_1",Wn={convergencePlot:In};var Nt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},et=G.createContext&&G.createContext(Nt),zn=["attr","size","title"];function Hn(e,t){if(e==null)return{};var n=Vn(e,t),o,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Vn(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ce.apply(this,arguments)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tt(Object(n),!0).forEach(function(o){qn(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function qn(e,t,n){return t=Kn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kn(e){var t=Gn(e,"string");return typeof t=="symbol"?t:t+""}function Gn(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function St(e){return e&&e.map((t,n)=>G.createElement(t.tag,_e({key:n},t.attr),St(t.child)))}function Xn(e){return t=>G.createElement(Yn,Ce({attr:_e({},e.attr)},t),St(e.child))}function Yn(e){var t=n=>{var{attr:o,size:r,title:a}=e,c=Hn(e,zn),g=r||n.size||"1em",u;return n.className&&(u=n.className),e.className&&(u=(u?u+" ":"")+e.className),G.createElement("svg",Ce({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,c,{className:u,style:_e(_e({color:e.color||n.color},n.style),e.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),a&&G.createElement("title",null,a),e.children)};return et!==void 0?G.createElement(et.Consumer,null,n=>t(n)):t(Nt)}function Qn(e){return Xn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"},child:[]},{tag:"path",attr:{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"},child:[]}]})(e)}const Zn="_modalBody_f8cvt_1",Jn="_content_f8cvt_5",es="_pre_f8cvt_12",ts="_loadContainer_f8cvt_20",ns="_hint_f8cvt_30",ss="_message_f8cvt_34",os="_filename_f8cvt_1",rs="_downloadUpfText_f8cvt_1",as="_downloadUpfButton_f8cvt_1",V={modalBody:Zn,content:Jn,pre:es,loadContainer:ts,hint:ns,message:ss,filename:os,downloadUpfText:rs,downloadUpfButton:as},is=({show:e,element:t,pseudoName:n,Z:o,onHide:r})=>{const{getUpfUuid:a,getPseudoFilename:c}=l.useContext(dt),[g,u]=l.useState(""),[b,v]=l.useState(""),[w,C]=l.useState(!1),[y,x]=l.useState(!1),[p,i]=l.useState(null),h=!!en,T=l.useMemo(()=>!t||!n||o===void 0?"":a(t,n,o),[t,n,o,a]),A=l.useMemo(()=>!t||!n||o===void 0?"":c(t,n,o),[t,n,o,c]);l.useEffect(()=>{e&&(i(null),u(""),C(!1),x(!1),v(A||""))},[e,t,n,o,A]);const O=async()=>{if(i(null),!h){i("UPF viewer is unavailable (VITE_API_URL is not set)");return}if(!n||o===void 0){i("No pseudopotential selected");return}if(!T){i("No UPF UUID found for this pseudopotential");return}C(!0);try{const{filename:f,content:_}=await Ke.fetchUpfFile(T);v(m=>m||f),u(_)}catch(f){f instanceof Error&&i(f.message||"Failed to load UPF file")}finally{C(!1)}},$=async()=>{if(i(null),!h){i("UPF download is unavailable (VITE_API_URL is not set)");return}if(!T){i("No UPF UUID found for this pseudopotential");return}x(!0);try{const{filename:f,blob:_}=await Ke.fetchUpfBlob(T),m=URL.createObjectURL(_),N=document.createElement("a");N.href=m;const S=`${t}-${n||"pseudo"}${o!==void 0?`-Z${o}`:""}.upf`;N.download=b||f||S,document.body.appendChild(N),N.click(),N.remove(),URL.revokeObjectURL(m)}catch(f){f instanceof Error&&i((f==null?void 0:f.message)||"Failed to download UPF file")}finally{x(!1)}},E=!h||!T;return s.jsxs(fe,{show:e,onHide:r,size:"xl",centered:!0,scrollable:!0,children:[s.jsx(fe.Header,{closeButton:!0,children:s.jsxs(fe.Title,{children:[t," (Z",s.jsx("sub",{children:"val"})," = ",o,") ",n]})}),s.jsx(fe.Body,{className:V.modalBody,children:p?s.jsx("div",{className:V.message,children:p}):w?s.jsx(ut,{}):g?s.jsx("div",{className:V.content,children:s.jsx("pre",{className:V.pre,children:g})}):h?T?s.jsxs("div",{className:V.loadContainer,children:[s.jsx(qe,{variant:"primary",onClick:O,children:"Load UPF content"}),s.jsx("div",{className:V.hint,children:"May take some time"})]}):s.jsx("div",{className:V.message,children:"No UPF UUID found for this pseudopotential."}):s.jsx("div",{className:V.message,children:"Backend not configured. UPF download/viewing is unavailable."})}),s.jsxs(fe.Footer,{className:"justify-content-start",children:[s.jsxs(qe,{id:V.downloadUpfButton,variant:"primary",onClick:$,disabled:E||y,children:[s.jsx("span",{id:V.downloadUpfText,children:"Download UPF file"}),y?s.jsx("div",{className:"spinner-border spinner-border-sm text-light",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}):s.jsx(Qn,{})]}),s.jsx("span",{id:V.filename,children:b})]})]})},nt=1.2,st=1.3,ot=.13,Rt=6,he=1,ae=10,ls=40,cs=80,ve=1.6,je=8,ds=120,Ne={l:180,r:180,t:40,b:80},us=10,fs=80,P=25,ie=205,Ue=100,hs=new Set(["O","Fe","Mn","Hf","Co","Ni","Cr"]),ps=.2,ms=2,xs=1,gs=["δω","δV<sub>press</sub>","δE<sub>coh</sub>","δν"],ys=["circle","triangle-down","star","square"],bs=["solid","dash","dot","solid"],we={phononFrequencies:{label:"δω",symbol:"circle",dash:"solid"},pressure:{label:"δV<sub>press</sub>",symbol:"triangle-down",dash:"dash"},cohesiveEnergy:{label:"δE<sub>coh</sub>",symbol:"star",dash:"dot"},eos:{label:"δν",symbol:"square",dash:"solid"}},vs=(e,t,n,o,r)=>{const a=je/4,c=o.map((y,x)=>x*je),g=o.length*ds+(ls+cs),u=hs.has(e)?18:8,b=[],v=[],w=[];o.forEach((y,x)=>{var z,q;const p=((z=r[y.name])==null?void 0:z.color)||"black",i=x*je,{quantities:h}=y;let T=[],A=[],O=[],$=[],E=[],f=[],_=[],m;if(b.push({x:[-1e3,1e3],y:[i+a,i+a],type:"scatter",mode:"lines",text:f.map(d=>d.toFixed(2)),showlegend:!1,line:{color:p,width:he,dash:"dashdot"},hoverinfo:"skip"}),b.push({x:[-1e3,1e3],y:[i-a,i-a],type:"scatter",mode:"lines",text:_.map(d=>d.toFixed(2)),showlegend:!1,line:{color:p,width:he,dash:"dashdot"},hoverinfo:"skip"}),b.push({x:[-1e3,1e3],y:[i+a*.5,i+a*.5],type:"scatter",mode:"lines",text:f.map(d=>d.toFixed(2)),showlegend:!1,line:{color:"lightgray",width:he,dash:"dot"},hoverinfo:"skip"}),h.phononFrequencies){T=h.phononFrequencies.values,m=Ee(we.phononFrequencies,p),m.x=h.phononFrequencies.cutoffs,m.y=T.map(R=>R*2/ms+i),A=h.phononFrequencies.error,m.error_y={type:"data",array:A,arrayminus:T.map(()=>0),visible:!0,color:p},b.push(m);const d=h.phononFrequencies.ref.toFixed(2);v.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i-.6,text:`ω<sub>max</sub> = ${d} cm<sup>-1</sup>`,showarrow:!1,align:"left",font:{size:ae}})}if(h.pressure&&(m=Ee(we.pressure,p),O=h.pressure.values,m.x=h.pressure.cutoffs,m.y=O.map(d=>d*2/xs+i),b.push(m)),h.cohesiveEnergy){$=h.cohesiveEnergy.values,m=Ee(we.cohesiveEnergy,p),m.x=h.cohesiveEnergy.cutoffs,m.y=$.map(R=>R+i),b.push(m);const d=h.cohesiveEnergy.ref.toFixed(2);v.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i+.6,text:`E<sub>coh</sub> = ${d} <i>meV/atom</i>`,align:"left",showarrow:!1,font:{size:ae}})}if(h.eos&&(E=h.eos.values,m=Ee(we.eos,p),m.x=h.eos.cutoffs,m.y=E.map(d=>d*2/ps+i),b.push(m)),h.bands){const d=h.bands.cutoffs;f=h.bands.etaC,_=h.bands.maxDiffC,b.push({x:d,y:f.map(()=>i+nt*a),type:"scatter",mode:"text",text:f.map(R=>R>=100?R.toExponential(0).toString().replace("e+","e"):R.toFixed(2)),showlegend:!1,textfont:{size:ae},hoverinfo:"skip"}),v.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i-st*a+ot,text:"max <i>η</i><sub>10</sub> [meV]",showarrow:!1,align:"left",font:{size:ae}}),b.push({x:d,y:_.map(()=>i-st*a),type:"scatter",mode:"text",text:_.map(R=>R>=100?R.toExponential(0).toString().replace("e+","e"):R.toFixed(2)),showlegend:!1,textfont:{size:ae},hoverinfo:"skip"}),v.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i+nt*a+ot,text:"<i>η</i><sub>10</sub> [meV]",showarrow:!1,align:"left",font:{size:ae}})}w.push({type:"line",x0:-1e3,x1:1e3,y0:i,y1:i,opacity:.25,line:{width:.5}});const N=((q=y.quantities.bands)==null?void 0:q.cutoffs)||[],S=[N],F=["E<sub>wfc</sub> = %{customdata[0]} Ry"];let M=1;if(T.length){S.push(T);let d=`<br />δω = %{customdata[${M}]:.3f}`;M+=1,A.length&&(S.push(A),d+=` &plusmn; %{customdata[${M}]:.1e}`,M+=1),d+="%",F.push(d)}O.length&&(S.push(O),F.push(`<br />δV<sub>press</sub> = %{customdata[${M}]:.3f}%`),M+=1),$.length&&(S.push($),F.push(`<br />δE<sub>coh</sub> = %{customdata[${M}]:.3f} meV`),M+=1),E.length&&(S.push(E),F.push(`<br />δv = %{customdata[${M}]:.3f}`),M+=1),f.length&&(S.push(f),F.push(`<br />η<sub>10</sub> = %{customdata[${M}]:.3f} meV`),M+=1),_.length&&(S.push(_),F.push(`<br />max η<sub>10</sub> = %{customdata[${M}]:.3f} meV`),M+=1),b.push({x:N,y:new Array(N.length).fill(i),mode:"markers",marker:{size:24,opacity:0,line:{width:0}},showlegend:!1,customdata:N.map((d,R)=>S.map(U=>U[R])),hoverlabel:{bgcolor:"rgb(225, 225, 225)",bordercolor:"black"},hovertemplate:`<b>${y.name}</b><br />`+F.join("")+"<extra></extra>"});const{metadata:D}=y.quantities;let J="not all EOS valid";if(D){const d=D.avgNu.toFixed(2),R=D.maxNu.toFixed(2),U=dn(D.maxConf),I=D.avgNuWoMax.toFixed(2);J=`ν<sub>avg</sub> = ${d}<br />ν<sub>max</sub> = ${R} (${U})<br />ν<sub>avg</sub> (w/o ${U}) = ${I}`}v.push({xref:"paper",x:0,xanchor:"right",xshift:-30,y:i,text:`<span style="color:${y.color}"><b>${y.name}</b></span><br />Z<sub>val</sub> = ${y.Z}<br />${J}`,showarrow:!1,align:"left",font:{size:10},captureevents:!0}),t.forEach(d=>{if(n[d].pseudopotential===y.name&&n[d].Z===y.Z){const R=n[d].cutoff_wfc;if(d==="efficiency")w.push({type:"rect",x0:R-ve*.5,x1:R+ve*.5,y0:c[x]-a,y1:c[x]+a,fillcolor:"rgba(0, 128, 0, 0.5)",line:{width:1,color:"rgb(0, 128, 0)"},opacity:.5});else{const U=R-ve,I=R+ve,K=c[x]-a*.5,L=c[x]+a*.5,H=(U+I)*.5,X=(K+L)*.5;w.push({type:"path",path:`M ${H} ${L} L ${I} ${X} L ${H} ${K} L ${U} ${X} Z`,fillcolor:"rgba(128, 0, 128, 0.5)",line:{width:1,color:"rgb(128, 0, 128)"},opacity:.5})}}})}),gs.forEach((y,x)=>{b.push({name:y,type:"scatter",mode:"lines+markers",x:[NaN],y:[NaN],line:{color:"black",width:he,dash:bs[x]},marker:{size:Rt,symbol:ys[x]},showlegend:!0,legendgroup:y,hoverinfo:"skip"})});const C={xaxis:{title:{text:`Wavefunction cutoff [Ry]<br><br>Charge density cutoff [Ry] = ${u} x Ewfc (PAW/US) | 4 x Ewfc (NC); q-point = [0.5, 0.5, 0.5]`},zeroline:!1,showgrid:!1,showline:!0,mirror:!0,tickvals:[...Array.from({length:18},(y,x)=>x*10+30)],ticks:"inside",ticklen:5,range:[P,P+Ue]},yaxis:{side:"left",zeroline:!1,showgrid:!1,showline:!0,mirror:!0,ticks:"inside",ticklen:5,tickmode:"array",tickvals:c,ticktext:c.map(()=>"0"),range:[-5,(o.length-1)*je+5],fixedrange:!0},showlegend:!0,legend:{orientation:"h",xref:"paper",yref:"container",x:.5,y:1,xanchor:"center",yanchor:"top",font:{size:12,color:"black"}},annotations:v,shapes:w,hovermode:"closest",dragmode:"pan",autosize:!0,height:g,margin:Ne};return{data:b,layout:C}},Ee=(e,t)=>({name:e.label,type:"scatter",mode:"lines+markers",line:{color:t,width:he,dash:e.dash},marker:{size:Rt,symbol:e.symbol},showlegend:!1,legendgroup:e.label,hoverinfo:"skip"}),js=e=>{if(!e||typeof e!="object")return null;const t=e,n=t["xaxis.range"];if(Array.isArray(n)&&n.length>=2){const a=Number(n[0]),c=Number(n[1]);if(Number.isFinite(a)&&Number.isFinite(c))return{x0:a,x1:c}}const o=Number(t["xaxis.range[0]"]),r=Number(t["xaxis.range[1]"]);return Number.isFinite(o)&&Number.isFinite(r)?{x0:o,x1:r}:null},ws=e=>!e||typeof e!="object"?!1:e["xaxis.autorange"]===!0,Es=e=>{if(!e)return 0;const n=e.getBoundingClientRect().width-Ne.l-Ne.r;return Math.max(0,n)},rt=(e,t)=>{const n=ie-P,o=Math.min(Math.max(t,1),n);let r=e.min,a=e.max;if(!Number.isFinite(r)||!Number.isFinite(a))r=P,a=P+o;else if(Math.abs(a-r-o)>1e-6){const c=(r+a)*.5;r=c-o*.5,a=c+o*.5}return r<P?(r=P,a=P+o):a>ie&&(a=ie,r=ie-o),{min:r,max:a}},Cs=e=>{if(!e)return Ue;const t=e*us/fs,n=ie-P;return Math.min(Math.max(t,30),n)},_s=e=>{var r,a;const t=(a=(r=e.layout)==null?void 0:r.xaxis)==null?void 0:a.range;if(!t)return null;const n=t[0],o=t[1];return!Number.isFinite(n)||!Number.isFinite(o)?null:{min:n,max:o}},Ns=e=>({...Ne,t:e<35?70:40}),Ss=e=>{if(typeof window<"u"&&typeof window.requestAnimationFrame=="function"){window.requestAnimationFrame(e);return}setTimeout(e,0)},Rs={responsive:!0,displayModeBar:!1,displaylogo:!1,scrollZoom:!1,showAxisDragHandles:!1},ks=({element:e,activePseudos:t,pseudosMetadata:n})=>{const{libraries:o}=l.useContext(tn),{elementsInfo:r}=l.useContext(ft),[a,c]=l.useState(!1),[g,u]=l.useState(""),[b,v]=l.useState(),w=l.useRef(null),C=l.useRef(Ue),y=l.useMemo(()=>Object.fromEntries(Object.entries(r).map(([x,p])=>[x,p[e]])),[r,e]);return l.useEffect(()=>{if(!t.length||!w.current)return;let x=!1,p=null,i=null,h=null;return(async()=>{var O,$,E;if(p=(await nn(async()=>{const{default:f}=await import("./PlotlyLoader-CUtEtfm2.js");return{default:f}},__vite__mapDeps([0,1,2,3]))).default,x||!w.current)return;const{data:T,layout:A}=vs(e,o,y,t,n);i=await p.react(w.current,T,A,Rs),h=new ResizeObserver(async()=>{if(!p||!i)return;const f=Es(w.current);C.current=Cs(f),p.Plots.resize(i);const _=_s(i)??{min:P,max:P+C.current},m=(_.min+_.max)*.5,N=C.current*.5,S=rt({min:m-N,max:m+N},C.current);await p.relayout(i,{margin:Ns(C.current),"xaxis.range":[S.min,S.max]})}),h.observe(w.current),(O=i.removeAllListeners)==null||O.call(i,"plotly_relayout"),i.on("plotly_relayout",async f=>{if(!p||!i)return;if(ws(f)){await p.relayout(i,{"xaxis.range":[P,P+C.current]});return}const _=js(f);if(!_){await p.relayout(i,{"xaxis.range":[P,P+C.current]});return}const m={min:_.x0,max:_.x1},N=m.max-m.min,S=C.current;if(m.min>=P&&m.max<=ie&&Number.isFinite(N)&&Math.abs(N-S)<1e-6)return;const F=rt(m,S);await p.relayout(i,{"xaxis.range":[F.min,F.max]})}),($=i.removeAllListeners)==null||$.call(i,"plotly_doubleclick"),i.on("plotly_doubleclick",()=>{!p||!i||Ss(()=>{p==null||p.relayout(i,{"xaxis.range":[P,P+C.current]})})}),(E=i.removeAllListeners)==null||E.call(i,"plotly_clickannotation"),i.on("plotly_clickannotation",async f=>{var D;const _=f&&typeof f=="object"&&"annotation"in f?(D=f.annotation)==null?void 0:D.text:void 0,m=typeof _=="string"?_:"",N=m.match(/<b>(.*?)<\/b>/),S=N==null?void 0:N[1];if(!S)return;const F=m.match(/Z<sub>val<\/sub>\s*=\s*(\d+)/),M=F?Number.parseInt(F[1],10):NaN;Number.isFinite(M)&&(u(S),v(M),c(!0))})})(),()=>{var T,A,O;x=!0,h==null||h.disconnect(),i&&((T=i.removeAllListeners)==null||T.call(i,"plotly_clickannotation"),(A=i.removeAllListeners)==null||A.call(i,"plotly_doubleclick"),(O=i.removeAllListeners)==null||O.call(i,"plotly_relayout"))}},[e,o,y,t,n]),s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:w,id:Wn.convergencePlot}),s.jsx(is,{show:a,element:e,pseudoName:g,Z:b,onHide:()=>c(!1)})]})},Ts="_metadataTable_5ur8v_1",Ms="_legendTable_5ur8v_1",at={metadataTable:Ts,legendTable:Ms},As=()=>s.jsx(ye,{children:s.jsxs(ye.Item,{eventKey:"0",children:[s.jsx(ye.Header,{children:"About the SSSP protocol convergence pattern plots"}),s.jsxs(ye.Body,{children:[s.jsx("section",{children:s.jsxs("p",{children:["We report here the zone-boundary phonons, cohesive energy, pressure, and band structure versus the wavefunction cutoff for all the considered pseudopotential libraries. The colored horizontal dashed lines correspond to the thresholds of the SSSP efficiency criteria, whereas the gray dotted lines correspond to the precision criteria. The recommended efficiency (precision) pseudopotential is marked with a ",s.jsx("span",{style:{color:"rgb(0, 128, 0)"},children:"rectangle"})," (",s.jsx("span",{style:{color:"rgb(128, 0, 128)"},children:"rhombus"}),") at the recommended cutoff."]})}),s.jsxs("section",{children:[s.jsx("h5",{children:"Categories"}),s.jsx("p",{children:"You can use the pseudopotential category checkboxes to filter the pseudopotentials shown in the plots."})]}),s.jsxs("section",{children:[s.jsx("h5",{children:"Metadata"}),s.jsx("p",{children:"We report on the left of the plot:"}),s.jsxs(Ge,{id:at.metadataTable,striped:!0,bordered:!0,responsive:!0,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Quantity"}),s.jsx("th",{children:"Description"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsxs("td",{children:["Z",s.jsx("sub",{children:"val"})]}),s.jsx("td",{children:"Number of valence electrons of the pseudopotential"})]}),s.jsxs("tr",{children:[s.jsxs("td",{children:["ν",s.jsx("sub",{children:"avg"})]}),s.jsxs("td",{children:["Average of ",s.jsx("b",{children:"ν"})," across 10 configurations"]})]}),s.jsxs("tr",{children:[s.jsxs("td",{children:["ν",s.jsx("sub",{children:"max"})," (#)"]}),s.jsxs("td",{children:["Maximum ",s.jsx("b",{children:"ν"})," value across 10 configurations and the corresponding configuration (#)"]})]}),s.jsxs("tr",{children:[s.jsxs("td",{children:["ν",s.jsx("sub",{children:"avg"})," (w/o #)"]}),s.jsxs("td",{children:["Average of ",s.jsx("b",{children:"ν"}),", excluding the configuration with the largest discrepancy (#)"]})]})]})]}),s.jsx("p",{children:s.jsx("em",{children:"Click on the metadata to open a UPF viewer to view/download the UPF file for the pseudopotential (requires an API backend)."})})]}),s.jsxs("section",{children:[s.jsx("h5",{children:"Legend"}),s.jsx("p",{children:"The legend reflects the corresponding quantity/discrepancy across all pseudopotentials:"}),s.jsxs(Ge,{id:at.legendTable,striped:!0,bordered:!0,responsive:!0,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Marker"}),s.jsx("th",{children:"Quantity"}),s.jsx("th",{children:"Units"}),s.jsx("th",{children:"Description"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"●"}),s.jsx("td",{children:"δω"}),s.jsx("td",{children:"%"}),s.jsx("td",{children:"Discrepancy in all phonon frequencies at the zone boundary"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"▼"}),s.jsxs("td",{children:["δV",s.jsx("sub",{children:"press"})]}),s.jsx("td",{children:"%"}),s.jsx("td",{children:"Discrepancy in pressure"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"★"}),s.jsxs("td",{children:["δE",s.jsx("sub",{children:"coh"})]}),s.jsx("td",{children:"meV"}),s.jsx("td",{children:"Discrepancy in cohesive energy"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"■"}),s.jsx("td",{children:"δν"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"Discrepancy in equation of state"})]})]})]}),s.jsx("p",{children:s.jsx("em",{children:"Click once on a legend item to toggle its visibility. Double-click to exclude all other items."})})]}),s.jsxs("section",{children:[s.jsx("h5",{children:"Additional information"}),s.jsxs("p",{children:["See the ",s.jsx("b",{children:"About"})," tab of the"," ",s.jsx("a",{href:"https://acwf-verification.materialscloud.org/",target:"_blank",style:{textDecoration:"none"},children:"Verification of the precision of DFT implementations via AiiDA common workflows"})," ","app to learn more about how ",s.jsx("b",{children:"ν"})," is computed. All calculations are performed on the ground-state elemental solids unless stated otherwise (i.e. rare-earths and flourine). See"," ",s.jsx(sn,{to:"/about",style:{textDecoration:"none"},children:"About SSSP"})," ","for more details."]})]})]})]})}),Bs=()=>{const{element:e,elementsInfo:t}=l.useContext(ft),{loadingMetadata:n,categories:o,pseudosMetadata:r,activeCategories:a,setActiveCategories:c}=l.useContext(dt),{loadingConvergenceData:g,convergenceData:u}=l.useContext(on),b=l.useMemo(()=>{var x,p;return{efficiency:(x=t.efficiency[e])==null?void 0:x.pseudopotential,precision:(p=t.precision[e])==null?void 0:p.pseudopotential}},[e,t]),v=l.useMemo(()=>{const x={};return Object.entries(r).forEach(([p,i])=>{a.includes(i.category)&&(x[p]=i)}),x},[a,r]),w=l.useMemo(()=>!u||!u.pseudos?[]:u.pseudos.filter(x=>v==null?void 0:v[x.name]).reverse(),[u,v]),C=n||g,y=Object.keys(u).length>0;return C?s.jsx(ut,{}):s.jsxs("div",{id:Y.convergencePane,children:[s.jsxs("div",{id:Y.convergenceSummaryHeader,children:[s.jsxs("h2",{className:"display-6",children:["Verification Summary: ",e," ",u.conff?`(${u.conff})`:""]}),y&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{id:Y.selectedPseudos,children:[s.jsxs("span",{id:Y.efficiencyPseudo,children:[s.jsx("b",{children:"SSSP Efficiency"}),": ",b.efficiency]}),s.jsxs("span",{id:Y.precisionPseudo,children:[s.jsx("b",{children:"SSSP Precision"}),": ",b.precision]})]}),s.jsx(On,{categories:o,activeCategories:a,onCategorySelect:c})]})]}),y?w.length?s.jsxs(s.Fragment,{children:[s.jsx("div",{id:Y.plotTitle,children:s.jsx("h6",{children:"Error w.r.t. ref. wavefunction cutoff"})}),s.jsx(ks,{element:e,activePseudos:w,pseudosMetadata:v})]}):s.jsx("div",{id:Y.noCategorySelected,children:s.jsx(Xe,{})}):s.jsx(Xe,{}),s.jsx("div",{id:Y.convergencePlotDetailsContainer,children:s.jsx(As,{})})]})};export{Bs as default};
