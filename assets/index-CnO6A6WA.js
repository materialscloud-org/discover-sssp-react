const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-27wOk_Fb.js","assets/index-BXRE74-o.js","assets/index-DrCkp0rM.css"])))=>i.map(i=>d[i]);
import{r as l,f as h,j as s,h as p,p as q,q as _,b as x,n as S,m as C,t as W,P as H,S as J,_ as K,L as Q,R}from"./index-BXRE74-o.js";import{N as U}from"./NoDataMessage-DU2QyKrj.js";const E=l.forwardRef(({bsPrefix:e,fluid:a=!1,as:t="div",className:n,...o},r)=>{const c=h(e,"container"),u=typeof a=="string"?`-${a}`:"-fluid";return s.jsx(t,{ref:r,...o,className:p(n,a?`${c}${u}`:c)})});E.displayName="Container";const M=l.forwardRef(({bsPrefix:e,type:a,size:t,htmlSize:n,id:o,className:r,isValid:c=!1,isInvalid:u=!1,plaintext:f,readOnly:d,as:g="input",...j},b)=>{const{controlId:F}=l.useContext(_);return e=h(e,"form-control"),s.jsx(g,{...j,type:a,size:n,ref:b,readOnly:d,id:o||F,className:p(r,f?`${e}-plaintext`:e,t&&`${e}-${t}`,a==="color"&&`${e}-color`,c&&"is-valid",u&&"is-invalid")})});M.displayName="FormControl";const X=Object.assign(M,{Feedback:q}),I=l.forwardRef(({className:e,bsPrefix:a,as:t="div",...n},o)=>(a=h(a,"form-floating"),s.jsx(t,{ref:o,className:p(e,a),...n})));I.displayName="FormFloating";const $=l.forwardRef(({controlId:e,as:a="div",...t},n)=>{const o=l.useMemo(()=>({controlId:e}),[e]);return s.jsx(_.Provider,{value:o,children:s.jsx(a,{...t,ref:n})})});$.displayName="FormGroup";const O=l.forwardRef(({as:e="label",bsPrefix:a,column:t=!1,visuallyHidden:n=!1,className:o,htmlFor:r,...c},u)=>{const{controlId:f}=l.useContext(_);a=h(a,"form-label");let d="col-form-label";typeof t=="string"&&(d=`${d} ${d}-${t}`);const g=p(o,a,n&&"visually-hidden",t&&d);return r=r||f,t?s.jsx(x,{ref:u,as:"label",className:g,htmlFor:r,...c}):s.jsx(e,{ref:u,className:g,htmlFor:r,...c})});O.displayName="FormLabel";const V=l.forwardRef(({bsPrefix:e,className:a,id:t,...n},o)=>{const{controlId:r}=l.useContext(_);return e=h(e,"form-range"),s.jsx("input",{...n,type:"range",ref:o,className:p(a,e),id:t||r})});V.displayName="FormRange";const k=l.forwardRef(({bsPrefix:e,size:a,htmlSize:t,className:n,isValid:o=!1,isInvalid:r=!1,id:c,...u},f)=>{const{controlId:d}=l.useContext(_);return e=h(e,"form-select"),s.jsx("select",{...u,size:t,ref:f,className:p(n,e,a&&`${e}-${a}`,o&&"is-valid",r&&"is-invalid"),id:c||d})});k.displayName="FormSelect";const A=l.forwardRef(({bsPrefix:e,className:a,as:t="small",muted:n,...o},r)=>(e=h(e,"form-text"),s.jsx(t,{...o,ref:r,className:p(a,e,n&&"text-muted")})));A.displayName="FormText";const G=l.forwardRef((e,a)=>s.jsx(S,{...e,ref:a,type:"switch"}));G.displayName="Switch";const Y=Object.assign(G,{Input:S.Input,Label:S.Label}),z=l.forwardRef(({bsPrefix:e,className:a,children:t,controlId:n,label:o,...r},c)=>(e=h(e,"form-floating"),s.jsxs($,{ref:c,className:p(a,e),controlId:n,...r,children:[t,s.jsx("label",{htmlFor:n,children:o})]})));z.displayName="FloatingLabel";const Z={_ref:C.any,validated:C.bool,as:C.elementType},L=l.forwardRef(({className:e,validated:a,as:t="form",...n},o)=>s.jsx(t,{...n,ref:o,className:p(e,a&&"was-validated")}));L.displayName="Form";L.propTypes=Z;const y=Object.assign(L,{Group:$,Control:X,Floating:I,Check:S,Switch:Y,Label:O,Text:A,Range:V,Select:k,FloatingLabel:z}),T=({which:e,pseudos:a,value:t,onSelect:n})=>s.jsxs("div",{id:`${e}-pseudo-selector`,children:[s.jsxs(y.Label,{htmlFor:`${e}-select`,children:[W(e),":"]}),s.jsx(y.Select,{id:`${e}-select`,value:t,onChange:o=>n(o.target.value),children:a.map(o=>s.jsx("option",{value:o,children:o},o))})]}),w={"pseudo-selectors-form":"_pseudo-selectors-form_1b4c1_1","pseudo-shift-range":"_pseudo-shift-range_1b4c1_1","bands-plot-wrapper":"_bands-plot-wrapper_1b4c1_1","bands-plot":"_bands-plot_1b4c1_1","bands-note":"_bands-note_1b4c1_1"},te=({element:e})=>{const[a,t]=l.useState(!0),{loadingMetadata:n,categorizedPseudosMetadata:o,activePseudos:r,setActivePseudos:c}=l.useContext(H),[u,f]=l.useState([]),[d,g]=l.useState(),[j,b]=l.useState(0),F=l.useRef(null),D=l.useMemo(()=>Object.assign({},...Object.values(o)),[]);return l.useEffect(()=>{e&&J.fetchBandsData().then(i=>{const v=i[e];g(v);const m=v&&Object.keys(v);f(m);const N=m?m[0]:"";c(r.length?r:[N,N])}).catch(i=>{console.error("Error fetching bands data:",i),g(void 0),f([]),c([])}).finally(()=>{t(!1)})},[e]),l.useEffect(()=>b(0),[r]),l.useEffect(()=>{if(d&&F.current){const i=r.map((m,N)=>{var B;return{bandsData:N==0?d[m]:P(d[m],j),traceFormat:{line:{color:N==0?"black":((B=D[m])==null?void 0:B.color)||"red"}}}});let v=null;(async()=>(v=(await K(async()=>{const{BandsVisualiser:m}=await import("./main-27wOk_Fb.js");return{BandsVisualiser:m}},__vite__mapDeps([0,1,2]))).BandsVisualiser,v(F.current,{bandsDataArray:i,settings:{showlegend:!1,yaxis:{range:[-10,25]}}})))()}},[r,d,D,j]),a||n?s.jsx(Q,{}):d?s.jsxs(E,{id:"bands-plots",children:[s.jsx("div",{style:{fontWeight:"bold",textAlign:"center",marginBottom:"1rem"},children:"Disclaimer: The data shown does not reflect real data and is for demonstration purposes only."}),s.jsxs(R,{children:[s.jsx(x,{lg:"3",children:s.jsxs("div",{id:w["pseudo-selectors-form"],children:[s.jsxs(R,{children:[s.jsx(x,{sm:"6",lg:"12",children:s.jsx(T,{which:"reference",pseudos:u,value:r[0],onSelect:i=>c([i,r[1]])})}),s.jsx(x,{children:s.jsx(T,{which:"compared",pseudos:u,value:r[1],onSelect:i=>c([r[0],i])})})]}),s.jsxs(y.Group,{children:[s.jsx(y.Label,{htmlFor:"pseudo-shift-range",children:"Avg. band difference (eV):"}),s.jsxs(R,{style:{alignItems:"center"},children:[s.jsx(x,{xs:"8",sm:"9",md:"10",lg:"6",xl:"7",xxl:"8",children:s.jsx(y.Range,{id:w["pseudo-shift-range"],value:j,min:-5,max:5,step:.001,onChange:i=>b(Number(i.target.value))})}),s.jsx(x,{children:s.jsx(y.Control,{type:"number",value:j,min:-5,max:5,step:.001,onChange:i=>b(Number(i.target.value))})})]})]})]})}),s.jsx(x,{lg:"6",children:s.jsx("div",{id:w["bands-plot-wrapper"],children:s.jsx("div",{ref:F,id:w["bands-plot"]})})})]}),s.jsx("div",{id:w["bands-note"],children:"Electronic band structure along high-symmetry path. The reference energy (0 eV) corresponds to the Fermi level."})]}):s.jsx(U,{})};function P(e,a){return{...e,paths:e.paths.map(t=>({...t,values:t.values.map(n=>n.map(o=>o+a))}))}}export{te as default};
