const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlotlyLoader-CBQCb2O4.js","assets/index-BxOMSjVq.js","assets/index-CPA6v1qE.css","assets/PlotlyLoader-CuCRB34y.css"])))=>i.map(i=>d[i]);
import{R as G,r as l,c as ue,j as o,T as Bt,t as $t,a as B,s as Q,b as Dt,E as Lt,d as Ut,e as It,f as Wt,u as W,g as zt,P as Me,h as Fe,o as it,i as Ht,k as Y,l as ze,K as Vt,q as se,m as qt,n as Kt,p as Gt,v as He,F as lt,w as Xt,x as Yt,y as ct,L as dt,B as Ve,A as Qt,S as qe,z as Zt,C as ut,_ as Jt,D as Ke,G as en,H as tn}from"./index-BxOMSjVq.js";import{P as nn,N as Ge}from"./PlotPaneHeader-BD182Xa8.js";import{F as on}from"./Form-DSsBzxmR.js";import{u as ft,a as sn,b as rn,c as Xe,d as ht,i as an,r as Ye,h as ln,e as cn,f as dn}from"./utils-Phde7uEV.js";const un={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function fn(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,s=t[n],r=un[e];return s+parseInt(Q(t,r[0]),10)+parseInt(Q(t,r[1]),10)}const hn={[Wt]:"collapse",[It]:"collapsing",[Ut]:"collapsing",[Lt]:"collapse show"},pn=G.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:s,onExiting:r,className:a,children:c,dimension:u="height",in:h=!1,timeout:g=300,mountOnEnter:w=!1,unmountOnExit:E=!1,appear:v=!1,getDimensionValue:y=fn,...b},x)=>{const i=typeof u=="function"?u():u,p=l.useMemo(()=>ue(C=>{C.style[i]="0"},e),[i,e]),T=l.useMemo(()=>ue(C=>{const f=`scroll${i[0].toUpperCase()}${i.slice(1)}`;C.style[i]=`${C[f]}px`},t),[i,t]),A=l.useMemo(()=>ue(C=>{C.style[i]=null},n),[i,n]),O=l.useMemo(()=>ue(C=>{C.style[i]=`${y(i,C)}px`,Dt(C)},s),[s,y,i]),$=l.useMemo(()=>ue(C=>{C.style[i]=null},r),[i,r]);return o.jsx(Bt,{ref:x,addEndListener:$t,...b,"aria-expanded":b.role?h:null,onEnter:p,onEntering:T,onEntered:A,onExit:O,onExiting:$,childRef:c.ref,in:h,timeout:g,mountOnEnter:w,unmountOnExit:E,appear:v,children:(C,f)=>G.cloneElement(c,{...f,className:B(a,c.props.className,hn[C],i==="width"&&"collapse-horizontal")})})});function pt(e,t){return Array.isArray(e)?e.includes(t):e===t}const me=l.createContext({});me.displayName="AccordionContext";const Pe=l.forwardRef(({as:e="div",bsPrefix:t,className:n,children:s,eventKey:r,...a},c)=>{const{activeEventKey:u}=l.useContext(me);return t=W(t,"accordion-collapse"),o.jsx(pn,{ref:c,in:pt(u,r),...a,className:B(n,t),children:o.jsx(e,{children:l.Children.only(s)})})});Pe.displayName="AccordionCollapse";const Se=l.createContext({eventKey:""});Se.displayName="AccordionItemContext";const mt=l.forwardRef(({as:e="div",bsPrefix:t,className:n,onEnter:s,onEntering:r,onEntered:a,onExit:c,onExiting:u,onExited:h,...g},w)=>{t=W(t,"accordion-body");const{eventKey:E}=l.useContext(Se);return o.jsx(Pe,{eventKey:E,onEnter:s,onEntering:r,onEntered:a,onExit:c,onExiting:u,onExited:h,children:o.jsx(e,{ref:w,...g,className:B(n,t)})})});mt.displayName="AccordionBody";function mn(e,t){const{activeEventKey:n,onSelect:s,alwaysOpen:r}=l.useContext(me);return a=>{let c=e===n?null:e;r&&(Array.isArray(n)?n.includes(e)?c=n.filter(u=>u!==e):c=[...n,e]:c=[e]),s==null||s(c,a),t==null||t(a)}}const Be=l.forwardRef(({as:e="button",bsPrefix:t,className:n,onClick:s,...r},a)=>{t=W(t,"accordion-button");const{eventKey:c}=l.useContext(Se),u=mn(c,s),{activeEventKey:h}=l.useContext(me);return e==="button"&&(r.type="button"),o.jsx(e,{ref:a,onClick:u,...r,"aria-expanded":Array.isArray(h)?h.includes(c):c===h,className:B(n,t,!pt(h,c)&&"collapsed")})});Be.displayName="AccordionButton";const xt=l.forwardRef(({as:e="h2",bsPrefix:t,className:n,children:s,onClick:r,...a},c)=>(t=W(t,"accordion-header"),o.jsx(e,{ref:c,...a,className:B(n,t),children:o.jsx(Be,{onClick:r,children:s})})));xt.displayName="AccordionHeader";const gt=l.forwardRef(({as:e="div",bsPrefix:t,className:n,eventKey:s,...r},a)=>{t=W(t,"accordion-item");const c=l.useMemo(()=>({eventKey:s}),[s]);return o.jsx(Se.Provider,{value:c,children:o.jsx(e,{ref:a,...r,className:B(n,t)})})});gt.displayName="AccordionItem";const yt=l.forwardRef((e,t)=>{const{as:n="div",activeKey:s,bsPrefix:r,className:a,onSelect:c,flush:u,alwaysOpen:h,...g}=zt(e,{activeKey:"onSelect"}),w=W(r,"accordion"),E=l.useMemo(()=>({activeEventKey:s,onSelect:c,alwaysOpen:h}),[s,c,h]);return o.jsx(me.Provider,{value:E,children:o.jsx(n,{ref:t,...g,className:B(a,w,u&&`${w}-flush`)})})});yt.displayName="Accordion";const be=Object.assign(yt,{Button:Be,Collapse:Pe,Item:gt,Header:xt,Body:mt});function xn(e){const t=l.useRef(null);return l.useEffect(()=>{t.current=e}),t.current}const gn={"aria-label":Me.string,onClick:Me.func,variant:Me.oneOf(["white"])},$e=l.forwardRef(({className:e,variant:t,"aria-label":n="Close",...s},r)=>o.jsx("button",{ref:r,type:"button",className:B("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...s}));$e.displayName="CloseButton";$e.propTypes=gn;var ve;function Qe(e){if((!ve&&ve!==0||e)&&Fe){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ve=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ve}function ke(e){e===void 0&&(e=it());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function yn(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Ze=Ht("modal-open");class De{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return yn(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[s]:r.style[s]},t.scrollBarWidth&&(n[s]=`${parseInt(Q(r,s)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(Ze,""),Q(r,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Ze),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const bn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function vn(e,t){if(e==null)return{};var n={},s=Object.keys(e),r,a;for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}let Ae;function jn(e){return Ae||(Ae=new De({ownerDocument:e==null?void 0:e.document})),Ae}function wn(e){const t=ft(),n=e||jn(t),s=l.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:l.useCallback(r=>{s.current.dialog=r},[]),setBackdropRef:l.useCallback(r=>{s.current.backdrop=r},[])})}const bt=l.forwardRef((e,t)=>{let{show:n=!1,role:s="dialog",className:r,style:a,children:c,backdrop:u=!0,keyboard:h=!0,onBackdropClick:g,onEscapeKeyDown:w,transition:E,runTransition:v,backdropTransition:y,runBackdropTransition:b,autoFocus:x=!0,enforceFocus:i=!0,restoreFocus:p=!0,restoreFocusOptions:T,renderDialog:A,renderBackdrop:O=S=>o.jsx("div",Object.assign({},S)),manager:$,container:C,onShow:f,onHide:N=()=>{},onExit:m,onExited:_,onExiting:R,onEnter:F,onEntering:M,onEntered:L}=e,Z=vn(e,bn);const z=ft(),q=sn(C),d=wn($),k=rn(),D=xn(n),[I,K]=l.useState(!n),U=l.useRef(null);l.useImperativeHandle(t,()=>d,[d]),Fe&&!D&&n&&(U.current=ke(z==null?void 0:z.document)),n&&I&&K(!1);const H=Y(()=>{if(d.add(),ee.current=ze(document,"keydown",Te),le.current=ze(document,"focus",()=>setTimeout(J),!0),f&&f(),x){var S,ye;const de=ke((S=(ye=d.dialog)==null?void 0:ye.ownerDocument)!=null?S:z==null?void 0:z.document);d.dialog&&de&&!Xe(d.dialog,de)&&(U.current=de,d.dialog.focus())}}),X=Y(()=>{if(d.remove(),ee.current==null||ee.current(),le.current==null||le.current(),p){var S;(S=U.current)==null||S.focus==null||S.focus(T),U.current=null}});l.useEffect(()=>{!n||!q||H()},[n,q,H]),l.useEffect(()=>{I&&X()},[I,X]),ht(()=>{X()});const J=Y(()=>{if(!i||!k()||!d.isTopModal())return;const S=ke(z==null?void 0:z.document);d.dialog&&S&&!Xe(d.dialog,S)&&d.dialog.focus()}),xe=Y(S=>{S.target===S.currentTarget&&(g==null||g(S),u===!0&&N())}),Te=Y(S=>{h&&an(S)&&d.isTopModal()&&(w==null||w(S),S.defaultPrevented||N())}),le=l.useRef(),ee=l.useRef(),ge=(...S)=>{K(!0),_==null||_(...S)};if(!q)return null;const te=Object.assign({role:s,ref:d.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},Z,{style:a,className:r,tabIndex:-1});let ce=A?A(te):o.jsx("div",Object.assign({},te,{children:l.cloneElement(c,{role:"document"})}));ce=Ye(E,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:m,onExiting:R,onExited:ge,onEnter:F,onEntering:M,onEntered:L,children:ce});let ne=null;return u&&(ne=O({ref:d.setBackdropRef,onClick:xe}),ne=Ye(y,b,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ne})),o.jsx(o.Fragment,{children:Vt.createPortal(o.jsxs(o.Fragment,{children:[ne,ce]}),q)})});bt.displayName="Modal";const En=Object.assign(bt,{Manager:De});function Cn(e,t){e.classList?e.classList.add(t):ln(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function Je(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Nn(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=Je(e.className,t):e.setAttribute("class",Je(e.className&&e.className.baseVal||"",t))}const re={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class _n extends De{adjustAndStore(t,n,s){const r=n.style[t];n.dataset[t]=r,Q(n,{[t]:`${parseFloat(Q(n,t))+s}px`})}restore(t,n){const s=n.dataset[t];s!==void 0&&(delete n.dataset[t],Q(n,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(Cn(n,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";se(n,re.FIXED_CONTENT).forEach(a=>this.adjustAndStore(s,a,t.scrollBarWidth)),se(n,re.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-t.scrollBarWidth)),se(n,re.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Nn(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";se(n,re.FIXED_CONTENT).forEach(a=>this.restore(s,a)),se(n,re.STICKY_CONTENT).forEach(a=>this.restore(r,a)),se(n,re.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let Oe;function Rn(e){return Oe||(Oe=new _n(e)),Oe}const vt=l.forwardRef(({className:e,bsPrefix:t,as:n="div",...s},r)=>(t=W(t,"modal-body"),o.jsx(n,{ref:r,className:B(e,t),...s})));vt.displayName="ModalBody";const jt=l.createContext({onHide(){}}),Le=l.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:s,size:r,fullscreen:a,children:c,scrollable:u,...h},g)=>{e=W(e,"modal");const w=`${e}-dialog`,E=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return o.jsx("div",{...h,ref:g,className:B(w,t,r&&`${e}-${r}`,s&&`${w}-centered`,u&&`${w}-scrollable`,a&&E),children:o.jsx("div",{className:B(`${e}-content`,n),children:c})})});Le.displayName="ModalDialog";const wt=l.forwardRef(({className:e,bsPrefix:t,as:n="div",...s},r)=>(t=W(t,"modal-footer"),o.jsx(n,{ref:r,className:B(e,t),...s})));wt.displayName="ModalFooter";const Sn=l.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:s,children:r,...a},c)=>{const u=l.useContext(jt),h=Y(()=>{u==null||u.onHide(),s==null||s()});return o.jsxs("div",{ref:c,...a,children:[r,n&&o.jsx($e,{"aria-label":e,variant:t,onClick:h})]})}),Et=l.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:s=!1,...r},a)=>(e=W(e,"modal-header"),o.jsx(Sn,{ref:a,...r,className:B(t,e),closeLabel:n,closeButton:s})));Et.displayName="ModalHeader";const Tn=qt("h4"),Ct=l.forwardRef(({className:e,bsPrefix:t,as:n=Tn,...s},r)=>(t=W(t,"modal-title"),o.jsx(n,{ref:r,className:B(e,t),...s})));Ct.displayName="ModalTitle";function Mn(e){return o.jsx(lt,{...e,timeout:null})}function kn(e){return o.jsx(lt,{...e,timeout:null})}const Nt=l.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:s,contentClassName:r,children:a,dialogAs:c=Le,"data-bs-theme":u,"aria-labelledby":h,"aria-describedby":g,"aria-label":w,show:E=!1,animation:v=!0,backdrop:y=!0,keyboard:b=!0,onEscapeKeyDown:x,onShow:i,onHide:p,container:T,autoFocus:A=!0,enforceFocus:O=!0,restoreFocus:$=!0,restoreFocusOptions:C,onEntered:f,onExit:N,onExiting:m,onEnter:_,onEntering:R,onExited:F,backdropClassName:M,manager:L,...Z},z)=>{const[q,d]=l.useState({}),[k,D]=l.useState(!1),I=l.useRef(!1),K=l.useRef(!1),U=l.useRef(null),[H,X]=cn(),J=Kt(z,X),xe=Y(p),Te=Gt();e=W(e,"modal");const le=l.useMemo(()=>({onHide:xe}),[xe]);function ee(){return L||Rn({isRTL:Te})}function ge(j){if(!Fe)return;const oe=ee().getScrollbarWidth()>0,We=j.scrollHeight>it(j).documentElement.clientHeight;d({paddingRight:oe&&!We?Qe():void 0,paddingLeft:!oe&&We?Qe():void 0})}const te=Y(()=>{H&&ge(H.dialog)});ht(()=>{He(window,"resize",te),U.current==null||U.current()});const ce=()=>{I.current=!0},ne=j=>{I.current&&H&&j.target===H.dialog&&(K.current=!0),I.current=!1},S=()=>{D(!0),U.current=Yt(H.dialog,()=>{D(!1)})},ye=j=>{j.target===j.currentTarget&&S()},de=j=>{if(y==="static"){ye(j);return}if(K.current||j.target!==j.currentTarget){K.current=!1;return}p==null||p()},Tt=j=>{b?x==null||x(j):(j.preventDefault(),y==="static"&&S())},Mt=(j,oe)=>{j&&ge(j),_==null||_(j,oe)},kt=j=>{U.current==null||U.current(),N==null||N(j)},At=(j,oe)=>{R==null||R(j,oe),Xt(window,"resize",te)},Ot=j=>{j&&(j.style.display=""),F==null||F(j),He(window,"resize",te)},Ft=l.useCallback(j=>o.jsx("div",{...j,className:B(`${e}-backdrop`,M,!v&&"show")}),[v,M,e]),Ie={...n,...q};Ie.display="block";const Pt=j=>o.jsx("div",{role:"dialog",...j,style:Ie,className:B(t,e,k&&`${e}-static`,!v&&"show"),onClick:y?de:void 0,onMouseUp:ne,"data-bs-theme":u,"aria-label":w,"aria-labelledby":h,"aria-describedby":g,children:o.jsx(c,{...Z,onMouseDown:ce,className:s,contentClassName:r,children:a})});return o.jsx(jt.Provider,{value:le,children:o.jsx(En,{show:E,ref:J,backdrop:y,container:T,keyboard:!0,autoFocus:A,enforceFocus:O,restoreFocus:$,restoreFocusOptions:C,onEscapeKeyDown:Tt,onShow:i,onHide:p,onEnter:Mt,onEntering:At,onEntered:f,onExit:kt,onExiting:m,onExited:Ot,manager:ee(),transition:v?Mn:void 0,backdropTransition:v?kn:void 0,renderBackdrop:Ft,renderDialog:Pt})})});Nt.displayName="Modal";const fe=Object.assign(Nt,{Body:vt,Header:Et,Title:Ct,Footer:wt,Dialog:Le,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),An={"category-selector":"_category-selector_1aq5o_1"},On={nc:"Norm-conserving",us:"Ultrasoft",paw:"PAW"},Fn=({categories:e,activeCategories:t,onCategorySelect:n})=>o.jsx("div",{className:An["category-selector"],children:e.map(s=>o.jsx(on.Check,{type:"checkbox",id:`category-${s}`,label:On[s]||s,checked:t.includes(s),onChange:r=>r.target.checked?n([...t,s]):n(t.filter(a=>a!==s))},s))}),Pn="_convergencePane_15g4i_1",Bn="_categorySelectorContainer_15g4i_1",$n="_convergencePlotContainer_15g4i_1",Dn="_plotTitle_15g4i_1",Ln="_convergencePlotDetailsContainer_15g4i_1",he={convergencePane:Pn,categorySelectorContainer:Bn,convergencePlotContainer:$n,plotTitle:Dn,convergencePlotDetailsContainer:Ln},Un="_convergencePlot_x5r81_1",In={convergencePlot:Un};var _t={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},et=G.createContext&&G.createContext(_t),Wn=["attr","size","title"];function zn(e,t){if(e==null)return{};var n=Hn(e,t),s,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function Hn(e,t){if(e==null)return{};var n={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;n[s]=e[s]}return n}function Ne(){return Ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ne.apply(this,arguments)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tt(Object(n),!0).forEach(function(s){Vn(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Vn(e,t,n){return t=qn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e){var t=Kn(e,"string");return typeof t=="symbol"?t:t+""}function Kn(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rt(e){return e&&e.map((t,n)=>G.createElement(t.tag,_e({key:n},t.attr),Rt(t.child)))}function Gn(e){return t=>G.createElement(Xn,Ne({attr:_e({},e.attr)},t),Rt(e.child))}function Xn(e){var t=n=>{var{attr:s,size:r,title:a}=e,c=zn(e,Wn),u=r||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),G.createElement("svg",Ne({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,c,{className:h,style:_e(_e({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),a&&G.createElement("title",null,a),e.children)};return et!==void 0?G.createElement(et.Consumer,null,n=>t(n)):t(_t)}function Yn(e){return Gn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"},child:[]},{tag:"path",attr:{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"},child:[]}]})(e)}const Qn="_modalBody_f8cvt_1",Zn="_content_f8cvt_5",Jn="_pre_f8cvt_12",eo="_loadContainer_f8cvt_20",to="_hint_f8cvt_30",no="_message_f8cvt_34",oo="_filename_f8cvt_1",so="_downloadUpfText_f8cvt_1",ro="_downloadUpfButton_f8cvt_1",V={modalBody:Qn,content:Zn,pre:Jn,loadContainer:eo,hint:to,message:no,filename:oo,downloadUpfText:so,downloadUpfButton:ro},ao=({show:e,element:t,pseudoName:n,Z:s,onHide:r})=>{const{getUpfUuid:a,getPseudoFilename:c}=l.useContext(ct),[u,h]=l.useState(""),[g,w]=l.useState(""),[E,v]=l.useState(!1),[y,b]=l.useState(!1),[x,i]=l.useState(null),p=!!Qt,T=l.useMemo(()=>!t||!n||s===void 0?"":a(t,n,s),[t,n,s,a]),A=l.useMemo(()=>!t||!n||s===void 0?"":c(t,n,s),[t,n,s,c]);l.useEffect(()=>{e&&(i(null),h(""),v(!1),b(!1),w(A||""))},[e,t,n,s,A]);const O=async()=>{if(i(null),!p){i("UPF viewer is unavailable (VITE_API_URL is not set)");return}if(!n||s===void 0){i("No pseudopotential selected");return}if(!T){i("No UPF UUID found for this pseudopotential");return}v(!0);try{const{filename:f,content:N}=await qe.fetchUpfFile(T);w(m=>m||f),h(N)}catch(f){f instanceof Error&&i(f.message||"Failed to load UPF file")}finally{v(!1)}},$=async()=>{if(i(null),!p){i("UPF download is unavailable (VITE_API_URL is not set)");return}if(!T){i("No UPF UUID found for this pseudopotential");return}b(!0);try{const{filename:f,blob:N}=await qe.fetchUpfBlob(T),m=URL.createObjectURL(N),_=document.createElement("a");_.href=m;const R=`${t}-${n||"pseudo"}${s!==void 0?`-Z${s}`:""}.upf`;_.download=g||f||R,document.body.appendChild(_),_.click(),_.remove(),URL.revokeObjectURL(m)}catch(f){f instanceof Error&&i((f==null?void 0:f.message)||"Failed to download UPF file")}finally{b(!1)}},C=!p||!T;return o.jsxs(fe,{show:e,onHide:r,size:"xl",centered:!0,scrollable:!0,children:[o.jsx(fe.Header,{closeButton:!0,children:o.jsxs(fe.Title,{children:[t," (Z",o.jsx("sub",{children:"val"})," = ",s,") ",n]})}),o.jsx(fe.Body,{className:V.modalBody,children:x?o.jsx("div",{className:V.message,children:x}):E?o.jsx(dt,{}):u?o.jsx("div",{className:V.content,children:o.jsx("pre",{className:V.pre,children:u})}):p?T?o.jsxs("div",{className:V.loadContainer,children:[o.jsx(Ve,{variant:"primary",onClick:O,children:"Load UPF content"}),o.jsx("div",{className:V.hint,children:"May take some time"})]}):o.jsx("div",{className:V.message,children:"No UPF UUID found for this pseudopotential."}):o.jsx("div",{className:V.message,children:"Backend not configured. UPF download/viewing is unavailable."})}),o.jsxs(fe.Footer,{className:"justify-content-start",children:[o.jsxs(Ve,{id:V.downloadUpfButton,variant:"primary",onClick:$,disabled:C||y,children:[o.jsx("span",{id:V.downloadUpfText,children:"Download UPF file"}),y?o.jsx("div",{className:"spinner-border spinner-border-sm text-light",role:"status",children:o.jsx("span",{className:"visually-hidden",children:"Loading..."})}):o.jsx(Yn,{})]}),o.jsx("span",{id:V.filename,children:g})]})]})},nt=1.2,ot=1.3,st=.13,St=6,pe=1,ae=10,io=40,lo=80,je=1.6,we=8,co=120,Re={l:180,r:180,t:40,b:80},uo=10,fo=80,P=25,ie=205,Ue=100,ho=new Set(["O","Fe","Mn","Hf","Co","Ni","Cr"]),po=.2,mo=2,xo=1,go=["δω","δV<sub>press</sub>","δE<sub>coh</sub>","δν"],yo=["circle","triangle-down","star","square"],bo=["solid","dash","dot","solid"],Ee={phononFrequencies:{label:"δω",symbol:"circle",dash:"solid"},pressure:{label:"δV<sub>press</sub>",symbol:"triangle-down",dash:"dash"},cohesiveEnergy:{label:"δE<sub>coh</sub>",symbol:"star",dash:"dot"},eos:{label:"δν",symbol:"square",dash:"solid"}},vo=(e,t,n,s,r)=>{const a=we/4,c=s.map((y,b)=>b*we),u=s.length*co+(io+lo),h=ho.has(e)?18:8,g=[],w=[],E=[];s.forEach((y,b)=>{var z,q;const x=((z=r[y.name])==null?void 0:z.color)||"black",i=b*we,{quantities:p}=y;let T=[],A=[],O=[],$=[],C=[],f=[],N=[],m;if(g.push({x:[-1e3,1e3],y:[i+a,i+a],type:"scatter",mode:"lines",text:f.map(d=>d.toFixed(2)),showlegend:!1,line:{color:x,width:pe,dash:"dashdot"},hoverinfo:"skip"}),g.push({x:[-1e3,1e3],y:[i-a,i-a],type:"scatter",mode:"lines",text:N.map(d=>d.toFixed(2)),showlegend:!1,line:{color:x,width:pe,dash:"dashdot"},hoverinfo:"skip"}),g.push({x:[-1e3,1e3],y:[i+a*.5,i+a*.5],type:"scatter",mode:"lines",text:f.map(d=>d.toFixed(2)),showlegend:!1,line:{color:"lightgray",width:pe,dash:"dot"},hoverinfo:"skip"}),p.phononFrequencies){T=p.phononFrequencies.values,m=Ce(Ee.phononFrequencies,x),m.x=p.phononFrequencies.cutoffs,m.y=T.map(k=>k*2/mo+i),A=p.phononFrequencies.error,m.error_y={type:"data",array:A,arrayminus:T.map(()=>0),visible:!0,color:x},g.push(m);const d=p.phononFrequencies.ref.toFixed(2);w.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i-.6,text:`ω<sub>max</sub> = ${d} cm<sup>-1</sup>`,showarrow:!1,align:"left",font:{size:ae}})}if(p.pressure&&(m=Ce(Ee.pressure,x),O=p.pressure.values,m.x=p.pressure.cutoffs,m.y=O.map(d=>d*2/xo+i),g.push(m)),p.cohesiveEnergy){$=p.cohesiveEnergy.values,m=Ce(Ee.cohesiveEnergy,x),m.x=p.cohesiveEnergy.cutoffs,m.y=$.map(k=>k+i),g.push(m);const d=p.cohesiveEnergy.ref.toFixed(2);w.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i+.6,text:`E<sub>coh</sub> = ${d} <i>meV/atom</i>`,align:"left",showarrow:!1,font:{size:ae}})}if(p.eos&&(C=p.eos.values,m=Ce(Ee.eos,x),m.x=p.eos.cutoffs,m.y=C.map(d=>d*2/po+i),g.push(m)),p.bands){const d=p.bands.cutoffs;f=p.bands.etaC,N=p.bands.maxDiffC,g.push({x:d,y:f.map(()=>i+nt*a),type:"scatter",mode:"text",text:f.map(k=>k>=100?k.toExponential(0).toString().replace("e+","e"):k.toFixed(2)),showlegend:!1,textfont:{size:ae},hoverinfo:"skip"}),w.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i-ot*a+st,text:"max <i>η</i><sub>10</sub> [meV]",showarrow:!1,align:"left",font:{size:ae}}),g.push({x:d,y:N.map(()=>i-ot*a),type:"scatter",mode:"text",text:N.map(k=>k>=100?k.toExponential(0).toString().replace("e+","e"):k.toFixed(2)),showlegend:!1,textfont:{size:ae},hoverinfo:"skip"}),w.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i+nt*a+st,text:"<i>η</i><sub>10</sub> [meV]",showarrow:!1,align:"left",font:{size:ae}})}E.push({type:"line",x0:-1e3,x1:1e3,y0:i,y1:i,opacity:.25,line:{width:.5}});const _=((q=y.quantities.bands)==null?void 0:q.cutoffs)||[],R=[_],F=["E<sub>wfc</sub> = %{customdata[0]} Ry"];let M=1;if(T.length){R.push(T);let d=`<br />δω = %{customdata[${M}]:.3f}`;M+=1,A.length&&(R.push(A),d+=` &plusmn; %{customdata[${M}]:.1e}`,M+=1),d+="%",F.push(d)}O.length&&(R.push(O),F.push(`<br />δV<sub>press</sub> = %{customdata[${M}]:.3f}%`),M+=1),$.length&&(R.push($),F.push(`<br />δE<sub>coh</sub> = %{customdata[${M}]:.3f} meV`),M+=1),C.length&&(R.push(C),F.push(`<br />δv = %{customdata[${M}]:.3f}`),M+=1),f.length&&(R.push(f),F.push(`<br />η<sub>10</sub> = %{customdata[${M}]:.3f} meV`),M+=1),N.length&&(R.push(N),F.push(`<br />max η<sub>10</sub> = %{customdata[${M}]:.3f} meV`),M+=1),g.push({x:_,y:new Array(_.length).fill(i),mode:"markers",marker:{size:24,opacity:0,line:{width:0}},showlegend:!1,customdata:_.map((d,k)=>R.map(D=>D[k])),hoverlabel:{bgcolor:"rgb(225, 225, 225)",bordercolor:"black"},hovertemplate:`<b>${y.name}</b><br />`+F.join("")+"<extra></extra>"});const{metadata:L}=y.quantities;let Z="not all EOS valid";if(L){const d=L.avgNu.toFixed(2),k=L.maxNu.toFixed(2),D=dn(L.maxConf),I=L.avgNuWoMax.toFixed(2);Z=`ν<sub>avg</sub> = ${d}<br />ν<sub>max</sub> = ${k} (${D})<br />ν<sub>avg</sub> (w/o ${D}) = ${I}`}w.push({xref:"paper",x:0,xanchor:"left",xshift:-150,y:i,text:`<span style="color:${x}"><b>${y.name}</b></span><br />Z<sub>val</sub> = ${y.Z}<br />${Z}`,showarrow:!1,align:"left",font:{size:10},captureevents:!0}),t.forEach(d=>{var k;if(((k=n[d])==null?void 0:k.library)===y.name&&n[d].Z===y.Z){const D=n[d].cutoff_wfc;if(d==="efficiency")E.push({type:"rect",x0:D-je*.5,x1:D+je*.5,y0:c[b]-a,y1:c[b]+a,fillcolor:"rgba(0, 0, 0, 0.25)",line:{width:1},opacity:.5});else{const I=D-je,K=D+je,U=c[b]-a*.5,H=c[b]+a*.5,X=(I+K)*.5,J=(U+H)*.5;E.push({type:"path",path:`M ${X} ${H} L ${K} ${J} L ${X} ${U} L ${I} ${J} Z`,fillcolor:"rgba(0, 0, 0, 0.5)",line:{width:1},opacity:.5})}}})}),go.forEach((y,b)=>{g.push({name:y,type:"scatter",mode:"lines+markers",x:[NaN],y:[NaN],line:{color:"black",width:pe,dash:bo[b]},marker:{size:St,symbol:yo[b]},showlegend:!0,legendgroup:y,hoverinfo:"skip"})});const v={xaxis:{title:{text:`Wavefunction cutoff [Ry]<br><br>Charge density cutoff [Ry] = ${h} x Ewfc (PAW/US) | 4 x Ewfc (NC); q-point = [0.5, 0.5, 0.5]`},zeroline:!1,showgrid:!1,showline:!0,mirror:!0,tickvals:[...Array.from({length:18},(y,b)=>b*10+30)],ticks:"inside",ticklen:5,range:[P,P+Ue]},yaxis:{side:"left",zeroline:!1,showgrid:!1,showline:!0,mirror:!0,ticks:"inside",ticklen:5,tickmode:"array",tickvals:c,ticktext:c.map(()=>"0"),range:[-5,(s.length-1)*we+5],fixedrange:!0},showlegend:!0,legend:{orientation:"h",xref:"paper",yref:"container",x:.5,y:1,xanchor:"center",yanchor:"top",font:{size:12,color:"black"}},annotations:w,shapes:E,hovermode:"closest",dragmode:"pan",autosize:!0,height:u,margin:Re};return{data:g,layout:v}},Ce=(e,t)=>({name:e.label,type:"scatter",mode:"lines+markers",line:{color:t,width:pe,dash:e.dash},marker:{size:St,symbol:e.symbol},showlegend:!1,legendgroup:e.label,hoverinfo:"skip"}),jo=e=>{if(!e||typeof e!="object")return null;const t=e,n=t["xaxis.range"];if(Array.isArray(n)&&n.length>=2){const a=Number(n[0]),c=Number(n[1]);if(Number.isFinite(a)&&Number.isFinite(c))return{x0:a,x1:c}}const s=Number(t["xaxis.range[0]"]),r=Number(t["xaxis.range[1]"]);return Number.isFinite(s)&&Number.isFinite(r)?{x0:s,x1:r}:null},wo=e=>!e||typeof e!="object"?!1:e["xaxis.autorange"]===!0,Eo=e=>{if(!e)return 0;const n=e.getBoundingClientRect().width-Re.l-Re.r;return Math.max(0,n)},rt=(e,t)=>{const n=ie-P,s=Math.min(Math.max(t,1),n);let r=e.min,a=e.max;if(!Number.isFinite(r)||!Number.isFinite(a))r=P,a=P+s;else if(Math.abs(a-r-s)>1e-6){const c=(r+a)*.5;r=c-s*.5,a=c+s*.5}return r<P?(r=P,a=P+s):a>ie&&(a=ie,r=ie-s),{min:r,max:a}},Co=e=>{if(!e)return Ue;const t=e*uo/fo,n=ie-P;return Math.min(Math.max(t,30),n)},No=e=>{var r,a;const t=(a=(r=e.layout)==null?void 0:r.xaxis)==null?void 0:a.range;if(!t)return null;const n=t[0],s=t[1];return!Number.isFinite(n)||!Number.isFinite(s)?null:{min:n,max:s}},_o=e=>({...Re,t:e<35?70:40}),Ro=e=>{if(typeof window<"u"&&typeof window.requestAnimationFrame=="function"){window.requestAnimationFrame(e);return}setTimeout(e,0)},So={responsive:!0,displayModeBar:!1,displaylogo:!1,scrollZoom:!1,showAxisDragHandles:!1},To=({element:e,activePseudos:t,pseudosMetadata:n})=>{const{libraries:s}=l.useContext(Zt),{elementsInfo:r}=l.useContext(ut),[a,c]=l.useState(!1),[u,h]=l.useState(""),[g,w]=l.useState(),E=l.useRef(null),v=l.useRef(Ue),y=l.useMemo(()=>Object.fromEntries(Object.entries(r).map(([b,x])=>[b,x[e]])),[r,e]);return l.useEffect(()=>{if(!t.length||!E.current)return;let b=!1,x=null,i=null,p=null;return(async()=>{var O,$,C;if(x=(await Jt(async()=>{const{default:f}=await import("./PlotlyLoader-CBQCb2O4.js");return{default:f}},__vite__mapDeps([0,1,2,3]))).default,b||!E.current)return;const{data:T,layout:A}=vo(e,s,y,t,n);i=await x.react(E.current,T,A,So),p=new ResizeObserver(async()=>{if(!x||!i)return;const f=Eo(E.current);v.current=Co(f),x.Plots.resize(i);const N=No(i)??{min:P,max:P+v.current},m=(N.min+N.max)*.5,_=v.current*.5,R=rt({min:m-_,max:m+_},v.current);await x.relayout(i,{margin:_o(v.current),"xaxis.range":[R.min,R.max]})}),p.observe(E.current),(O=i.removeAllListeners)==null||O.call(i,"plotly_relayout"),i.on("plotly_relayout",async f=>{if(!x||!i)return;if(wo(f)){await x.relayout(i,{"xaxis.range":[P,P+v.current]});return}const N=jo(f);if(!N){await x.relayout(i,{"xaxis.range":[P,P+v.current]});return}const m={min:N.x0,max:N.x1},_=m.max-m.min,R=v.current;if(m.min>=P&&m.max<=ie&&Number.isFinite(_)&&Math.abs(_-R)<1e-6)return;const F=rt(m,R);await x.relayout(i,{"xaxis.range":[F.min,F.max]})}),($=i.removeAllListeners)==null||$.call(i,"plotly_doubleclick"),i.on("plotly_doubleclick",()=>{!x||!i||Ro(()=>{x==null||x.relayout(i,{"xaxis.range":[P,P+v.current]})})}),(C=i.removeAllListeners)==null||C.call(i,"plotly_clickannotation"),i.on("plotly_clickannotation",async f=>{var L;const N=f&&typeof f=="object"&&"annotation"in f?(L=f.annotation)==null?void 0:L.text:void 0,m=typeof N=="string"?N:"",_=m.match(/<b>(.*?)<\/b>/),R=_==null?void 0:_[1];if(!R)return;const F=m.match(/Z<sub>val<\/sub>\s*=\s*(\d+)/),M=F?Number.parseInt(F[1],10):NaN;Number.isFinite(M)&&(h(R),w(M),c(!0))})})(),()=>{var T,A,O;b=!0,p==null||p.disconnect(),i&&((T=i.removeAllListeners)==null||T.call(i,"plotly_clickannotation"),(A=i.removeAllListeners)==null||A.call(i,"plotly_doubleclick"),(O=i.removeAllListeners)==null||O.call(i,"plotly_relayout"))}},[e,s,y,t,n]),o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:E,id:In.convergencePlot}),o.jsx(ao,{show:a,element:e,pseudoName:u,Z:g,onHide:()=>c(!1)})]})},Mo="_metadataTable_5ur8v_1",ko="_legendTable_5ur8v_1",at={metadataTable:Mo,legendTable:ko},Ao=()=>o.jsx(be,{children:o.jsxs(be.Item,{eventKey:"0",children:[o.jsx(be.Header,{children:"About the SSSP protocol convergence pattern plots"}),o.jsxs(be.Body,{children:[o.jsx("section",{children:o.jsxs("p",{children:["We report here the zone-boundary phonons, cohesive energy, pressure, and band structure versus the wavefunction cutoff for all the considered pseudopotential libraries. The colored horizontal dashed lines correspond to the thresholds of the SSSP efficiency criteria, whereas the gray dotted lines correspond to the precision criteria. The recommended ",o.jsx("b",{children:"efficiency (precision)"})," pseudopotential is marked with a ",o.jsx("b",{children:"rectangle (rhombus)"})," at the recommended cutoff."]})}),o.jsxs("section",{children:[o.jsx("h5",{children:"Categories"}),o.jsx("p",{children:"You can use the pseudopotential category checkboxes to filter the pseudopotentials shown in the plots."})]}),o.jsxs("section",{children:[o.jsx("h5",{children:"Metadata"}),o.jsx("p",{children:"We report on the left of the plot:"}),o.jsxs(Ke,{id:at.metadataTable,striped:!0,bordered:!0,responsive:!0,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Quantity"}),o.jsx("th",{children:"Description"})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsxs("td",{children:["Z",o.jsx("sub",{children:"val"})]}),o.jsx("td",{children:"Number of valence electrons of the pseudopotential"})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:["ν",o.jsx("sub",{children:"avg"})]}),o.jsxs("td",{children:["Average of ",o.jsx("b",{children:"ν"})," across 10 configurations"]})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:["ν",o.jsx("sub",{children:"max"})," (#)"]}),o.jsxs("td",{children:["Maximum ",o.jsx("b",{children:"ν"})," value across 10 configurations and the corresponding configuration (#)"]})]}),o.jsxs("tr",{children:[o.jsxs("td",{children:["ν",o.jsx("sub",{children:"avg"})," (w/o #)"]}),o.jsxs("td",{children:["Average of ",o.jsx("b",{children:"ν"}),", excluding the configuration with the largest discrepancy (#)"]})]})]})]}),o.jsx("p",{children:o.jsx("em",{children:"Click on the metadata to open a UPF viewer to view/download the UPF file for the pseudopotential (requires an API backend)."})})]}),o.jsxs("section",{children:[o.jsx("h5",{children:"Legend"}),o.jsx("p",{children:"The legend reflects the corresponding quantity/discrepancy across all pseudopotentials:"}),o.jsxs(Ke,{id:at.legendTable,striped:!0,bordered:!0,responsive:!0,children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Marker"}),o.jsx("th",{children:"Quantity"}),o.jsx("th",{children:"Units"}),o.jsx("th",{children:"Description"})]})}),o.jsxs("tbody",{children:[o.jsxs("tr",{children:[o.jsx("td",{children:"●"}),o.jsx("td",{children:"δω"}),o.jsx("td",{children:"%"}),o.jsx("td",{children:"Discrepancy in all phonon frequencies at the zone boundary"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"▼"}),o.jsxs("td",{children:["δV",o.jsx("sub",{children:"press"})]}),o.jsx("td",{children:"%"}),o.jsx("td",{children:"Discrepancy in pressure"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"★"}),o.jsxs("td",{children:["δE",o.jsx("sub",{children:"coh"})]}),o.jsx("td",{children:"meV"}),o.jsx("td",{children:"Discrepancy in cohesive energy"})]}),o.jsxs("tr",{children:[o.jsx("td",{children:"■"}),o.jsx("td",{children:"δν"}),o.jsx("td",{children:"-"}),o.jsx("td",{children:"Discrepancy in equation of state"})]})]})]}),o.jsx("p",{children:o.jsx("em",{children:"Click once on a legend item to toggle its visibility. Double-click to exclude all other items."})})]}),o.jsxs("section",{children:[o.jsx("h5",{children:"Additional information"}),o.jsxs("p",{children:["See the ",o.jsx("b",{children:"About"})," tab of the"," ",o.jsx("a",{href:"https://acwf-verification.materialscloud.org/",target:"_blank",style:{textDecoration:"none"},children:"Verification of the precision of DFT implementations via AiiDA common workflows"})," ","app to learn more about how ",o.jsx("b",{children:"ν"})," is computed. All calculations are performed on the ground-state elemental solids unless stated otherwise (i.e. rare-earths and flourine). See"," ",o.jsx(en,{to:"/about",style:{textDecoration:"none"},children:"About SSSP"})," ","for more details."]})]})]})]})}),$o=()=>{const{element:e}=l.useContext(ut),{loadingMetadata:t,categories:n,pseudosMetadata:s,activeCategories:r,setActiveCategories:a}=l.useContext(ct),{loadingPlotData:c,convergenceData:u}=l.useContext(tn),h=l.useMemo(()=>{const v={};return Object.entries(s).forEach(([y,b])=>{r.includes(b.category)&&(v[y]=b)}),v},[r,s]),g=l.useMemo(()=>!u||!u.pseudos?[]:u.pseudos.filter(v=>h==null?void 0:h[v.name]).reverse(),[u,h]),w=t||c,E=Object.keys(u).length>0;return w?o.jsx(dt,{}):o.jsxs("div",{id:he.convergencePane,children:[o.jsx(nn,{title:`Verification Summary: ${e} ${u.conff?`(${u.conff})`:""}`}),E&&o.jsx("div",{id:he.categorySelectorContainer,children:o.jsx(Fn,{categories:n,activeCategories:r,onCategorySelect:a})}),o.jsx("div",{id:he.convergencePlotContainer,children:E?g.length?o.jsxs(o.Fragment,{children:[o.jsx("h4",{id:he.plotTitle,children:"Error w.r.t. ref. wavefunction cutoff"}),o.jsx(To,{element:e,activePseudos:g,pseudosMetadata:h})]}):o.jsx(Ge,{}):o.jsx(Ge,{})}),o.jsx("div",{id:he.convergencePlotDetailsContainer,children:o.jsx(Ao,{})})]})};export{$o as default};
