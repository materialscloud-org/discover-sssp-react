const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlotlyLoader-oFGL3Mw-.js","assets/index-CrTnWr0M.js","assets/index-CESS_hL7.css","assets/PlotlyLoader-CuCRB34y.css"])))=>i.map(i=>d[i]);
import{r as d,_ as j,j as s,P as w,a as v,R as M,C as _}from"./index-CrTnWr0M.js";const P={"chessboard-plot":"_chessboard-plot_14kug_1"},k={responsive:!0,displayModeBar:!1,scrollZoom:!1},g=({pseudos:l,values:u,title:f,colorMax:m,tileClickHandler:a})=>{const n=d.useRef(null);return d.useEffect(()=>{if(!n.current)return;let r=null,e=null,x=!1,o=null;return(async()=>{if(r=(await j(async()=>{const{default:t}=await import("./PlotlyLoader-oFGL3Mw-.js");return{default:t}},__vite__mapDeps([0,1,2,3]))).default,x||!n.current)return;const i=[{z:u,x:l,y:l,colorscale:"Inferno",type:"heatmap"},{yaxis:"y2",mode:"none",showlegend:!1}],c={xaxis:{side:"top",title:{text:""},fixedrange:!0,tickangle:-90},yaxis:{autorange:"reversed",title:{text:""},fixedrange:!0},yaxis2:{overlaying:"y",side:"right",title:{text:`Max ${f}`,standoff:100},showticklabels:!1,fixedrange:!0},hoverlabel:{namelength:0},annotations:u.map((t,p)=>t.map((y,b)=>({x:l[b],y:l[p],text:y.toFixed(1),showarrow:!1,font:{color:y>m/2?"white":"black",size:10}}))).flat(),margin:{t:140,r:60,b:40,l:140},paper_bgcolor:"rgba(0,0,0,0)",plot_bgcolor:"rgba(0,0,0,0)"};e=await r.react(n.current,i,c,k),e.on("plotly_click",t=>{const{x:p,y}=t.points[0];a([y,p])});const h=t=>{if(!t)return;const p={width:t.offsetWidth,height:t.offsetWidth};r.relayout(t,p)};return o=()=>h(e),window.addEventListener("resize",o),h(e),()=>{var t;e&&((t=e.removeAllListeners)==null||t.call(e,"plotly_click"))}})(),()=>{var i;if(x=!0,o&&window.removeEventListener("resize",o),r&&e)try{(i=e.removeAllListeners)==null||i.call(e,"plotly_click"),r.purge(e)}catch(c){console.error("Error purging BandsChessboardPlot:",c)}}},[l,u,f,m]),s.jsx("div",{ref:n,className:P["chessboard-plot"]})},C={"chessboard-plots":"_chessboard-plots_sjmsm_1"},R=({goToBands:l})=>{const{loadingMetadata:u,pseudosMetadata:f,setActivePseudos:m}=d.useContext(w),a=d.useMemo(()=>Object.keys(f),[f]),n=o=>{const i=[];for(let c=0;c<o;c++){const h=[];for(let t=0;t<o;t++)h.push(Math.random()*100);i.push(h)}return i},r=d.useMemo(()=>n(a.length),[a]),e=d.useMemo(()=>n(a.length),[a]),x=o=>{m(o),l("Band Structure")};return u?s.jsx(v,{}):s.jsxs("div",{id:"chessboard-page",children:[s.jsx("div",{style:{fontWeight:"bold",textAlign:"center"},children:"Disclaimer: The data shown does not reflect real data and is for demonstration purposes only."}),s.jsx("div",{id:C["chessboard-plots"],children:s.jsxs(M,{className:"justify-content-center g-0",children:[s.jsx(_,{xxl:"6",children:s.jsx(g,{pseudos:a,values:r,title:"V",colorMax:Math.max(...r.flat()),tileClickHandler:x})}),s.jsx(_,{xxl:"6",children:s.jsx(g,{pseudos:a,values:e,title:"10",colorMax:Math.max(...e.flat()),tileClickHandler:x})})]})})]})};export{R as default};
