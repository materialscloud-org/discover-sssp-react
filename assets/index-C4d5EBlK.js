const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/main-3XBaHbCy.js","assets/index-DXobNeao.js","assets/index-CESS_hL7.css"])))=>i.map(i=>d[i]);
import{r,u as C,j as e,a as E,B as N,P as w,S as L,_ as R,i as F,l as _,C as p}from"./index-DXobNeao.js";import{F as f,N as V}from"./NoDataMessage-Ca2J0LV9.js";const D=r.forwardRef(({bsPrefix:s,fluid:o=!1,as:d="div",className:i,...t},n)=>{const c=C(s,"container"),g=typeof o=="string"?`-${o}`:"-fluid";return e.jsx(d,{ref:n,...t,className:E(i,o?`${c}${g}`:c)})});D.displayName="Container";const B=({which:s,pseudos:o,value:d,onSelect:i})=>e.jsxs("div",{id:`${s}-pseudo-selector`,children:[e.jsxs(f.Label,{htmlFor:`${s}-select`,children:[N(s),":"]}),e.jsx(f.Select,{id:`${s}-select`,value:d,onChange:t=>i(t.target.value),children:o.map(t=>e.jsx("option",{value:t,children:t},t))})]}),m={"pseudo-selectors-form":"_pseudo-selectors-form_1b4c1_1","pseudo-shift-range":"_pseudo-shift-range_1b4c1_1","bands-plot-wrapper":"_bands-plot-wrapper_1b4c1_1","bands-plot":"_bands-plot_1b4c1_1","bands-note":"_bands-note_1b4c1_1"},k=({element:s})=>{const[o,d]=r.useState(!0),{loadingMetadata:i,pseudosMetadata:t,activePseudos:n,setActivePseudos:c}=r.useContext(w),[g,y]=r.useState([]),[h,S]=r.useState(),[j,b]=r.useState(0),v=r.useRef(null);return r.useEffect(()=>{s&&L.fetchBandsData().then(a=>{const u=a[s];S(u);const l=u&&Object.keys(u);y(l);const x=l?l[0]:"";c(n.length?n:[x,x])}).catch(a=>{console.error("Error fetching bands data:",a),S(void 0),y([]),c([])}).finally(()=>{d(!1)})},[s]),r.useEffect(()=>b(0),[n]),r.useEffect(()=>{if(h&&v.current){const a=n.map((l,x)=>{var P;return{bandsData:x==0?h[l]:$(h[l],j),traceFormat:{line:{color:x==0?"black":((P=t[l])==null?void 0:P.color)||"red"}}}});let u=null;(async()=>(u=(await R(async()=>{const{BandsVisualiser:l}=await import("./main-3XBaHbCy.js");return{BandsVisualiser:l}},__vite__mapDeps([0,1,2]))).BandsVisualiser,u(v.current,{bandsDataArray:a,settings:{showlegend:!1,yaxis:{range:[-10,25]}}})))()}},[n,h,t,j]),o||i?e.jsx(F,{}):h?e.jsxs(D,{id:"bands-plots",children:[e.jsx("div",{style:{fontWeight:"bold",textAlign:"center",marginBottom:"1rem"},children:"Disclaimer: The data shown does not reflect real data and is for demonstration purposes only."}),e.jsxs(_,{children:[e.jsx(p,{lg:"3",children:e.jsxs("div",{id:m["pseudo-selectors-form"],children:[e.jsxs(_,{className:"gap-3",children:[e.jsx(p,{sm:"6",lg:"12",children:e.jsx(B,{which:"reference",pseudos:g,value:n[0],onSelect:a=>c([a,n[1]])})}),e.jsx(p,{children:e.jsx(B,{which:"compared",pseudos:g,value:n[1],onSelect:a=>c([n[0],a])})})]}),e.jsxs(f.Group,{children:[e.jsx(f.Label,{htmlFor:"pseudo-shift-range",children:"Avg. band difference (eV):"}),e.jsxs(_,{style:{alignItems:"center"},children:[e.jsx(p,{xs:"8",sm:"9",md:"10",lg:"6",xl:"7",xxl:"8",children:e.jsx(f.Range,{id:m["pseudo-shift-range"],value:j,min:-5,max:5,step:.001,onChange:a=>b(Number(a.target.value))})}),e.jsx(p,{children:e.jsx(f.Control,{type:"number",value:j,min:-5,max:5,step:.001,onChange:a=>b(Number(a.target.value))})})]})]})]})}),e.jsx(p,{lg:"auto",className:"ms-lg-5",children:e.jsx("div",{id:m["bands-plot-wrapper"],children:e.jsx("div",{ref:v,id:m["bands-plot"]})})})]}),e.jsx("div",{id:m["bands-note"],children:"Electronic band structure along high-symmetry path. The reference energy (0 eV) corresponds to the Fermi level."})]}):e.jsx(V,{})};function $(s,o){return{...s,paths:s.paths.map(d=>({...d,values:d.values.map(i=>i.map(t=>t+o))}))}}export{k as default};
