const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PlotlyLoader-Bjn-ZQjb.js","assets/index-C-79EgsX.js","assets/index-DlJGZWaF.css","assets/PlotlyLoader-CuCRB34y.css"])))=>i.map(i=>d[i]);
import{R as G,r as l,c as ue,j as s,T as Lt,t as Dt,a as B,s as Z,b as Ut,E as It,d as Wt,e as zt,f as Ht,u as W,g as Vt,P as Te,h as Pe,o as ct,i as qt,k as dt,l as Kt,m as Gt,n as Q,p as He,q as Ve,K as Xt,v as oe,w as Yt,x as Qt,y as Zt,z as Jt,A as qe,F as ut,B as en,C as tn,D as ft,L as ht,G as Ke,H as nn,S as Ge,I as sn,J as pt,_ as on,M as Xe,N as rn,O as an}from"./index-C-79EgsX.js";import{F as ln,N as Ye}from"./NoDataMessage-zY5T8KSZ.js";import{u as cn,a as mt,i as dn,r as Qe,h as un,f as fn}from"./utils-KgfbqTgf.js";const hn={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function pn(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,o=t[n],r=hn[e];return o+parseInt(Z(t,r[0]),10)+parseInt(Z(t,r[1]),10)}const mn={[Ht]:"collapse",[zt]:"collapsing",[Wt]:"collapsing",[It]:"collapse show"},xn=G.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:o,onExiting:r,className:a,children:c,dimension:g="height",in:f=!1,timeout:b=300,mountOnEnter:v=!1,unmountOnExit:E=!1,appear:j=!1,getDimensionValue:y=pn,...x},h)=>{const i=typeof g=="function"?g():g,p=l.useMemo(()=>ue(_=>{_.style[i]="0"},e),[i,e]),T=l.useMemo(()=>ue(_=>{const u=`scroll${i[0].toUpperCase()}${i.slice(1)}`;_.style[i]=`${_[u]}px`},t),[i,t]),O=l.useMemo(()=>ue(_=>{_.style[i]=null},n),[i,n]),F=l.useMemo(()=>ue(_=>{_.style[i]=`${y(i,_)}px`,Ut(_)},o),[o,y,i]),$=l.useMemo(()=>ue(_=>{_.style[i]=null},r),[i,r]);return s.jsx(Lt,{ref:h,addEndListener:Dt,...x,"aria-expanded":x.role?f:null,onEnter:p,onEntering:T,onEntered:O,onExit:F,onExiting:$,childRef:c.ref,in:f,timeout:b,mountOnEnter:v,unmountOnExit:E,appear:j,children:(_,u)=>G.cloneElement(c,{...u,className:B(a,c.props.className,mn[_],i==="width"&&"collapse-horizontal")})})});function xt(e,t){return Array.isArray(e)?e.includes(t):e===t}const pe=l.createContext({});pe.displayName="AccordionContext";const Be=l.forwardRef(({as:e="div",bsPrefix:t,className:n,children:o,eventKey:r,...a},c)=>{const{activeEventKey:g}=l.useContext(pe);return t=W(t,"accordion-collapse"),s.jsx(xn,{ref:c,in:xt(g,r),...a,className:B(n,t),children:s.jsx(e,{children:l.Children.only(o)})})});Be.displayName="AccordionCollapse";const Se=l.createContext({eventKey:""});Se.displayName="AccordionItemContext";const gt=l.forwardRef(({as:e="div",bsPrefix:t,className:n,onEnter:o,onEntering:r,onEntered:a,onExit:c,onExiting:g,onExited:f,...b},v)=>{t=W(t,"accordion-body");const{eventKey:E}=l.useContext(Se);return s.jsx(Be,{eventKey:E,onEnter:o,onEntering:r,onEntered:a,onExit:c,onExiting:g,onExited:f,children:s.jsx(e,{ref:v,...b,className:B(n,t)})})});gt.displayName="AccordionBody";function gn(e,t){const{activeEventKey:n,onSelect:o,alwaysOpen:r}=l.useContext(pe);return a=>{let c=e===n?null:e;r&&(Array.isArray(n)?n.includes(e)?c=n.filter(g=>g!==e):c=[...n,e]:c=[e]),o==null||o(c,a),t==null||t(a)}}const $e=l.forwardRef(({as:e="button",bsPrefix:t,className:n,onClick:o,...r},a)=>{t=W(t,"accordion-button");const{eventKey:c}=l.useContext(Se),g=gn(c,o),{activeEventKey:f}=l.useContext(pe);return e==="button"&&(r.type="button"),s.jsx(e,{ref:a,onClick:g,...r,"aria-expanded":Array.isArray(f)?f.includes(c):c===f,className:B(n,t,!xt(f,c)&&"collapsed")})});$e.displayName="AccordionButton";const yt=l.forwardRef(({as:e="h2",bsPrefix:t,className:n,children:o,onClick:r,...a},c)=>(t=W(t,"accordion-header"),s.jsx(e,{ref:c,...a,className:B(n,t),children:s.jsx($e,{onClick:r,children:o})})));yt.displayName="AccordionHeader";const bt=l.forwardRef(({as:e="div",bsPrefix:t,className:n,eventKey:o,...r},a)=>{t=W(t,"accordion-item");const c=l.useMemo(()=>({eventKey:o}),[o]);return s.jsx(Se.Provider,{value:c,children:s.jsx(e,{ref:a,...r,className:B(n,t)})})});bt.displayName="AccordionItem";const vt=l.forwardRef((e,t)=>{const{as:n="div",activeKey:o,bsPrefix:r,className:a,onSelect:c,flush:g,alwaysOpen:f,...b}=Vt(e,{activeKey:"onSelect"}),v=W(r,"accordion"),E=l.useMemo(()=>({activeEventKey:o,onSelect:c,alwaysOpen:f}),[o,c,f]);return s.jsx(pe.Provider,{value:E,children:s.jsx(n,{ref:t,...b,className:B(a,v,g&&`${v}-flush`)})})});vt.displayName="Accordion";const ye=Object.assign(vt,{Button:$e,Collapse:Be,Item:bt,Header:yt,Body:gt}),yn={"aria-label":Te.string,onClick:Te.func,variant:Te.oneOf(["white"])},Le=l.forwardRef(({className:e,variant:t,"aria-label":n="Close",...o},r)=>s.jsx("button",{ref:r,type:"button",className:B("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...o}));Le.displayName="CloseButton";Le.propTypes=yn;var be;function Ze(e){if((!be&&be!==0||e)&&Pe){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),be=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return be}function Me(e){e===void 0&&(e=ct());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function bn(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const Je=qt("modal-open");class De{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return bn(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[o]:r.style[o]},t.scrollBarWidth&&(n[o]=`${parseInt(Z(r,o)||"0",10)+t.scrollBarWidth}px`),r.setAttribute(Je,""),Z(r,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(Je),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const vn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function jn(e,t){if(e==null)return{};var n={},o=Object.keys(e),r,a;for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}let Ae;function wn(e){return Ae||(Ae=new De({ownerDocument:e==null?void 0:e.document})),Ae}function En(e){const t=dt(),n=e||wn(t),o=l.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:l.useCallback(r=>{o.current.dialog=r},[]),setBackdropRef:l.useCallback(r=>{o.current.backdrop=r},[])})}const jt=l.forwardRef((e,t)=>{let{show:n=!1,role:o="dialog",className:r,style:a,children:c,backdrop:g=!0,keyboard:f=!0,onBackdropClick:b,onEscapeKeyDown:v,transition:E,runTransition:j,backdropTransition:y,runBackdropTransition:x,autoFocus:h=!0,enforceFocus:i=!0,restoreFocus:p=!0,restoreFocusOptions:T,renderDialog:O,renderBackdrop:F=k=>s.jsx("div",Object.assign({},k)),manager:$,container:_,onShow:u,onHide:C=()=>{},onExit:m,onExited:N,onExiting:S,onEnter:P,onEntering:M,onEntered:L}=e,J=jn(e,vn);const z=dt(),q=cn(_),d=En($),R=Kt(),U=Gt(n),[I,K]=l.useState(!n),D=l.useRef(null);l.useImperativeHandle(t,()=>d,[d]),Pe&&!U&&n&&(D.current=Me(z==null?void 0:z.document)),n&&I&&K(!1);const H=Q(()=>{if(d.add(),ee.current=He(document,"keydown",ke),le.current=He(document,"focus",()=>setTimeout(Re),!0),u&&u(),h){var k,ge;const de=Me((k=(ge=d.dialog)==null?void 0:ge.ownerDocument)!=null?k:z==null?void 0:z.document);d.dialog&&de&&!Ve(d.dialog,de)&&(D.current=de,d.dialog.focus())}}),X=Q(()=>{if(d.remove(),ee.current==null||ee.current(),le.current==null||le.current(),p){var k;(k=D.current)==null||k.focus==null||k.focus(T),D.current=null}});l.useEffect(()=>{!n||!q||H()},[n,q,H]),l.useEffect(()=>{I&&X()},[I,X]),mt(()=>{X()});const Re=Q(()=>{if(!i||!R()||!d.isTopModal())return;const k=Me(z==null?void 0:z.document);d.dialog&&k&&!Ve(d.dialog,k)&&d.dialog.focus()}),me=Q(k=>{k.target===k.currentTarget&&(b==null||b(k),g===!0&&C())}),ke=Q(k=>{f&&dn(k)&&d.isTopModal()&&(v==null||v(k),k.defaultPrevented||C())}),le=l.useRef(),ee=l.useRef(),xe=(...k)=>{K(!0),N==null||N(...k)};if(!q)return null;const te=Object.assign({role:o,ref:d.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},J,{style:a,className:r,tabIndex:-1});let ce=O?O(te):s.jsx("div",Object.assign({},te,{children:l.cloneElement(c,{role:"document"})}));ce=Qe(E,j,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:m,onExiting:S,onExited:xe,onEnter:P,onEntering:M,onEntered:L,children:ce});let ne=null;return g&&(ne=F({ref:d.setBackdropRef,onClick:me}),ne=Qe(y,x,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:ne})),s.jsx(s.Fragment,{children:Xt.createPortal(s.jsxs(s.Fragment,{children:[ne,ce]}),q)})});jt.displayName="Modal";const Cn=Object.assign(jt,{Manager:De});function _n(e,t){e.classList?e.classList.add(t):un(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function et(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Nn(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=et(e.className,t):e.setAttribute("class",et(e.className&&e.className.baseVal||"",t))}const re={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Sn extends De{adjustAndStore(t,n,o){const r=n.style[t];n.dataset[t]=r,Z(n,{[t]:`${parseFloat(Z(n,t))+o}px`})}restore(t,n){const o=n.dataset[t];o!==void 0&&(delete n.dataset[t],Z(n,{[t]:o}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(_n(n,"modal-open"),!t.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";oe(n,re.FIXED_CONTENT).forEach(a=>this.adjustAndStore(o,a,t.scrollBarWidth)),oe(n,re.STICKY_CONTENT).forEach(a=>this.adjustAndStore(r,a,-t.scrollBarWidth)),oe(n,re.NAVBAR_TOGGLER).forEach(a=>this.adjustAndStore(r,a,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();Nn(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",r=this.isRTL?"marginLeft":"marginRight";oe(n,re.FIXED_CONTENT).forEach(a=>this.restore(o,a)),oe(n,re.STICKY_CONTENT).forEach(a=>this.restore(r,a)),oe(n,re.NAVBAR_TOGGLER).forEach(a=>this.restore(r,a))}}let Oe;function Rn(e){return Oe||(Oe=new Sn(e)),Oe}const wt=l.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},r)=>(t=W(t,"modal-body"),s.jsx(n,{ref:r,className:B(e,t),...o})));wt.displayName="ModalBody";const Et=l.createContext({onHide(){}}),Ue=l.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:o,size:r,fullscreen:a,children:c,scrollable:g,...f},b)=>{e=W(e,"modal");const v=`${e}-dialog`,E=typeof a=="string"?`${e}-fullscreen-${a}`:`${e}-fullscreen`;return s.jsx("div",{...f,ref:b,className:B(v,t,r&&`${e}-${r}`,o&&`${v}-centered`,g&&`${v}-scrollable`,a&&E),children:s.jsx("div",{className:B(`${e}-content`,n),children:c})})});Ue.displayName="ModalDialog";const Ct=l.forwardRef(({className:e,bsPrefix:t,as:n="div",...o},r)=>(t=W(t,"modal-footer"),s.jsx(n,{ref:r,className:B(e,t),...o})));Ct.displayName="ModalFooter";const kn=l.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:o,children:r,...a},c)=>{const g=l.useContext(Et),f=Q(()=>{g==null||g.onHide(),o==null||o()});return s.jsxs("div",{ref:c,...a,children:[r,n&&s.jsx(Le,{"aria-label":e,variant:t,onClick:f})]})}),_t=l.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:o=!1,...r},a)=>(e=W(e,"modal-header"),s.jsx(kn,{ref:a,...r,className:B(t,e),closeLabel:n,closeButton:o})));_t.displayName="ModalHeader";const Tn=Yt("h4"),Nt=l.forwardRef(({className:e,bsPrefix:t,as:n=Tn,...o},r)=>(t=W(t,"modal-title"),s.jsx(n,{ref:r,className:B(e,t),...o})));Nt.displayName="ModalTitle";function Mn(e){return s.jsx(ut,{...e,timeout:null})}function An(e){return s.jsx(ut,{...e,timeout:null})}const St=l.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:o,contentClassName:r,children:a,dialogAs:c=Ue,"data-bs-theme":g,"aria-labelledby":f,"aria-describedby":b,"aria-label":v,show:E=!1,animation:j=!0,backdrop:y=!0,keyboard:x=!0,onEscapeKeyDown:h,onShow:i,onHide:p,container:T,autoFocus:O=!0,enforceFocus:F=!0,restoreFocus:$=!0,restoreFocusOptions:_,onEntered:u,onExit:C,onExiting:m,onEnter:N,onEntering:S,onExited:P,backdropClassName:M,manager:L,...J},z)=>{const[q,d]=l.useState({}),[R,U]=l.useState(!1),I=l.useRef(!1),K=l.useRef(!1),D=l.useRef(null),[H,X]=Qt(),Re=Zt(z,X),me=Q(p),ke=Jt();e=W(e,"modal");const le=l.useMemo(()=>({onHide:me}),[me]);function ee(){return L||Rn({isRTL:ke})}function xe(w){if(!Pe)return;const se=ee().getScrollbarWidth()>0,ze=w.scrollHeight>ct(w).documentElement.clientHeight;d({paddingRight:se&&!ze?Ze():void 0,paddingLeft:!se&&ze?Ze():void 0})}const te=Q(()=>{H&&xe(H.dialog)});mt(()=>{qe(window,"resize",te),D.current==null||D.current()});const ce=()=>{I.current=!0},ne=w=>{I.current&&H&&w.target===H.dialog&&(K.current=!0),I.current=!1},k=()=>{U(!0),D.current=tn(H.dialog,()=>{U(!1)})},ge=w=>{w.target===w.currentTarget&&k()},de=w=>{if(y==="static"){ge(w);return}if(K.current||w.target!==w.currentTarget){K.current=!1;return}p==null||p()},Mt=w=>{x?h==null||h(w):(w.preventDefault(),y==="static"&&k())},At=(w,se)=>{w&&xe(w),N==null||N(w,se)},Ot=w=>{D.current==null||D.current(),C==null||C(w)},Ft=(w,se)=>{S==null||S(w,se),en(window,"resize",te)},Pt=w=>{w&&(w.style.display=""),P==null||P(w),qe(window,"resize",te)},Bt=l.useCallback(w=>s.jsx("div",{...w,className:B(`${e}-backdrop`,M,!j&&"show")}),[j,M,e]),We={...n,...q};We.display="block";const $t=w=>s.jsx("div",{role:"dialog",...w,style:We,className:B(t,e,R&&`${e}-static`,!j&&"show"),onClick:y?de:void 0,onMouseUp:ne,"data-bs-theme":g,"aria-label":v,"aria-labelledby":f,"aria-describedby":b,children:s.jsx(c,{...J,onMouseDown:ce,className:o,contentClassName:r,children:a})});return s.jsx(Et.Provider,{value:le,children:s.jsx(Cn,{show:E,ref:Re,backdrop:y,container:T,keyboard:!0,autoFocus:O,enforceFocus:F,restoreFocus:$,restoreFocusOptions:_,onEscapeKeyDown:Mt,onShow:i,onHide:p,onEnter:At,onEntering:Ft,onEntered:u,onExit:Ot,onExiting:m,onExited:Pt,manager:ee(),transition:j?Mn:void 0,backdropTransition:j?An:void 0,renderBackdrop:Bt,renderDialog:$t})})});St.displayName="Modal";const fe=Object.assign(St,{Body:wt,Header:_t,Title:Nt,Footer:Ct,Dialog:Ue,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),On={"category-selector":"_category-selector_1aq5o_1"},Fn={nc:"Norm-conserving",us:"Ultrasoft",paw:"PAW"},Pn=({categories:e,activeCategories:t,onCategorySelect:n})=>s.jsx("div",{className:On["category-selector"],children:e.map(o=>s.jsx(ln.Check,{type:"checkbox",id:`category-${o}`,label:Fn[o]||o,checked:t.includes(o),onChange:r=>r.target.checked?n([...t,o]):n(t.filter(a=>a!==o))},o))}),Bn="_convergencePane_7g4ka_1",$n="_convergenceSummaryHeader_7g4ka_1",Ln="_selectedPseudos_7g4ka_1",Dn="_efficiencyPseudo_7g4ka_1",Un="_precisionPseudo_7g4ka_1",In="_plotTitle_7g4ka_1",Wn="_convergencePlotDetailsContainer_7g4ka_1",Y={convergencePane:Bn,convergenceSummaryHeader:$n,selectedPseudos:Ln,efficiencyPseudo:Dn,precisionPseudo:Un,plotTitle:In,convergencePlotDetailsContainer:Wn},zn="_convergencePlot_x5r81_1",Hn={convergencePlot:zn};var Rt={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tt=G.createContext&&G.createContext(Rt),Vn=["attr","size","title"];function qn(e,t){if(e==null)return{};var n=Kn(e,t),o,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}function Kn(e,t){if(e==null)return{};var n={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;n[o]=e[o]}return n}function Ce(){return Ce=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ce.apply(this,arguments)}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nt(Object(n),!0).forEach(function(o){Gn(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Gn(e,t,n){return t=Xn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(e){var t=Yn(e,"string");return typeof t=="symbol"?t:t+""}function Yn(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kt(e){return e&&e.map((t,n)=>G.createElement(t.tag,_e({key:n},t.attr),kt(t.child)))}function Qn(e){return t=>G.createElement(Zn,Ce({attr:_e({},e.attr)},t),kt(e.child))}function Zn(e){var t=n=>{var{attr:o,size:r,title:a}=e,c=qn(e,Vn),g=r||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),G.createElement("svg",Ce({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,c,{className:f,style:_e(_e({color:e.color||n.color},n.style),e.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),a&&G.createElement("title",null,a),e.children)};return tt!==void 0?G.createElement(tt.Consumer,null,n=>t(n)):t(Rt)}function Jn(e){return Qn({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"},child:[]},{tag:"path",attr:{d:"M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"},child:[]}]})(e)}const es="_modalBody_f8cvt_1",ts="_content_f8cvt_5",ns="_pre_f8cvt_12",ss="_loadContainer_f8cvt_20",os="_hint_f8cvt_30",rs="_message_f8cvt_34",as="_filename_f8cvt_1",is="_downloadUpfText_f8cvt_1",ls="_downloadUpfButton_f8cvt_1",V={modalBody:es,content:ts,pre:ns,loadContainer:ss,hint:os,message:rs,filename:as,downloadUpfText:is,downloadUpfButton:ls},cs=({show:e,element:t,pseudoName:n,Z:o,onHide:r})=>{const{getUpfUuid:a,getPseudoFilename:c}=l.useContext(ft),[g,f]=l.useState(""),[b,v]=l.useState(""),[E,j]=l.useState(!1),[y,x]=l.useState(!1),[h,i]=l.useState(null),p=!!nn,T=l.useMemo(()=>!t||!n||o===void 0?"":a(t,n,o),[t,n,o,a]),O=l.useMemo(()=>!t||!n||o===void 0?"":c(t,n,o),[t,n,o,c]);l.useEffect(()=>{e&&(i(null),f(""),j(!1),x(!1),v(O||""))},[e,t,n,o,O]);const F=async()=>{if(i(null),!p){i("UPF viewer is unavailable (VITE_API_URL is not set)");return}if(!n||o===void 0){i("No pseudopotential selected");return}if(!T){i("No UPF UUID found for this pseudopotential");return}j(!0);try{const{filename:u,content:C}=await Ge.fetchUpfFile(T);v(m=>m||u),f(C)}catch(u){u instanceof Error&&i(u.message||"Failed to load UPF file")}finally{j(!1)}},$=async()=>{if(i(null),!p){i("UPF download is unavailable (VITE_API_URL is not set)");return}if(!T){i("No UPF UUID found for this pseudopotential");return}x(!0);try{const{filename:u,blob:C}=await Ge.fetchUpfBlob(T),m=URL.createObjectURL(C),N=document.createElement("a");N.href=m;const S=`${t}-${n||"pseudo"}${o!==void 0?`-Z${o}`:""}.upf`;N.download=b||u||S,document.body.appendChild(N),N.click(),N.remove(),URL.revokeObjectURL(m)}catch(u){u instanceof Error&&i((u==null?void 0:u.message)||"Failed to download UPF file")}finally{x(!1)}},_=!p||!T;return s.jsxs(fe,{show:e,onHide:r,size:"xl",centered:!0,scrollable:!0,children:[s.jsx(fe.Header,{closeButton:!0,children:s.jsxs(fe.Title,{children:[t," (Z",s.jsx("sub",{children:"val"})," = ",o,") ",n]})}),s.jsx(fe.Body,{className:V.modalBody,children:h?s.jsx("div",{className:V.message,children:h}):E?s.jsx(ht,{}):g?s.jsx("div",{className:V.content,children:s.jsx("pre",{className:V.pre,children:g})}):p?T?s.jsxs("div",{className:V.loadContainer,children:[s.jsx(Ke,{variant:"primary",onClick:F,children:"Load UPF content"}),s.jsx("div",{className:V.hint,children:"May take some time"})]}):s.jsx("div",{className:V.message,children:"No UPF UUID found for this pseudopotential."}):s.jsx("div",{className:V.message,children:"Backend not configured. UPF download/viewing is unavailable."})}),s.jsxs(fe.Footer,{className:"justify-content-start",children:[s.jsxs(Ke,{id:V.downloadUpfButton,variant:"primary",onClick:$,disabled:_||y,children:[s.jsx("span",{id:V.downloadUpfText,children:"Download UPF file"}),y?s.jsx("div",{className:"spinner-border spinner-border-sm text-light",role:"status",children:s.jsx("span",{className:"visually-hidden",children:"Loading..."})}):s.jsx(Jn,{})]}),s.jsx("span",{id:V.filename,children:b})]})]})},st=1.2,ot=1.3,rt=.13,Tt=6,he=1,ae=10,ds=40,us=80,ve=1.6,je=8,fs=120,Ne={l:170,r:170,t:40,b:80},hs=10,ps=80,A=25,ie=205,Ie=100,ms=new Set(["O","Fe","Mn","Hf","Co","Ni","Cr"]),xs=.2,gs=2,ys=1,bs=["δω","δV<sub>press</sub>","δE<sub>coh</sub>","δν"],vs=["circle","triangle-down","star","square"],js=["solid","dash","dot","solid"],we={phononFrequencies:{label:"δω",symbol:"circle",dash:"solid"},pressure:{label:"δV<sub>press</sub>",symbol:"triangle-down",dash:"dash"},cohesiveEnergy:{label:"δE<sub>coh</sub>",symbol:"star",dash:"dot"},eos:{label:"δν",symbol:"square",dash:"solid"}},ws=(e,t,n,o,r)=>{const a=je/4,c=o.map((y,x)=>x*je),g=o.length*fs+(ds+us),f=ms.has(e)?18:8,b=[],v=[],E=[];o.forEach((y,x)=>{var z,q;const h=((z=r[y.name])==null?void 0:z.color)||"black",i=x*je,{quantities:p}=y;let T=[],O=[],F=[],$=[],_=[],u=[],C=[],m;if(b.push({x:[-1e3,1e3],y:[i+a,i+a],type:"scatter",mode:"lines",text:u.map(d=>d.toFixed(2)),showlegend:!1,line:{color:h,width:he,dash:"dashdot"},hoverinfo:"skip"}),b.push({x:[-1e3,1e3],y:[i-a,i-a],type:"scatter",mode:"lines",text:C.map(d=>d.toFixed(2)),showlegend:!1,line:{color:h,width:he,dash:"dashdot"},hoverinfo:"skip"}),b.push({x:[-1e3,1e3],y:[i+a*.5,i+a*.5],type:"scatter",mode:"lines",text:u.map(d=>d.toFixed(2)),showlegend:!1,line:{color:"lightgray",width:he,dash:"dot"},hoverinfo:"skip"}),p.phononFrequencies){T=p.phononFrequencies.values,m=Ee(we.phononFrequencies,h),m.x=p.phononFrequencies.cutoffs,m.y=T.map(R=>R*2/gs+i),O=p.phononFrequencies.error,m.error_y={type:"data",array:O,arrayminus:T.map(()=>0),visible:!0,color:h},b.push(m);const d=p.phononFrequencies.ref.toFixed(2);v.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i-.6,text:`ω<sub>max</sub> = ${d} cm<sup>-1</sup>`,showarrow:!1,align:"left",font:{size:ae}})}if(p.pressure&&(m=Ee(we.pressure,h),F=p.pressure.values,m.x=p.pressure.cutoffs,m.y=F.map(d=>d*2/ys+i),b.push(m)),p.cohesiveEnergy){$=p.cohesiveEnergy.values,m=Ee(we.cohesiveEnergy,h),m.x=p.cohesiveEnergy.cutoffs,m.y=$.map(R=>R+i),b.push(m);const d=p.cohesiveEnergy.ref.toFixed(2);v.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i+.6,text:`E<sub>coh</sub> = ${d} <i>meV/atom</i>`,align:"left",showarrow:!1,font:{size:ae}})}if(p.eos&&(_=p.eos.values,m=Ee(we.eos,h),m.x=p.eos.cutoffs,m.y=_.map(d=>d*2/xs+i),b.push(m)),p.bands){const d=p.bands.cutoffs;u=p.bands.etaC,C=p.bands.maxDiffC,b.push({x:d,y:u.map(()=>i+st*a),type:"scatter",mode:"text",text:u.map(R=>R>=100?R.toExponential(0).toString().replace("e+","e"):R.toFixed(2)),showlegend:!1,textfont:{size:ae},hoverinfo:"skip"}),v.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i-ot*a+rt,text:"max <i>η</i><sub>10</sub> [meV]",showarrow:!1,align:"left",font:{size:ae}}),b.push({x:d,y:C.map(()=>i-ot*a),type:"scatter",mode:"text",text:C.map(R=>R>=100?R.toExponential(0).toString().replace("e+","e"):R.toFixed(2)),showlegend:!1,textfont:{size:ae},hoverinfo:"skip"}),v.push({xref:"paper",x:1,xanchor:"left",xshift:20,y:i+st*a+rt,text:"<i>η</i><sub>10</sub> [meV]",showarrow:!1,align:"left",font:{size:ae}})}E.push({type:"line",x0:-1e3,x1:1e3,y0:i,y1:i,opacity:.25,line:{width:.5}});const N=((q=y.quantities.bands)==null?void 0:q.cutoffs)||[],S=[N],P=["E<sub>wfc</sub> = %{customdata[0]} Ry"];let M=1;if(T.length){S.push(T);let d=`<br />δω = %{customdata[${M}]:.3f}`;M+=1,O.length&&(S.push(O),d+=` &plusmn; %{customdata[${M}]:.1e}`,M+=1),d+="%",P.push(d)}F.length&&(S.push(F),P.push(`<br />δV<sub>press</sub> = %{customdata[${M}]:.3f}%`),M+=1),$.length&&(S.push($),P.push(`<br />δE<sub>coh</sub> = %{customdata[${M}]:.3f} meV`),M+=1),_.length&&(S.push(_),P.push(`<br />δv = %{customdata[${M}]:.3f}`),M+=1),u.length&&(S.push(u),P.push(`<br />η<sub>10</sub> = %{customdata[${M}]:.3f} meV`),M+=1),C.length&&(S.push(C),P.push(`<br />max η<sub>10</sub> = %{customdata[${M}]:.3f} meV`),M+=1),b.push({x:N,y:new Array(N.length).fill(i),mode:"markers",marker:{size:24,opacity:0,line:{width:0}},showlegend:!1,customdata:N.map((d,R)=>S.map(U=>U[R])),hoverlabel:{bgcolor:"rgb(225, 225, 225)",bordercolor:"black"},hovertemplate:`<b>${y.name}</b><br />`+P.join("")+"<extra></extra>"});const{metadata:L}=y.quantities;let J="not all EOS valid";if(L){const d=L.avgNu.toFixed(2),R=L.maxNu.toFixed(2),U=fn(L.maxConf),I=L.avgNuWoMax.toFixed(2);J=`ν<sub>avg</sub> = ${d}<br />ν<sub>max</sub> = ${R} (${U})<br />ν<sub>avg</sub> (w/o ${U}) = ${I}`}v.push({xref:"paper",x:0,xanchor:"right",xshift:-30,y:i,text:`<span style="color:${y.color}"><b>${y.name}</b></span><br />Z<sub>val</sub> = ${y.Z}<br />${J}`,showarrow:!1,align:"left",font:{size:10},captureevents:!0}),t.forEach(d=>{if(n[d].pseudopotential===y.name&&n[d].Z===y.Z){const R=n[d].cutoff_wfc;if(d==="efficiency")E.push({type:"rect",x0:R-ve*.5,x1:R+ve*.5,y0:c[x]-a,y1:c[x]+a,fillcolor:"rgba(0, 128, 0, 0.5)",line:{width:1,color:"rgb(0, 128, 0)"},opacity:.5});else{const U=R-ve,I=R+ve,K=c[x]-a*.5,D=c[x]+a*.5,H=(U+I)*.5,X=(K+D)*.5;E.push({type:"path",path:`M ${H} ${D} L ${I} ${X} L ${H} ${K} L ${U} ${X} Z`,fillcolor:"rgba(128, 0, 128, 0.5)",line:{width:1,color:"rgb(128, 0, 128)"},opacity:.5})}}})}),bs.forEach((y,x)=>{b.push({name:y,type:"scatter",mode:"lines+markers",x:[NaN],y:[NaN],line:{color:"black",width:he,dash:js[x]},marker:{size:Tt,symbol:vs[x]},showlegend:!0,legendgroup:y,hoverinfo:"skip"})});const j={xaxis:{title:{text:`Wavefunction cutoff [Ry]<br><br>Charge density cutoff [Ry] = ${f} x Ewfc (PAW/US) | 4 x Ewfc (NC); q-point = [0.5, 0.5, 0.5]`},zeroline:!1,showgrid:!1,showline:!0,mirror:!0,tickvals:[...Array.from({length:18},(y,x)=>x*10+30)],ticks:"inside",ticklen:5,range:[A,A+Ie]},yaxis:{side:"left",zeroline:!1,showgrid:!1,showline:!0,mirror:!0,ticks:"inside",ticklen:5,tickmode:"array",tickvals:c,ticktext:c.map(()=>"0"),range:[-5,(o.length-1)*je+5],fixedrange:!0},showlegend:!0,legend:{orientation:"h",xref:"paper",yref:"container",x:.5,y:1,xanchor:"center",yanchor:"top",font:{size:12,color:"black"}},annotations:v,shapes:E,hovermode:"closest",dragmode:"pan",autosize:!0,height:g,margin:Ne};return{data:b,layout:j}},Ee=(e,t)=>({name:e.label,type:"scatter",mode:"lines+markers",line:{color:t,width:he,dash:e.dash},marker:{size:Tt,symbol:e.symbol},showlegend:!1,legendgroup:e.label,hoverinfo:"skip"}),Es=e=>{if(!e||typeof e!="object")return null;const t=e,n=t["xaxis.range"];if(Array.isArray(n)&&n.length>=2){const a=Number(n[0]),c=Number(n[1]);if(Number.isFinite(a)&&Number.isFinite(c))return{x0:a,x1:c}}const o=Number(t["xaxis.range[0]"]),r=Number(t["xaxis.range[1]"]);return Number.isFinite(o)&&Number.isFinite(r)?{x0:o,x1:r}:null},Cs=e=>!e||typeof e!="object"?!1:e["xaxis.autorange"]===!0,at=e=>{if(!e)return 0;const n=e.getBoundingClientRect().width-Ne.l-Ne.r;return Math.max(0,n)},Fe=(e,t)=>{const n=ie-A,o=Math.min(Math.max(t,1),n);let r=e.min,a=e.max;if(!Number.isFinite(r)||!Number.isFinite(a))r=A,a=A+o;else if(Math.abs(a-r-o)>1e-6){const c=(r+a)*.5;r=c-o*.5,a=c+o*.5}return r<A?(r=A,a=A+o):a>ie&&(a=ie,r=ie-o),{min:r,max:a}},it=e=>{if(!e)return Ie;const t=e*hs/ps,n=ie-A;return Math.min(Math.max(t,30),n)},_s=e=>{var r,a;const t=(a=(r=e.layout)==null?void 0:r.xaxis)==null?void 0:a.range;if(!t)return null;const n=t[0],o=t[1];return!Number.isFinite(n)||!Number.isFinite(o)?null:{min:n,max:o}},Ns=e=>({...Ne,t:e<35?70:40}),Ss=e=>{if(typeof window<"u"&&typeof window.requestAnimationFrame=="function"){window.requestAnimationFrame(e);return}setTimeout(e,0)},Rs={responsive:!0,displayModeBar:!1,displaylogo:!1,scrollZoom:!1,showAxisDragHandles:!1},ks=({element:e,activePseudos:t,pseudosMetadata:n})=>{const{libraries:o}=l.useContext(sn),{elementsInfo:r}=l.useContext(pt),[a,c]=l.useState(!1),[g,f]=l.useState(""),[b,v]=l.useState(),E=l.useRef(null),j=l.useRef(Ie),y=l.useMemo(()=>Object.fromEntries(Object.entries(r).map(([x,h])=>[x,h[e]])),[r,e]);return l.useEffect(()=>{if(!t.length||!E.current)return;let x=!1,h=null,i=null,p=null;return(async()=>{var F,$,_;if(h=(await on(async()=>{const{default:u}=await import("./PlotlyLoader-Bjn-ZQjb.js");return{default:u}},__vite__mapDeps([0,1,2,3]))).default,x||!E.current)return;const{data:T,layout:O}=ws(e,o,y,t,n);i=await h.react(E.current,T,O,Rs);{const u=at(E.current);j.current=it(u);const C=Fe({min:A,max:A+j.current},j.current);await h.relayout(i,{"xaxis.range":[C.min,C.max]})}p=new ResizeObserver(async()=>{if(!h||!i)return;const u=at(E.current);j.current=it(u),h.Plots.resize(i);const C=_s(i)??{min:A,max:A+j.current},m=(C.min+C.max)*.5,N=j.current*.5,S=Fe({min:m-N,max:m+N},j.current);await h.relayout(i,{margin:Ns(j.current),"xaxis.range":[S.min,S.max]})}),p.observe(E.current),(F=i.removeAllListeners)==null||F.call(i,"plotly_relayout"),i.on("plotly_relayout",async u=>{if(!h||!i)return;if(Cs(u)){await h.relayout(i,{"xaxis.range":[A,A+j.current]});return}const C=Es(u);if(!C){await h.relayout(i,{"xaxis.range":[A,A+j.current]});return}const m={min:C.x0,max:C.x1},N=m.max-m.min,S=j.current;if(m.min>=A&&m.max<=ie&&Number.isFinite(N)&&Math.abs(N-S)<1e-6)return;const P=Fe(m,S);await h.relayout(i,{"xaxis.range":[P.min,P.max]})}),($=i.removeAllListeners)==null||$.call(i,"plotly_doubleclick"),i.on("plotly_doubleclick",()=>{!h||!i||Ss(()=>{h==null||h.relayout(i,{"xaxis.range":[A,A+j.current]})})}),(_=i.removeAllListeners)==null||_.call(i,"plotly_clickannotation"),i.on("plotly_clickannotation",async u=>{var L;const C=u&&typeof u=="object"&&"annotation"in u?(L=u.annotation)==null?void 0:L.text:void 0,m=typeof C=="string"?C:"",N=m.match(/<b>(.*?)<\/b>/),S=N==null?void 0:N[1];if(!S)return;const P=m.match(/Z<sub>val<\/sub>\s*=\s*(\d+)/),M=P?Number.parseInt(P[1],10):NaN;Number.isFinite(M)&&(f(S),v(M),c(!0))})})(),()=>{var T,O,F;x=!0,p==null||p.disconnect(),i&&((T=i.removeAllListeners)==null||T.call(i,"plotly_clickannotation"),(O=i.removeAllListeners)==null||O.call(i,"plotly_doubleclick"),(F=i.removeAllListeners)==null||F.call(i,"plotly_relayout"))}},[e,o,y,t,n]),s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:E,id:Hn.convergencePlot}),s.jsx(cs,{show:a,element:e,pseudoName:g,Z:b,onHide:()=>c(!1)})]})},Ts="_metadataTable_5ur8v_1",Ms="_legendTable_5ur8v_1",lt={metadataTable:Ts,legendTable:Ms},As=()=>s.jsx(ye,{children:s.jsxs(ye.Item,{eventKey:"0",children:[s.jsx(ye.Header,{children:"About the SSSP protocol convergence pattern plots"}),s.jsxs(ye.Body,{children:[s.jsx("section",{children:s.jsxs("p",{children:["We report here the zone-boundary phonons, cohesive energy, pressure, and band structure versus the wavefunction cutoff for all the considered pseudopotential libraries. The colored horizontal dashed lines correspond to the thresholds of the SSSP efficiency criteria, whereas the gray dotted lines correspond to the precision criteria. The recommended efficiency (precision) pseudopotential is marked with a ",s.jsx("span",{style:{color:"rgb(0, 128, 0)"},children:"rectangle"})," (",s.jsx("span",{style:{color:"rgb(128, 0, 128)"},children:"rhombus"}),") at the recommended cutoff."]})}),s.jsxs("section",{children:[s.jsx("h5",{children:"Categories"}),s.jsx("p",{children:"You can use the pseudopotential category checkboxes to filter the pseudopotentials shown in the plots."})]}),s.jsxs("section",{children:[s.jsx("h5",{children:"Metadata"}),s.jsx("p",{children:"We report on the left of the plot:"}),s.jsxs(Xe,{id:lt.metadataTable,striped:!0,bordered:!0,responsive:!0,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Quantity"}),s.jsx("th",{children:"Description"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsxs("td",{children:["Z",s.jsx("sub",{children:"val"})]}),s.jsx("td",{children:"Number of valence electrons of the pseudopotential"})]}),s.jsxs("tr",{children:[s.jsxs("td",{children:["ν",s.jsx("sub",{children:"avg"})]}),s.jsxs("td",{children:["Average of ",s.jsx("b",{children:"ν"})," across 10 configurations"]})]}),s.jsxs("tr",{children:[s.jsxs("td",{children:["ν",s.jsx("sub",{children:"max"})," (#)"]}),s.jsxs("td",{children:["Maximum ",s.jsx("b",{children:"ν"})," value across 10 configurations and the corresponding configuration (#)"]})]}),s.jsxs("tr",{children:[s.jsxs("td",{children:["ν",s.jsx("sub",{children:"avg"})," (w/o #)"]}),s.jsxs("td",{children:["Average of ",s.jsx("b",{children:"ν"}),", excluding the configuration with the largest discrepancy (#)"]})]})]})]}),s.jsx("p",{children:s.jsx("em",{children:"Click on the metadata to open a UPF viewer to view/download the UPF file for the pseudopotential (requires an API backend)."})})]}),s.jsxs("section",{children:[s.jsx("h5",{children:"Legend"}),s.jsx("p",{children:"The legend reflects the corresponding quantity/discrepancy across all pseudopotentials:"}),s.jsxs(Xe,{id:lt.legendTable,striped:!0,bordered:!0,responsive:!0,children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Marker"}),s.jsx("th",{children:"Quantity"}),s.jsx("th",{children:"Units"}),s.jsx("th",{children:"Description"})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"●"}),s.jsx("td",{children:"δω"}),s.jsx("td",{children:"%"}),s.jsx("td",{children:"Discrepancy in all phonon frequencies at the zone boundary"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"▼"}),s.jsxs("td",{children:["δV",s.jsx("sub",{children:"press"})]}),s.jsx("td",{children:"%"}),s.jsx("td",{children:"Discrepancy in pressure"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"★"}),s.jsxs("td",{children:["δE",s.jsx("sub",{children:"coh"})]}),s.jsx("td",{children:"meV"}),s.jsx("td",{children:"Discrepancy in cohesive energy"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"■"}),s.jsx("td",{children:"δν"}),s.jsx("td",{children:"-"}),s.jsx("td",{children:"Discrepancy in equation of state"})]})]})]}),s.jsx("p",{children:s.jsx("em",{children:"Click once on a legend item to toggle its visibility. Double-click to exclude all other items."})})]}),s.jsxs("section",{children:[s.jsx("h5",{children:"Additional information"}),s.jsxs("p",{children:["See the ",s.jsx("b",{children:"About"})," tab of the"," ",s.jsx("a",{href:"https://acwf-verification.materialscloud.org/",target:"_blank",style:{textDecoration:"none"},children:"Verification of the precision of DFT implementations via AiiDA common workflows"})," ","app to learn more about how ",s.jsx("b",{children:"ν"})," is computed. All calculations are performed on the ground-state elemental solids unless stated otherwise (i.e. rare-earths and flourine). See"," ",s.jsx(rn,{to:"/about",style:{textDecoration:"none"},children:"About SSSP"})," ","for more details."]})]})]})]})}),Bs=()=>{const{element:e,elementsInfo:t}=l.useContext(pt),{loadingMetadata:n,categories:o,pseudosMetadata:r,activeCategories:a,setActiveCategories:c}=l.useContext(ft),{loadingConvergenceData:g,convergenceData:f}=l.useContext(an),b=l.useMemo(()=>{var x,h;return{efficiency:(x=t.efficiency[e])==null?void 0:x.pseudopotential,precision:(h=t.precision[e])==null?void 0:h.pseudopotential}},[e,t]),v=l.useMemo(()=>{const x={};return Object.entries(r).forEach(([h,i])=>{a.includes(i.category)&&(x[h]=i)}),x},[a,r]),E=l.useMemo(()=>!f||!f.pseudos?[]:f.pseudos.filter(x=>v==null?void 0:v[x.name]).reverse(),[f,v]),j=n||g,y=Object.keys(f).length>0;return j?s.jsx(ht,{}):s.jsxs("div",{id:Y.convergencePane,children:[s.jsxs("div",{id:Y.convergenceSummaryHeader,children:[s.jsxs("h2",{className:"display-6",children:["Verification summary: ",e," ",f.conff?`(${f.conff})`:""]}),y&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{id:Y.selectedPseudos,children:[s.jsxs("span",{id:Y.efficiencyPseudo,children:[s.jsx("b",{children:"SSSP efficiency"}),": ",b.efficiency]}),s.jsxs("span",{id:Y.precisionPseudo,children:[s.jsx("b",{children:"SSSP precision"}),": ",b.precision]})]}),s.jsx(Pn,{categories:o,activeCategories:a,onCategorySelect:c})]})]}),y?E.length?s.jsxs(s.Fragment,{children:[s.jsx("div",{id:Y.plotTitle,children:s.jsx("h6",{children:"Error w.r.t. ref. wavefunction cutoff"})}),s.jsx(ks,{element:e,activePseudos:E,pseudosMetadata:v})]}):s.jsx("div",{id:Y.noCategorySelected,children:s.jsx(Ye,{})}):s.jsx(Ye,{}),s.jsx("div",{id:Y.convergencePlotDetailsContainer,children:s.jsx(As,{})})]})};export{Bs as default};
