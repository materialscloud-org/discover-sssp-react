import{g as gu,v as Z1}from"./index-BXRE74-o.js";function hu(Be){const Ue=Be.length,Mt=Be[0].length,ca=new Array(Mt);for(let va=0;va<Mt;va++){ca[va]=new Array(Ue);for(let Ke=0;Ke<Ue;Ke++)ca[va][Ke]=Be[Ke][va]}return ca}const pu=["#636EFA","#EF553B","#00CC96","#AB63FA","#FFA15A","#19D3F3","#FF6692","#B6E880","#FF97FF","#FECB52"];function Uo(Be){return Be<pu.length?pu[Be]:`hsl(${Be*47%360}, 70%, 50%)`}function G1(Be){const Ue=new Set;return Be.map(ca=>{const va=ca.name||"",Ke=!Ue.has(va);return Ke&&Ue.add(va),{...ca,legendgroup:va,showlegend:Ke}})}function J1(Be){const Ue=[],Mt=[];let ca=null;return Be.paths.forEach((va,Ke)=>{const Ya=va.x,Oa=va.values;Ke>0&&(Ue.push(null),Mt.forEach(Qa=>Qa.push(null))),Ya.forEach((Qa,Dr)=>{Qa===ca&&(Ue.push(null),Mt.forEach(ua=>ua.push(null))),Ue.push(Qa),ca=Qa,Oa.forEach((ua,Fa)=>{Mt[Fa]||(Mt[Fa]=[]),Mt[Fa].push(ua[Dr])})})}),{xs:Ue,ys:Mt}}function W1(Be){const Ue={GAMMA:"Γ",DELTA:"Δ",SIGMA:"Σ",LAMBDA:"Λ"};Object.keys(Ue).forEach(ca=>{const va=new RegExp(ca,"gi");Be=Be.replace(va,Ue[ca])}),Be=Be.replace(/\bG\b/g,"Γ"),Be=Be.replace(/-/g,"—");const Mt={0:"₀",1:"₁",2:"₂",3:"₃",4:"₄",5:"₅",6:"₆",7:"₇",8:"₈",9:"₉"};return Be=Be.replace(/_(.)/g,(ca,va)=>Mt[va]||ca),Be}function X1(Be=td.paths){const Ue=[0];for(const Mt of Be)Mt.x.length<3||Ue.push(Mt.x[Mt.x.length-1]);return Ue}function $1(Be){const Ue=Be.flat(),Mt=[];Mt.push(Ue[0]);for(let ca=1;ca<Ue.length-1;ca++)Ue[ca]===Ue[ca+1]?(Mt.push(Ue[ca]),ca++):(Mt.push(Ue[ca]+"|"+Ue[ca+1]),ca++);return Mt.push(Ue[Ue.length-1]),Mt}function Ii(Be,Ue="x",Mt="y"){let ca=1/0,va=-1/0,Ke=1/0,Ya=-1/0;for(const Oa of Be){const Qa=Oa.xaxis===Ue||!Oa.xaxis&&Ue==="x",Dr=Oa.yaxis===Mt||!Oa.yaxis&&Mt==="y";if(!(!Qa||!Dr)){for(const ua of Oa.x??[])typeof ua=="number"&&(ca=Math.min(ca,ua),va=Math.max(va,ua));for(const ua of Oa.y??[])typeof ua=="number"&&(Ke=Math.min(Ke,ua),Ya=Math.max(Ya,ua))}}return{x:ca===1/0?null:[ca,va],y:Ke===1/0?null:[Ke,Ya]}}function Ei(Be,Ue,Mt,ca={}){return{x:Be,y:Ue,mode:"lines",type:"scatter",name:`Fermi [${Mt}eV]`,legendgroup:`fermi-${Mt}`,showlegend:ca.showlegend??!0,line:{color:"green",width:1.25,dash:"dash"},...ca}}function Q1(Be,Ue,Mt,ca){const va=[...Ue];if(Mt&&!ca){const{y:Ke}=Ii(Ue);for(const Ya of Be)va.push(Ei([Ya,Ya],[Ke[0],Ke[1]],Ya))}else if(ca&&!Mt){const{x:Ke}=Ii(Ue);for(const Ya of Be)va.push(Ei([Ke[0],Ke[1]],[Ya,Ya],Ya))}else if(ca&&Mt){const{x:Ke}=Ii(Ue,"x2","y"),{x:Ya}=Ii(Ue,"x","y");for(const Oa of Be)va.push(Ei([Ya[0],Ya[1]],[Oa,Oa],Oa)),va.push(Ei([Ke[0],Ke[1]],[Oa,Oa],Oa,{showlegend:!1,xaxis:"x2",yaxis:"y"}))}return va}var K1=function(Ue){return th(Ue)&&!eh(Ue)};function th(Be){return!!Be&&typeof Be=="object"}function eh(Be){var Ue=Object.prototype.toString.call(Be);return Ue==="[object RegExp]"||Ue==="[object Date]"||nh(Be)}var ah=typeof Symbol=="function"&&Symbol.for,rh=ah?Symbol.for("react.element"):60103;function nh(Be){return Be.$$typeof===rh}function ih(Be){return Array.isArray(Be)?[]:{}}function ti(Be,Ue){return Ue.clone!==!1&&Ue.isMergeableObject(Be)?Hn(ih(Be),Be,Ue):Be}function oh(Be,Ue,Mt){return Be.concat(Ue).map(function(ca){return ti(ca,Mt)})}function lh(Be,Ue){if(!Ue.customMerge)return Hn;var Mt=Ue.customMerge(Be);return typeof Mt=="function"?Mt:Hn}function sh(Be){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(Be).filter(function(Ue){return Object.propertyIsEnumerable.call(Be,Ue)}):[]}function vu(Be){return Object.keys(Be).concat(sh(Be))}function mu(Be,Ue){try{return Ue in Be}catch{return!1}}function uh(Be,Ue){return mu(Be,Ue)&&!(Object.hasOwnProperty.call(Be,Ue)&&Object.propertyIsEnumerable.call(Be,Ue))}function ch(Be,Ue,Mt){var ca={};return Mt.isMergeableObject(Be)&&vu(Be).forEach(function(va){ca[va]=ti(Be[va],Mt)}),vu(Ue).forEach(function(va){uh(Be,va)||(mu(Be,va)&&Mt.isMergeableObject(Ue[va])?ca[va]=lh(va,Mt)(Be[va],Ue[va],Mt):ca[va]=ti(Ue[va],Mt))}),ca}function Hn(Be,Ue,Mt){Mt=Mt||{},Mt.arrayMerge=Mt.arrayMerge||oh,Mt.isMergeableObject=Mt.isMergeableObject||K1,Mt.cloneUnlessOtherwiseSpecified=ti;var ca=Array.isArray(Ue),va=Array.isArray(Be),Ke=ca===va;return Ke?ca?Mt.arrayMerge(Be,Ue,Mt):ch(Be,Ue,Mt):ti(Ue,Mt)}Hn.all=function(Ue,Mt){if(!Array.isArray(Ue))throw new Error("first argument should be an array");return Ue.reduce(function(ca,va){return Hn(ca,va,Mt)},{})};var fh=Hn,dh=fh;const ei=gu(dh),Yo={title:"Multi Trace Plot with border",hovermode:"closest",uirevision:!0,shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:1,y1:1,line:{color:"black",width:2},layer:"above"}],margin:{l:55,r:10,t:10,b:45},dragmode:"zoom",xaxis:{title:{text:"x-axis",font:{size:18,color:"#212529"}},showgrid:!0,showline:!1,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"y-axis",font:{size:19,color:"#212529"}},showgrid:!0,zeroline:!1,showline:!1,ticks:"inside",color:"#212529",tickfont:{color:"#212529",size:19}},legend:{x:1.01,y:1,xanchor:"left",yanchor:"top",orientation:"v"}},hh=ei(Yo,{title:"BSPlot",xaxis:{title:{text:"K-path",font:{size:18,color:"#212529"}},showgrid:!0,showline:!1,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"Energy [eV]",font:{size:19,color:"#212529"}},showgrid:!0,zeroline:!1,showline:!1,ticks:"inside",color:"#212529",tickfont:{color:"#212529",size:19}}}),ph=ei(Yo,{title:"DOSPlot",xaxis:{title:{text:"Energy [eV]",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"Density of States",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}}}),vh=ei(Yo,{title:"DOSPlot",xaxis:{title:{text:"Density of States",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"Energy [eV]",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}}}),Fi={shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:.7,y1:1,line:{color:"black",width:2},layer:"above"},{type:"rect",xref:"paper",yref:"paper",x0:.73,y0:0,x1:1,y1:1,line:{color:"black",width:2},layer:"above"}],grid:{rows:1,columns:2,pattern:"independent"},xaxis:{domain:[0,.7],autorange:!0},xaxis2:{title:{text:"Energy [eV]",font:{size:18}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"},domain:[.73,1],autorange:!0,showgrid:!0},yaxis:{autorange:!0},margin:{l:60,r:30,b:40,t:40},showlegend:!0,legend:{}},gh={mode:"lines",dash:"solid",line:{color:"rgba(90, 60, 255, 0.85)",width:1},name:"Band Structure"},mh={name:"DOS",legendgroup:"DOS",showlegend:!0,type:"scatter",mode:"lines",dash:"dash",line:{color:"rgba(90, 60, 255, 0.85)",width:2},fill:"toself"};var yu={exports:{}};(function(Be){(function(Ue,Mt){Be.exports?Be.exports=Mt():Ue.moduleName=Mt()})(typeof self<"u"?self:Z1,()=>{var Ue=(()=>{var Mt=(E,P)=>()=>(P||E((P={exports:{}}).exports,P),P.exports),ca=Mt(E=>{E.version="3.1.2"}),va=Mt((E,P)=>{(function(i,t,a){t[i]=t[i]||a(),typeof P<"u"&&P.exports&&(P.exports=t[i])})("Promise",typeof window<"u"?window:E,function(){var i,t,a,l=Object.prototype.toString,n=typeof setImmediate<"u"?function(x){return setImmediate(x)}:setTimeout;try{Object.defineProperty({},"x",{}),i=function(x,u,d,m){return Object.defineProperty(x,u,{value:d,writable:!0,configurable:m!==!1})}}catch{i=function(u,d,m){return u[d]=m,u}}a=function(){var x,u,d;function m(w,k){this.fn=w,this.self=k,this.next=void 0}return{add:function(w,k){d=new m(w,k),u?u.next=d:x=d,u=d,d=void 0},drain:function(){var w=x;for(x=u=t=void 0;w;)w.fn.call(w.self),w=w.next}}}();function o(x,u){a.add(x,u),t||(t=n(a.drain))}function s(x){var u,d=typeof x;return x!=null&&(d=="object"||d=="function")&&(u=x.then),typeof u=="function"?u:!1}function f(){for(var x=0;x<this.chain.length;x++)e(this,this.state===1?this.chain[x].success:this.chain[x].failure,this.chain[x]);this.chain.length=0}function e(x,u,d){var m,w;try{u===!1?d.reject(x.msg):(u===!0?m=x.msg:m=u.call(void 0,x.msg),m===d.promise?d.reject(TypeError("Promise-chain cycle")):(w=s(m))?w.call(m,d.resolve,d.reject):d.resolve(m))}catch(k){d.reject(k)}}function p(x){var u,d=this;if(!d.triggered){d.triggered=!0,d.def&&(d=d.def);try{(u=s(x))?o(function(){var m=new _(d);try{u.call(x,function(){p.apply(m,arguments)},function(){c.apply(m,arguments)})}catch(w){c.call(m,w)}}):(d.msg=x,d.state=1,d.chain.length>0&&o(f,d))}catch(m){c.call(new _(d),m)}}}function c(x){var u=this;u.triggered||(u.triggered=!0,u.def&&(u=u.def),u.msg=x,u.state=2,u.chain.length>0&&o(f,u))}function h(x,u,d,m){for(var w=0;w<u.length;w++)(function(k){x.resolve(u[k]).then(function(U){d(k,U)},m)})(w)}function _(x){this.def=x,this.triggered=!1}function y(x){this.promise=x,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function v(x){if(typeof x!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var u=new y(this);this.then=function(d,m){var w={success:typeof d=="function"?d:!0,failure:typeof m=="function"?m:!1};return w.promise=new this.constructor(function(k,U){if(typeof k!="function"||typeof U!="function")throw TypeError("Not a function");w.resolve=k,w.reject=U}),u.chain.push(w),u.state!==0&&o(f,u),w.promise},this.catch=function(d){return this.then(void 0,d)};try{x.call(void 0,function(d){p.call(u,d)},function(d){c.call(u,d)})}catch(d){c.call(u,d)}}var g=i({},"constructor",v,!1);return v.prototype=g,i(g,"__NPO__",0,!1),i(v,"resolve",function(x){var u=this;return x&&typeof x=="object"&&x.__NPO__===1?x:new u(function(d,m){if(typeof d!="function"||typeof m!="function")throw TypeError("Not a function");d(x)})}),i(v,"reject",function(x){return new this(function(u,d){if(typeof u!="function"||typeof d!="function")throw TypeError("Not a function");d(x)})}),i(v,"all",function(x){var u=this;return l.call(x)!="[object Array]"?u.reject(TypeError("Not an array")):x.length===0?u.resolve([]):new u(function(d,m){if(typeof d!="function"||typeof m!="function")throw TypeError("Not a function");var w=x.length,k=Array(w),U=0;h(u,x,function(D,C){k[D]=C,++U===w&&d(k)},m)})}),i(v,"race",function(x){var u=this;return l.call(x)!="[object Array]"?u.reject(TypeError("Not an array")):new u(function(d,m){if(typeof d!="function"||typeof m!="function")throw TypeError("Not a function");h(u,x,function(w,k){d(k)},m)})}),v})}),Ke=Mt((E,P)=>{(function(){var i={version:"3.8.2"},t=[].slice,a=function(r){return t.call(r)},l=self.document;function n(r){return r&&(r.ownerDocument||r.document||r).documentElement}function o(r){return r&&(r.ownerDocument&&r.ownerDocument.defaultView||r.document&&r||r.defaultView)}if(l)try{a(l.documentElement.childNodes)[0].nodeType}catch{a=function(b){for(var L=b.length,B=new Array(L);L--;)B[L]=b[L];return B}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch{var s=this.Element.prototype,f=s.setAttribute,e=s.setAttributeNS,p=this.CSSStyleDeclaration.prototype,c=p.setProperty;s.setAttribute=function(b,L){f.call(this,b,L+"")},s.setAttributeNS=function(b,L,B){e.call(this,b,L,B+"")},p.setProperty=function(b,L,B){c.call(this,b,L+"",B)}}i.ascending=h;function h(r,b){return r<b?-1:r>b?1:r>=b?0:NaN}i.descending=function(r,b){return b<r?-1:b>r?1:b>=r?0:NaN},i.min=function(r,b){var L=-1,B=r.length,$,tt;if(arguments.length===1){for(;++L<B;)if((tt=r[L])!=null&&tt>=tt){$=tt;break}for(;++L<B;)(tt=r[L])!=null&&$>tt&&($=tt)}else{for(;++L<B;)if((tt=b.call(r,r[L],L))!=null&&tt>=tt){$=tt;break}for(;++L<B;)(tt=b.call(r,r[L],L))!=null&&$>tt&&($=tt)}return $},i.max=function(r,b){var L=-1,B=r.length,$,tt;if(arguments.length===1){for(;++L<B;)if((tt=r[L])!=null&&tt>=tt){$=tt;break}for(;++L<B;)(tt=r[L])!=null&&tt>$&&($=tt)}else{for(;++L<B;)if((tt=b.call(r,r[L],L))!=null&&tt>=tt){$=tt;break}for(;++L<B;)(tt=b.call(r,r[L],L))!=null&&tt>$&&($=tt)}return $},i.extent=function(r,b){var L=-1,B=r.length,$,tt,gt;if(arguments.length===1){for(;++L<B;)if((tt=r[L])!=null&&tt>=tt){$=gt=tt;break}for(;++L<B;)(tt=r[L])!=null&&($>tt&&($=tt),gt<tt&&(gt=tt))}else{for(;++L<B;)if((tt=b.call(r,r[L],L))!=null&&tt>=tt){$=gt=tt;break}for(;++L<B;)(tt=b.call(r,r[L],L))!=null&&($>tt&&($=tt),gt<tt&&(gt=tt))}return[$,gt]};function _(r){return r===null?NaN:+r}function y(r){return!isNaN(r)}i.sum=function(r,b){var L=0,B=r.length,$,tt=-1;if(arguments.length===1)for(;++tt<B;)y($=+r[tt])&&(L+=$);else for(;++tt<B;)y($=+b.call(r,r[tt],tt))&&(L+=$);return L},i.mean=function(r,b){var L=0,B=r.length,$,tt=-1,gt=B;if(arguments.length===1)for(;++tt<B;)y($=_(r[tt]))?L+=$:--gt;else for(;++tt<B;)y($=_(b.call(r,r[tt],tt)))?L+=$:--gt;if(gt)return L/gt},i.quantile=function(r,b){var L=(r.length-1)*b+1,B=Math.floor(L),$=+r[B-1],tt=L-B;return tt?$+tt*(r[B]-$):$},i.median=function(r,b){var L=[],B=r.length,$,tt=-1;if(arguments.length===1)for(;++tt<B;)y($=_(r[tt]))&&L.push($);else for(;++tt<B;)y($=_(b.call(r,r[tt],tt)))&&L.push($);if(L.length)return i.quantile(L.sort(h),.5)},i.variance=function(r,b){var L=r.length,B=0,$,tt,gt=0,dt=-1,wt=0;if(arguments.length===1)for(;++dt<L;)y($=_(r[dt]))&&(tt=$-B,B+=tt/++wt,gt+=tt*($-B));else for(;++dt<L;)y($=_(b.call(r,r[dt],dt)))&&(tt=$-B,B+=tt/++wt,gt+=tt*($-B));if(wt>1)return gt/(wt-1)},i.deviation=function(){var r=i.variance.apply(this,arguments);return r&&Math.sqrt(r)};function v(r){return{left:function(b,L,B,$){for(arguments.length<3&&(B=0),arguments.length<4&&($=b.length);B<$;){var tt=B+$>>>1;r(b[tt],L)<0?B=tt+1:$=tt}return B},right:function(b,L,B,$){for(arguments.length<3&&(B=0),arguments.length<4&&($=b.length);B<$;){var tt=B+$>>>1;r(b[tt],L)>0?$=tt:B=tt+1}return B}}}var g=v(h);i.bisectLeft=g.left,i.bisect=i.bisectRight=g.right,i.bisector=function(r){return v(r.length===1?function(b,L){return h(r(b),L)}:r)},i.shuffle=function(r,b,L){(B=arguments.length)<3&&(L=r.length,B<2&&(b=0));for(var B=L-b,$,tt;B;)tt=Math.random()*B--|0,$=r[B+b],r[B+b]=r[tt+b],r[tt+b]=$;return r},i.permute=function(r,b){for(var L=b.length,B=new Array(L);L--;)B[L]=r[b[L]];return B},i.pairs=function(r){for(var b=0,L=r.length-1,B,$=r[0],tt=new Array(L<0?0:L);b<L;)tt[b]=[B=$,$=r[++b]];return tt},i.transpose=function(r){if(!(tt=r.length))return[];for(var b=-1,L=i.min(r,x),B=new Array(L);++b<L;)for(var $=-1,tt,gt=B[b]=new Array(tt);++$<tt;)gt[$]=r[$][b];return B};function x(r){return r.length}i.zip=function(){return i.transpose(arguments)},i.keys=function(r){var b=[];for(var L in r)b.push(L);return b},i.values=function(r){var b=[];for(var L in r)b.push(r[L]);return b},i.entries=function(r){var b=[];for(var L in r)b.push({key:L,value:r[L]});return b},i.merge=function(r){for(var b=r.length,L,B=-1,$=0,tt,gt;++B<b;)$+=r[B].length;for(tt=new Array($);--b>=0;)for(gt=r[b],L=gt.length;--L>=0;)tt[--$]=gt[L];return tt};var u=Math.abs;i.range=function(r,b,L){if(arguments.length<3&&(L=1,arguments.length<2&&(b=r,r=0)),(b-r)/L===1/0)throw new Error("infinite range");var B=[],$=d(u(L)),tt=-1,gt;if(r*=$,b*=$,L*=$,L<0)for(;(gt=r+L*++tt)>b;)B.push(gt/$);else for(;(gt=r+L*++tt)<b;)B.push(gt/$);return B};function d(r){for(var b=1;r*b%1;)b*=10;return b}function m(r,b){for(var L in b)Object.defineProperty(r.prototype,L,{value:b[L],enumerable:!1})}i.map=function(r,b){var L=new w;if(r instanceof w)r.forEach(function(dt,wt){L.set(dt,wt)});else if(Array.isArray(r)){var B=-1,$=r.length,tt;if(arguments.length===1)for(;++B<$;)L.set(B,r[B]);else for(;++B<$;)L.set(b.call(r,tt=r[B],B),tt)}else for(var gt in r)L.set(gt,r[gt]);return L};function w(){this._=Object.create(null)}var k="__proto__",U="\0";m(w,{has:T,get:function(r){return this._[D(r)]},set:function(r,b){return this._[D(r)]=b},remove:Y,keys:z,values:function(){var r=[];for(var b in this._)r.push(this._[b]);return r},entries:function(){var r=[];for(var b in this._)r.push({key:C(b),value:this._[b]});return r},size:j,empty:F,forEach:function(r){for(var b in this._)r.call(this,C(b),this._[b])}});function D(r){return(r+="")===k||r[0]===U?U+r:r}function C(r){return(r+="")[0]===U?r.slice(1):r}function T(r){return D(r)in this._}function Y(r){return(r=D(r))in this._&&delete this._[r]}function z(){var r=[];for(var b in this._)r.push(C(b));return r}function j(){var r=0;for(var b in this._)++r;return r}function F(){for(var r in this._)return!1;return!0}i.nest=function(){var r={},b=[],L=[],B,$;function tt(dt,wt,Dt){if(Dt>=b.length)return $?$.call(r,wt):B?wt.sort(B):wt;for(var Pt=-1,Jt=wt.length,Qt=b[Dt++],fe,ye,Kt,se=new w,ue;++Pt<Jt;)(ue=se.get(fe=Qt(ye=wt[Pt])))?ue.push(ye):se.set(fe,[ye]);return dt?(ye=dt(),Kt=function(ge,me){ye.set(ge,tt(dt,me,Dt))}):(ye={},Kt=function(ge,me){ye[ge]=tt(dt,me,Dt)}),se.forEach(Kt),ye}function gt(dt,wt){if(wt>=b.length)return dt;var Dt=[],Pt=L[wt++];return dt.forEach(function(Jt,Qt){Dt.push({key:Jt,values:gt(Qt,wt)})}),Pt?Dt.sort(function(Jt,Qt){return Pt(Jt.key,Qt.key)}):Dt}return r.map=function(dt,wt){return tt(wt,dt,0)},r.entries=function(dt){return gt(tt(i.map,dt,0),0)},r.key=function(dt){return b.push(dt),r},r.sortKeys=function(dt){return L[b.length-1]=dt,r},r.sortValues=function(dt){return B=dt,r},r.rollup=function(dt){return $=dt,r},r},i.set=function(r){var b=new R;if(r)for(var L=0,B=r.length;L<B;++L)b.add(r[L]);return b};function R(){this._=Object.create(null)}m(R,{has:T,add:function(r){return this._[D(r+="")]=!0,r},remove:Y,values:z,size:j,empty:F,forEach:function(r){for(var b in this._)r.call(this,C(b))}}),i.behavior={};function Z(r){return r}i.rebind=function(r,b){for(var L=1,B=arguments.length,$;++L<B;)r[$=arguments[L]]=G(r,b,b[$]);return r};function G(r,b,L){return function(){var B=L.apply(b,arguments);return B===b?r:B}}function O(r,b){if(b in r)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var L=0,B=J.length;L<B;++L){var $=J[L]+b;if($ in r)return $}}var J=["webkit","ms","moz","Moz","o","O"];function X(){}i.dispatch=function(){for(var r=new it,b=-1,L=arguments.length;++b<L;)r[arguments[b]]=at(r);return r};function it(){}it.prototype.on=function(r,b){var L=r.indexOf("."),B="";if(L>=0&&(B=r.slice(L+1),r=r.slice(0,L)),r)return arguments.length<2?this[r].on(B):this[r].on(B,b);if(arguments.length===2){if(b==null)for(r in this)this.hasOwnProperty(r)&&this[r].on(B,null);return this}};function at(r){var b=[],L=new w;function B(){for(var $=b,tt=-1,gt=$.length,dt;++tt<gt;)(dt=$[tt].on)&&dt.apply(this,arguments);return r}return B.on=function($,tt){var gt=L.get($),dt;return arguments.length<2?gt&&gt.on:(gt&&(gt.on=null,b=b.slice(0,dt=b.indexOf(gt)).concat(b.slice(dt+1)),L.remove($)),tt&&b.push(L.set($,{on:tt})),r)},B}i.event=null;function ot(){i.event.preventDefault()}function ht(){for(var r=i.event,b;b=r.sourceEvent;)r=b;return r}function pt(r){for(var b=new it,L=0,B=arguments.length;++L<B;)b[arguments[L]]=at(b);return b.of=function($,tt){return function(gt){try{var dt=gt.sourceEvent=i.event;gt.target=r,i.event=gt,b[gt.type].apply($,tt)}finally{i.event=dt}}},b}i.requote=function(r){return r.replace(yt,"\\$&")};var yt=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(r,b){r.__proto__=b}:function(r,b){for(var L in b)r[L]=b[L]};function q(r){return H(r,I),r}var A=function(r,b){return b.querySelector(r)},W=function(r,b){return b.querySelectorAll(r)},rt=function(r,b){var L=r.matches||r[O(r,"matchesSelector")];return rt=function(B,$){return L.call(B,$)},rt(r,b)};typeof Sizzle=="function"&&(A=function(r,b){return Sizzle(r,b)[0]||null},W=Sizzle,rt=Sizzle.matchesSelector),i.selection=function(){return i.select(l.documentElement)};var I=i.selection.prototype=[];I.select=function(r){var b=[],L,B,$,tt;r=M(r);for(var gt=-1,dt=this.length;++gt<dt;){b.push(L=[]),L.parentNode=($=this[gt]).parentNode;for(var wt=-1,Dt=$.length;++wt<Dt;)(tt=$[wt])?(L.push(B=r.call(tt,tt.__data__,wt,gt)),B&&"__data__"in tt&&(B.__data__=tt.__data__)):L.push(null)}return q(b)};function M(r){return typeof r=="function"?r:function(){return A(r,this)}}I.selectAll=function(r){var b=[],L,B;r=S(r);for(var $=-1,tt=this.length;++$<tt;)for(var gt=this[$],dt=-1,wt=gt.length;++dt<wt;)(B=gt[dt])&&(b.push(L=a(r.call(B,B.__data__,dt,$))),L.parentNode=B);return q(b)};function S(r){return typeof r=="function"?r:function(){return W(r,this)}}var N="http://www.w3.org/1999/xhtml",V={svg:"http://www.w3.org/2000/svg",xhtml:N,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};i.ns={prefix:V,qualify:function(r){var b=r.indexOf(":"),L=r;return b>=0&&(L=r.slice(0,b))!=="xmlns"&&(r=r.slice(b+1)),V.hasOwnProperty(L)?{space:V[L],local:r}:r}},I.attr=function(r,b){if(arguments.length<2){if(typeof r=="string"){var L=this.node();return r=i.ns.qualify(r),r.local?L.getAttributeNS(r.space,r.local):L.getAttribute(r)}for(b in r)this.each(nt(b,r[b]));return this}return this.each(nt(r,b))};function nt(r,b){r=i.ns.qualify(r);function L(){this.removeAttribute(r)}function B(){this.removeAttributeNS(r.space,r.local)}function $(){this.setAttribute(r,b)}function tt(){this.setAttributeNS(r.space,r.local,b)}function gt(){var wt=b.apply(this,arguments);wt==null?this.removeAttribute(r):this.setAttribute(r,wt)}function dt(){var wt=b.apply(this,arguments);wt==null?this.removeAttributeNS(r.space,r.local):this.setAttributeNS(r.space,r.local,wt)}return b==null?r.local?B:L:typeof b=="function"?r.local?dt:gt:r.local?tt:$}function ut(r){return r.trim().replace(/\s+/g," ")}I.classed=function(r,b){if(arguments.length<2){if(typeof r=="string"){var L=this.node(),B=(r=bt(r)).length,$=-1;if(b=L.classList){for(;++$<B;)if(!b.contains(r[$]))return!1}else for(b=L.getAttribute("class");++$<B;)if(!ct(r[$]).test(b))return!1;return!0}for(b in r)this.each(kt(b,r[b]));return this}return this.each(kt(r,b))};function ct(r){return new RegExp("(?:^|\\s+)"+i.requote(r)+"(?:\\s+|$)","g")}function bt(r){return(r+"").trim().split(/^|\s+/)}function kt(r,b){r=bt(r).map(Et);var L=r.length;function B(){for(var tt=-1;++tt<L;)r[tt](this,b)}function $(){for(var tt=-1,gt=b.apply(this,arguments);++tt<L;)r[tt](this,gt)}return typeof b=="function"?$:B}function Et(r){var b=ct(r);return function(L,B){if($=L.classList)return B?$.add(r):$.remove(r);var $=L.getAttribute("class")||"";B?(b.lastIndex=0,b.test($)||L.setAttribute("class",ut($+" "+r))):L.setAttribute("class",ut($.replace(b," ")))}}I.style=function(r,b,L){var B=arguments.length;if(B<3){if(typeof r!="string"){B<2&&(b="");for(L in r)this.each(Gt(L,r[L],b));return this}if(B<2){var $=this.node();return o($).getComputedStyle($,null).getPropertyValue(r)}L=""}return this.each(Gt(r,b,L))};function Gt(r,b,L){function B(){this.style.removeProperty(r)}function $(){this.style.setProperty(r,b,L)}function tt(){var gt=b.apply(this,arguments);gt==null?this.style.removeProperty(r):this.style.setProperty(r,gt,L)}return b==null?B:typeof b=="function"?tt:$}I.property=function(r,b){if(arguments.length<2){if(typeof r=="string")return this.node()[r];for(b in r)this.each(Vt(b,r[b]));return this}return this.each(Vt(r,b))};function Vt(r,b){function L(){delete this[r]}function B(){this[r]=b}function $(){var tt=b.apply(this,arguments);tt==null?delete this[r]:this[r]=tt}return b==null?L:typeof b=="function"?$:B}I.text=function(r){return arguments.length?this.each(typeof r=="function"?function(){var b=r.apply(this,arguments);this.textContent=b??""}:r==null?function(){this.textContent=""}:function(){this.textContent=r}):this.node().textContent},I.html=function(r){return arguments.length?this.each(typeof r=="function"?function(){var b=r.apply(this,arguments);this.innerHTML=b??""}:r==null?function(){this.innerHTML=""}:function(){this.innerHTML=r}):this.node().innerHTML},I.append=function(r){return r=Ht(r),this.select(function(){return this.appendChild(r.apply(this,arguments))})};function Ht(r){function b(){var B=this.ownerDocument,$=this.namespaceURI;return $===N&&B.documentElement.namespaceURI===N?B.createElement(r):B.createElementNS($,r)}function L(){return this.ownerDocument.createElementNS(r.space,r.local)}return typeof r=="function"?r:(r=i.ns.qualify(r)).local?L:b}I.insert=function(r,b){return r=Ht(r),b=M(b),this.select(function(){return this.insertBefore(r.apply(this,arguments),b.apply(this,arguments)||null)})},I.remove=function(){return this.each(vt)};function vt(){var r=this.parentNode;r&&r.removeChild(this)}I.data=function(r,b){var L=-1,B=this.length,$,tt;if(!arguments.length){for(r=new Array(B=($=this[0]).length);++L<B;)(tt=$[L])&&(r[L]=tt.__data__);return r}function gt(Pt,Jt){var Qt,fe=Pt.length,ye=Jt.length,Kt=Math.min(fe,ye),se=new Array(ye),ue=new Array(ye),ge=new Array(fe),me,ce;if(b){var Ee=new w,Ge=new Array(fe),We;for(Qt=-1;++Qt<fe;)(me=Pt[Qt])&&(Ee.has(We=b.call(me,me.__data__,Qt))?ge[Qt]=me:Ee.set(We,me),Ge[Qt]=We);for(Qt=-1;++Qt<ye;)(me=Ee.get(We=b.call(Jt,ce=Jt[Qt],Qt)))?me!==!0&&(se[Qt]=me,me.__data__=ce):ue[Qt]=xt(ce),Ee.set(We,!0);for(Qt=-1;++Qt<fe;)Qt in Ge&&Ee.get(Ge[Qt])!==!0&&(ge[Qt]=Pt[Qt])}else{for(Qt=-1;++Qt<Kt;)me=Pt[Qt],ce=Jt[Qt],me?(me.__data__=ce,se[Qt]=me):ue[Qt]=xt(ce);for(;Qt<ye;++Qt)ue[Qt]=xt(Jt[Qt]);for(;Qt<fe;++Qt)ge[Qt]=Pt[Qt]}ue.update=se,ue.parentNode=se.parentNode=ge.parentNode=Pt.parentNode,dt.push(ue),wt.push(se),Dt.push(ge)}var dt=Ut([]),wt=q([]),Dt=q([]);if(typeof r=="function")for(;++L<B;)gt($=this[L],r.call($,$.parentNode.__data__,L));else for(;++L<B;)gt($=this[L],r);return wt.enter=function(){return dt},wt.exit=function(){return Dt},wt};function xt(r){return{__data__:r}}I.datum=function(r){return arguments.length?this.property("__data__",r):this.property("__data__")},I.filter=function(r){var b=[],L,B,$;typeof r!="function"&&(r=lt(r));for(var tt=0,gt=this.length;tt<gt;tt++){b.push(L=[]),L.parentNode=(B=this[tt]).parentNode;for(var dt=0,wt=B.length;dt<wt;dt++)($=B[dt])&&r.call($,$.__data__,dt,tt)&&L.push($)}return q(b)};function lt(r){return function(){return rt(this,r)}}I.order=function(){for(var r=-1,b=this.length;++r<b;)for(var L=this[r],B=L.length-1,$=L[B],tt;--B>=0;)(tt=L[B])&&($&&$!==tt.nextSibling&&$.parentNode.insertBefore(tt,$),$=tt);return this},I.sort=function(r){r=At.apply(this,arguments);for(var b=-1,L=this.length;++b<L;)this[b].sort(r);return this.order()};function At(r){return arguments.length||(r=h),function(b,L){return b&&L?r(b.__data__,L.__data__):!b-!L}}I.each=function(r){return Rt(this,function(b,L,B){r.call(b,b.__data__,L,B)})};function Rt(r,b){for(var L=0,B=r.length;L<B;L++)for(var $=r[L],tt=0,gt=$.length,dt;tt<gt;tt++)(dt=$[tt])&&b(dt,tt,L);return r}I.call=function(r){var b=a(arguments);return r.apply(b[0]=this,b),this},I.empty=function(){return!this.node()},I.node=function(){for(var r=0,b=this.length;r<b;r++)for(var L=this[r],B=0,$=L.length;B<$;B++){var tt=L[B];if(tt)return tt}return null},I.size=function(){var r=0;return Rt(this,function(){++r}),r};function Ut(r){return H(r,te),r}var te=[];i.selection.enter=Ut,i.selection.enter.prototype=te,te.append=I.append,te.empty=I.empty,te.node=I.node,te.call=I.call,te.size=I.size,te.select=function(r){for(var b=[],L,B,$,tt,gt,dt=-1,wt=this.length;++dt<wt;){$=(tt=this[dt]).update,b.push(L=[]),L.parentNode=tt.parentNode;for(var Dt=-1,Pt=tt.length;++Dt<Pt;)(gt=tt[Dt])?(L.push($[Dt]=B=r.call(tt.parentNode,gt.__data__,Dt,dt)),B.__data__=gt.__data__):L.push(null)}return q(b)},te.insert=function(r,b){return arguments.length<2&&(b=Wt(this)),I.insert.call(this,r,b)};function Wt(r){var b,L;return function(B,$,tt){var gt=r[tt].update,dt=gt.length,wt;for(tt!=L&&(L=tt,b=0),$>=b&&(b=$+1);!(wt=gt[b])&&++b<dt;);return wt}}i.select=function(r){var b;return typeof r=="string"?(b=[A(r,l)],b.parentNode=l.documentElement):(b=[r],b.parentNode=n(r)),q([b])},i.selectAll=function(r){var b;return typeof r=="string"?(b=a(W(r,l)),b.parentNode=l.documentElement):(b=a(r),b.parentNode=null),q([b])},I.on=function(r,b,L){var B=arguments.length;if(B<3){if(typeof r!="string"){B<2&&(b=!1);for(L in r)this.each(ae(L,r[L],b));return this}if(B<2)return(B=this.node()["__on"+r])&&B._;L=!1}return this.each(ae(r,b,L))};function ae(r,b,L){var B="__on"+r,$=r.indexOf("."),tt=re;$>0&&(r=r.slice(0,$));var gt=ne.get(r);gt&&(r=gt,tt=de);function dt(){var Pt=this[B];Pt&&(this.removeEventListener(r,Pt,Pt.$),delete this[B])}function wt(){var Pt=tt(b,a(arguments));dt.call(this),this.addEventListener(r,this[B]=Pt,Pt.$=L),Pt._=b}function Dt(){var Pt=new RegExp("^__on([^.]+)"+i.requote(r)+"$"),Jt;for(var Qt in this)if(Jt=Qt.match(Pt)){var fe=this[Qt];this.removeEventListener(Jt[1],fe,fe.$),delete this[Qt]}}return $?b?wt:dt:b?X:Dt}var ne=i.map({mouseenter:"mouseover",mouseleave:"mouseout"});l&&ne.forEach(function(r){"on"+r in l&&ne.remove(r)});function re(r,b){return function(L){var B=i.event;i.event=L,b[0]=this.__data__;try{r.apply(this,b)}finally{i.event=B}}}function de(r,b){var L=re(r,b);return function(B){var $=this,tt=B.relatedTarget;(!tt||tt!==$&&!(tt.compareDocumentPosition($)&8))&&L.call($,B)}}var $t,ve=0;function xe(r){var b=".dragsuppress-"+ ++ve,L="click"+b,B=i.select(o(r)).on("touchmove"+b,ot).on("dragstart"+b,ot).on("selectstart"+b,ot);if($t==null&&($t="onselectstart"in r?!1:O(r.style,"userSelect")),$t){var $=n(r).style,tt=$[$t];$[$t]="none"}return function(gt){if(B.on(b,null),$t&&($[$t]=tt),gt){var dt=function(){B.on(L,null)};B.on(L,function(){ot(),dt()},!0),setTimeout(dt,0)}}}i.mouse=function(r){return _e(r,ht())};var pe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function _e(r,b){b.changedTouches&&(b=b.changedTouches[0]);var L=r.ownerSVGElement||r;if(L.createSVGPoint){var B=L.createSVGPoint();if(pe<0){var $=o(r);if($.scrollX||$.scrollY){L=i.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var tt=L[0][0].getScreenCTM();pe=!(tt.f||tt.e),L.remove()}}return pe?(B.x=b.pageX,B.y=b.pageY):(B.x=b.clientX,B.y=b.clientY),B=B.matrixTransform(r.getScreenCTM().inverse()),[B.x,B.y]}var gt=r.getBoundingClientRect();return[b.clientX-gt.left-r.clientLeft,b.clientY-gt.top-r.clientTop]}i.touch=function(r,b,L){if(arguments.length<3&&(L=b,b=ht().changedTouches),b){for(var B=0,$=b.length,tt;B<$;++B)if((tt=b[B]).identifier===L)return _e(r,tt)}},i.behavior.drag=function(){var r=pt($,"drag","dragstart","dragend"),b=null,L=tt(X,i.mouse,o,"mousemove","mouseup"),B=tt(mt,i.touch,Z,"touchmove","touchend");function $(){this.on("mousedown.drag",L).on("touchstart.drag",B)}function tt(gt,dt,wt,Dt,Pt){return function(){var Jt=this,Qt=i.event.target.correspondingElement||i.event.target,fe=Jt.parentNode,ye=r.of(Jt,arguments),Kt=0,se=gt(),ue=".drag"+(se==null?"":"-"+se),ge,me=i.select(wt(Qt)).on(Dt+ue,Ge).on(Pt+ue,We),ce=xe(Qt),Ee=dt(fe,se);b?(ge=b.apply(Jt,arguments),ge=[ge.x-Ee[0],ge.y-Ee[1]]):ge=[0,0],ye({type:"dragstart"});function Ge(){var Je=dt(fe,se),ta,ea;Je&&(ta=Je[0]-Ee[0],ea=Je[1]-Ee[1],Kt|=ta|ea,Ee=Je,ye({type:"drag",x:Je[0]+ge[0],y:Je[1]+ge[1],dx:ta,dy:ea}))}function We(){dt(fe,se)&&(me.on(Dt+ue,null).on(Pt+ue,null),ce(Kt),ye({type:"dragend"}))}}}return $.origin=function(gt){return arguments.length?(b=gt,$):b},i.rebind($,r,"on")};function mt(){return i.event.changedTouches[0].identifier}i.touches=function(r,b){return arguments.length<2&&(b=ht().touches),b?a(b).map(function(L){var B=_e(r,L);return B.identifier=L.identifier,B}):[]};var Ct=1e-6,Q=Ct*Ct,st=Math.PI,ft=2*st,_t=ft-Ct,Tt=st/2,zt=st/180,Ft=180/st;function Zt(r,b,L){return(b[0]-r[0])*(L[1]-r[1])-(b[1]-r[1])*(L[0]-r[0])}function qt(r){return r>1?Tt:r<-1?-Tt:Math.asin(r)}function Yt(r){return((r=Math.exp(r))-1/r)/2}function ie(r){return((r=Math.exp(r))+1/r)/2}function oe(r){return((r=Math.exp(2*r))-1)/(r+1)}var le=Math.SQRT2,be=2,Ae=4;i.interpolateZoom=function(r,b){var L=r[0],B=r[1],$=r[2],tt=b[0],gt=b[1],dt=b[2],wt=tt-L,Dt=gt-B,Pt=wt*wt+Dt*Dt,Jt,Qt;if(Pt<Q)Qt=Math.log(dt/$)/le,Jt=function(ge){return[L+ge*wt,B+ge*Dt,$*Math.exp(le*ge*Qt)]};else{var fe=Math.sqrt(Pt),ye=(dt*dt-$*$+Ae*Pt)/(2*$*be*fe),Kt=(dt*dt-$*$-Ae*Pt)/(2*dt*be*fe),se=Math.log(Math.sqrt(ye*ye+1)-ye),ue=Math.log(Math.sqrt(Kt*Kt+1)-Kt);Qt=(ue-se)/le,Jt=function(ge){var me=ge*Qt,ce=ie(se),Ee=$/(be*fe)*(ce*oe(le*me+se)-Yt(se));return[L+Ee*wt,B+Ee*Dt,$*ce/ie(le*me+se)]}}return Jt.duration=Qt*1e3,Jt},i.behavior.zoom=function(){var r={x:0,y:0,k:1},b,L,B,$=[960,500],tt=Re,gt=250,dt=0,wt="mousedown.zoom",Dt="mousemove.zoom",Pt="mouseup.zoom",Jt,Qt="touchstart.zoom",fe,ye=pt(me,"zoomstart","zoom","zoomend"),Kt,se,ue,ge;Ye||(Ye="onwheel"in l?(Ve=function(){return-i.event.deltaY*(i.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(Ve=function(){return i.event.wheelDelta},"mousewheel"):(Ve=function(){return-i.event.detail},"MozMousePixelScroll"));function me(Ze){Ze.on(wt,ga).on(Ye+".zoom",dr).on("dblclick.zoom",Ua).on(Qt,Ia)}me.event=function(Ze){Ze.each(function(){var ba=ye.of(this,arguments),wa=r;Cn?i.select(this).transition().each("start.zoom",function(){r=this.__chart__||{x:0,y:0,k:1},ea(ba)}).tween("zoom:zoom",function(){var Ea=$[0],or=$[1],mr=L?L[0]:Ea/2,kr=L?L[1]:or/2,Fr=i.interpolateZoom([(mr-r.x)/r.k,(kr-r.y)/r.k,Ea/r.k],[(mr-wa.x)/wa.k,(kr-wa.y)/wa.k,Ea/wa.k]);return function(Hr){var Nr=Fr(Hr),Vr=Ea/Nr[2];this.__chart__=r={x:mr-Nr[0]*Vr,y:kr-Nr[1]*Vr,k:Vr},xa(ba)}}).each("interrupt.zoom",function(){na(ba)}).each("end.zoom",function(){na(ba)}):(this.__chart__=r,ea(ba),xa(ba),na(ba))})},me.translate=function(Ze){return arguments.length?(r={x:+Ze[0],y:+Ze[1],k:r.k},ta(),me):[r.x,r.y]},me.scale=function(Ze){return arguments.length?(r={x:r.x,y:r.y,k:null},Ge(+Ze),ta(),me):r.k},me.scaleExtent=function(Ze){return arguments.length?(tt=Ze==null?Re:[+Ze[0],+Ze[1]],me):tt},me.center=function(Ze){return arguments.length?(B=Ze&&[+Ze[0],+Ze[1]],me):B},me.size=function(Ze){return arguments.length?($=Ze&&[+Ze[0],+Ze[1]],me):$},me.duration=function(Ze){return arguments.length?(gt=+Ze,me):gt},me.x=function(Ze){return arguments.length?(se=Ze,Kt=Ze.copy(),r={x:0,y:0,k:1},me):se},me.y=function(Ze){return arguments.length?(ge=Ze,ue=Ze.copy(),r={x:0,y:0,k:1},me):ge};function ce(Ze){return[(Ze[0]-r.x)/r.k,(Ze[1]-r.y)/r.k]}function Ee(Ze){return[Ze[0]*r.k+r.x,Ze[1]*r.k+r.y]}function Ge(Ze){r.k=Math.max(tt[0],Math.min(tt[1],Ze))}function We(Ze,ba){ba=Ee(ba),r.x+=Ze[0]-ba[0],r.y+=Ze[1]-ba[1]}function Je(Ze,ba,wa,Ea){Ze.__chart__={x:r.x,y:r.y,k:r.k},Ge(Math.pow(2,Ea)),We(L=ba,wa),Ze=i.select(Ze),gt>0&&(Ze=Ze.transition().duration(gt)),Ze.call(me.event)}function ta(){se&&se.domain(Kt.range().map(function(Ze){return(Ze-r.x)/r.k}).map(Kt.invert)),ge&&ge.domain(ue.range().map(function(Ze){return(Ze-r.y)/r.k}).map(ue.invert))}function ea(Ze){dt++||Ze({type:"zoomstart"})}function xa(Ze){ta(),Ze({type:"zoom",scale:r.k,translate:[r.x,r.y]})}function na(Ze){--dt||(Ze({type:"zoomend"}),L=null)}function ga(){var Ze=this,ba=ye.of(Ze,arguments),wa=0,Ea=i.select(o(Ze)).on(Dt,kr).on(Pt,Fr),or=ce(i.mouse(Ze)),mr=xe(Ze);Oi.call(Ze),ea(ba);function kr(){wa=1,We(i.mouse(Ze),or),xa(ba)}function Fr(){Ea.on(Dt,null).on(Pt,null),mr(wa),na(ba)}}function Ia(){var Ze=this,ba=ye.of(Ze,arguments),wa={},Ea=0,or,mr=".zoom-"+i.event.changedTouches[0].identifier,kr="touchmove"+mr,Fr="touchend"+mr,Hr=[],Nr=i.select(Ze),Vr=xe(Ze);qr(),ea(ba),Nr.on(wt,null).on(Qt,qr);function Or(){var Kr=i.touches(Ze);return or=r.k,Kr.forEach(function(Ar){Ar.identifier in wa&&(wa[Ar.identifier]=ce(Ar))}),Kr}function qr(){var Kr=i.event.target;i.select(Kr).on(kr,On).on(Fr,Y1),Hr.push(Kr);for(var Ar=i.event.changedTouches,Wr=0,cn=Ar.length;Wr<cn;++Wr)wa[Ar[Wr].identifier]=null;var Xr=Or(),jn=Date.now();if(Xr.length===1){if(jn-fe<500){var Dn=Xr[0];Je(Ze,Dn,wa[Dn.identifier],Math.floor(Math.log(r.k)/Math.LN2)+1),ot()}fe=jn}else if(Xr.length>1){var Dn=Xr[0],Mn=Xr[1],zi=Dn[0]-Mn[0],du=Dn[1]-Mn[1];Ea=zi*zi+du*du}}function On(){var Kr=i.touches(Ze),Ar,Wr,cn,Xr;Oi.call(Ze);for(var jn=0,Dn=Kr.length;jn<Dn;++jn,Xr=null)if(cn=Kr[jn],Xr=wa[cn.identifier]){if(Wr)break;Ar=cn,Wr=Xr}if(Xr){var Mn=(Mn=cn[0]-Ar[0])*Mn+(Mn=cn[1]-Ar[1])*Mn,zi=Ea&&Math.sqrt(Mn/Ea);Ar=[(Ar[0]+cn[0])/2,(Ar[1]+cn[1])/2],Wr=[(Wr[0]+Xr[0])/2,(Wr[1]+Xr[1])/2],Ge(zi*or)}fe=null,We(Ar,Wr),xa(ba)}function Y1(){if(i.event.touches.length){for(var Kr=i.event.changedTouches,Ar=0,Wr=Kr.length;Ar<Wr;++Ar)delete wa[Kr[Ar].identifier];for(var cn in wa)return void Or()}i.selectAll(Hr).on(mr,null),Nr.on(wt,ga).on(Qt,Ia),Vr(),na(ba)}}function dr(){var Ze=ye.of(this,arguments);Jt?clearTimeout(Jt):(Oi.call(this),b=ce(L=B||i.mouse(this)),ea(Ze)),Jt=setTimeout(function(){Jt=null,na(Ze)},50),ot(),Ge(Math.pow(2,Ve()*.002)*r.k),We(L,b),xa(Ze)}function Ua(){var Ze=i.mouse(this),ba=Math.log(r.k)/Math.LN2;Je(this,Ze,ce(Ze),i.event.shiftKey?Math.ceil(ba)-1:Math.floor(ba)+1)}return i.rebind(me,ye,"on")};var Re=[0,1/0],Ve,Ye;i.color=Se;function Se(){}Se.prototype.toString=function(){return this.rgb()+""},i.hsl=we;function we(r,b,L){return this instanceof we?(this.h=+r,this.s=+b,void(this.l=+L)):arguments.length<2?r instanceof we?new we(r.h,r.s,r.l):It(""+r,jt,we):new we(r,b,L)}var Ne=we.prototype=new Se;Ne.brighter=function(r){return r=Math.pow(.7,arguments.length?r:1),new we(this.h,this.s,this.l/r)},Ne.darker=function(r){return r=Math.pow(.7,arguments.length?r:1),new we(this.h,this.s,r*this.l)},Ne.rgb=function(){return qe(this.h,this.s,this.l)};function qe(r,b,L){var B,$;r=isNaN(r)?0:(r%=360)<0?r+360:r,b=isNaN(b)||b<0?0:b>1?1:b,L=L<0?0:L>1?1:L,$=L<=.5?L*(1+b):L+b-L*b,B=2*L-$;function tt(dt){return dt>360?dt-=360:dt<0&&(dt+=360),dt<60?B+($-B)*dt/60:dt<180?$:dt<240?B+($-B)*(240-dt)/60:B}function gt(dt){return Math.round(tt(dt)*255)}return new Ce(gt(r+120),gt(r),gt(r-120))}i.hcl=Fe;function Fe(r,b,L){return this instanceof Fe?(this.h=+r,this.c=+b,void(this.l=+L)):arguments.length<2?r instanceof Fe?new Fe(r.h,r.c,r.l):r instanceof Le?ya(r.l,r.a,r.b):ya((r=Lt((r=i.rgb(r)).r,r.g,r.b)).l,r.a,r.b):new Fe(r,b,L)}var De=Fe.prototype=new Se;De.brighter=function(r){return new Fe(this.h,this.c,Math.min(100,this.l+Xe*(arguments.length?r:1)))},De.darker=function(r){return new Fe(this.h,this.c,Math.max(0,this.l-Xe*(arguments.length?r:1)))},De.rgb=function(){return Ie(this.h,this.c,this.l).rgb()};function Ie(r,b,L){return isNaN(r)&&(r=0),isNaN(b)&&(b=0),new Le(L,Math.cos(r*=zt)*b,Math.sin(r)*b)}i.lab=Le;function Le(r,b,L){return this instanceof Le?(this.l=+r,this.a=+b,void(this.b=+L)):arguments.length<2?r instanceof Le?new Le(r.l,r.a,r.b):r instanceof Fe?Ie(r.h,r.c,r.l):Lt((r=Ce(r)).r,r.g,r.b):new Le(r,b,L)}var Xe=18,aa=.95047,He=1,ra=1.08883,sa=Le.prototype=new Se;sa.brighter=function(r){return new Le(Math.min(100,this.l+Xe*(arguments.length?r:1)),this.a,this.b)},sa.darker=function(r){return new Le(Math.max(0,this.l-Xe*(arguments.length?r:1)),this.a,this.b)},sa.rgb=function(){return ma(this.l,this.a,this.b)};function ma(r,b,L){var B=(r+16)/116,$=B+b/500,tt=B-L/200;return $=Qe($)*aa,B=Qe(B)*He,tt=Qe(tt)*ra,new Ce(oa(3.2404542*$-1.5371385*B-.4985314*tt),oa(-.969266*$+1.8760108*B+.041556*tt),oa(.0556434*$-.2040259*B+1.0572252*tt))}function ya(r,b,L){return r>0?new Fe(Math.atan2(L,b)*Ft,Math.sqrt(b*b+L*L),r):new Fe(NaN,NaN,r)}function Qe(r){return r>.206893034?r*r*r:(r-4/29)/7.787037}function ha(r){return r>.008856?Math.pow(r,1/3):7.787037*r+4/29}function oa(r){return Math.round(255*(r<=.00304?12.92*r:1.055*Math.pow(r,1/2.4)-.055))}i.rgb=Ce;function Ce(r,b,L){return this instanceof Ce?(this.r=~~r,this.g=~~b,void(this.b=~~L)):arguments.length<2?r instanceof Ce?new Ce(r.r,r.g,r.b):It(""+r,Ce,qe):new Ce(r,b,L)}function Ma(r){return new Ce(r>>16,r>>8&255,r&255)}function et(r){return Ma(r)+""}var K=Ce.prototype=new Se;K.brighter=function(r){r=Math.pow(.7,arguments.length?r:1);var b=this.r,L=this.g,B=this.b,$=30;return!b&&!L&&!B?new Ce($,$,$):(b&&b<$&&(b=$),L&&L<$&&(L=$),B&&B<$&&(B=$),new Ce(Math.min(255,b/r),Math.min(255,L/r),Math.min(255,B/r)))},K.darker=function(r){return r=Math.pow(.7,arguments.length?r:1),new Ce(r*this.r,r*this.g,r*this.b)},K.hsl=function(){return jt(this.r,this.g,this.b)},K.toString=function(){return"#"+St(this.r)+St(this.g)+St(this.b)};function St(r){return r<16?"0"+Math.max(0,r).toString(16):Math.min(255,r).toString(16)}function It(r,b,L){var B=0,$=0,tt=0,gt,dt,wt;if(gt=/([a-z]+)\((.*)\)/.exec(r=r.toLowerCase()),gt)switch(dt=gt[2].split(","),gt[1]){case"hsl":return L(parseFloat(dt[0]),parseFloat(dt[1])/100,parseFloat(dt[2])/100);case"rgb":return b(Bt(dt[0]),Bt(dt[1]),Bt(dt[2]))}return(wt=Nt.get(r))?b(wt.r,wt.g,wt.b):(r!=null&&r.charAt(0)==="#"&&!isNaN(wt=parseInt(r.slice(1),16))&&(r.length===4?(B=(wt&3840)>>4,B=B>>4|B,$=wt&240,$=$>>4|$,tt=wt&15,tt=tt<<4|tt):r.length===7&&(B=(wt&16711680)>>16,$=(wt&65280)>>8,tt=wt&255)),b(B,$,tt))}function jt(r,b,L){var B=Math.min(r/=255,b/=255,L/=255),$=Math.max(r,b,L),tt=$-B,gt,dt,wt=($+B)/2;return tt?(dt=wt<.5?tt/($+B):tt/(2-$-B),r==$?gt=(b-L)/tt+(b<L?6:0):b==$?gt=(L-r)/tt+2:gt=(r-b)/tt+4,gt*=60):(gt=NaN,dt=wt>0&&wt<1?0:gt),new we(gt,dt,wt)}function Lt(r,b,L){r=Ot(r),b=Ot(b),L=Ot(L);var B=ha((.4124564*r+.3575761*b+.1804375*L)/aa),$=ha((.2126729*r+.7151522*b+.072175*L)/He),tt=ha((.0193339*r+.119192*b+.9503041*L)/ra);return Le(116*$-16,500*(B-$),200*($-tt))}function Ot(r){return(r/=255)<=.04045?r/12.92:Math.pow((r+.055)/1.055,2.4)}function Bt(r){var b=parseFloat(r);return r.charAt(r.length-1)==="%"?Math.round(b*2.55):b}var Nt=i.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Nt.forEach(function(r,b){Nt.set(r,Ma(b))});function Xt(r){return typeof r=="function"?r:function(){return r}}i.functor=Xt,i.xhr=ee(Z);function ee(r){return function(b,L,B){return arguments.length===2&&typeof L=="function"&&(B=L,L=null),he(b,L,r,B)}}function he(r,b,L,B){var $={},tt=i.dispatch("beforesend","progress","load","error"),gt={},dt=new XMLHttpRequest,wt=null;self.XDomainRequest&&!("withCredentials"in dt)&&/^(http(s)?:)?\/\//.test(r)&&(dt=new XDomainRequest),"onload"in dt?dt.onload=dt.onerror=Dt:dt.onreadystatechange=function(){dt.readyState>3&&Dt()};function Dt(){var Pt=dt.status,Jt;if(!Pt&&Te(dt)||Pt>=200&&Pt<300||Pt===304){try{Jt=L.call($,dt)}catch(Qt){tt.error.call($,Qt);return}tt.load.call($,Jt)}else tt.error.call($,dt)}return dt.onprogress=function(Pt){var Jt=i.event;i.event=Pt;try{tt.progress.call($,dt)}finally{i.event=Jt}},$.header=function(Pt,Jt){return Pt=(Pt+"").toLowerCase(),arguments.length<2?gt[Pt]:(Jt==null?delete gt[Pt]:gt[Pt]=Jt+"",$)},$.mimeType=function(Pt){return arguments.length?(b=Pt==null?null:Pt+"",$):b},$.responseType=function(Pt){return arguments.length?(wt=Pt,$):wt},$.response=function(Pt){return L=Pt,$},["get","post"].forEach(function(Pt){$[Pt]=function(){return $.send.apply($,[Pt].concat(a(arguments)))}}),$.send=function(Pt,Jt,Qt){if(arguments.length===2&&typeof Jt=="function"&&(Qt=Jt,Jt=null),dt.open(Pt,r,!0),b!=null&&!("accept"in gt)&&(gt.accept=b+",*/*"),dt.setRequestHeader)for(var fe in gt)dt.setRequestHeader(fe,gt[fe]);return b!=null&&dt.overrideMimeType&&dt.overrideMimeType(b),wt!=null&&(dt.responseType=wt),Qt!=null&&$.on("error",Qt).on("load",function(ye){Qt(null,ye)}),tt.beforesend.call($,dt),dt.send(Jt??null),$},$.abort=function(){return dt.abort(),$},i.rebind($,tt,"on"),B==null?$:$.get(ke(B))}function ke(r){return r.length===1?function(b,L){r(b==null?L:null)}:r}function Te(r){var b=r.responseType;return b&&b!=="text"?r.response:r.responseText}i.dsv=function(r,b){var L=new RegExp('["'+r+`
]`),B=r.charCodeAt(0);function $(Dt,Pt,Jt){arguments.length<3&&(Jt=Pt,Pt=null);var Qt=he(Dt,b,Pt==null?tt:gt(Pt),Jt);return Qt.row=function(fe){return arguments.length?Qt.response((Pt=fe)==null?tt:gt(fe)):Pt},Qt}function tt(Dt){return $.parse(Dt.responseText)}function gt(Dt){return function(Pt){return $.parse(Pt.responseText,Dt)}}$.parse=function(Dt,Pt){var Jt;return $.parseRows(Dt,function(Qt,fe){if(Jt)return Jt(Qt,fe-1);var ye=function(Kt){for(var se={},ue=Qt.length,ge=0;ge<ue;++ge)se[Qt[ge]]=Kt[ge];return se};Jt=Pt?function(Kt,se){return Pt(ye(Kt),se)}:ye})},$.parseRows=function(Dt,Pt){var Jt={},Qt={},fe=[],ye=Dt.length,Kt=0,se=0,ue,ge;function me(){if(Kt>=ye)return Qt;if(ge)return ge=!1,Jt;var Ee=Kt;if(Dt.charCodeAt(Ee)===34){for(var Ge=Ee;Ge++<ye;)if(Dt.charCodeAt(Ge)===34){if(Dt.charCodeAt(Ge+1)!==34)break;++Ge}Kt=Ge+2;var We=Dt.charCodeAt(Ge+1);return We===13?(ge=!0,Dt.charCodeAt(Ge+2)===10&&++Kt):We===10&&(ge=!0),Dt.slice(Ee+1,Ge).replace(/""/g,'"')}for(;Kt<ye;){var We=Dt.charCodeAt(Kt++),Je=1;if(We===10)ge=!0;else if(We===13)ge=!0,Dt.charCodeAt(Kt)===10&&(++Kt,++Je);else if(We!==B)continue;return Dt.slice(Ee,Kt-Je)}return Dt.slice(Ee)}for(;(ue=me())!==Qt;){for(var ce=[];ue!==Jt&&ue!==Qt;)ce.push(ue),ue=me();Pt&&(ce=Pt(ce,se++))==null||fe.push(ce)}return fe},$.format=function(Dt){if(Array.isArray(Dt[0]))return $.formatRows(Dt);var Pt=new R,Jt=[];return Dt.forEach(function(Qt){for(var fe in Qt)Pt.has(fe)||Jt.push(Pt.add(fe))}),[Jt.map(wt).join(r)].concat(Dt.map(function(Qt){return Jt.map(function(fe){return wt(Qt[fe])}).join(r)})).join(`
`)},$.formatRows=function(Dt){return Dt.map(dt).join(`
`)};function dt(Dt){return Dt.map(wt).join(r)}function wt(Dt){return L.test(Dt)?'"'+Dt.replace(/\"/g,'""')+'"':Dt}return $},i.csv=i.dsv(",","text/csv"),i.tsv=i.dsv("	","text/tab-separated-values");var Pe,Me,ze,je,pa=this[O(this,"requestAnimationFrame")]||function(r){setTimeout(r,17)};i.timer=function(){$e.apply(this,arguments)};function $e(r,b,L){var B=arguments.length;B<2&&(b=0),B<3&&(L=Date.now());var $=L+b,tt={c:r,t:$,n:null};return Me?Me.n=tt:Pe=tt,Me=tt,ze||(je=clearTimeout(je),ze=1,pa(Aa)),tt}function Aa(){var r=ia(),b=Ca()-r;b>24?(isFinite(b)&&(clearTimeout(je),je=setTimeout(Aa,b)),ze=0):(ze=1,pa(Aa))}i.timer.flush=function(){ia(),Ca()};function ia(){for(var r=Date.now(),b=Pe;b;)r>=b.t&&b.c(r-b.t)&&(b.c=null),b=b.n;return r}function Ca(){for(var r,b=Pe,L=1/0;b;)b.c?(b.t<L&&(L=b.t),b=(r=b).n):b=r?r.n=b.n:Pe=b.n;return Me=r,L}i.round=function(r,b){return b?Math.round(r*(b=Math.pow(10,b)))/b:Math.round(r)},i.geom={};function ka(r){return r[0]}function Va(r){return r[1]}i.geom.hull=function(r){var b=ka,L=Va;if(arguments.length)return B(r);function B($){if($.length<3)return[];var tt=Xt(b),gt=Xt(L),dt,wt=$.length,Dt=[],Pt=[];for(dt=0;dt<wt;dt++)Dt.push([+tt.call(this,$[dt],dt),+gt.call(this,$[dt],dt),dt]);for(Dt.sort(la),dt=0;dt<wt;dt++)Pt.push([Dt[dt][0],-Dt[dt][1]]);var Jt=Na(Dt),Qt=Na(Pt),fe=Qt[0]===Jt[0],ye=Qt[Qt.length-1]===Jt[Jt.length-1],Kt=[];for(dt=Jt.length-1;dt>=0;--dt)Kt.push($[Dt[Jt[dt]][2]]);for(dt=+fe;dt<Qt.length-ye;++dt)Kt.push($[Dt[Qt[dt]][2]]);return Kt}return B.x=function($){return arguments.length?(b=$,B):b},B.y=function($){return arguments.length?(L=$,B):L},B};function Na(r){for(var b=r.length,L=[0,1],B=2,$=2;$<b;$++){for(;B>1&&Zt(r[L[B-2]],r[L[B-1]],r[$])<=0;)--B;L[B++]=$}return L.slice(0,B)}function la(r,b){return r[0]-b[0]||r[1]-b[1]}i.geom.polygon=function(r){return H(r,Ja),r};var Ja=i.geom.polygon.prototype=[];Ja.area=function(){for(var r=-1,b=this.length,L,B=this[b-1],$=0;++r<b;)L=B,B=this[r],$+=L[1]*B[0]-L[0]*B[1];return $*.5},Ja.centroid=function(r){var b=-1,L=this.length,B=0,$=0,tt,gt=this[L-1],dt;for(arguments.length||(r=-1/(6*this.area()));++b<L;)tt=gt,gt=this[b],dt=tt[0]*gt[1]-gt[0]*tt[1],B+=(tt[0]+gt[0])*dt,$+=(tt[1]+gt[1])*dt;return[B*r,$*r]},Ja.clip=function(r){for(var b,L=ja(r),B=-1,$=this.length-ja(this),tt,gt,dt=this[$-1],wt,Dt,Pt;++B<$;){for(b=r.slice(),r.length=0,wt=this[B],Dt=b[(gt=b.length-L)-1],tt=-1;++tt<gt;)Pt=b[tt],Ra(Pt,dt,wt)?(Ra(Dt,dt,wt)||r.push(fa(Dt,Pt,dt,wt)),r.push(Pt)):Ra(Dt,dt,wt)&&r.push(fa(Dt,Pt,dt,wt)),Dt=Pt;L&&r.push(r[0]),dt=wt}return r};function Ra(r,b,L){return(L[0]-b[0])*(r[1]-b[1])<(L[1]-b[1])*(r[0]-b[0])}function fa(r,b,L,B){var $=r[0],tt=L[0],gt=b[0]-$,dt=B[0]-tt,wt=r[1],Dt=L[1],Pt=b[1]-wt,Jt=B[1]-Dt,Qt=(dt*(wt-Dt)-Jt*($-tt))/(Jt*gt-dt*Pt);return[$+Qt*gt,wt+Qt*Pt]}function ja(r){var b=r[0],L=r[r.length-1];return!(b[0]-L[0]||b[1]-L[1])}var qa,Ha,tr,br=[],_a,Da,La=[];function Pa(){nr(this),this.edge=this.site=this.circle=null}function Wa(r){var b=br.pop()||new Pa;return b.site=r,b}function er(r){cr(r),tr.remove(r),br.push(r),nr(r)}function sr(r){var b=r.circle,L=b.x,B=b.cy,$={x:L,y:B},tt=r.P,gt=r.N,dt=[r];er(r);for(var wt=tt;wt.circle&&u(L-wt.circle.x)<Ct&&u(B-wt.circle.cy)<Ct;)tt=wt.P,dt.unshift(wt),er(wt),wt=tt;dt.unshift(wt),cr(wt);for(var Dt=gt;Dt.circle&&u(L-Dt.circle.x)<Ct&&u(B-Dt.circle.cy)<Ct;)gt=Dt.N,dt.push(Dt),er(Dt),Dt=gt;dt.push(Dt),cr(Dt);var Pt=dt.length,Jt;for(Jt=1;Jt<Pt;++Jt)Dt=dt[Jt],wt=dt[Jt-1],Xa(Dt.edge,wt.site,Dt.site,$);wt=dt[0],Dt=dt[Pt-1],Dt.edge=Zr(wt.site,Dt.site,null,$),vr(wt),vr(Dt)}function ar(r){for(var b=r.x,L=r.y,B,$,tt,gt,dt=tr._;dt;)if(tt=pr(dt,L)-b,tt>Ct)dt=dt.L;else if(gt=b-rr(dt,L),gt>Ct){if(!dt.R){B=dt;break}dt=dt.R}else{tt>-Ct?(B=dt.P,$=dt):gt>-Ct?(B=dt,$=dt.N):B=$=dt;break}var wt=Wa(r);if(tr.insert(B,wt),!(!B&&!$)){if(B===$){cr(B),$=Wa(B.site),tr.insert(wt,$),wt.edge=$.edge=Zr(B.site,wt.site),vr(B),vr($);return}if(!$){wt.edge=Zr(B.site,wt.site);return}cr(B),cr($);var Dt=B.site,Pt=Dt.x,Jt=Dt.y,Qt=r.x-Pt,fe=r.y-Jt,ye=$.site,Kt=ye.x-Pt,se=ye.y-Jt,ue=2*(Qt*se-fe*Kt),ge=Qt*Qt+fe*fe,me=Kt*Kt+se*se,ce={x:(se*ge-fe*me)/ue+Pt,y:(Qt*me-Kt*ge)/ue+Jt};Xa($.edge,Dt,ye,ce),wt.edge=Zr(Dt,r,null,ce),$.edge=Zr(r,ye,null,ce),vr(B),vr($)}}function pr(r,b){var L=r.site,B=L.x,$=L.y,tt=$-b;if(!tt)return B;var gt=r.P;if(!gt)return-1/0;L=gt.site;var dt=L.x,wt=L.y,Dt=wt-b;if(!Dt)return dt;var Pt=dt-B,Jt=1/tt-1/Dt,Qt=Pt/Dt;return Jt?(-Qt+Math.sqrt(Qt*Qt-2*Jt*(Pt*Pt/(-2*Dt)-wt+Dt/2+$-tt/2)))/Jt+B:(B+dt)/2}function rr(r,b){var L=r.N;if(L)return pr(L,b);var B=r.site;return B.y===b?B.x:1/0}function Sa(r){this.site=r,this.edges=[]}Sa.prototype.prepare=function(){for(var r=this.edges,b=r.length,L;b--;)L=r[b].edge,(!L.b||!L.a)&&r.splice(b,1);return r.sort(ur),r.length};function Er(r){for(var b=r[0][0],L=r[1][0],B=r[0][1],$=r[1][1],tt,gt,dt,wt,Dt=Ha,Pt=Dt.length,Jt,Qt,fe,ye,Kt,se;Pt--;)if(Jt=Dt[Pt],!(!Jt||!Jt.prepare()))for(fe=Jt.edges,ye=fe.length,Qt=0;Qt<ye;)se=fe[Qt].end(),dt=se.x,wt=se.y,Kt=fe[++Qt%ye].start(),tt=Kt.x,gt=Kt.y,(u(dt-tt)>Ct||u(wt-gt)>Ct)&&(fe.splice(Qt,0,new ir(za(Jt.site,se,u(dt-b)<Ct&&$-wt>Ct?{x:b,y:u(tt-b)<Ct?gt:$}:u(wt-$)<Ct&&L-dt>Ct?{x:u(gt-$)<Ct?tt:L,y:$}:u(dt-L)<Ct&&wt-B>Ct?{x:L,y:u(tt-L)<Ct?gt:B}:u(wt-B)<Ct&&dt-b>Ct?{x:u(gt-B)<Ct?tt:b,y:B}:null),Jt.site,null)),++ye)}function ur(r,b){return b.angle-r.angle}function wr(){nr(this),this.x=this.y=this.arc=this.site=this.cy=null}function vr(r){var b=r.P,L=r.N;if(!(!b||!L)){var B=b.site,$=r.site,tt=L.site;if(B!==tt){var gt=$.x,dt=$.y,wt=B.x-gt,Dt=B.y-dt,Pt=tt.x-gt,Jt=tt.y-dt,Qt=2*(wt*Jt-Dt*Pt);if(!(Qt>=-Q)){var fe=wt*wt+Dt*Dt,ye=Pt*Pt+Jt*Jt,Kt=(Jt*fe-Dt*ye)/Qt,se=(wt*ye-Pt*fe)/Qt,Jt=se+dt,ue=La.pop()||new wr;ue.arc=r,ue.site=$,ue.x=Kt+gt,ue.y=Jt+Math.sqrt(Kt*Kt+se*se),ue.cy=Jt,r.circle=ue;for(var ge=null,me=Da._;me;)if(ue.y<me.y||ue.y===me.y&&ue.x<=me.x)if(me.L)me=me.L;else{ge=me.P;break}else if(me.R)me=me.R;else{ge=me;break}Da.insert(ge,ue),ge||(_a=ue)}}}}function cr(r){var b=r.circle;b&&(b.P||(_a=b.N),Da.remove(b),La.push(b),nr(b),r.circle=null)}function Br(r,b,L,B){return function($){var tt=$.a,gt=$.b,dt=tt.x,wt=tt.y,Dt=gt.x,Pt=gt.y,Jt=0,Qt=1,fe=Dt-dt,ye=Pt-wt,Kt;if(Kt=r-dt,!(!fe&&Kt>0)){if(Kt/=fe,fe<0){if(Kt<Jt)return;Kt<Qt&&(Qt=Kt)}else if(fe>0){if(Kt>Qt)return;Kt>Jt&&(Jt=Kt)}if(Kt=L-dt,!(!fe&&Kt<0)){if(Kt/=fe,fe<0){if(Kt>Qt)return;Kt>Jt&&(Jt=Kt)}else if(fe>0){if(Kt<Jt)return;Kt<Qt&&(Qt=Kt)}if(Kt=b-wt,!(!ye&&Kt>0)){if(Kt/=ye,ye<0){if(Kt<Jt)return;Kt<Qt&&(Qt=Kt)}else if(ye>0){if(Kt>Qt)return;Kt>Jt&&(Jt=Kt)}if(Kt=B-wt,!(!ye&&Kt<0)){if(Kt/=ye,ye<0){if(Kt>Qt)return;Kt>Jt&&(Jt=Kt)}else if(ye>0){if(Kt<Jt)return;Kt<Qt&&(Qt=Kt)}return Jt>0&&($.a={x:dt+Jt*fe,y:wt+Jt*ye}),Qt<1&&($.b={x:dt+Qt*fe,y:wt+Qt*ye}),$}}}}}}function Cr(r){for(var b=qa,L=Br(r[0][0],r[0][1],r[1][0],r[1][1]),B=b.length,$;B--;)$=b[B],(!fr($,r)||!L($)||u($.a.x-$.b.x)<Ct&&u($.a.y-$.b.y)<Ct)&&($.a=$.b=null,b.splice(B,1))}function fr(r,b){var L=r.b;if(L)return!0;var B=r.a,$=b[0][0],tt=b[1][0],gt=b[0][1],dt=b[1][1],wt=r.l,Dt=r.r,Pt=wt.x,Jt=wt.y,Qt=Dt.x,fe=Dt.y,ye=(Pt+Qt)/2,Kt=(Jt+fe)/2,se,ue;if(fe===Jt){if(ye<$||ye>=tt)return;if(Pt>Qt){if(!B)B={x:ye,y:gt};else if(B.y>=dt)return;L={x:ye,y:dt}}else{if(!B)B={x:ye,y:dt};else if(B.y<gt)return;L={x:ye,y:gt}}}else if(se=(Pt-Qt)/(fe-Jt),ue=Kt-se*ye,se<-1||se>1)if(Pt>Qt){if(!B)B={x:(gt-ue)/se,y:gt};else if(B.y>=dt)return;L={x:(dt-ue)/se,y:dt}}else{if(!B)B={x:(dt-ue)/se,y:dt};else if(B.y<gt)return;L={x:(gt-ue)/se,y:gt}}else if(Jt<fe){if(!B)B={x:$,y:se*$+ue};else if(B.x>=tt)return;L={x:tt,y:se*tt+ue}}else{if(!B)B={x:tt,y:se*tt+ue};else if(B.x<$)return;L={x:$,y:se*$+ue}}return r.a=B,r.b=L,!0}function jr(r,b){this.l=r,this.r=b,this.a=this.b=null}function Zr(r,b,L,B){var $=new jr(r,b);return qa.push($),L&&Xa($,r,b,L),B&&Xa($,b,r,B),Ha[r.i].edges.push(new ir($,r,b)),Ha[b.i].edges.push(new ir($,b,r)),$}function za(r,b,L){var B=new jr(r,null);return B.a=b,B.b=L,qa.push(B),B}function Xa(r,b,L,B){!r.a&&!r.b?(r.a=B,r.l=b,r.r=L):r.l===L?r.b=B:r.a=B}function ir(r,b,L){var B=r.a,$=r.b;this.edge=r,this.site=b,this.angle=L?Math.atan2(L.y-b.y,L.x-b.x):r.l===b?Math.atan2($.x-B.x,B.y-$.y):Math.atan2(B.x-$.x,$.y-B.y)}ir.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Mr(){this._=null}function nr(r){r.U=r.C=r.L=r.R=r.P=r.N=null}Mr.prototype={insert:function(r,b){var L,B,$;if(r){if(b.P=r,b.N=r.N,r.N&&(r.N.P=b),r.N=b,r.R){for(r=r.R;r.L;)r=r.L;r.L=b}else r.R=b;L=r}else this._?(r=bn(this._),b.P=null,b.N=r,r.P=r.L=b,L=r):(b.P=b.N=null,this._=b,L=null);for(b.L=b.R=null,b.U=L,b.C=!0,r=b;L&&L.C;)B=L.U,L===B.L?($=B.R,$&&$.C?(L.C=$.C=!1,B.C=!0,r=B):(r===L.R&&(Ba(this,L),r=L,L=r.U),L.C=!1,B.C=!0,Tr(this,B))):($=B.L,$&&$.C?(L.C=$.C=!1,B.C=!0,r=B):(r===L.L&&(Tr(this,L),r=L,L=r.U),L.C=!1,B.C=!0,Ba(this,B))),L=r.U;this._.C=!1},remove:function(r){r.N&&(r.N.P=r.P),r.P&&(r.P.N=r.N),r.N=r.P=null;var b=r.U,L,B=r.L,$=r.R,tt,gt;if(B?$?tt=bn($):tt=B:tt=$,b?b.L===r?b.L=tt:b.R=tt:this._=tt,B&&$?(gt=tt.C,tt.C=r.C,tt.L=B,B.U=tt,tt!==$?(b=tt.U,tt.U=r.U,r=tt.R,b.L=r,tt.R=$,$.U=tt):(tt.U=b,b=tt,r=tt.R)):(gt=r.C,r=tt),r&&(r.U=b),!gt){if(r&&r.C){r.C=!1;return}do{if(r===this._)break;if(r===b.L){if(L=b.R,L.C&&(L.C=!1,b.C=!0,Ba(this,b),L=b.R),L.L&&L.L.C||L.R&&L.R.C){(!L.R||!L.R.C)&&(L.L.C=!1,L.C=!0,Tr(this,L),L=b.R),L.C=b.C,b.C=L.R.C=!1,Ba(this,b),r=this._;break}}else if(L=b.L,L.C&&(L.C=!1,b.C=!0,Tr(this,b),L=b.L),L.L&&L.L.C||L.R&&L.R.C){(!L.L||!L.L.C)&&(L.R.C=!1,L.C=!0,Ba(this,L),L=b.L),L.C=b.C,b.C=L.L.C=!1,Tr(this,b),r=this._;break}L.C=!0,r=b,b=b.U}while(!r.C);r&&(r.C=!1)}}};function Ba(r,b){var L=b,B=b.R,$=L.U;$?$.L===L?$.L=B:$.R=B:r._=B,B.U=$,L.U=B,L.R=B.L,L.R&&(L.R.U=L),B.L=L}function Tr(r,b){var L=b,B=b.L,$=L.U;$?$.L===L?$.L=B:$.R=B:r._=B,B.U=$,L.U=B,L.L=B.R,L.L&&(L.L.U=L),B.R=L}function bn(r){for(;r.L;)r=r.L;return r}function ln(r,b){var L=r.sort(Wn).pop(),B,$,tt;for(qa=[],Ha=new Array(r.length),tr=new Mr,Da=new Mr;;)if(tt=_a,L&&(!tt||L.y<tt.y||L.y===tt.y&&L.x<tt.x))(L.x!==B||L.y!==$)&&(Ha[L.i]=new Sa(L),ar(L),B=L.x,$=L.y),L=r.pop();else if(tt)sr(tt.arc);else break;b&&(Cr(b),Er(b));var gt={cells:Ha,edges:qa};return tr=Da=qa=Ha=null,gt}function Wn(r,b){return b.y-r.y||b.x-r.x}i.geom.voronoi=function(r){var b=ka,L=Va,B=b,$=L,tt=sn;if(r)return gt(r);function gt(wt){var Dt=new Array(wt.length),Pt=tt[0][0],Jt=tt[0][1],Qt=tt[1][0],fe=tt[1][1];return ln(dt(wt),tt).cells.forEach(function(ye,Kt){var se=ye.edges,ue=ye.site,ge=Dt[Kt]=se.length?se.map(function(me){var ce=me.start();return[ce.x,ce.y]}):ue.x>=Pt&&ue.x<=Qt&&ue.y>=Jt&&ue.y<=fe?[[Pt,fe],[Qt,fe],[Qt,Jt],[Pt,Jt]]:[];ge.point=wt[Kt]}),Dt}function dt(wt){return wt.map(function(Dt,Pt){return{x:Math.round(B(Dt,Pt)/Ct)*Ct,y:Math.round($(Dt,Pt)/Ct)*Ct,i:Pt}})}return gt.links=function(wt){return ln(dt(wt)).edges.filter(function(Dt){return Dt.l&&Dt.r}).map(function(Dt){return{source:wt[Dt.l.i],target:wt[Dt.r.i]}})},gt.triangles=function(wt){var Dt=[];return ln(dt(wt)).cells.forEach(function(Pt,Jt){for(var Qt=Pt.site,fe=Pt.edges.sort(ur),ye=-1,Kt=fe.length,se,ue,ge=fe[Kt-1].edge,me=ge.l===Qt?ge.r:ge.l;++ye<Kt;)se=ge,ue=me,ge=fe[ye].edge,me=ge.l===Qt?ge.r:ge.l,Jt<ue.i&&Jt<me.i&&yi(Qt,ue,me)<0&&Dt.push([wt[Jt],wt[ue.i],wt[me.i]])}),Dt},gt.x=function(wt){return arguments.length?(B=Xt(b=wt),gt):b},gt.y=function(wt){return arguments.length?($=Xt(L=wt),gt):L},gt.clipExtent=function(wt){return arguments.length?(tt=wt??sn,gt):tt===sn?null:tt},gt.size=function(wt){return arguments.length?gt.clipExtent(wt&&[[0,0],wt]):tt===sn?null:tt&&tt[1]},gt};var sn=[[-1e6,-1e6],[1e6,1e6]];function yi(r,b,L){return(r.x-L.x)*(b.y-r.y)-(r.x-b.x)*(L.y-r.y)}i.geom.delaunay=function(r){return i.geom.voronoi().triangles(r)},i.geom.quadtree=function(r,b,L,B,$){var tt=ka,gt=Va,dt;if(dt=arguments.length)return tt=xi,gt=bi,dt===3&&($=L,B=b,L=b=0),wt(r);function wt(Dt){var Pt,Jt=Xt(tt),Qt=Xt(gt),fe,ye,Kt,se,ue,ge,me,ce;if(b!=null)ue=b,ge=L,me=B,ce=$;else if(me=ce=-(ue=ge=1/0),fe=[],ye=[],se=Dt.length,dt)for(Kt=0;Kt<se;++Kt)Pt=Dt[Kt],Pt.x<ue&&(ue=Pt.x),Pt.y<ge&&(ge=Pt.y),Pt.x>me&&(me=Pt.x),Pt.y>ce&&(ce=Pt.y),fe.push(Pt.x),ye.push(Pt.y);else for(Kt=0;Kt<se;++Kt){var Ee=+Jt(Pt=Dt[Kt],Kt),Ge=+Qt(Pt,Kt);Ee<ue&&(ue=Ee),Ge<ge&&(ge=Ge),Ee>me&&(me=Ee),Ge>ce&&(ce=Ge),fe.push(Ee),ye.push(Ge)}var We=me-ue,Je=ce-ge;We>Je?ce=ge+We:me=ue+Je;function ta(na,ga,Ia,dr,Ua,Ze,ba,wa){if(!(isNaN(Ia)||isNaN(dr)))if(na.leaf){var Ea=na.x,or=na.y;if(Ea!=null)if(u(Ea-Ia)+u(or-dr)<.01)ea(na,ga,Ia,dr,Ua,Ze,ba,wa);else{var mr=na.point;na.x=na.y=na.point=null,ea(na,mr,Ea,or,Ua,Ze,ba,wa),ea(na,ga,Ia,dr,Ua,Ze,ba,wa)}else na.x=Ia,na.y=dr,na.point=ga}else ea(na,ga,Ia,dr,Ua,Ze,ba,wa)}function ea(na,ga,Ia,dr,Ua,Ze,ba,wa){var Ea=(Ua+ba)*.5,or=(Ze+wa)*.5,mr=Ia>=Ea,kr=dr>=or,Fr=kr<<1|mr;na.leaf=!1,na=na.nodes[Fr]||(na.nodes[Fr]=Xn()),mr?Ua=Ea:ba=Ea,kr?Ze=or:wa=or,ta(na,ga,Ia,dr,Ua,Ze,ba,wa)}var xa=Xn();if(xa.add=function(na){ta(xa,na,+Jt(na,++Kt),+Qt(na,Kt),ue,ge,me,ce)},xa.visit=function(na){_n(na,xa,ue,ge,me,ce)},xa.find=function(na){return c0(xa,na[0],na[1],ue,ge,me,ce)},Kt=-1,b==null){for(;++Kt<se;)ta(xa,Dt[Kt],fe[Kt],ye[Kt],ue,ge,me,ce);--Kt}else Dt.forEach(xa.add);return fe=ye=Dt=Pt=null,xa}return wt.x=function(Dt){return arguments.length?(tt=Dt,wt):tt},wt.y=function(Dt){return arguments.length?(gt=Dt,wt):gt},wt.extent=function(Dt){return arguments.length?(Dt==null?b=L=B=$=null:(b=+Dt[0][0],L=+Dt[0][1],B=+Dt[1][0],$=+Dt[1][1]),wt):b==null?null:[[b,L],[B,$]]},wt.size=function(Dt){return arguments.length?(Dt==null?b=L=B=$=null:(b=L=0,B=+Dt[0],$=+Dt[1]),wt):b==null?null:[B-b,$-L]},wt};function xi(r){return r.x}function bi(r){return r.y}function Xn(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function _n(r,b,L,B,$,tt){if(!r(b,L,B,$,tt)){var gt=(L+$)*.5,dt=(B+tt)*.5,wt=b.nodes;wt[0]&&_n(r,wt[0],L,B,gt,dt),wt[1]&&_n(r,wt[1],gt,B,$,dt),wt[2]&&_n(r,wt[2],L,dt,gt,tt),wt[3]&&_n(r,wt[3],gt,dt,$,tt)}}function c0(r,b,L,B,$,tt,gt){var dt=1/0,wt;return function Dt(Pt,Jt,Qt,fe,ye){if(!(Jt>tt||Qt>gt||fe<B||ye<$)){if(Kt=Pt.point){var Kt,se=b-Pt.x,ue=L-Pt.y,ge=se*se+ue*ue;if(ge<dt){var me=Math.sqrt(dt=ge);B=b-me,$=L-me,tt=b+me,gt=L+me,wt=Kt}}for(var ce=Pt.nodes,Ee=(Jt+fe)*.5,Ge=(Qt+ye)*.5,We=b>=Ee,Je=L>=Ge,ta=Je<<1|We,ea=ta+4;ta<ea;++ta)if(Pt=ce[ta&3])switch(ta&3){case 0:Dt(Pt,Jt,Qt,Ee,Ge);break;case 1:Dt(Pt,Ee,Qt,fe,Ge);break;case 2:Dt(Pt,Jt,Ge,Ee,ye);break;case 3:Dt(Pt,Ee,Ge,fe,ye);break}}}(r,B,$,tt,gt),wt}i.interpolateRgb=Mo;function Mo(r,b){r=i.rgb(r),b=i.rgb(b);var L=r.r,B=r.g,$=r.b,tt=b.r-L,gt=b.g-B,dt=b.b-$;return function(wt){return"#"+St(Math.round(L+tt*wt))+St(Math.round(B+gt*wt))+St(Math.round($+dt*wt))}}i.interpolateObject=hs;function hs(r,b){var L={},B={},$;for($ in r)$ in b?L[$]=Sn(r[$],b[$]):B[$]=r[$];for($ in b)$ in r||(B[$]=b[$]);return function(tt){for($ in L)B[$]=L[$](tt);return B}}i.interpolateNumber=yn;function yn(r,b){return r=+r,b=+b,function(L){return r*(1-L)+b*L}}i.interpolateString=ps;function ps(r,b){var L=To.lastIndex=ko.lastIndex=0,B,$,tt,gt=-1,dt=[],wt=[];for(r=r+"",b=b+"";(B=To.exec(r))&&($=ko.exec(b));)(tt=$.index)>L&&(tt=b.slice(L,tt),dt[gt]?dt[gt]+=tt:dt[++gt]=tt),(B=B[0])===($=$[0])?dt[gt]?dt[gt]+=$:dt[++gt]=$:(dt[++gt]=null,wt.push({i:gt,x:yn(B,$)})),L=ko.lastIndex;return L<b.length&&(tt=b.slice(L),dt[gt]?dt[gt]+=tt:dt[++gt]=tt),dt.length<2?wt[0]?(b=wt[0].x,function(Dt){return b(Dt)+""}):function(){return b}:(b=wt.length,function(Dt){for(var Pt=0,Jt;Pt<b;++Pt)dt[(Jt=wt[Pt]).i]=Jt.x(Dt);return dt.join("")})}var To=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ko=new RegExp(To.source,"g");i.interpolate=Sn;function Sn(r,b){for(var L=i.interpolators.length,B;--L>=0&&!(B=i.interpolators[L](r,b)););return B}i.interpolators=[function(r,b){var L=typeof b;return(L==="string"?Nt.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?Mo:ps:b instanceof Se?Mo:Array.isArray(b)?_i:L==="object"&&isNaN(b)?hs:yn)(r,b)}],i.interpolateArray=_i;function _i(r,b){var L=[],B=[],$=r.length,tt=b.length,gt=Math.min(r.length,b.length),dt;for(dt=0;dt<gt;++dt)L.push(Sn(r[dt],b[dt]));for(;dt<$;++dt)B[dt]=r[dt];for(;dt<tt;++dt)B[dt]=b[dt];return function(wt){for(dt=0;dt<gt;++dt)B[dt]=L[dt](wt);return B}}var vs=function(){return Z},f0=i.map({linear:vs,poly:m0,quad:function(){return p0},cubic:function(){return v0},sin:function(){return y0},exp:function(){return x0},circle:function(){return b0},elastic:_0,back:w0,bounce:function(){return M0}}),d0=i.map({in:Z,out:gs,"in-out":ms,"out-in":function(r){return ms(gs(r))}});i.ease=function(r){var b=r.indexOf("-"),L=b>=0?r.slice(0,b):r,B=b>=0?r.slice(b+1):"in";return L=f0.get(L)||vs,B=d0.get(B)||Z,h0(B(L.apply(null,t.call(arguments,1))))};function h0(r){return function(b){return b<=0?0:b>=1?1:r(b)}}function gs(r){return function(b){return 1-r(1-b)}}function ms(r){return function(b){return .5*(b<.5?r(2*b):2-r(2-2*b))}}function p0(r){return r*r}function v0(r){return r*r*r}function g0(r){if(r<=0)return 0;if(r>=1)return 1;var b=r*r,L=b*r;return 4*(r<.5?L:3*(r-b)+L-.75)}function m0(r){return function(b){return Math.pow(b,r)}}function y0(r){return 1-Math.cos(r*Tt)}function x0(r){return Math.pow(2,10*(r-1))}function b0(r){return 1-Math.sqrt(1-r*r)}function _0(r,b){var L;return arguments.length<2&&(b=.45),arguments.length?L=b/ft*Math.asin(1/r):(r=1,L=b/4),function(B){return 1+r*Math.pow(2,-10*B)*Math.sin((B-L)*ft/b)}}function w0(r){return r||(r=1.70158),function(b){return b*b*((r+1)*b-r)}}function M0(r){return r<1/2.75?7.5625*r*r:r<2/2.75?7.5625*(r-=1.5/2.75)*r+.75:r<2.5/2.75?7.5625*(r-=2.25/2.75)*r+.9375:7.5625*(r-=2.625/2.75)*r+.984375}i.interpolateHcl=T0;function T0(r,b){r=i.hcl(r),b=i.hcl(b);var L=r.h,B=r.c,$=r.l,tt=b.h-L,gt=b.c-B,dt=b.l-$;return isNaN(gt)&&(gt=0,B=isNaN(B)?b.c:B),isNaN(tt)?(tt=0,L=isNaN(L)?b.h:L):tt>180?tt-=360:tt<-180&&(tt+=360),function(wt){return Ie(L+tt*wt,B+gt*wt,$+dt*wt)+""}}i.interpolateHsl=k0;function k0(r,b){r=i.hsl(r),b=i.hsl(b);var L=r.h,B=r.s,$=r.l,tt=b.h-L,gt=b.s-B,dt=b.l-$;return isNaN(gt)&&(gt=0,B=isNaN(B)?b.s:B),isNaN(tt)?(tt=0,L=isNaN(L)?b.h:L):tt>180?tt-=360:tt<-180&&(tt+=360),function(wt){return qe(L+tt*wt,B+gt*wt,$+dt*wt)+""}}i.interpolateLab=A0;function A0(r,b){r=i.lab(r),b=i.lab(b);var L=r.l,B=r.a,$=r.b,tt=b.l-L,gt=b.a-B,dt=b.b-$;return function(wt){return ma(L+tt*wt,B+gt*wt,$+dt*wt)+""}}i.interpolateRound=ys;function ys(r,b){return b-=r,function(L){return Math.round(r+b*L)}}i.transform=function(r){var b=l.createElementNS(i.ns.prefix.svg,"g");return(i.transform=function(L){if(L!=null){b.setAttribute("transform",L);var B=b.transform.baseVal.consolidate()}return new xs(B?B.matrix:S0)})(r)};function xs(r){var b=[r.a,r.b],L=[r.c,r.d],B=_s(b),$=bs(b,L),tt=_s(L0(L,b,-$))||0;b[0]*L[1]<L[0]*b[1]&&(b[0]*=-1,b[1]*=-1,B*=-1,$*=-1),this.rotate=(B?Math.atan2(b[1],b[0]):Math.atan2(-L[0],L[1]))*Ft,this.translate=[r.e,r.f],this.scale=[B,tt],this.skew=tt?Math.atan2($,tt)*Ft:0}xs.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function bs(r,b){return r[0]*b[0]+r[1]*b[1]}function _s(r){var b=Math.sqrt(bs(r,r));return b&&(r[0]/=b,r[1]/=b),b}function L0(r,b,L){return r[0]+=L*b[0],r[1]+=L*b[1],r}var S0={a:1,b:0,c:0,d:1,e:0,f:0};i.interpolateTransform=ws;function Rn(r){return r.length?r.pop()+",":""}function C0(r,b,L,B){if(r[0]!==b[0]||r[1]!==b[1]){var $=L.push("translate(",null,",",null,")");B.push({i:$-4,x:yn(r[0],b[0])},{i:$-2,x:yn(r[1],b[1])})}else(b[0]||b[1])&&L.push("translate("+b+")")}function O0(r,b,L,B){r!==b?(r-b>180?b+=360:b-r>180&&(r+=360),B.push({i:L.push(Rn(L)+"rotate(",null,")")-2,x:yn(r,b)})):b&&L.push(Rn(L)+"rotate("+b+")")}function D0(r,b,L,B){r!==b?B.push({i:L.push(Rn(L)+"skewX(",null,")")-2,x:yn(r,b)}):b&&L.push(Rn(L)+"skewX("+b+")")}function P0(r,b,L,B){if(r[0]!==b[0]||r[1]!==b[1]){var $=L.push(Rn(L)+"scale(",null,",",null,")");B.push({i:$-4,x:yn(r[0],b[0])},{i:$-2,x:yn(r[1],b[1])})}else(b[0]!==1||b[1]!==1)&&L.push(Rn(L)+"scale("+b+")")}function ws(r,b){var L=[],B=[];return r=i.transform(r),b=i.transform(b),C0(r.translate,b.translate,L,B),O0(r.rotate,b.rotate,L,B),D0(r.skew,b.skew,L,B),P0(r.scale,b.scale,L,B),r=b=null,function($){for(var tt=-1,gt=B.length,dt;++tt<gt;)L[(dt=B[tt]).i]=dt.x($);return L.join("")}}function z0(r,b){return b=(b-=r=+r)||1/b,function(L){return(L-r)/b}}function I0(r,b){return b=(b-=r=+r)||1/b,function(L){return Math.max(0,Math.min(1,(L-r)/b))}}i.layout={},i.layout.bundle=function(){return function(r){for(var b=[],L=-1,B=r.length;++L<B;)b.push(E0(r[L]));return b}};function E0(r){for(var b=r.source,L=r.target,B=F0(b,L),$=[b];b!==B;)b=b.parent,$.push(b);for(var tt=$.length;L!==B;)$.splice(tt,0,L),L=L.parent;return $}function Ms(r){for(var b=[],L=r.parent;L!=null;)b.push(r),r=L,L=L.parent;return b.push(r),b}function F0(r,b){if(r===b)return r;for(var L=Ms(r),B=Ms(b),$=L.pop(),tt=B.pop(),gt=null;$===tt;)gt=$,$=L.pop(),tt=B.pop();return gt}i.layout.chord=function(){var r={},b,L,B,$,tt=0,gt,dt,wt;function Dt(){var Jt={},Qt=[],fe=i.range($),ye=[],Kt,se,ue,ge,me;for(b=[],L=[],Kt=0,ge=-1;++ge<$;){for(se=0,me=-1;++me<$;)se+=B[ge][me];Qt.push(se),ye.push(i.range($)),Kt+=se}for(gt&&fe.sort(function(xa,na){return gt(Qt[xa],Qt[na])}),dt&&ye.forEach(function(xa,na){xa.sort(function(ga,Ia){return dt(B[na][ga],B[na][Ia])})}),Kt=(ft-tt*$)/Kt,se=0,ge=-1;++ge<$;){for(ue=se,me=-1;++me<$;){var ce=fe[ge],Ee=ye[ce][me],Ge=B[ce][Ee],We=se,Je=se+=Ge*Kt;Jt[ce+"-"+Ee]={index:ce,subindex:Ee,startAngle:We,endAngle:Je,value:Ge}}L[ce]={index:ce,startAngle:ue,endAngle:se,value:Qt[ce]},se+=tt}for(ge=-1;++ge<$;)for(me=ge-1;++me<$;){var ta=Jt[ge+"-"+me],ea=Jt[me+"-"+ge];(ta.value||ea.value)&&b.push(ta.value<ea.value?{source:ea,target:ta}:{source:ta,target:ea})}wt&&Pt()}function Pt(){b.sort(function(Jt,Qt){return wt((Jt.source.value+Jt.target.value)/2,(Qt.source.value+Qt.target.value)/2)})}return r.matrix=function(Jt){return arguments.length?($=(B=Jt)&&B.length,b=L=null,r):B},r.padding=function(Jt){return arguments.length?(tt=Jt,b=L=null,r):tt},r.sortGroups=function(Jt){return arguments.length?(gt=Jt,b=L=null,r):gt},r.sortSubgroups=function(Jt){return arguments.length?(dt=Jt,b=null,r):dt},r.sortChords=function(Jt){return arguments.length?(wt=Jt,b&&Pt(),r):wt},r.chords=function(){return b||Dt(),b},r.groups=function(){return L||Dt(),L},r},i.layout.force=function(){var r={},b=i.dispatch("start","tick","end"),L,B=[1,1],$,tt,gt=.9,dt=B0,wt=V0,Dt=-30,Pt=q0,Jt=.1,Qt=.64,fe=[],ye=[],Kt,se,ue;function ge(ce){return function(Ee,Ge,We,Je){if(Ee.point!==ce){var ta=Ee.cx-ce.x,ea=Ee.cy-ce.y,xa=Je-Ge,na=ta*ta+ea*ea;if(xa*xa/Qt<na){if(na<Pt){var ga=Ee.charge/na;ce.px-=ta*ga,ce.py-=ea*ga}return!0}if(Ee.point&&na&&na<Pt){var ga=Ee.pointCharge/na;ce.px-=ta*ga,ce.py-=ea*ga}}return!Ee.charge}}r.tick=function(){if((tt*=.99)<.005)return L=null,b.end({type:"end",alpha:tt=0}),!0;var ce=fe.length,Ee=ye.length,Ge,We,Je,ta,ea,xa,na,ga,Ia;for(We=0;We<Ee;++We)Je=ye[We],ta=Je.source,ea=Je.target,ga=ea.x-ta.x,Ia=ea.y-ta.y,(xa=ga*ga+Ia*Ia)&&(xa=tt*se[We]*((xa=Math.sqrt(xa))-Kt[We])/xa,ga*=xa,Ia*=xa,ea.x-=ga*(na=ta.weight+ea.weight?ta.weight/(ta.weight+ea.weight):.5),ea.y-=Ia*na,ta.x+=ga*(na=1-na),ta.y+=Ia*na);if((na=tt*Jt)&&(ga=B[0]/2,Ia=B[1]/2,We=-1,na))for(;++We<ce;)Je=fe[We],Je.x+=(ga-Je.x)*na,Je.y+=(Ia-Je.y)*na;if(Dt)for(Ts(Ge=i.geom.quadtree(fe),tt,ue),We=-1;++We<ce;)(Je=fe[We]).fixed||Ge.visit(ge(Je));for(We=-1;++We<ce;)Je=fe[We],Je.fixed?(Je.x=Je.px,Je.y=Je.py):(Je.x-=(Je.px-(Je.px=Je.x))*gt,Je.y-=(Je.py-(Je.py=Je.y))*gt);b.tick({type:"tick",alpha:tt})},r.nodes=function(ce){return arguments.length?(fe=ce,r):fe},r.links=function(ce){return arguments.length?(ye=ce,r):ye},r.size=function(ce){return arguments.length?(B=ce,r):B},r.linkDistance=function(ce){return arguments.length?(dt=typeof ce=="function"?ce:+ce,r):dt},r.distance=r.linkDistance,r.linkStrength=function(ce){return arguments.length?(wt=typeof ce=="function"?ce:+ce,r):wt},r.friction=function(ce){return arguments.length?(gt=+ce,r):gt},r.charge=function(ce){return arguments.length?(Dt=typeof ce=="function"?ce:+ce,r):Dt},r.chargeDistance=function(ce){return arguments.length?(Pt=ce*ce,r):Math.sqrt(Pt)},r.gravity=function(ce){return arguments.length?(Jt=+ce,r):Jt},r.theta=function(ce){return arguments.length?(Qt=ce*ce,r):Math.sqrt(Qt)},r.alpha=function(ce){return arguments.length?(ce=+ce,tt?ce>0?tt=ce:(L.c=null,L.t=NaN,L=null,b.end({type:"end",alpha:tt=0})):ce>0&&(b.start({type:"start",alpha:tt=ce}),L=$e(r.tick)),r):tt},r.start=function(){var ce,Ee=fe.length,Ge=ye.length,We=B[0],Je=B[1],ta,ea;for(ce=0;ce<Ee;++ce)(ea=fe[ce]).index=ce,ea.weight=0;for(ce=0;ce<Ge;++ce)ea=ye[ce],typeof ea.source=="number"&&(ea.source=fe[ea.source]),typeof ea.target=="number"&&(ea.target=fe[ea.target]),++ea.source.weight,++ea.target.weight;for(ce=0;ce<Ee;++ce)ea=fe[ce],isNaN(ea.x)&&(ea.x=xa("x",We)),isNaN(ea.y)&&(ea.y=xa("y",Je)),isNaN(ea.px)&&(ea.px=ea.x),isNaN(ea.py)&&(ea.py=ea.y);if(Kt=[],typeof dt=="function")for(ce=0;ce<Ge;++ce)Kt[ce]=+dt.call(this,ye[ce],ce);else for(ce=0;ce<Ge;++ce)Kt[ce]=dt;if(se=[],typeof wt=="function")for(ce=0;ce<Ge;++ce)se[ce]=+wt.call(this,ye[ce],ce);else for(ce=0;ce<Ge;++ce)se[ce]=wt;if(ue=[],typeof Dt=="function")for(ce=0;ce<Ee;++ce)ue[ce]=+Dt.call(this,fe[ce],ce);else for(ce=0;ce<Ee;++ce)ue[ce]=Dt;function xa(na,ga){if(!ta){for(ta=new Array(Ee),Ua=0;Ua<Ee;++Ua)ta[Ua]=[];for(Ua=0;Ua<Ge;++Ua){var Ia=ye[Ua];ta[Ia.source.index].push(Ia.target),ta[Ia.target.index].push(Ia.source)}}for(var dr=ta[ce],Ua=-1,Ze=dr.length,ba;++Ua<Ze;)if(!isNaN(ba=dr[Ua][na]))return ba;return Math.random()*ga}return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){if($||($=i.behavior.drag().origin(Z).on("dragstart.force",N0).on("drag.force",me).on("dragend.force",R0)),!arguments.length)return $;this.on("mouseover.force",j0).on("mouseout.force",H0).call($)};function me(ce){ce.px=i.event.x,ce.py=i.event.y,r.resume()}return i.rebind(r,b,"on")};function N0(r){r.fixed|=2}function R0(r){r.fixed&=-7}function j0(r){r.fixed|=4,r.px=r.x,r.py=r.y}function H0(r){r.fixed&=-5}function Ts(r,b,L){var B=0,$=0;if(r.charge=0,!r.leaf)for(var tt=r.nodes,gt=tt.length,dt=-1,wt;++dt<gt;)wt=tt[dt],wt!=null&&(Ts(wt,b,L),r.charge+=wt.charge,B+=wt.charge*wt.cx,$+=wt.charge*wt.cy);if(r.point){r.leaf||(r.point.x+=Math.random()-.5,r.point.y+=Math.random()-.5);var Dt=b*L[r.point.index];r.charge+=r.pointCharge=Dt,B+=Dt*r.point.x,$+=Dt*r.point.y}r.cx=B/r.charge,r.cy=$/r.charge}var B0=20,V0=1,q0=1/0;i.layout.hierarchy=function(){var r=Z0,b=U0,L=Y0;function B($){var tt=[$],gt=[],dt;for($.depth=0;(dt=tt.pop())!=null;)if(gt.push(dt),(Dt=b.call(B,dt,dt.depth))&&(wt=Dt.length)){for(var wt,Dt,Pt;--wt>=0;)tt.push(Pt=Dt[wt]),Pt.parent=dt,Pt.depth=dt.depth+1;L&&(dt.value=0),dt.children=Dt}else L&&(dt.value=+L.call(B,dt,dt.depth)||0),delete dt.children;return un($,function(Jt){var Qt,fe;r&&(Qt=Jt.children)&&Qt.sort(r),L&&(fe=Jt.parent)&&(fe.value+=Jt.value)}),gt}return B.sort=function($){return arguments.length?(r=$,B):r},B.children=function($){return arguments.length?(b=$,B):b},B.value=function($){return arguments.length?(L=$,B):L},B.revalue=function($){return L&&(Qn($,function(tt){tt.children&&(tt.value=0)}),un($,function(tt){var gt;tt.children||(tt.value=+L.call(B,tt,tt.depth)||0),(gt=tt.parent)&&(gt.value+=tt.value)})),$},B};function $n(r,b){return i.rebind(r,b,"sort","children","value"),r.nodes=r,r.links=G0,r}function Qn(r,b){for(var L=[r];(r=L.pop())!=null;)if(b(r),($=r.children)&&(B=$.length))for(var B,$;--B>=0;)L.push($[B])}function un(r,b){for(var L=[r],B=[];(r=L.pop())!=null;)if(B.push(r),(gt=r.children)&&(tt=gt.length))for(var $=-1,tt,gt;++$<tt;)L.push(gt[$]);for(;(r=B.pop())!=null;)b(r)}function U0(r){return r.children}function Y0(r){return r.value}function Z0(r,b){return b.value-r.value}function G0(r){return i.merge(r.map(function(b){return(b.children||[]).map(function(L){return{source:b,target:L}})}))}i.layout.partition=function(){var r=i.layout.hierarchy(),b=[1,1];function L(tt,gt,dt,wt){var Dt=tt.children;if(tt.x=gt,tt.y=tt.depth*wt,tt.dx=dt,tt.dy=wt,Dt&&(Jt=Dt.length)){var Pt=-1,Jt,Qt,fe;for(dt=tt.value?dt/tt.value:0;++Pt<Jt;)L(Qt=Dt[Pt],gt,fe=Qt.value*dt,wt),gt+=fe}}function B(tt){var gt=tt.children,dt=0;if(gt&&(Dt=gt.length))for(var wt=-1,Dt;++wt<Dt;)dt=Math.max(dt,B(gt[wt]));return 1+dt}function $(tt,gt){var dt=r.call(this,tt,gt);return L(dt[0],0,b[0],b[1]/B(dt[0])),dt}return $.size=function(tt){return arguments.length?(b=tt,$):b},$n($,r)},i.layout.pie=function(){var r=Number,b=ks,L=0,B=ft,$=0;function tt(gt){var dt=gt.length,wt=gt.map(function(ge,me){return+r.call(tt,ge,me)}),Dt=+(typeof L=="function"?L.apply(this,arguments):L),Pt=(typeof B=="function"?B.apply(this,arguments):B)-Dt,Jt=Math.min(Math.abs(Pt)/dt,+(typeof $=="function"?$.apply(this,arguments):$)),Qt=Jt*(Pt<0?-1:1),fe=i.sum(wt),ye=fe?(Pt-dt*Qt)/fe:0,Kt=i.range(dt),se=[],ue;return b!=null&&Kt.sort(b===ks?function(ge,me){return wt[me]-wt[ge]}:function(ge,me){return b(gt[ge],gt[me])}),Kt.forEach(function(ge){se[ge]={data:gt[ge],value:ue=wt[ge],startAngle:Dt,endAngle:Dt+=ue*ye+Qt,padAngle:Jt}}),se}return tt.value=function(gt){return arguments.length?(r=gt,tt):r},tt.sort=function(gt){return arguments.length?(b=gt,tt):b},tt.startAngle=function(gt){return arguments.length?(L=gt,tt):L},tt.endAngle=function(gt){return arguments.length?(B=gt,tt):B},tt.padAngle=function(gt){return arguments.length?($=gt,tt):$},tt};var ks={};i.layout.stack=function(){var r=Z,b=Ao,L=Lo,B=X0,$=J0,tt=W0;function gt(dt,wt){if(!(ye=dt.length))return dt;var Dt=dt.map(function(ge,me){return r.call(gt,ge,me)}),Pt=Dt.map(function(ge){return ge.map(function(me,ce){return[$.call(gt,me,ce),tt.call(gt,me,ce)]})}),Jt=b.call(gt,Pt,wt);Dt=i.permute(Dt,Jt),Pt=i.permute(Pt,Jt);var Qt=L.call(gt,Pt,wt),fe=Dt[0].length,ye,Kt,se,ue;for(se=0;se<fe;++se)for(B.call(gt,Dt[0][se],ue=Qt[se],Pt[0][se][1]),Kt=1;Kt<ye;++Kt)B.call(gt,Dt[Kt][se],ue+=Pt[Kt-1][se][1],Pt[Kt][se][1]);return dt}return gt.values=function(dt){return arguments.length?(r=dt,gt):r},gt.order=function(dt){return arguments.length?(b=typeof dt=="function"?dt:$0.get(dt)||Ao,gt):b},gt.offset=function(dt){return arguments.length?(L=typeof dt=="function"?dt:Q0.get(dt)||Lo,gt):L},gt.x=function(dt){return arguments.length?($=dt,gt):$},gt.y=function(dt){return arguments.length?(tt=dt,gt):tt},gt.out=function(dt){return arguments.length?(B=dt,gt):B},gt};function J0(r){return r.x}function W0(r){return r.y}function X0(r,b,L){r.y0=b,r.y=L}var $0=i.map({"inside-out":function(r){var b=r.length,L,B,$=r.map(K0),tt=r.map(t1),gt=i.range(b).sort(function(Jt,Qt){return $[Jt]-$[Qt]}),dt=0,wt=0,Dt=[],Pt=[];for(L=0;L<b;++L)B=gt[L],dt<wt?(dt+=tt[B],Dt.push(B)):(wt+=tt[B],Pt.push(B));return Pt.reverse().concat(Dt)},reverse:function(r){return i.range(r.length).reverse()},default:Ao}),Q0=i.map({silhouette:function(r){var b=r.length,L=r[0].length,B=[],$=0,tt,gt,dt,wt=[];for(gt=0;gt<L;++gt){for(tt=0,dt=0;tt<b;tt++)dt+=r[tt][gt][1];dt>$&&($=dt),B.push(dt)}for(gt=0;gt<L;++gt)wt[gt]=($-B[gt])/2;return wt},wiggle:function(r){var b=r.length,L=r[0],B=L.length,$,tt,gt,dt,wt,Dt,Pt,Jt,Qt,fe=[];for(fe[0]=Jt=Qt=0,tt=1;tt<B;++tt){for($=0,dt=0;$<b;++$)dt+=r[$][tt][1];for($=0,wt=0,Pt=L[tt][0]-L[tt-1][0];$<b;++$){for(gt=0,Dt=(r[$][tt][1]-r[$][tt-1][1])/(2*Pt);gt<$;++gt)Dt+=(r[gt][tt][1]-r[gt][tt-1][1])/Pt;wt+=Dt*r[$][tt][1]}fe[tt]=Jt-=dt?wt/dt*Pt:0,Jt<Qt&&(Qt=Jt)}for(tt=0;tt<B;++tt)fe[tt]-=Qt;return fe},expand:function(r){var b=r.length,L=r[0].length,B=1/b,$,tt,gt,dt=[];for(tt=0;tt<L;++tt){for($=0,gt=0;$<b;$++)gt+=r[$][tt][1];if(gt)for($=0;$<b;$++)r[$][tt][1]/=gt;else for($=0;$<b;$++)r[$][tt][1]=B}for(tt=0;tt<L;++tt)dt[tt]=0;return dt},zero:Lo});function Ao(r){return i.range(r.length)}function Lo(r){for(var b=-1,L=r[0].length,B=[];++b<L;)B[b]=0;return B}function K0(r){for(var b=1,L=0,B=r[0][1],$,tt=r.length;b<tt;++b)($=r[b][1])>B&&(L=b,B=$);return L}function t1(r){return r.reduce(e1,0)}function e1(r,b){return r+b[1]}i.layout.histogram=function(){var r=!0,b=Number,L=r1,B=a1;function $(tt,gt){for(var dt=[],wt=tt.map(b,this),Dt=L.call(this,wt,gt),Pt=B.call(this,Dt,wt,gt),Jt,gt=-1,Qt=wt.length,fe=Pt.length-1,ye=r?1:1/Qt,Kt;++gt<fe;)Jt=dt[gt]=[],Jt.dx=Pt[gt+1]-(Jt.x=Pt[gt]),Jt.y=0;if(fe>0)for(gt=-1;++gt<Qt;)Kt=wt[gt],Kt>=Dt[0]&&Kt<=Dt[1]&&(Jt=dt[i.bisect(Pt,Kt,1,fe)-1],Jt.y+=ye,Jt.push(tt[gt]));return dt}return $.value=function(tt){return arguments.length?(b=tt,$):b},$.range=function(tt){return arguments.length?(L=Xt(tt),$):L},$.bins=function(tt){return arguments.length?(B=typeof tt=="number"?function(gt){return As(gt,tt)}:Xt(tt),$):B},$.frequency=function(tt){return arguments.length?(r=!!tt,$):r},$};function a1(r,b){return As(r,Math.ceil(Math.log(b.length)/Math.LN2+1))}function As(r,b){for(var L=-1,B=+r[0],$=(r[1]-B)/b,tt=[];++L<=b;)tt[L]=$*L+B;return tt}function r1(r){return[i.min(r),i.max(r)]}i.layout.pack=function(){var r=i.layout.hierarchy().sort(n1),b=0,L=[1,1],B;function $(tt,gt){var dt=r.call(this,tt,gt),wt=dt[0],Dt=L[0],Pt=L[1],Jt=B==null?Math.sqrt:typeof B=="function"?B:function(){return B};if(wt.x=wt.y=0,un(wt,function(fe){fe.r=+Jt(fe.value)}),un(wt,Cs),b){var Qt=b*(B?1:Math.max(2*wt.r/Dt,2*wt.r/Pt))/2;un(wt,function(fe){fe.r+=Qt}),un(wt,Cs),un(wt,function(fe){fe.r-=Qt})}return Os(wt,Dt/2,Pt/2,B?1:1/Math.max(2*wt.r/Dt,2*wt.r/Pt)),dt}return $.size=function(tt){return arguments.length?(L=tt,$):L},$.radius=function(tt){return arguments.length?(B=tt==null||typeof tt=="function"?tt:+tt,$):B},$.padding=function(tt){return arguments.length?(b=+tt,$):b},$n($,r)};function n1(r,b){return r.value-b.value}function So(r,b){var L=r._pack_next;r._pack_next=b,b._pack_prev=r,b._pack_next=L,L._pack_prev=b}function Ls(r,b){r._pack_next=b,b._pack_prev=r}function Ss(r,b){var L=b.x-r.x,B=b.y-r.y,$=r.r+b.r;return .999*$*$>L*L+B*B}function Cs(r){if(!(b=r.children)||!(Qt=b.length))return;var b,L=1/0,B=-1/0,$=1/0,tt=-1/0,gt,dt,wt,Dt,Pt,Jt,Qt;function fe(ce){L=Math.min(ce.x-ce.r,L),B=Math.max(ce.x+ce.r,B),$=Math.min(ce.y-ce.r,$),tt=Math.max(ce.y+ce.r,tt)}if(b.forEach(i1),gt=b[0],gt.x=-gt.r,gt.y=0,fe(gt),Qt>1&&(dt=b[1],dt.x=dt.r,dt.y=0,fe(dt),Qt>2))for(wt=b[2],Ds(gt,dt,wt),fe(wt),So(gt,wt),gt._pack_prev=wt,So(wt,dt),dt=gt._pack_next,Dt=3;Dt<Qt;Dt++){Ds(gt,dt,wt=b[Dt]);var ye=0,Kt=1,se=1;for(Pt=dt._pack_next;Pt!==dt;Pt=Pt._pack_next,Kt++)if(Ss(Pt,wt)){ye=1;break}if(ye==1)for(Jt=gt._pack_prev;Jt!==Pt._pack_prev&&!Ss(Jt,wt);Jt=Jt._pack_prev,se++);ye?(Kt<se||Kt==se&&dt.r<gt.r?Ls(gt,dt=Pt):Ls(gt=Jt,dt),Dt--):(So(gt,wt),dt=wt,fe(wt))}var ue=(L+B)/2,ge=($+tt)/2,me=0;for(Dt=0;Dt<Qt;Dt++)wt=b[Dt],wt.x-=ue,wt.y-=ge,me=Math.max(me,wt.r+Math.sqrt(wt.x*wt.x+wt.y*wt.y));r.r=me,b.forEach(o1)}function i1(r){r._pack_next=r._pack_prev=r}function o1(r){delete r._pack_next,delete r._pack_prev}function Os(r,b,L,B){var $=r.children;if(r.x=b+=B*r.x,r.y=L+=B*r.y,r.r*=B,$)for(var tt=-1,gt=$.length;++tt<gt;)Os($[tt],b,L,B)}function Ds(r,b,L){var B=r.r+L.r,$=b.x-r.x,tt=b.y-r.y;if(B&&($||tt)){var gt=b.r+L.r,dt=$*$+tt*tt;gt*=gt,B*=B;var wt=.5+(B-gt)/(2*dt),Dt=Math.sqrt(Math.max(0,2*gt*(B+dt)-(B-=dt)*B-gt*gt))/(2*dt);L.x=r.x+wt*$+Dt*tt,L.y=r.y+wt*tt-Dt*$}else L.x=r.x+B,L.y=r.y}i.layout.tree=function(){var r=i.layout.hierarchy().sort(null).value(null),b=Ps,L=[1,1],B=null;function $(Pt,Jt){var Qt=r.call(this,Pt,Jt),fe=Qt[0],ye=tt(fe);if(un(ye,gt),ye.parent.m=-ye.z,Qn(ye,dt),B)Qn(fe,Dt);else{var Kt=fe,se=fe,ue=fe;Qn(fe,function(Ee){Ee.x<Kt.x&&(Kt=Ee),Ee.x>se.x&&(se=Ee),Ee.depth>ue.depth&&(ue=Ee)});var ge=b(Kt,se)/2-Kt.x,me=L[0]/(se.x+b(se,Kt)/2+ge),ce=L[1]/(ue.depth||1);Qn(fe,function(Ee){Ee.x=(Ee.x+ge)*me,Ee.y=Ee.depth*ce})}return Qt}function tt(Pt){for(var Jt={A:null,children:[Pt]},Qt=[Jt],fe;(fe=Qt.pop())!=null;)for(var ye=fe.children,Kt,se=0,ue=ye.length;se<ue;++se)Qt.push((ye[se]=Kt={_:ye[se],parent:fe,children:(Kt=ye[se].children)&&Kt.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:se}).a=Kt);return Jt.children[0]}function gt(Pt){var Jt=Pt.children,Qt=Pt.parent.children,fe=Pt.i?Qt[Pt.i-1]:null;if(Jt.length){s1(Pt);var ye=(Jt[0].z+Jt[Jt.length-1].z)/2;fe?(Pt.z=fe.z+b(Pt._,fe._),Pt.m=Pt.z-ye):Pt.z=ye}else fe&&(Pt.z=fe.z+b(Pt._,fe._));Pt.parent.A=wt(Pt,fe,Pt.parent.A||Qt[0])}function dt(Pt){Pt._.x=Pt.z+Pt.parent.m,Pt.m+=Pt.parent.m}function wt(Pt,Jt,Qt){if(Jt){for(var fe=Pt,ye=Pt,Kt=Jt,se=fe.parent.children[0],ue=fe.m,ge=ye.m,me=Kt.m,ce=se.m,Ee;Kt=Oo(Kt),fe=Co(fe),Kt&&fe;)se=Co(se),ye=Oo(ye),ye.a=Pt,Ee=Kt.z+me-fe.z-ue+b(Kt._,fe._),Ee>0&&(l1(u1(Kt,Pt,Qt),Pt,Ee),ue+=Ee,ge+=Ee),me+=Kt.m,ue+=fe.m,ce+=se.m,ge+=ye.m;Kt&&!Oo(ye)&&(ye.t=Kt,ye.m+=me-ge),fe&&!Co(se)&&(se.t=fe,se.m+=ue-ce,Qt=Pt)}return Qt}function Dt(Pt){Pt.x*=L[0],Pt.y=Pt.depth*L[1]}return $.separation=function(Pt){return arguments.length?(b=Pt,$):b},$.size=function(Pt){return arguments.length?(B=(L=Pt)==null?Dt:null,$):B?null:L},$.nodeSize=function(Pt){return arguments.length?(B=(L=Pt)==null?null:Dt,$):B?L:null},$n($,r)};function Ps(r,b){return r.parent==b.parent?1:2}function Co(r){var b=r.children;return b.length?b[0]:r.t}function Oo(r){var b=r.children,L;return(L=b.length)?b[L-1]:r.t}function l1(r,b,L){var B=L/(b.i-r.i);b.c-=B,b.s+=L,r.c+=B,b.z+=L,b.m+=L}function s1(r){for(var b=0,L=0,B=r.children,$=B.length,tt;--$>=0;)tt=B[$],tt.z+=b,tt.m+=b,b+=tt.s+(L+=tt.c)}function u1(r,b,L){return r.a.parent===b.parent?r.a:L}i.layout.cluster=function(){var r=i.layout.hierarchy().sort(null).value(null),b=Ps,L=[1,1],B=!1;function $(tt,gt){var dt=r.call(this,tt,gt),wt=dt[0],Dt,Pt=0;un(wt,function(Kt){var se=Kt.children;se&&se.length?(Kt.x=f1(se),Kt.y=c1(se)):(Kt.x=Dt?Pt+=b(Kt,Dt):0,Kt.y=0,Dt=Kt)});var Jt=zs(wt),Qt=Is(wt),fe=Jt.x-b(Jt,Qt)/2,ye=Qt.x+b(Qt,Jt)/2;return un(wt,B?function(Kt){Kt.x=(Kt.x-wt.x)*L[0],Kt.y=(wt.y-Kt.y)*L[1]}:function(Kt){Kt.x=(Kt.x-fe)/(ye-fe)*L[0],Kt.y=(1-(wt.y?Kt.y/wt.y:1))*L[1]}),dt}return $.separation=function(tt){return arguments.length?(b=tt,$):b},$.size=function(tt){return arguments.length?(B=(L=tt)==null,$):B?null:L},$.nodeSize=function(tt){return arguments.length?(B=(L=tt)!=null,$):B?L:null},$n($,r)};function c1(r){return 1+i.max(r,function(b){return b.y})}function f1(r){return r.reduce(function(b,L){return b+L.x},0)/r.length}function zs(r){var b=r.children;return b&&b.length?zs(b[0]):r}function Is(r){var b=r.children,L;return b&&(L=b.length)?Is(b[L-1]):r}i.layout.treemap=function(){var r=i.layout.hierarchy(),b=Math.round,L=[1,1],B=null,$=Do,tt=!1,gt,dt="squarify",wt=.5*(1+Math.sqrt(5));function Dt(Kt,se){for(var ue=-1,ge=Kt.length,me,ce;++ue<ge;)ce=(me=Kt[ue]).value*(se<0?0:se),me.area=isNaN(ce)||ce<=0?0:ce}function Pt(Kt){var se=Kt.children;if(se&&se.length){var ue=$(Kt),ge=[],me=se.slice(),ce,Ee=1/0,Ge,We=dt==="slice"?ue.dx:dt==="dice"?ue.dy:dt==="slice-dice"?Kt.depth&1?ue.dy:ue.dx:Math.min(ue.dx,ue.dy),Je;for(Dt(me,ue.dx*ue.dy/Kt.value),ge.area=0;(Je=me.length)>0;)ge.push(ce=me[Je-1]),ge.area+=ce.area,dt!=="squarify"||(Ge=Qt(ge,We))<=Ee?(me.pop(),Ee=Ge):(ge.area-=ge.pop().area,fe(ge,We,ue,!1),We=Math.min(ue.dx,ue.dy),ge.length=ge.area=0,Ee=1/0);ge.length&&(fe(ge,We,ue,!0),ge.length=ge.area=0),se.forEach(Pt)}}function Jt(Kt){var se=Kt.children;if(se&&se.length){var ue=$(Kt),ge=se.slice(),me,ce=[];for(Dt(ge,ue.dx*ue.dy/Kt.value),ce.area=0;me=ge.pop();)ce.push(me),ce.area+=me.area,me.z!=null&&(fe(ce,me.z?ue.dx:ue.dy,ue,!ge.length),ce.length=ce.area=0);se.forEach(Jt)}}function Qt(Kt,se){for(var ue=Kt.area,ge,me=0,ce=1/0,Ee=-1,Ge=Kt.length;++Ee<Ge;)(ge=Kt[Ee].area)&&(ge<ce&&(ce=ge),ge>me&&(me=ge));return ue*=ue,se*=se,ue?Math.max(se*me*wt/ue,ue/(se*ce*wt)):1/0}function fe(Kt,se,ue,ge){var me=-1,ce=Kt.length,Ee=ue.x,Ge=ue.y,We=se?b(Kt.area/se):0,Je;if(se==ue.dx){for((ge||We>ue.dy)&&(We=ue.dy);++me<ce;)Je=Kt[me],Je.x=Ee,Je.y=Ge,Je.dy=We,Ee+=Je.dx=Math.min(ue.x+ue.dx-Ee,We?b(Je.area/We):0);Je.z=!0,Je.dx+=ue.x+ue.dx-Ee,ue.y+=We,ue.dy-=We}else{for((ge||We>ue.dx)&&(We=ue.dx);++me<ce;)Je=Kt[me],Je.x=Ee,Je.y=Ge,Je.dx=We,Ge+=Je.dy=Math.min(ue.y+ue.dy-Ge,We?b(Je.area/We):0);Je.z=!1,Je.dy+=ue.y+ue.dy-Ge,ue.x+=We,ue.dx-=We}}function ye(Kt){var se=gt||r(Kt),ue=se[0];return ue.x=ue.y=0,ue.value?(ue.dx=L[0],ue.dy=L[1]):ue.dx=ue.dy=0,gt&&r.revalue(ue),Dt([ue],ue.dx*ue.dy/ue.value),(gt?Jt:Pt)(ue),tt&&(gt=se),se}return ye.size=function(Kt){return arguments.length?(L=Kt,ye):L},ye.padding=function(Kt){if(!arguments.length)return B;function se(me){var ce=Kt.call(ye,me,me.depth);return ce==null?Do(me):Es(me,typeof ce=="number"?[ce,ce,ce,ce]:ce)}function ue(me){return Es(me,Kt)}var ge;return $=(B=Kt)==null?Do:(ge=typeof Kt)=="function"?se:(ge==="number"&&(Kt=[Kt,Kt,Kt,Kt]),ue),ye},ye.round=function(Kt){return arguments.length?(b=Kt?Math.round:Number,ye):b!=Number},ye.sticky=function(Kt){return arguments.length?(tt=Kt,gt=null,ye):tt},ye.ratio=function(Kt){return arguments.length?(wt=Kt,ye):wt},ye.mode=function(Kt){return arguments.length?(dt=Kt+"",ye):dt},$n(ye,r)};function Do(r){return{x:r.x,y:r.y,dx:r.dx,dy:r.dy}}function Es(r,b){var L=r.x+b[3],B=r.y+b[0],$=r.dx-b[1]-b[3],tt=r.dy-b[0]-b[2];return $<0&&(L+=$/2,$=0),tt<0&&(B+=tt/2,tt=0),{x:L,y:B,dx:$,dy:tt}}i.random={normal:function(r,b){var L=arguments.length;return L<2&&(b=1),L<1&&(r=0),function(){var B,$,tt;do B=Math.random()*2-1,$=Math.random()*2-1,tt=B*B+$*$;while(!tt||tt>1);return r+b*B*Math.sqrt(-2*Math.log(tt)/tt)}},logNormal:function(){var r=i.random.normal.apply(i,arguments);return function(){return Math.exp(r())}},bates:function(r){var b=i.random.irwinHall(r);return function(){return b()/r}},irwinHall:function(r){return function(){for(var b=0,L=0;L<r;L++)b+=Math.random();return b}}},i.scale={};function wi(r){var b=r[0],L=r[r.length-1];return b<L?[b,L]:[L,b]}function Mi(r){return r.rangeExtent?r.rangeExtent():wi(r.range())}function d1(r,b,L,B){var $=L(r[0],r[1]),tt=B(b[0],b[1]);return function(gt){return tt($(gt))}}function Po(r,b){var L=0,B=r.length-1,$=r[L],tt=r[B],gt;return tt<$&&(gt=L,L=B,B=gt,gt=$,$=tt,tt=gt),r[L]=b.floor($),r[B]=b.ceil(tt),r}function Fs(r){return r?{floor:function(b){return Math.floor(b/r)*r},ceil:function(b){return Math.ceil(b/r)*r}}:h1}var h1={floor:Z,ceil:Z};function p1(r,b,L,B){var $=[],tt=[],gt=0,dt=Math.min(r.length,b.length)-1;for(r[dt]<r[0]&&(r=r.slice().reverse(),b=b.slice().reverse());++gt<=dt;)$.push(L(r[gt-1],r[gt])),tt.push(B(b[gt-1],b[gt]));return function(wt){var Dt=i.bisect(r,wt,1,dt)-1;return tt[Dt]($[Dt](wt))}}i.scale.linear=function(){return Ns([0,1],[0,1],Sn,!1)};function Ns(r,b,L,B){var $,tt;function gt(){var wt=Math.min(r.length,b.length)>2?p1:d1,Dt=B?I0:z0;return $=wt(r,b,Dt,L),tt=wt(b,r,Dt,Sn),dt}function dt(wt){return $(wt)}return dt.invert=function(wt){return tt(wt)},dt.domain=function(wt){return arguments.length?(r=wt.map(Number),gt()):r},dt.range=function(wt){return arguments.length?(b=wt,gt()):b},dt.rangeRound=function(wt){return dt.range(wt).interpolate(ys)},dt.clamp=function(wt){return arguments.length?(B=wt,gt()):B},dt.interpolate=function(wt){return arguments.length?(L=wt,gt()):L},dt.ticks=function(wt){return Io(r,wt)},dt.tickFormat=function(wt,Dt){return d3_scale_linearTickFormat(r,wt,Dt)},dt.nice=function(wt){return js(r,wt),gt()},dt.copy=function(){return Ns(r,b,L,B)},gt()}function Rs(r,b){return i.rebind(r,b,"range","rangeRound","interpolate","clamp")}function js(r,b){return Po(r,Fs(zo(r,b)[2])),Po(r,Fs(zo(r,b)[2])),r}function zo(r,b){b==null&&(b=10);var L=wi(r),B=L[1]-L[0],$=Math.pow(10,Math.floor(Math.log(B/b)/Math.LN10)),tt=b/B*$;return tt<=.15?$*=10:tt<=.35?$*=5:tt<=.75&&($*=2),L[0]=Math.ceil(L[0]/$)*$,L[1]=Math.floor(L[1]/$)*$+$*.5,L[2]=$,L}function Io(r,b){return i.range.apply(i,zo(r,b))}i.scale.log=function(){return Hs(i.scale.linear().domain([0,1]),10,!0,[1,10])};function Hs(r,b,L,B){function $(dt){return(L?Math.log(dt<0?0:dt):-Math.log(dt>0?0:-dt))/Math.log(b)}function tt(dt){return L?Math.pow(b,dt):-Math.pow(b,-dt)}function gt(dt){return r($(dt))}return gt.invert=function(dt){return tt(r.invert(dt))},gt.domain=function(dt){return arguments.length?(L=dt[0]>=0,r.domain((B=dt.map(Number)).map($)),gt):B},gt.base=function(dt){return arguments.length?(b=+dt,r.domain(B.map($)),gt):b},gt.nice=function(){var dt=Po(B.map($),L?Math:v1);return r.domain(dt),B=dt.map(tt),gt},gt.ticks=function(){var dt=wi(B),wt=[],Dt=dt[0],Pt=dt[1],Jt=Math.floor($(Dt)),Qt=Math.ceil($(Pt)),fe=b%1?2:b;if(isFinite(Qt-Jt)){if(L){for(;Jt<Qt;Jt++)for(var ye=1;ye<fe;ye++)wt.push(tt(Jt)*ye);wt.push(tt(Jt))}else for(wt.push(tt(Jt));Jt++<Qt;)for(var ye=fe-1;ye>0;ye--)wt.push(tt(Jt)*ye);for(Jt=0;wt[Jt]<Dt;Jt++);for(Qt=wt.length;wt[Qt-1]>Pt;Qt--);wt=wt.slice(Jt,Qt)}return wt},gt.copy=function(){return Hs(r.copy(),b,L,B)},Rs(gt,r)}var v1={floor:function(r){return-Math.ceil(-r)},ceil:function(r){return-Math.floor(-r)}};i.scale.pow=function(){return Bs(i.scale.linear(),1,[0,1])};function Bs(r,b,L){var B=Ti(b),$=Ti(1/b);function tt(gt){return r(B(gt))}return tt.invert=function(gt){return $(r.invert(gt))},tt.domain=function(gt){return arguments.length?(r.domain((L=gt.map(Number)).map(B)),tt):L},tt.ticks=function(gt){return Io(L,gt)},tt.tickFormat=function(gt,dt){return d3_scale_linearTickFormat(L,gt,dt)},tt.nice=function(gt){return tt.domain(js(L,gt))},tt.exponent=function(gt){return arguments.length?(B=Ti(b=gt),$=Ti(1/b),r.domain(L.map(B)),tt):b},tt.copy=function(){return Bs(r.copy(),b,L)},Rs(tt,r)}function Ti(r){return function(b){return b<0?-Math.pow(-b,r):Math.pow(b,r)}}i.scale.sqrt=function(){return i.scale.pow().exponent(.5)},i.scale.ordinal=function(){return Vs([],{t:"range",a:[[]]})};function Vs(r,b){var L,B,$;function tt(dt){return B[((L.get(dt)||(b.t==="range"?L.set(dt,r.push(dt)):NaN))-1)%B.length]}function gt(dt,wt){return i.range(r.length).map(function(Dt){return dt+wt*Dt})}return tt.domain=function(dt){if(!arguments.length)return r;r=[],L=new w;for(var wt=-1,Dt=dt.length,Pt;++wt<Dt;)L.has(Pt=dt[wt])||L.set(Pt,r.push(Pt));return tt[b.t].apply(tt,b.a)},tt.range=function(dt){return arguments.length?(B=dt,$=0,b={t:"range",a:arguments},tt):B},tt.rangePoints=function(dt,wt){arguments.length<2&&(wt=0);var Dt=dt[0],Pt=dt[1],Jt=r.length<2?(Dt=(Dt+Pt)/2,0):(Pt-Dt)/(r.length-1+wt);return B=gt(Dt+Jt*wt/2,Jt),$=0,b={t:"rangePoints",a:arguments},tt},tt.rangeRoundPoints=function(dt,wt){arguments.length<2&&(wt=0);var Dt=dt[0],Pt=dt[1],Jt=r.length<2?(Dt=Pt=Math.round((Dt+Pt)/2),0):(Pt-Dt)/(r.length-1+wt)|0;return B=gt(Dt+Math.round(Jt*wt/2+(Pt-Dt-(r.length-1+wt)*Jt)/2),Jt),$=0,b={t:"rangeRoundPoints",a:arguments},tt},tt.rangeBands=function(dt,wt,Dt){arguments.length<2&&(wt=0),arguments.length<3&&(Dt=wt);var Pt=dt[1]<dt[0],Jt=dt[Pt-0],Qt=dt[1-Pt],fe=(Qt-Jt)/(r.length-wt+2*Dt);return B=gt(Jt+fe*Dt,fe),Pt&&B.reverse(),$=fe*(1-wt),b={t:"rangeBands",a:arguments},tt},tt.rangeRoundBands=function(dt,wt,Dt){arguments.length<2&&(wt=0),arguments.length<3&&(Dt=wt);var Pt=dt[1]<dt[0],Jt=dt[Pt-0],Qt=dt[1-Pt],fe=Math.floor((Qt-Jt)/(r.length-wt+2*Dt));return B=gt(Jt+Math.round((Qt-Jt-(r.length-wt)*fe)/2),fe),Pt&&B.reverse(),$=Math.round(fe*(1-wt)),b={t:"rangeRoundBands",a:arguments},tt},tt.rangeBand=function(){return $},tt.rangeExtent=function(){return wi(b.a[0])},tt.copy=function(){return Vs(r,b)},tt.domain(r)}i.scale.category10=function(){return i.scale.ordinal().range(g1)},i.scale.category20=function(){return i.scale.ordinal().range(m1)},i.scale.category20b=function(){return i.scale.ordinal().range(y1)},i.scale.category20c=function(){return i.scale.ordinal().range(x1)};var g1=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(et),m1=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(et),y1=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(et),x1=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(et);i.scale.quantile=function(){return qs([],[])};function qs(r,b){var L;function B(){var tt=0,gt=b.length;for(L=[];++tt<gt;)L[tt-1]=i.quantile(r,tt/gt);return $}function $(tt){if(!isNaN(tt=+tt))return b[i.bisect(L,tt)]}return $.domain=function(tt){return arguments.length?(r=tt.map(_).filter(y).sort(h),B()):r},$.range=function(tt){return arguments.length?(b=tt,B()):b},$.quantiles=function(){return L},$.invertExtent=function(tt){return tt=b.indexOf(tt),tt<0?[NaN,NaN]:[tt>0?L[tt-1]:r[0],tt<L.length?L[tt]:r[r.length-1]]},$.copy=function(){return qs(r,b)},B()}i.scale.quantize=function(){return Us(0,1,[0,1])};function Us(r,b,L){var B,$;function tt(dt){return L[Math.max(0,Math.min($,Math.floor(B*(dt-r))))]}function gt(){return B=L.length/(b-r),$=L.length-1,tt}return tt.domain=function(dt){return arguments.length?(r=+dt[0],b=+dt[dt.length-1],gt()):[r,b]},tt.range=function(dt){return arguments.length?(L=dt,gt()):L},tt.invertExtent=function(dt){return dt=L.indexOf(dt),dt=dt<0?NaN:dt/B+r,[dt,dt+1/B]},tt.copy=function(){return Us(r,b,L)},gt()}i.scale.threshold=function(){return Ys([.5],[0,1])};function Ys(r,b){function L(B){if(B<=B)return b[i.bisect(r,B)]}return L.domain=function(B){return arguments.length?(r=B,L):r},L.range=function(B){return arguments.length?(b=B,L):b},L.invertExtent=function(B){return B=b.indexOf(B),[r[B-1],r[B]]},L.copy=function(){return Ys(r,b)},L}i.scale.identity=function(){return Zs([0,1])};function Zs(r){function b(L){return+L}return b.invert=b,b.domain=b.range=function(L){return arguments.length?(r=L.map(b),b):r},b.ticks=function(L){return Io(r,L)},b.tickFormat=function(L,B){return d3_scale_linearTickFormat(r,L,B)},b.copy=function(){return Zs(r)},b}i.svg={};function b1(){return 0}i.svg.arc=function(){var r=_1,b=w1,L=b1,B=ki,$=Gs,tt=Js,gt=M1;function dt(){var Dt=Math.max(0,+r.apply(this,arguments)),Pt=Math.max(0,+b.apply(this,arguments)),Jt=$.apply(this,arguments)-Tt,Qt=tt.apply(this,arguments)-Tt,fe=Math.abs(Qt-Jt),ye=Jt>Qt?0:1;if(Pt<Dt&&(Kt=Pt,Pt=Dt,Dt=Kt),fe>=_t)return wt(Pt,ye)+(Dt?wt(Dt,1-ye):"")+"Z";var Kt,se,ue,ge,me=0,ce=0,Ee,Ge,We,Je,ta,ea,xa,na,ga=[];if((ge=(+gt.apply(this,arguments)||0)/2)&&(ue=B===ki?Math.sqrt(Dt*Dt+Pt*Pt):+B.apply(this,arguments),ye||(ce*=-1),Pt&&(ce=qt(ue/Pt*Math.sin(ge))),Dt&&(me=qt(ue/Dt*Math.sin(ge)))),Pt){Ee=Pt*Math.cos(Jt+ce),Ge=Pt*Math.sin(Jt+ce),We=Pt*Math.cos(Qt-ce),Je=Pt*Math.sin(Qt-ce);var Ia=Math.abs(Qt-Jt-2*ce)<=st?0:1;if(ce&&Ai(Ee,Ge,We,Je)===ye^Ia){var dr=(Jt+Qt)/2;Ee=Pt*Math.cos(dr),Ge=Pt*Math.sin(dr),We=Je=null}}else Ee=Ge=0;if(Dt){ta=Dt*Math.cos(Qt-me),ea=Dt*Math.sin(Qt-me),xa=Dt*Math.cos(Jt+me),na=Dt*Math.sin(Jt+me);var Ua=Math.abs(Jt-Qt+2*me)<=st?0:1;if(me&&Ai(ta,ea,xa,na)===1-ye^Ua){var Ze=(Jt+Qt)/2;ta=Dt*Math.cos(Ze),ea=Dt*Math.sin(Ze),xa=na=null}}else ta=ea=0;if(fe>Ct&&(Kt=Math.min(Math.abs(Pt-Dt)/2,+L.apply(this,arguments)))>.001){se=Dt<Pt^ye?0:1;var ba=Kt,wa=Kt;if(fe<st){var Ea=xa==null?[ta,ea]:We==null?[Ee,Ge]:fa([Ee,Ge],[xa,na],[We,Je],[ta,ea]),or=Ee-Ea[0],mr=Ge-Ea[1],kr=We-Ea[0],Fr=Je-Ea[1],Hr=1/Math.sin(Math.acos((or*kr+mr*Fr)/(Math.sqrt(or*or+mr*mr)*Math.sqrt(kr*kr+Fr*Fr)))/2),Nr=Math.sqrt(Ea[0]*Ea[0]+Ea[1]*Ea[1]);wa=Math.min(Kt,(Dt-Nr)/(Hr-1)),ba=Math.min(Kt,(Pt-Nr)/(Hr+1))}if(We!=null){var Vr=Li(xa==null?[ta,ea]:[xa,na],[Ee,Ge],Pt,ba,ye),Or=Li([We,Je],[ta,ea],Pt,ba,ye);Kt===ba?ga.push("M",Vr[0],"A",ba,",",ba," 0 0,",se," ",Vr[1],"A",Pt,",",Pt," 0 ",1-ye^Ai(Vr[1][0],Vr[1][1],Or[1][0],Or[1][1]),",",ye," ",Or[1],"A",ba,",",ba," 0 0,",se," ",Or[0]):ga.push("M",Vr[0],"A",ba,",",ba," 0 1,",se," ",Or[0])}else ga.push("M",Ee,",",Ge);if(xa!=null){var qr=Li([Ee,Ge],[xa,na],Dt,-wa,ye),On=Li([ta,ea],We==null?[Ee,Ge]:[We,Je],Dt,-wa,ye);Kt===wa?ga.push("L",On[0],"A",wa,",",wa," 0 0,",se," ",On[1],"A",Dt,",",Dt," 0 ",ye^Ai(On[1][0],On[1][1],qr[1][0],qr[1][1]),",",1-ye," ",qr[1],"A",wa,",",wa," 0 0,",se," ",qr[0]):ga.push("L",On[0],"A",wa,",",wa," 0 0,",se," ",qr[0])}else ga.push("L",ta,",",ea)}else ga.push("M",Ee,",",Ge),We!=null&&ga.push("A",Pt,",",Pt," 0 ",Ia,",",ye," ",We,",",Je),ga.push("L",ta,",",ea),xa!=null&&ga.push("A",Dt,",",Dt," 0 ",Ua,",",1-ye," ",xa,",",na);return ga.push("Z"),ga.join("")}function wt(Dt,Pt){return"M0,"+Dt+"A"+Dt+","+Dt+" 0 1,"+Pt+" 0,"+-Dt+"A"+Dt+","+Dt+" 0 1,"+Pt+" 0,"+Dt}return dt.innerRadius=function(Dt){return arguments.length?(r=Xt(Dt),dt):r},dt.outerRadius=function(Dt){return arguments.length?(b=Xt(Dt),dt):b},dt.cornerRadius=function(Dt){return arguments.length?(L=Xt(Dt),dt):L},dt.padRadius=function(Dt){return arguments.length?(B=Dt==ki?ki:Xt(Dt),dt):B},dt.startAngle=function(Dt){return arguments.length?($=Xt(Dt),dt):$},dt.endAngle=function(Dt){return arguments.length?(tt=Xt(Dt),dt):tt},dt.padAngle=function(Dt){return arguments.length?(gt=Xt(Dt),dt):gt},dt.centroid=function(){var Dt=(+r.apply(this,arguments)+ +b.apply(this,arguments))/2,Pt=(+$.apply(this,arguments)+ +tt.apply(this,arguments))/2-Tt;return[Math.cos(Pt)*Dt,Math.sin(Pt)*Dt]},dt};var ki="auto";function _1(r){return r.innerRadius}function w1(r){return r.outerRadius}function Gs(r){return r.startAngle}function Js(r){return r.endAngle}function M1(r){return r&&r.padAngle}function Ai(r,b,L,B){return(r-L)*b-(b-B)*r>0?0:1}function Li(r,b,L,B,$){var tt=r[0]-b[0],gt=r[1]-b[1],dt=($?B:-B)/Math.sqrt(tt*tt+gt*gt),wt=dt*gt,Dt=-dt*tt,Pt=r[0]+wt,Jt=r[1]+Dt,Qt=b[0]+wt,fe=b[1]+Dt,ye=(Pt+Qt)/2,Kt=(Jt+fe)/2,se=Qt-Pt,ue=fe-Jt,ge=se*se+ue*ue,me=L-B,ce=Pt*fe-Qt*Jt,Ee=(ue<0?-1:1)*Math.sqrt(Math.max(0,me*me*ge-ce*ce)),Ge=(ce*ue-se*Ee)/ge,We=(-ce*se-ue*Ee)/ge,Je=(ce*ue+se*Ee)/ge,ta=(-ce*se+ue*Ee)/ge,ea=Ge-ye,xa=We-Kt,na=Je-ye,ga=ta-Kt;return ea*ea+xa*xa>na*na+ga*ga&&(Ge=Je,We=ta),[[Ge-wt,We-Dt],[Ge*L/me,We*L/me]]}function Ws(){return!0}function Xs(r){var b=ka,L=Va,B=Ws,$=Qr,tt=$.key,gt=.7;function dt(wt){var Dt=[],Pt=[],Jt=-1,Qt=wt.length,fe,ye=Xt(b),Kt=Xt(L);function se(){Dt.push("M",$(r(Pt),gt))}for(;++Jt<Qt;)B.call(this,fe=wt[Jt],Jt)?Pt.push([+ye.call(this,fe,Jt),+Kt.call(this,fe,Jt)]):Pt.length&&(se(),Pt=[]);return Pt.length&&se(),Dt.length?Dt.join(""):null}return dt.x=function(wt){return arguments.length?(b=wt,dt):b},dt.y=function(wt){return arguments.length?(L=wt,dt):L},dt.defined=function(wt){return arguments.length?(B=wt,dt):B},dt.interpolate=function(wt){return arguments.length?(typeof wt=="function"?tt=$=wt:tt=($=Eo.get(wt)||Qr).key,dt):tt},dt.tension=function(wt){return arguments.length?(gt=wt,dt):gt},dt}i.svg.line=function(){return Xs(Z)};var Eo=i.map({linear:Qr,"linear-closed":$s,step:T1,"step-before":Fo,"step-after":No,basis:Qs,"basis-open":S1,"basis-closed":C1,bundle:O1,cardinal:L1,"cardinal-open":k1,"cardinal-closed":A1,monotone:z1});Eo.forEach(function(r,b){b.key=r,b.closed=/-closed$/.test(r)});function Qr(r){return r.length>1?r.join("L"):r+"Z"}function $s(r){return r.join("L")+"Z"}function T1(r){for(var b=0,L=r.length,B=r[0],$=[B[0],",",B[1]];++b<L;)$.push("H",(B[0]+(B=r[b])[0])/2,"V",B[1]);return L>1&&$.push("H",B[0]),$.join("")}function Fo(r){for(var b=0,L=r.length,B=r[0],$=[B[0],",",B[1]];++b<L;)$.push("V",(B=r[b])[1],"H",B[0]);return $.join("")}function No(r){for(var b=0,L=r.length,B=r[0],$=[B[0],",",B[1]];++b<L;)$.push("H",(B=r[b])[0],"V",B[1]);return $.join("")}function k1(r,b){return r.length<4?Qr(r):r[1]+Si(r.slice(1,-1),Ro(r,b))}function A1(r,b){return r.length<3?$s(r):r[0]+Si((r.push(r[0]),r),Ro([r[r.length-2]].concat(r,[r[1]]),b))}function L1(r,b){return r.length<3?Qr(r):r[0]+Si(r,Ro(r,b))}function Si(r,b){if(b.length<1||r.length!=b.length&&r.length!=b.length+2)return Qr(r);var L=r.length!=b.length,B="",$=r[0],tt=r[1],gt=b[0],dt=gt,wt=1;if(L&&(B+="Q"+(tt[0]-gt[0]*2/3)+","+(tt[1]-gt[1]*2/3)+","+tt[0]+","+tt[1],$=r[1],wt=2),b.length>1){dt=b[1],tt=r[wt],wt++,B+="C"+($[0]+gt[0])+","+($[1]+gt[1])+","+(tt[0]-dt[0])+","+(tt[1]-dt[1])+","+tt[0]+","+tt[1];for(var Dt=2;Dt<b.length;Dt++,wt++)tt=r[wt],dt=b[Dt],B+="S"+(tt[0]-dt[0])+","+(tt[1]-dt[1])+","+tt[0]+","+tt[1]}if(L){var Pt=r[wt];B+="Q"+(tt[0]+dt[0]*2/3)+","+(tt[1]+dt[1]*2/3)+","+Pt[0]+","+Pt[1]}return B}function Ro(r,b){for(var L=[],B=(1-b)/2,$,tt=r[0],gt=r[1],dt=1,wt=r.length;++dt<wt;)$=tt,tt=gt,gt=r[dt],L.push([B*(gt[0]-$[0]),B*(gt[1]-$[1])]);return L}function Qs(r){if(r.length<3)return Qr(r);var b=1,L=r.length,B=r[0],$=B[0],tt=B[1],gt=[$,$,$,(B=r[1])[0]],dt=[tt,tt,tt,B[1]],wt=[$,",",tt,"L",Jr(wn,gt),",",Jr(wn,dt)];for(r.push(r[L-1]);++b<=L;)B=r[b],gt.shift(),gt.push(B[0]),dt.shift(),dt.push(B[1]),jo(wt,gt,dt);return r.pop(),wt.push("L",B),wt.join("")}function S1(r){if(r.length<4)return Qr(r);for(var b=[],L=-1,B=r.length,$,tt=[0],gt=[0];++L<3;)$=r[L],tt.push($[0]),gt.push($[1]);for(b.push(Jr(wn,tt)+","+Jr(wn,gt)),--L;++L<B;)$=r[L],tt.shift(),tt.push($[0]),gt.shift(),gt.push($[1]),jo(b,tt,gt);return b.join("")}function C1(r){for(var b,L=-1,B=r.length,$=B+4,tt,gt=[],dt=[];++L<4;)tt=r[L%B],gt.push(tt[0]),dt.push(tt[1]);for(b=[Jr(wn,gt),",",Jr(wn,dt)],--L;++L<$;)tt=r[L%B],gt.shift(),gt.push(tt[0]),dt.shift(),dt.push(tt[1]),jo(b,gt,dt);return b.join("")}function O1(r,b){var L=r.length-1;if(L)for(var B=r[0][0],$=r[0][1],tt=r[L][0]-B,gt=r[L][1]-$,dt=-1,wt,Dt;++dt<=L;)wt=r[dt],Dt=dt/L,wt[0]=b*wt[0]+(1-b)*(B+Dt*tt),wt[1]=b*wt[1]+(1-b)*($+Dt*gt);return Qs(r)}function Jr(r,b){return r[0]*b[0]+r[1]*b[1]+r[2]*b[2]+r[3]*b[3]}var Ks=[0,2/3,1/3,0],tu=[0,1/3,2/3,0],wn=[0,1/6,2/3,1/6];function jo(r,b,L){r.push("C",Jr(Ks,b),",",Jr(Ks,L),",",Jr(tu,b),",",Jr(tu,L),",",Jr(wn,b),",",Jr(wn,L))}function Ho(r,b){return(b[1]-r[1])/(b[0]-r[0])}function D1(r){for(var b=0,L=r.length-1,B=[],$=r[0],tt=r[1],gt=B[0]=Ho($,tt);++b<L;)B[b]=(gt+(gt=Ho($=tt,tt=r[b+1])))/2;return B[b]=gt,B}function P1(r){for(var b=[],L,B,$,tt,gt=D1(r),dt=-1,wt=r.length-1;++dt<wt;)L=Ho(r[dt],r[dt+1]),u(L)<Ct?gt[dt]=gt[dt+1]=0:(B=gt[dt]/L,$=gt[dt+1]/L,tt=B*B+$*$,tt>9&&(tt=L*3/Math.sqrt(tt),gt[dt]=tt*B,gt[dt+1]=tt*$));for(dt=-1;++dt<=wt;)tt=(r[Math.min(wt,dt+1)][0]-r[Math.max(0,dt-1)][0])/(6*(1+gt[dt]*gt[dt])),b.push([tt||0,gt[dt]*tt||0]);return b}function z1(r){return r.length<3?Qr(r):r[0]+Si(r,P1(r))}i.svg.line.radial=function(){var r=Xs(eu);return r.radius=r.x,delete r.x,r.angle=r.y,delete r.y,r};function eu(r){for(var b,L=-1,B=r.length,$,tt;++L<B;)b=r[L],$=b[0],tt=b[1]-Tt,b[0]=$*Math.cos(tt),b[1]=$*Math.sin(tt);return r}function au(r){var b=ka,L=ka,B=0,$=Va,tt=Ws,gt=Qr,dt=gt.key,wt=gt,Dt="L",Pt=.7;function Jt(Qt){var fe=[],ye=[],Kt=[],se=-1,ue=Qt.length,ge,me=Xt(b),ce=Xt(B),Ee=b===L?function(){return We}:Xt(L),Ge=B===$?function(){return Je}:Xt($),We,Je;function ta(){fe.push("M",gt(r(Kt),Pt),Dt,wt(r(ye.reverse()),Pt),"Z")}for(;++se<ue;)tt.call(this,ge=Qt[se],se)?(ye.push([We=+me.call(this,ge,se),Je=+ce.call(this,ge,se)]),Kt.push([+Ee.call(this,ge,se),+Ge.call(this,ge,se)])):ye.length&&(ta(),ye=[],Kt=[]);return ye.length&&ta(),fe.length?fe.join(""):null}return Jt.x=function(Qt){return arguments.length?(b=L=Qt,Jt):L},Jt.x0=function(Qt){return arguments.length?(b=Qt,Jt):b},Jt.x1=function(Qt){return arguments.length?(L=Qt,Jt):L},Jt.y=function(Qt){return arguments.length?(B=$=Qt,Jt):$},Jt.y0=function(Qt){return arguments.length?(B=Qt,Jt):B},Jt.y1=function(Qt){return arguments.length?($=Qt,Jt):$},Jt.defined=function(Qt){return arguments.length?(tt=Qt,Jt):tt},Jt.interpolate=function(Qt){return arguments.length?(typeof Qt=="function"?dt=gt=Qt:dt=(gt=Eo.get(Qt)||Qr).key,wt=gt.reverse||gt,Dt=gt.closed?"M":"L",Jt):dt},Jt.tension=function(Qt){return arguments.length?(Pt=Qt,Jt):Pt},Jt}Fo.reverse=No,No.reverse=Fo,i.svg.area=function(){return au(Z)},i.svg.area.radial=function(){var r=au(eu);return r.radius=r.x,delete r.x,r.innerRadius=r.x0,delete r.x0,r.outerRadius=r.x1,delete r.x1,r.angle=r.y,delete r.y,r.startAngle=r.y0,delete r.y0,r.endAngle=r.y1,delete r.y1,r};function ru(r){return r.source}function nu(r){return r.target}i.svg.chord=function(){var r=ru,b=nu,L=I1,B=Gs,$=Js;function tt(Pt,Jt){var Qt=gt(this,r,Pt,Jt),fe=gt(this,b,Pt,Jt);return"M"+Qt.p0+wt(Qt.r,Qt.p1,Qt.a1-Qt.a0)+(dt(Qt,fe)?Dt(Qt.r,Qt.p1,Qt.r,Qt.p0):Dt(Qt.r,Qt.p1,fe.r,fe.p0)+wt(fe.r,fe.p1,fe.a1-fe.a0)+Dt(fe.r,fe.p1,Qt.r,Qt.p0))+"Z"}function gt(Pt,Jt,Qt,fe){var ye=Jt.call(Pt,Qt,fe),Kt=L.call(Pt,ye,fe),se=B.call(Pt,ye,fe)-Tt,ue=$.call(Pt,ye,fe)-Tt;return{r:Kt,a0:se,a1:ue,p0:[Kt*Math.cos(se),Kt*Math.sin(se)],p1:[Kt*Math.cos(ue),Kt*Math.sin(ue)]}}function dt(Pt,Jt){return Pt.a0==Jt.a0&&Pt.a1==Jt.a1}function wt(Pt,Jt,Qt){return"A"+Pt+","+Pt+" 0 "+ +(Qt>st)+",1 "+Jt}function Dt(Pt,Jt,Qt,fe){return"Q 0,0 "+fe}return tt.radius=function(Pt){return arguments.length?(L=Xt(Pt),tt):L},tt.source=function(Pt){return arguments.length?(r=Xt(Pt),tt):r},tt.target=function(Pt){return arguments.length?(b=Xt(Pt),tt):b},tt.startAngle=function(Pt){return arguments.length?(B=Xt(Pt),tt):B},tt.endAngle=function(Pt){return arguments.length?($=Xt(Pt),tt):$},tt};function I1(r){return r.radius}i.svg.diagonal=function(){var r=ru,b=nu,L=iu;function B($,tt){var gt=r.call(this,$,tt),dt=b.call(this,$,tt),wt=(gt.y+dt.y)/2,Dt=[gt,{x:gt.x,y:wt},{x:dt.x,y:wt},dt];return Dt=Dt.map(L),"M"+Dt[0]+"C"+Dt[1]+" "+Dt[2]+" "+Dt[3]}return B.source=function($){return arguments.length?(r=Xt($),B):r},B.target=function($){return arguments.length?(b=Xt($),B):b},B.projection=function($){return arguments.length?(L=$,B):L},B};function iu(r){return[r.x,r.y]}i.svg.diagonal.radial=function(){var r=i.svg.diagonal(),b=iu,L=r.projection;return r.projection=function(B){return arguments.length?L(E1(b=B)):b},r};function E1(r){return function(){var b=r.apply(this,arguments),L=b[0],B=b[1]-Tt;return[L*Math.cos(B),L*Math.sin(B)]}}i.svg.symbol=function(){var r=N1,b=F1;function L(B,$){return(lu.get(r.call(this,B,$))||ou)(b.call(this,B,$))}return L.type=function(B){return arguments.length?(r=Xt(B),L):r},L.size=function(B){return arguments.length?(b=Xt(B),L):b},L};function F1(){return 64}function N1(){return"circle"}function ou(r){var b=Math.sqrt(r/st);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}var lu=i.map({circle:ou,cross:function(r){var b=Math.sqrt(r/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(r){var b=Math.sqrt(r/(2*su)),L=b*su;return"M0,"+-b+"L"+L+",0 0,"+b+" "+-L+",0Z"},square:function(r){var b=Math.sqrt(r)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(r){var b=Math.sqrt(r/Ci),L=b*Ci/2;return"M0,"+L+"L"+b+","+-L+" "+-b+","+-L+"Z"},"triangle-up":function(r){var b=Math.sqrt(r/Ci),L=b*Ci/2;return"M0,"+-L+"L"+b+","+L+" "+-b+","+L+"Z"}});i.svg.symbolTypes=lu.keys();var Ci=Math.sqrt(3),su=Math.tan(30*zt);I.transition=function(r){for(var b=Cn||++cu,L=Vo(r),B=[],$,tt,gt=Di||{time:Date.now(),ease:g0,delay:0,duration:250},dt=-1,wt=this.length;++dt<wt;){B.push($=[]);for(var Dt=this[dt],Pt=-1,Jt=Dt.length;++Pt<Jt;)(tt=Dt[Pt])&&Pi(tt,Pt,L,b,gt),$.push(tt)}return Kn(B,L,b)},I.interrupt=function(r){return this.each(r==null?Oi:uu(Vo(r)))};var Oi=uu(Vo());function uu(r){return function(){var b,L,B;(b=this[r])&&(B=b[L=b.active])&&(B.timer.c=null,B.timer.t=NaN,--b.count?delete b[L]:delete this[r],b.active+=.5,B.event&&B.event.interrupt.call(this,this.__data__,B.index))}}function Kn(r,b,L){return H(r,gr),r.namespace=b,r.id=L,r}var gr=[],cu=0,Cn,Di;gr.call=I.call,gr.empty=I.empty,gr.node=I.node,gr.size=I.size,i.transition=function(r,b){return r&&r.transition?Cn?r.transition(b):r:i.selection().transition(r)},i.transition.prototype=gr,gr.select=function(r){var b=this.id,L=this.namespace,B=[],$,tt,gt;r=M(r);for(var dt=-1,wt=this.length;++dt<wt;){B.push($=[]);for(var Dt=this[dt],Pt=-1,Jt=Dt.length;++Pt<Jt;)(gt=Dt[Pt])&&(tt=r.call(gt,gt.__data__,Pt,dt))?("__data__"in gt&&(tt.__data__=gt.__data__),Pi(tt,Pt,L,b,gt[L][b]),$.push(tt)):$.push(null)}return Kn(B,L,b)},gr.selectAll=function(r){var b=this.id,L=this.namespace,B=[],$,tt,gt,dt,wt;r=S(r);for(var Dt=-1,Pt=this.length;++Dt<Pt;)for(var Jt=this[Dt],Qt=-1,fe=Jt.length;++Qt<fe;)if(gt=Jt[Qt]){wt=gt[L][b],tt=r.call(gt,gt.__data__,Qt,Dt),B.push($=[]);for(var ye=-1,Kt=tt.length;++ye<Kt;)(dt=tt[ye])&&Pi(dt,ye,L,b,wt),$.push(dt)}return Kn(B,L,b)},gr.filter=function(r){var b=[],L,B,$;typeof r!="function"&&(r=lt(r));for(var tt=0,gt=this.length;tt<gt;tt++){b.push(L=[]);for(var B=this[tt],dt=0,wt=B.length;dt<wt;dt++)($=B[dt])&&r.call($,$.__data__,dt,tt)&&L.push($)}return Kn(b,this.namespace,this.id)},gr.tween=function(r,b){var L=this.id,B=this.namespace;return arguments.length<2?this.node()[B][L].tween.get(r):Rt(this,b==null?function($){$[B][L].tween.remove(r)}:function($){$[B][L].tween.set(r,b)})};function Bo(r,b,L,B){var $=r.id,tt=r.namespace;return Rt(r,typeof L=="function"?function(gt,dt,wt){gt[tt][$].tween.set(b,B(L.call(gt,gt.__data__,dt,wt)))}:(L=B(L),function(gt){gt[tt][$].tween.set(b,L)}))}gr.attr=function(r,b){if(arguments.length<2){for(b in r)this.attr(b,r[b]);return this}var L=r=="transform"?ws:Sn,B=i.ns.qualify(r);function $(){this.removeAttribute(B)}function tt(){this.removeAttributeNS(B.space,B.local)}function gt(wt){return wt==null?$:(wt+="",function(){var Dt=this.getAttribute(B),Pt;return Dt!==wt&&(Pt=L(Dt,wt),function(Jt){this.setAttribute(B,Pt(Jt))})})}function dt(wt){return wt==null?tt:(wt+="",function(){var Dt=this.getAttributeNS(B.space,B.local),Pt;return Dt!==wt&&(Pt=L(Dt,wt),function(Jt){this.setAttributeNS(B.space,B.local,Pt(Jt))})})}return Bo(this,"attr."+r,b,B.local?dt:gt)},gr.attrTween=function(r,b){var L=i.ns.qualify(r);function B(tt,gt){var dt=b.call(this,tt,gt,this.getAttribute(L));return dt&&function(wt){this.setAttribute(L,dt(wt))}}function $(tt,gt){var dt=b.call(this,tt,gt,this.getAttributeNS(L.space,L.local));return dt&&function(wt){this.setAttributeNS(L.space,L.local,dt(wt))}}return this.tween("attr."+r,L.local?$:B)},gr.style=function(r,b,L){var B=arguments.length;if(B<3){if(typeof r!="string"){B<2&&(b="");for(L in r)this.style(L,r[L],b);return this}L=""}function $(){this.style.removeProperty(r)}function tt(gt){return gt==null?$:(gt+="",function(){var dt=o(this).getComputedStyle(this,null).getPropertyValue(r),wt;return dt!==gt&&(wt=Sn(dt,gt),function(Dt){this.style.setProperty(r,wt(Dt),L)})})}return Bo(this,"style."+r,b,tt)},gr.styleTween=function(r,b,L){arguments.length<3&&(L="");function B($,tt){var gt=b.call(this,$,tt,o(this).getComputedStyle(this,null).getPropertyValue(r));return gt&&function(dt){this.style.setProperty(r,gt(dt),L)}}return this.tween("style."+r,B)},gr.text=function(r){return Bo(this,"text",r,R1)};function R1(r){return r==null&&(r=""),function(){this.textContent=r}}gr.remove=function(){var r=this.namespace;return this.each("end.transition",function(){var b;this[r].count<2&&(b=this.parentNode)&&b.removeChild(this)})},gr.ease=function(r){var b=this.id,L=this.namespace;return arguments.length<1?this.node()[L][b].ease:(typeof r!="function"&&(r=i.ease.apply(i,arguments)),Rt(this,function(B){B[L][b].ease=r}))},gr.delay=function(r){var b=this.id,L=this.namespace;return arguments.length<1?this.node()[L][b].delay:Rt(this,typeof r=="function"?function(B,$,tt){B[L][b].delay=+r.call(B,B.__data__,$,tt)}:(r=+r,function(B){B[L][b].delay=r}))},gr.duration=function(r){var b=this.id,L=this.namespace;return arguments.length<1?this.node()[L][b].duration:Rt(this,typeof r=="function"?function(B,$,tt){B[L][b].duration=Math.max(1,r.call(B,B.__data__,$,tt))}:(r=Math.max(1,r),function(B){B[L][b].duration=r}))},gr.each=function(r,b){var L=this.id,B=this.namespace;if(arguments.length<2){var $=Di,tt=Cn;try{Cn=L,Rt(this,function(gt,dt,wt){Di=gt[B][L],r.call(gt,gt.__data__,dt,wt)})}finally{Di=$,Cn=tt}}else Rt(this,function(gt){var dt=gt[B][L];(dt.event||(dt.event=i.dispatch("start","end","interrupt"))).on(r,b)});return this},gr.transition=function(){for(var r=this.id,b=++cu,L=this.namespace,B=[],$,tt,gt,dt,wt=0,Dt=this.length;wt<Dt;wt++){B.push($=[]);for(var tt=this[wt],Pt=0,Jt=tt.length;Pt<Jt;Pt++)(gt=tt[Pt])&&(dt=gt[L][r],Pi(gt,Pt,L,b,{time:dt.time,ease:dt.ease,delay:dt.delay+dt.duration,duration:dt.duration})),$.push(gt)}return Kn(B,L,b)};function Vo(r){return r==null?"__transition__":"__transition_"+r+"__"}function Pi(r,b,L,B,$){var tt=r[L]||(r[L]={active:0,count:0}),gt=tt[B],dt,wt,Dt,Pt,Jt;function Qt(Kt){var se=gt.delay;if(wt.t=se+dt,se<=Kt)return fe(Kt-se);wt.c=fe}function fe(Kt){var se=tt.active,ue=tt[se];ue&&(ue.timer.c=null,ue.timer.t=NaN,--tt.count,delete tt[se],ue.event&&ue.event.interrupt.call(r,r.__data__,ue.index));for(var ge in tt)if(+ge<B){var me=tt[ge];me.timer.c=null,me.timer.t=NaN,--tt.count,delete tt[ge]}wt.c=ye,$e(function(){return wt.c&&ye(Kt||1)&&(wt.c=null,wt.t=NaN),1},0,dt),tt.active=B,gt.event&&gt.event.start.call(r,r.__data__,b),Jt=[],gt.tween.forEach(function(ce,Ee){(Ee=Ee.call(r,r.__data__,b))&&Jt.push(Ee)}),Pt=gt.ease,Dt=gt.duration}function ye(Kt){for(var se=Kt/Dt,ue=Pt(se),ge=Jt.length;ge>0;)Jt[--ge].call(r,ue);if(se>=1)return gt.event&&gt.event.end.call(r,r.__data__,b),--tt.count?delete tt[B]:delete r[L],1}gt||(dt=$.time,wt=$e(Qt,0,dt),gt=tt[B]={tween:new w,time:dt,timer:wt,delay:$.delay,duration:$.duration,ease:$.ease,index:b},$=null,++tt.count)}i.svg.axis=function(){var r=i.scale.linear(),b=fu,L=6,B=6,$=3,tt=[10],gt=null,dt;function wt(Dt){Dt.each(function(){var Pt=i.select(this),Jt=this.__chart__||r,Qt=this.__chart__=r.copy(),fe=gt??(Qt.ticks?Qt.ticks.apply(Qt,tt):Qt.domain()),ye=dt??(Qt.tickFormat?Qt.tickFormat.apply(Qt,tt):Z),Kt=Pt.selectAll(".tick").data(fe,Qt),se=Kt.enter().insert("g",".domain").attr("class","tick").style("opacity",Ct),ue=i.transition(Kt.exit()).style("opacity",Ct).remove(),ge=i.transition(Kt.order()).style("opacity",1),me=Math.max(L,0)+$,ce,Ee=Mi(Qt),Ge=Pt.selectAll(".domain").data([0]),We=(Ge.enter().append("path").attr("class","domain"),i.transition(Ge));se.append("line"),se.append("text");var Je=se.select("line"),ta=ge.select("line"),ea=Kt.select("text").text(ye),xa=se.select("text"),na=ge.select("text"),ga=b==="top"||b==="left"?-1:1,Ia,dr,Ua,Ze;if(b==="bottom"||b==="top"?(ce=H1,Ia="x",Ua="y",dr="x2",Ze="y2",ea.attr("dy",ga<0?"0em":".71em").style("text-anchor","middle"),We.attr("d","M"+Ee[0]+","+ga*B+"V0H"+Ee[1]+"V"+ga*B)):(ce=B1,Ia="y",Ua="x",dr="y2",Ze="x2",ea.attr("dy",".32em").style("text-anchor",ga<0?"end":"start"),We.attr("d","M"+ga*B+","+Ee[0]+"H0V"+Ee[1]+"H"+ga*B)),Je.attr(Ze,ga*L),xa.attr(Ua,ga*me),ta.attr(dr,0).attr(Ze,ga*L),na.attr(Ia,0).attr(Ua,ga*me),Qt.rangeBand){var ba=Qt,wa=ba.rangeBand()/2;Jt=Qt=function(Ea){return ba(Ea)+wa}}else Jt.rangeBand?Jt=Qt:ue.call(ce,Qt,Jt);se.call(ce,Jt,Qt),ge.call(ce,Qt,Qt)})}return wt.scale=function(Dt){return arguments.length?(r=Dt,wt):r},wt.orient=function(Dt){return arguments.length?(b=Dt in j1?Dt+"":fu,wt):b},wt.ticks=function(){return arguments.length?(tt=a(arguments),wt):tt},wt.tickValues=function(Dt){return arguments.length?(gt=Dt,wt):gt},wt.tickFormat=function(Dt){return arguments.length?(dt=Dt,wt):dt},wt.tickSize=function(Dt){var Pt=arguments.length;return Pt?(L=+Dt,B=+arguments[Pt-1],wt):L},wt.innerTickSize=function(Dt){return arguments.length?(L=+Dt,wt):L},wt.outerTickSize=function(Dt){return arguments.length?(B=+Dt,wt):B},wt.tickPadding=function(Dt){return arguments.length?($=+Dt,wt):$},wt.tickSubdivide=function(){return arguments.length&&wt},wt};var fu="bottom",j1={top:1,right:1,bottom:1,left:1};function H1(r,b,L){r.attr("transform",function(B){var $=b(B);return"translate("+(isFinite($)?$:L(B))+",0)"})}function B1(r,b,L){r.attr("transform",function(B){var $=b(B);return"translate(0,"+(isFinite($)?$:L(B))+")"})}i.svg.brush=function(){var r=pt(Pt,"brushstart","brush","brushend"),b=null,L=null,B=[0,0],$=[0,0],tt,gt,dt=!0,wt=!0,Dt=qo[0];function Pt(Kt){Kt.each(function(){var se=i.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",ye).on("touchstart.brush",ye),ue=se.selectAll(".background").data([0]);ue.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),se.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var ge=se.selectAll(".resize").data(Dt,Z);ge.exit().remove(),ge.enter().append("g").attr("class",function(Ge){return"resize "+Ge}).style("cursor",function(Ge){return V1[Ge]}).append("rect").attr("x",function(Ge){return/[ew]$/.test(Ge)?-3:null}).attr("y",function(Ge){return/^[ns]/.test(Ge)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),ge.style("display",Pt.empty()?"none":null);var me=i.transition(se),ce=i.transition(ue),Ee;b&&(Ee=Mi(b),ce.attr("x",Ee[0]).attr("width",Ee[1]-Ee[0]),Qt(me)),L&&(Ee=Mi(L),ce.attr("y",Ee[0]).attr("height",Ee[1]-Ee[0]),fe(me)),Jt(me)})}Pt.event=function(Kt){Kt.each(function(){var se=r.of(this,arguments),ue={x:B,y:$,i:tt,j:gt},ge=this.__chart__||ue;this.__chart__=ue,Cn?i.select(this).transition().each("start.brush",function(){tt=ge.i,gt=ge.j,B=ge.x,$=ge.y,se({type:"brushstart"})}).tween("brush:brush",function(){var me=_i(B,ue.x),ce=_i($,ue.y);return tt=gt=null,function(Ee){B=ue.x=me(Ee),$=ue.y=ce(Ee),se({type:"brush",mode:"resize"})}}).each("end.brush",function(){tt=ue.i,gt=ue.j,se({type:"brush",mode:"resize"}),se({type:"brushend"})}):(se({type:"brushstart"}),se({type:"brush",mode:"resize"}),se({type:"brushend"}))})};function Jt(Kt){Kt.selectAll(".resize").attr("transform",function(se){return"translate("+B[+/e$/.test(se)]+","+$[+/^s/.test(se)]+")"})}function Qt(Kt){Kt.select(".extent").attr("x",B[0]),Kt.selectAll(".extent,.n>rect,.s>rect").attr("width",B[1]-B[0])}function fe(Kt){Kt.select(".extent").attr("y",$[0]),Kt.selectAll(".extent,.e>rect,.w>rect").attr("height",$[1]-$[0])}function ye(){var Kt=this,se=i.select(i.event.target),ue=r.of(Kt,arguments),ge=i.select(Kt),me=se.datum(),ce=!/^(n|s)$/.test(me)&&b,Ee=!/^(e|w)$/.test(me)&&L,Ge=se.classed("extent"),We=xe(Kt),Je,ta=i.mouse(Kt),ea,xa=i.select(o(Kt)).on("keydown.brush",Ia).on("keyup.brush",dr);if(i.event.changedTouches?xa.on("touchmove.brush",Ua).on("touchend.brush",ba):xa.on("mousemove.brush",Ua).on("mouseup.brush",ba),ge.interrupt().selectAll("*").interrupt(),Ge)ta[0]=B[0]-ta[0],ta[1]=$[0]-ta[1];else if(me){var na=+/w$/.test(me),ga=+/^n/.test(me);ea=[B[1-na]-ta[0],$[1-ga]-ta[1]],ta[0]=B[na],ta[1]=$[ga]}else i.event.altKey&&(Je=ta.slice());ge.style("pointer-events","none").selectAll(".resize").style("display",null),i.select("body").style("cursor",se.style("cursor")),ue({type:"brushstart"}),Ua();function Ia(){i.event.keyCode==32&&(Ge||(Je=null,ta[0]-=B[1],ta[1]-=$[1],Ge=2),ot())}function dr(){i.event.keyCode==32&&Ge==2&&(ta[0]+=B[1],ta[1]+=$[1],Ge=0,ot())}function Ua(){var wa=i.mouse(Kt),Ea=!1;ea&&(wa[0]+=ea[0],wa[1]+=ea[1]),Ge||(i.event.altKey?(Je||(Je=[(B[0]+B[1])/2,($[0]+$[1])/2]),ta[0]=B[+(wa[0]<Je[0])],ta[1]=$[+(wa[1]<Je[1])]):Je=null),ce&&Ze(wa,b,0)&&(Qt(ge),Ea=!0),Ee&&Ze(wa,L,1)&&(fe(ge),Ea=!0),Ea&&(Jt(ge),ue({type:"brush",mode:Ge?"move":"resize"}))}function Ze(wa,Ea,or){var mr=Mi(Ea),kr=mr[0],Fr=mr[1],Hr=ta[or],Nr=or?$:B,Vr=Nr[1]-Nr[0],Or,qr;if(Ge&&(kr-=Hr,Fr-=Vr+Hr),Or=(or?wt:dt)?Math.max(kr,Math.min(Fr,wa[or])):wa[or],Ge?qr=(Or+=Hr)+Vr:(Je&&(Hr=Math.max(kr,Math.min(Fr,2*Je[or]-Or))),Hr<Or?(qr=Or,Or=Hr):qr=Hr),Nr[0]!=Or||Nr[1]!=qr)return or?gt=null:tt=null,Nr[0]=Or,Nr[1]=qr,!0}function ba(){Ua(),ge.style("pointer-events","all").selectAll(".resize").style("display",Pt.empty()?"none":null),i.select("body").style("cursor",null),xa.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),We(),ue({type:"brushend"})}}return Pt.x=function(Kt){return arguments.length?(b=Kt,Dt=qo[!b<<1|!L],Pt):b},Pt.y=function(Kt){return arguments.length?(L=Kt,Dt=qo[!b<<1|!L],Pt):L},Pt.clamp=function(Kt){return arguments.length?(b&&L?(dt=!!Kt[0],wt=!!Kt[1]):b?dt=!!Kt:L&&(wt=!!Kt),Pt):b&&L?[dt,wt]:b?dt:L?wt:null},Pt.extent=function(Kt){var se,ue,ge,me,ce;return arguments.length?(b&&(se=Kt[0],ue=Kt[1],L&&(se=se[0],ue=ue[0]),tt=[se,ue],b.invert&&(se=b(se),ue=b(ue)),ue<se&&(ce=se,se=ue,ue=ce),(se!=B[0]||ue!=B[1])&&(B=[se,ue])),L&&(ge=Kt[0],me=Kt[1],b&&(ge=ge[1],me=me[1]),gt=[ge,me],L.invert&&(ge=L(ge),me=L(me)),me<ge&&(ce=ge,ge=me,me=ce),(ge!=$[0]||me!=$[1])&&($=[ge,me])),Pt):(b&&(tt?(se=tt[0],ue=tt[1]):(se=B[0],ue=B[1],b.invert&&(se=b.invert(se),ue=b.invert(ue)),ue<se&&(ce=se,se=ue,ue=ce))),L&&(gt?(ge=gt[0],me=gt[1]):(ge=$[0],me=$[1],L.invert&&(ge=L.invert(ge),me=L.invert(me)),me<ge&&(ce=ge,ge=me,me=ce))),b&&L?[[se,ge],[ue,me]]:b?[se,ue]:L&&[ge,me])},Pt.clear=function(){return Pt.empty()||(B=[0,0],$=[0,0],tt=gt=null),Pt},Pt.empty=function(){return!!b&&B[0]==B[1]||!!L&&$[0]==$[1]},i.rebind(Pt,r,"on")};var V1={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},qo=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];i.text=ee(function(r){return r.responseText}),i.json=function(r,b){return he(r,"application/json",q1,b)};function q1(r){return JSON.parse(r.responseText)}i.html=function(r,b){return he(r,"text/html",U1,b)};function U1(r){var b=l.createRange();return b.selectNode(l.body),b.createContextualFragment(r.responseText)}i.xml=ee(function(r){return r.responseXML}),typeof P=="object"&&P.exports?P.exports=i:this.d3=i}).apply(self)}),Ya=Mt((E,P)=>{(function(i,t){typeof E=="object"&&typeof P<"u"?t(E):(i=i||self,t(i.d3=i.d3||{}))})(E,function(i){var t=new Date,a=new Date;function l(lt,At,Rt,Ut){function te(Wt){return lt(Wt=arguments.length===0?new Date:new Date(+Wt)),Wt}return te.floor=function(Wt){return lt(Wt=new Date(+Wt)),Wt},te.ceil=function(Wt){return lt(Wt=new Date(Wt-1)),At(Wt,1),lt(Wt),Wt},te.round=function(Wt){var ae=te(Wt),ne=te.ceil(Wt);return Wt-ae<ne-Wt?ae:ne},te.offset=function(Wt,ae){return At(Wt=new Date(+Wt),ae==null?1:Math.floor(ae)),Wt},te.range=function(Wt,ae,ne){var re=[],de;if(Wt=te.ceil(Wt),ne=ne==null?1:Math.floor(ne),!(Wt<ae)||!(ne>0))return re;do re.push(de=new Date(+Wt)),At(Wt,ne),lt(Wt);while(de<Wt&&Wt<ae);return re},te.filter=function(Wt){return l(function(ae){if(ae>=ae)for(;lt(ae),!Wt(ae);)ae.setTime(ae-1)},function(ae,ne){if(ae>=ae)if(ne<0)for(;++ne<=0;)for(;At(ae,-1),!Wt(ae););else for(;--ne>=0;)for(;At(ae,1),!Wt(ae););})},Rt&&(te.count=function(Wt,ae){return t.setTime(+Wt),a.setTime(+ae),lt(t),lt(a),Math.floor(Rt(t,a))},te.every=function(Wt){return Wt=Math.floor(Wt),!isFinite(Wt)||!(Wt>0)?null:Wt>1?te.filter(Ut?function(ae){return Ut(ae)%Wt===0}:function(ae){return te.count(0,ae)%Wt===0}):te}),te}var n=l(function(){},function(lt,At){lt.setTime(+lt+At)},function(lt,At){return At-lt});n.every=function(lt){return lt=Math.floor(lt),!isFinite(lt)||!(lt>0)?null:lt>1?l(function(At){At.setTime(Math.floor(At/lt)*lt)},function(At,Rt){At.setTime(+At+Rt*lt)},function(At,Rt){return(Rt-At)/lt}):n};var o=n.range,s=1e3,f=6e4,e=36e5,p=864e5,c=6048e5,h=l(function(lt){lt.setTime(lt-lt.getMilliseconds())},function(lt,At){lt.setTime(+lt+At*s)},function(lt,At){return(At-lt)/s},function(lt){return lt.getUTCSeconds()}),_=h.range,y=l(function(lt){lt.setTime(lt-lt.getMilliseconds()-lt.getSeconds()*s)},function(lt,At){lt.setTime(+lt+At*f)},function(lt,At){return(At-lt)/f},function(lt){return lt.getMinutes()}),v=y.range,g=l(function(lt){lt.setTime(lt-lt.getMilliseconds()-lt.getSeconds()*s-lt.getMinutes()*f)},function(lt,At){lt.setTime(+lt+At*e)},function(lt,At){return(At-lt)/e},function(lt){return lt.getHours()}),x=g.range,u=l(function(lt){lt.setHours(0,0,0,0)},function(lt,At){lt.setDate(lt.getDate()+At)},function(lt,At){return(At-lt-(At.getTimezoneOffset()-lt.getTimezoneOffset())*f)/p},function(lt){return lt.getDate()-1}),d=u.range;function m(lt){return l(function(At){At.setDate(At.getDate()-(At.getDay()+7-lt)%7),At.setHours(0,0,0,0)},function(At,Rt){At.setDate(At.getDate()+Rt*7)},function(At,Rt){return(Rt-At-(Rt.getTimezoneOffset()-At.getTimezoneOffset())*f)/c})}var w=m(0),k=m(1),U=m(2),D=m(3),C=m(4),T=m(5),Y=m(6),z=w.range,j=k.range,F=U.range,R=D.range,Z=C.range,G=T.range,O=Y.range,J=l(function(lt){lt.setDate(1),lt.setHours(0,0,0,0)},function(lt,At){lt.setMonth(lt.getMonth()+At)},function(lt,At){return At.getMonth()-lt.getMonth()+(At.getFullYear()-lt.getFullYear())*12},function(lt){return lt.getMonth()}),X=J.range,it=l(function(lt){lt.setMonth(0,1),lt.setHours(0,0,0,0)},function(lt,At){lt.setFullYear(lt.getFullYear()+At)},function(lt,At){return At.getFullYear()-lt.getFullYear()},function(lt){return lt.getFullYear()});it.every=function(lt){return!isFinite(lt=Math.floor(lt))||!(lt>0)?null:l(function(At){At.setFullYear(Math.floor(At.getFullYear()/lt)*lt),At.setMonth(0,1),At.setHours(0,0,0,0)},function(At,Rt){At.setFullYear(At.getFullYear()+Rt*lt)})};var at=it.range,ot=l(function(lt){lt.setUTCSeconds(0,0)},function(lt,At){lt.setTime(+lt+At*f)},function(lt,At){return(At-lt)/f},function(lt){return lt.getUTCMinutes()}),ht=ot.range,pt=l(function(lt){lt.setUTCMinutes(0,0,0)},function(lt,At){lt.setTime(+lt+At*e)},function(lt,At){return(At-lt)/e},function(lt){return lt.getUTCHours()}),yt=pt.range,H=l(function(lt){lt.setUTCHours(0,0,0,0)},function(lt,At){lt.setUTCDate(lt.getUTCDate()+At)},function(lt,At){return(At-lt)/p},function(lt){return lt.getUTCDate()-1}),q=H.range;function A(lt){return l(function(At){At.setUTCDate(At.getUTCDate()-(At.getUTCDay()+7-lt)%7),At.setUTCHours(0,0,0,0)},function(At,Rt){At.setUTCDate(At.getUTCDate()+Rt*7)},function(At,Rt){return(Rt-At)/c})}var W=A(0),rt=A(1),I=A(2),M=A(3),S=A(4),N=A(5),V=A(6),nt=W.range,ut=rt.range,ct=I.range,bt=M.range,kt=S.range,Et=N.range,Gt=V.range,Vt=l(function(lt){lt.setUTCDate(1),lt.setUTCHours(0,0,0,0)},function(lt,At){lt.setUTCMonth(lt.getUTCMonth()+At)},function(lt,At){return At.getUTCMonth()-lt.getUTCMonth()+(At.getUTCFullYear()-lt.getUTCFullYear())*12},function(lt){return lt.getUTCMonth()}),Ht=Vt.range,vt=l(function(lt){lt.setUTCMonth(0,1),lt.setUTCHours(0,0,0,0)},function(lt,At){lt.setUTCFullYear(lt.getUTCFullYear()+At)},function(lt,At){return At.getUTCFullYear()-lt.getUTCFullYear()},function(lt){return lt.getUTCFullYear()});vt.every=function(lt){return!isFinite(lt=Math.floor(lt))||!(lt>0)?null:l(function(At){At.setUTCFullYear(Math.floor(At.getUTCFullYear()/lt)*lt),At.setUTCMonth(0,1),At.setUTCHours(0,0,0,0)},function(At,Rt){At.setUTCFullYear(At.getUTCFullYear()+Rt*lt)})};var xt=vt.range;i.timeDay=u,i.timeDays=d,i.timeFriday=T,i.timeFridays=G,i.timeHour=g,i.timeHours=x,i.timeInterval=l,i.timeMillisecond=n,i.timeMilliseconds=o,i.timeMinute=y,i.timeMinutes=v,i.timeMonday=k,i.timeMondays=j,i.timeMonth=J,i.timeMonths=X,i.timeSaturday=Y,i.timeSaturdays=O,i.timeSecond=h,i.timeSeconds=_,i.timeSunday=w,i.timeSundays=z,i.timeThursday=C,i.timeThursdays=Z,i.timeTuesday=U,i.timeTuesdays=F,i.timeWednesday=D,i.timeWednesdays=R,i.timeWeek=w,i.timeWeeks=z,i.timeYear=it,i.timeYears=at,i.utcDay=H,i.utcDays=q,i.utcFriday=N,i.utcFridays=Et,i.utcHour=pt,i.utcHours=yt,i.utcMillisecond=n,i.utcMilliseconds=o,i.utcMinute=ot,i.utcMinutes=ht,i.utcMonday=rt,i.utcMondays=ut,i.utcMonth=Vt,i.utcMonths=Ht,i.utcSaturday=V,i.utcSaturdays=Gt,i.utcSecond=h,i.utcSeconds=_,i.utcSunday=W,i.utcSundays=nt,i.utcThursday=S,i.utcThursdays=kt,i.utcTuesday=I,i.utcTuesdays=ct,i.utcWednesday=M,i.utcWednesdays=bt,i.utcWeek=W,i.utcWeeks=nt,i.utcYear=vt,i.utcYears=xt,Object.defineProperty(i,"__esModule",{value:!0})})}),Oa=Mt((E,P)=>{(function(i,t){typeof E=="object"&&typeof P<"u"?t(E,Ya()):(i=i||self,t(i.d3=i.d3||{},i.d3))})(E,function(i,t){function a(mt){if(0<=mt.y&&mt.y<100){var Ct=new Date(-1,mt.m,mt.d,mt.H,mt.M,mt.S,mt.L);return Ct.setFullYear(mt.y),Ct}return new Date(mt.y,mt.m,mt.d,mt.H,mt.M,mt.S,mt.L)}function l(mt){if(0<=mt.y&&mt.y<100){var Ct=new Date(Date.UTC(-1,mt.m,mt.d,mt.H,mt.M,mt.S,mt.L));return Ct.setUTCFullYear(mt.y),Ct}return new Date(Date.UTC(mt.y,mt.m,mt.d,mt.H,mt.M,mt.S,mt.L))}function n(mt,Ct,Q){return{y:mt,m:Ct,d:Q,H:0,M:0,S:0,L:0}}function o(mt){var Ct=mt.dateTime,Q=mt.date,st=mt.time,ft=mt.periods,_t=mt.days,Tt=mt.shortDays,zt=mt.months,Ft=mt.shortMonths,Zt=_(ft),qt=y(ft),Yt=_(_t),ie=y(_t),oe=_(Tt),le=y(Tt),be=_(zt),Ae=y(zt),Re=_(Ft),Ve=y(Ft),Ye={a:ma,A:ya,b:Qe,B:ha,c:null,d:J,e:J,f:ht,H:X,I:it,j:at,L:ot,m:pt,M:yt,p:oa,q:Ce,Q:ae,s:ne,S:H,u:q,U:A,V:W,w:rt,W:I,x:null,X:null,y:M,Y:S,Z:N,"%":Wt},Se={a:Ma,A:et,b:K,B:St,c:null,d:V,e:V,f:kt,H:nt,I:ut,j:ct,L:bt,m:Et,M:Gt,p:It,q:jt,Q:ae,s:ne,S:Vt,u:Ht,U:vt,V:xt,w:lt,W:At,x:null,X:null,y:Rt,Y:Ut,Z:te,"%":Wt},we={a:Ie,A:Le,b:Xe,B:aa,c:He,d:C,e:C,f:R,H:Y,I:Y,j:T,L:F,m:D,M:z,p:De,q:U,Q:G,s:O,S:j,u:g,U:x,V:u,w:v,W:d,x:ra,X:sa,y:w,Y:m,Z:k,"%":Z};Ye.x=Ne(Q,Ye),Ye.X=Ne(st,Ye),Ye.c=Ne(Ct,Ye),Se.x=Ne(Q,Se),Se.X=Ne(st,Se),Se.c=Ne(Ct,Se);function Ne(Lt,Ot){return function(Bt){var Nt=[],Xt=-1,ee=0,he=Lt.length,ke,Te,Pe;for(Bt instanceof Date||(Bt=new Date(+Bt));++Xt<he;)Lt.charCodeAt(Xt)===37&&(Nt.push(Lt.slice(ee,Xt)),(Te=s[ke=Lt.charAt(++Xt)])!=null?ke=Lt.charAt(++Xt):Te=ke==="e"?" ":"0",(Pe=Ot[ke])&&(ke=Pe(Bt,Te)),Nt.push(ke),ee=Xt+1);return Nt.push(Lt.slice(ee,Xt)),Nt.join("")}}function qe(Lt,Ot){return function(Bt){var Nt=n(1900,void 0,1),Xt=Fe(Nt,Lt,Bt+="",0),ee,he;if(Xt!=Bt.length)return null;if("Q"in Nt)return new Date(Nt.Q);if("s"in Nt)return new Date(Nt.s*1e3+("L"in Nt?Nt.L:0));if(Ot&&!("Z"in Nt)&&(Nt.Z=0),"p"in Nt&&(Nt.H=Nt.H%12+Nt.p*12),Nt.m===void 0&&(Nt.m="q"in Nt?Nt.q:0),"V"in Nt){if(Nt.V<1||Nt.V>53)return null;"w"in Nt||(Nt.w=1),"Z"in Nt?(ee=l(n(Nt.y,0,1)),he=ee.getUTCDay(),ee=he>4||he===0?t.utcMonday.ceil(ee):t.utcMonday(ee),ee=t.utcDay.offset(ee,(Nt.V-1)*7),Nt.y=ee.getUTCFullYear(),Nt.m=ee.getUTCMonth(),Nt.d=ee.getUTCDate()+(Nt.w+6)%7):(ee=a(n(Nt.y,0,1)),he=ee.getDay(),ee=he>4||he===0?t.timeMonday.ceil(ee):t.timeMonday(ee),ee=t.timeDay.offset(ee,(Nt.V-1)*7),Nt.y=ee.getFullYear(),Nt.m=ee.getMonth(),Nt.d=ee.getDate()+(Nt.w+6)%7)}else("W"in Nt||"U"in Nt)&&("w"in Nt||(Nt.w="u"in Nt?Nt.u%7:"W"in Nt?1:0),he="Z"in Nt?l(n(Nt.y,0,1)).getUTCDay():a(n(Nt.y,0,1)).getDay(),Nt.m=0,Nt.d="W"in Nt?(Nt.w+6)%7+Nt.W*7-(he+5)%7:Nt.w+Nt.U*7-(he+6)%7);return"Z"in Nt?(Nt.H+=Nt.Z/100|0,Nt.M+=Nt.Z%100,l(Nt)):a(Nt)}}function Fe(Lt,Ot,Bt,Nt){for(var Xt=0,ee=Ot.length,he=Bt.length,ke,Te;Xt<ee;){if(Nt>=he)return-1;if(ke=Ot.charCodeAt(Xt++),ke===37){if(ke=Ot.charAt(Xt++),Te=we[ke in s?Ot.charAt(Xt++):ke],!Te||(Nt=Te(Lt,Bt,Nt))<0)return-1}else if(ke!=Bt.charCodeAt(Nt++))return-1}return Nt}function De(Lt,Ot,Bt){var Nt=Zt.exec(Ot.slice(Bt));return Nt?(Lt.p=qt[Nt[0].toLowerCase()],Bt+Nt[0].length):-1}function Ie(Lt,Ot,Bt){var Nt=oe.exec(Ot.slice(Bt));return Nt?(Lt.w=le[Nt[0].toLowerCase()],Bt+Nt[0].length):-1}function Le(Lt,Ot,Bt){var Nt=Yt.exec(Ot.slice(Bt));return Nt?(Lt.w=ie[Nt[0].toLowerCase()],Bt+Nt[0].length):-1}function Xe(Lt,Ot,Bt){var Nt=Re.exec(Ot.slice(Bt));return Nt?(Lt.m=Ve[Nt[0].toLowerCase()],Bt+Nt[0].length):-1}function aa(Lt,Ot,Bt){var Nt=be.exec(Ot.slice(Bt));return Nt?(Lt.m=Ae[Nt[0].toLowerCase()],Bt+Nt[0].length):-1}function He(Lt,Ot,Bt){return Fe(Lt,Ct,Ot,Bt)}function ra(Lt,Ot,Bt){return Fe(Lt,Q,Ot,Bt)}function sa(Lt,Ot,Bt){return Fe(Lt,st,Ot,Bt)}function ma(Lt){return Tt[Lt.getDay()]}function ya(Lt){return _t[Lt.getDay()]}function Qe(Lt){return Ft[Lt.getMonth()]}function ha(Lt){return zt[Lt.getMonth()]}function oa(Lt){return ft[+(Lt.getHours()>=12)]}function Ce(Lt){return 1+~~(Lt.getMonth()/3)}function Ma(Lt){return Tt[Lt.getUTCDay()]}function et(Lt){return _t[Lt.getUTCDay()]}function K(Lt){return Ft[Lt.getUTCMonth()]}function St(Lt){return zt[Lt.getUTCMonth()]}function It(Lt){return ft[+(Lt.getUTCHours()>=12)]}function jt(Lt){return 1+~~(Lt.getUTCMonth()/3)}return{format:function(Lt){var Ot=Ne(Lt+="",Ye);return Ot.toString=function(){return Lt},Ot},parse:function(Lt){var Ot=qe(Lt+="",!1);return Ot.toString=function(){return Lt},Ot},utcFormat:function(Lt){var Ot=Ne(Lt+="",Se);return Ot.toString=function(){return Lt},Ot},utcParse:function(Lt){var Ot=qe(Lt+="",!0);return Ot.toString=function(){return Lt},Ot}}}var s={"-":"",_:" ",0:"0"},f=/^\s*\d+/,e=/^%/,p=/[\\^$*+?|[\]().{}]/g;function c(mt,Ct,Q){var st=mt<0?"-":"",ft=(st?-mt:mt)+"",_t=ft.length;return st+(_t<Q?new Array(Q-_t+1).join(Ct)+ft:ft)}function h(mt){return mt.replace(p,"\\$&")}function _(mt){return new RegExp("^(?:"+mt.map(h).join("|")+")","i")}function y(mt){for(var Ct={},Q=-1,st=mt.length;++Q<st;)Ct[mt[Q].toLowerCase()]=Q;return Ct}function v(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+1));return st?(mt.w=+st[0],Q+st[0].length):-1}function g(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+1));return st?(mt.u=+st[0],Q+st[0].length):-1}function x(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+2));return st?(mt.U=+st[0],Q+st[0].length):-1}function u(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+2));return st?(mt.V=+st[0],Q+st[0].length):-1}function d(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+2));return st?(mt.W=+st[0],Q+st[0].length):-1}function m(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+4));return st?(mt.y=+st[0],Q+st[0].length):-1}function w(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+2));return st?(mt.y=+st[0]+(+st[0]>68?1900:2e3),Q+st[0].length):-1}function k(mt,Ct,Q){var st=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Ct.slice(Q,Q+6));return st?(mt.Z=st[1]?0:-(st[2]+(st[3]||"00")),Q+st[0].length):-1}function U(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+1));return st?(mt.q=st[0]*3-3,Q+st[0].length):-1}function D(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+2));return st?(mt.m=st[0]-1,Q+st[0].length):-1}function C(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+2));return st?(mt.d=+st[0],Q+st[0].length):-1}function T(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+3));return st?(mt.m=0,mt.d=+st[0],Q+st[0].length):-1}function Y(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+2));return st?(mt.H=+st[0],Q+st[0].length):-1}function z(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+2));return st?(mt.M=+st[0],Q+st[0].length):-1}function j(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+2));return st?(mt.S=+st[0],Q+st[0].length):-1}function F(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+3));return st?(mt.L=+st[0],Q+st[0].length):-1}function R(mt,Ct,Q){var st=f.exec(Ct.slice(Q,Q+6));return st?(mt.L=Math.floor(st[0]/1e3),Q+st[0].length):-1}function Z(mt,Ct,Q){var st=e.exec(Ct.slice(Q,Q+1));return st?Q+st[0].length:-1}function G(mt,Ct,Q){var st=f.exec(Ct.slice(Q));return st?(mt.Q=+st[0],Q+st[0].length):-1}function O(mt,Ct,Q){var st=f.exec(Ct.slice(Q));return st?(mt.s=+st[0],Q+st[0].length):-1}function J(mt,Ct){return c(mt.getDate(),Ct,2)}function X(mt,Ct){return c(mt.getHours(),Ct,2)}function it(mt,Ct){return c(mt.getHours()%12||12,Ct,2)}function at(mt,Ct){return c(1+t.timeDay.count(t.timeYear(mt),mt),Ct,3)}function ot(mt,Ct){return c(mt.getMilliseconds(),Ct,3)}function ht(mt,Ct){return ot(mt,Ct)+"000"}function pt(mt,Ct){return c(mt.getMonth()+1,Ct,2)}function yt(mt,Ct){return c(mt.getMinutes(),Ct,2)}function H(mt,Ct){return c(mt.getSeconds(),Ct,2)}function q(mt){var Ct=mt.getDay();return Ct===0?7:Ct}function A(mt,Ct){return c(t.timeSunday.count(t.timeYear(mt)-1,mt),Ct,2)}function W(mt,Ct){var Q=mt.getDay();return mt=Q>=4||Q===0?t.timeThursday(mt):t.timeThursday.ceil(mt),c(t.timeThursday.count(t.timeYear(mt),mt)+(t.timeYear(mt).getDay()===4),Ct,2)}function rt(mt){return mt.getDay()}function I(mt,Ct){return c(t.timeMonday.count(t.timeYear(mt)-1,mt),Ct,2)}function M(mt,Ct){return c(mt.getFullYear()%100,Ct,2)}function S(mt,Ct){return c(mt.getFullYear()%1e4,Ct,4)}function N(mt){var Ct=mt.getTimezoneOffset();return(Ct>0?"-":(Ct*=-1,"+"))+c(Ct/60|0,"0",2)+c(Ct%60,"0",2)}function V(mt,Ct){return c(mt.getUTCDate(),Ct,2)}function nt(mt,Ct){return c(mt.getUTCHours(),Ct,2)}function ut(mt,Ct){return c(mt.getUTCHours()%12||12,Ct,2)}function ct(mt,Ct){return c(1+t.utcDay.count(t.utcYear(mt),mt),Ct,3)}function bt(mt,Ct){return c(mt.getUTCMilliseconds(),Ct,3)}function kt(mt,Ct){return bt(mt,Ct)+"000"}function Et(mt,Ct){return c(mt.getUTCMonth()+1,Ct,2)}function Gt(mt,Ct){return c(mt.getUTCMinutes(),Ct,2)}function Vt(mt,Ct){return c(mt.getUTCSeconds(),Ct,2)}function Ht(mt){var Ct=mt.getUTCDay();return Ct===0?7:Ct}function vt(mt,Ct){return c(t.utcSunday.count(t.utcYear(mt)-1,mt),Ct,2)}function xt(mt,Ct){var Q=mt.getUTCDay();return mt=Q>=4||Q===0?t.utcThursday(mt):t.utcThursday.ceil(mt),c(t.utcThursday.count(t.utcYear(mt),mt)+(t.utcYear(mt).getUTCDay()===4),Ct,2)}function lt(mt){return mt.getUTCDay()}function At(mt,Ct){return c(t.utcMonday.count(t.utcYear(mt)-1,mt),Ct,2)}function Rt(mt,Ct){return c(mt.getUTCFullYear()%100,Ct,2)}function Ut(mt,Ct){return c(mt.getUTCFullYear()%1e4,Ct,4)}function te(){return"+0000"}function Wt(){return"%"}function ae(mt){return+mt}function ne(mt){return Math.floor(+mt/1e3)}var re;de({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function de(mt){return re=o(mt),i.timeFormat=re.format,i.timeParse=re.parse,i.utcFormat=re.utcFormat,i.utcParse=re.utcParse,re}var $t="%Y-%m-%dT%H:%M:%S.%LZ";function ve(mt){return mt.toISOString()}var xe=Date.prototype.toISOString?ve:i.utcFormat($t);function pe(mt){var Ct=new Date(mt);return isNaN(Ct)?null:Ct}var _e=+new Date("2000-01-01T00:00:00.000Z")?pe:i.utcParse($t);i.isoFormat=xe,i.isoParse=_e,i.timeFormatDefaultLocale=de,i.timeFormatLocale=o,Object.defineProperty(i,"__esModule",{value:!0})})}),Qa=Mt((E,P)=>{(function(i,t){typeof E=="object"&&typeof P<"u"?t(E):(i=typeof globalThis<"u"?globalThis:i||self,t(i.d3=i.d3||{}))})(E,function(i){function t(D){return Math.abs(D=Math.round(D))>=1e21?D.toLocaleString("en").replace(/,/g,""):D.toString(10)}function a(D,C){if((T=(D=C?D.toExponential(C-1):D.toExponential()).indexOf("e"))<0)return null;var T,Y=D.slice(0,T);return[Y.length>1?Y[0]+Y.slice(2):Y,+D.slice(T+1)]}function l(D){return D=a(Math.abs(D)),D?D[1]:NaN}function n(D,C){return function(T,Y){for(var z=T.length,j=[],F=0,R=D[0],Z=0;z>0&&R>0&&(Z+R+1>Y&&(R=Math.max(1,Y-Z)),j.push(T.substring(z-=R,z+R)),!((Z+=R+1)>Y));)R=D[F=(F+1)%D.length];return j.reverse().join(C)}}function o(D){return function(C){return C.replace(/[0-9]/g,function(T){return D[+T]})}}var s=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function f(D){if(!(C=s.exec(D)))throw new Error("invalid format: "+D);var C;return new e({fill:C[1],align:C[2],sign:C[3],symbol:C[4],zero:C[5],width:C[6],comma:C[7],precision:C[8]&&C[8].slice(1),trim:C[9],type:C[10]})}f.prototype=e.prototype;function e(D){this.fill=D.fill===void 0?" ":D.fill+"",this.align=D.align===void 0?">":D.align+"",this.sign=D.sign===void 0?"-":D.sign+"",this.symbol=D.symbol===void 0?"":D.symbol+"",this.zero=!!D.zero,this.width=D.width===void 0?void 0:+D.width,this.comma=!!D.comma,this.precision=D.precision===void 0?void 0:+D.precision,this.trim=!!D.trim,this.type=D.type===void 0?"":D.type+""}e.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function p(D){t:for(var C=D.length,T=1,Y=-1,z;T<C;++T)switch(D[T]){case".":Y=z=T;break;case"0":Y===0&&(Y=T),z=T;break;default:if(!+D[T])break t;Y>0&&(Y=0);break}return Y>0?D.slice(0,Y)+D.slice(z+1):D}var c;function h(D,C){var T=a(D,C);if(!T)return D+"";var Y=T[0],z=T[1],j=z-(c=Math.max(-8,Math.min(8,Math.floor(z/3)))*3)+1,F=Y.length;return j===F?Y:j>F?Y+new Array(j-F+1).join("0"):j>0?Y.slice(0,j)+"."+Y.slice(j):"0."+new Array(1-j).join("0")+a(D,Math.max(0,C+j-1))[0]}function _(D,C){var T=a(D,C);if(!T)return D+"";var Y=T[0],z=T[1];return z<0?"0."+new Array(-z).join("0")+Y:Y.length>z+1?Y.slice(0,z+1)+"."+Y.slice(z+1):Y+new Array(z-Y.length+2).join("0")}var y={"%":function(D,C){return(D*100).toFixed(C)},b:function(D){return Math.round(D).toString(2)},c:function(D){return D+""},d:t,e:function(D,C){return D.toExponential(C)},f:function(D,C){return D.toFixed(C)},g:function(D,C){return D.toPrecision(C)},o:function(D){return Math.round(D).toString(8)},p:function(D,C){return _(D*100,C)},r:_,s:h,X:function(D){return Math.round(D).toString(16).toUpperCase()},x:function(D){return Math.round(D).toString(16)}};function v(D){return D}var g=Array.prototype.map,x=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function u(D){var C=D.grouping===void 0||D.thousands===void 0?v:n(g.call(D.grouping,Number),D.thousands+""),T=D.currency===void 0?"":D.currency[0]+"",Y=D.currency===void 0?"":D.currency[1]+"",z=D.decimal===void 0?".":D.decimal+"",j=D.numerals===void 0?v:o(g.call(D.numerals,String)),F=D.percent===void 0?"%":D.percent+"",R=D.minus===void 0?"-":D.minus+"",Z=D.nan===void 0?"NaN":D.nan+"";function G(J){J=f(J);var X=J.fill,it=J.align,at=J.sign,ot=J.symbol,ht=J.zero,pt=J.width,yt=J.comma,H=J.precision,q=J.trim,A=J.type;A==="n"?(yt=!0,A="g"):y[A]||(H===void 0&&(H=12),q=!0,A="g"),(ht||X==="0"&&it==="=")&&(ht=!0,X="0",it="=");var W=ot==="$"?T:ot==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",rt=ot==="$"?Y:/[%p]/.test(A)?F:"",I=y[A],M=/[defgprs%]/.test(A);H=H===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));function S(N){var V=W,nt=rt,ut,ct,bt;if(A==="c")nt=I(N)+nt,N="";else{N=+N;var kt=N<0||1/N<0;if(N=isNaN(N)?Z:I(Math.abs(N),H),q&&(N=p(N)),kt&&+N==0&&at!=="+"&&(kt=!1),V=(kt?at==="("?at:R:at==="-"||at==="("?"":at)+V,nt=(A==="s"?x[8+c/3]:"")+nt+(kt&&at==="("?")":""),M){for(ut=-1,ct=N.length;++ut<ct;)if(bt=N.charCodeAt(ut),48>bt||bt>57){nt=(bt===46?z+N.slice(ut+1):N.slice(ut))+nt,N=N.slice(0,ut);break}}}yt&&!ht&&(N=C(N,1/0));var Et=V.length+N.length+nt.length,Gt=Et<pt?new Array(pt-Et+1).join(X):"";switch(yt&&ht&&(N=C(Gt+N,Gt.length?pt-nt.length:1/0),Gt=""),it){case"<":N=V+N+nt+Gt;break;case"=":N=V+Gt+N+nt;break;case"^":N=Gt.slice(0,Et=Gt.length>>1)+V+N+nt+Gt.slice(Et);break;default:N=Gt+V+N+nt;break}return j(N)}return S.toString=function(){return J+""},S}function O(J,X){var it=G((J=f(J),J.type="f",J)),at=Math.max(-8,Math.min(8,Math.floor(l(X)/3)))*3,ot=Math.pow(10,-at),ht=x[8+at/3];return function(pt){return it(ot*pt)+ht}}return{format:G,formatPrefix:O}}var d;m({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function m(D){return d=u(D),i.format=d.format,i.formatPrefix=d.formatPrefix,d}function w(D){return Math.max(0,-l(Math.abs(D)))}function k(D,C){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(l(C)/3)))*3-l(Math.abs(D)))}function U(D,C){return D=Math.abs(D),C=Math.abs(C)-D,Math.max(0,l(C)-l(D))+1}i.FormatSpecifier=e,i.formatDefaultLocale=m,i.formatLocale=u,i.formatSpecifier=f,i.precisionFixed=w,i.precisionPrefix=k,i.precisionRound=U,Object.defineProperty(i,"__esModule",{value:!0})})}),Dr=Mt((E,P)=>{P.exports=function(i){for(var t=i.length,a,l=0;l<t;l++)if(a=i.charCodeAt(l),(a<9||a>13)&&a!==32&&a!==133&&a!==160&&a!==5760&&a!==6158&&(a<8192||a>8205)&&a!==8232&&a!==8233&&a!==8239&&a!==8287&&a!==8288&&a!==12288&&a!==65279)return!1;return!0}}),ua=Mt((E,P)=>{var i=Dr();P.exports=function(t){var a=typeof t;if(a==="string"){var l=t;if(t=+t,t===0&&i(l))return!1}else if(a!=="number")return!1;return t-t<1}}),Fa=Mt((E,P)=>{P.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:"−"}}),Ur=Mt((E,P)=>{(function(i,t){typeof E=="object"&&typeof P<"u"?t(E):(i=typeof globalThis<"u"?globalThis:i||self,t(i["base64-arraybuffer"]={}))})(E,function(i){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=typeof Uint8Array>"u"?[]:new Uint8Array(256),l=0;l<t.length;l++)a[t.charCodeAt(l)]=l;var n=function(s){var f=new Uint8Array(s),e,p=f.length,c="";for(e=0;e<p;e+=3)c+=t[f[e]>>2],c+=t[(f[e]&3)<<4|f[e+1]>>4],c+=t[(f[e+1]&15)<<2|f[e+2]>>6],c+=t[f[e+2]&63];return p%3===2?c=c.substring(0,c.length-1)+"=":p%3===1&&(c=c.substring(0,c.length-2)+"=="),c},o=function(s){var f=s.length*.75,e=s.length,p,c=0,h,_,y,v;s[s.length-1]==="="&&(f--,s[s.length-2]==="="&&f--);var g=new ArrayBuffer(f),x=new Uint8Array(g);for(p=0;p<e;p+=4)h=a[s.charCodeAt(p)],_=a[s.charCodeAt(p+1)],y=a[s.charCodeAt(p+2)],v=a[s.charCodeAt(p+3)],x[c++]=h<<2|_>>4,x[c++]=(_&15)<<4|y>>2,x[c++]=(y&3)<<6|v&63;return g};i.decode=o,i.encode=n,Object.defineProperty(i,"__esModule",{value:!0})})}),_r=Mt((E,P)=>{P.exports=function(i){return window&&window.process&&window.process.versions?Object.prototype.toString.call(i)==="[object Object]":Object.prototype.toString.call(i)==="[object Object]"&&Object.getPrototypeOf(i).hasOwnProperty("hasOwnProperty")}}),lr=Mt(E=>{var P=Ur().decode,i=_r(),t=Array.isArray,a=ArrayBuffer,l=DataView;function n(h){return a.isView(h)&&!(h instanceof l)}E.isTypedArray=n;function o(h){return t(h)||n(h)}E.isArrayOrTypedArray=o;function s(h){return!o(h[0])}E.isArray1D=s,E.ensureArray=function(h,_){return t(h)||(h=[]),h.length=_,h};var f={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};f.uint8c=f.u1c,f.uint8=f.u1,f.int8=f.i1,f.uint16=f.u2,f.int16=f.i2,f.uint32=f.u4,f.int32=f.i4,f.float32=f.f4,f.float64=f.f8;function e(h){return h.constructor===ArrayBuffer}E.isArrayBuffer=e,E.decodeTypedArraySpec=function(h){var _=[],y=p(h),v=y.dtype,g=f[v];if(!g)throw new Error('Error in dtype: "'+v+'"');var x=g.BYTES_PER_ELEMENT,u=y.bdata;e(u)||(u=P(u));var d=y.shape===void 0?[u.byteLength/x]:(""+y.shape).split(",");d.reverse();var m=d.length,w,k,U=+d[0],D=x*U,C=0;if(m===1)_=new g(u);else if(m===2)for(w=+d[1],k=0;k<w;k++)_[k]=new g(u,C,U),C+=D;else if(m===3){w=+d[1];for(var T=+d[2],Y=0;Y<T;Y++)for(_[Y]=[],k=0;k<w;k++)_[Y][k]=new g(u,C,U),C+=D}else throw new Error("ndim: "+m+'is not supported with the shape:"'+y.shape+'"');return _.bdata=y.bdata,_.dtype=y.dtype,_.shape=d.reverse().join(","),h._inputArray=_,_},E.isTypedArraySpec=function(h){return i(h)&&h.hasOwnProperty("dtype")&&typeof h.dtype=="string"&&h.hasOwnProperty("bdata")&&(typeof h.bdata=="string"||e(h.bdata))&&(h.shape===void 0||h.hasOwnProperty("shape")&&(typeof h.shape=="string"||typeof h.shape=="number"))};function p(h){return{bdata:h.bdata,dtype:h.dtype,shape:h.shape}}E.concat=function(){var h=[],_=!0,y=0,v,g,x,u,d,m,w,k;for(x=0;x<arguments.length;x++)u=arguments[x],m=u.length,m&&(g?h.push(u):(g=u,d=m),t(u)?v=!1:(_=!1,y?v!==u.constructor&&(v=!1):v=u.constructor),y+=m);if(!y)return[];if(!h.length)return g;if(_)return g.concat.apply(g,h);if(v){for(w=new v(y),w.set(g),x=0;x<h.length;x++)u=h[x],w.set(u,d),d+=u.length;return w}for(w=new Array(y),k=0;k<g.length;k++)w[k]=g[k];for(x=0;x<h.length;x++){for(u=h[x],k=0;k<u.length;k++)w[d+k]=u[k];d+=k}return w},E.maxRowLength=function(h){return c(h,Math.max,0)},E.minRowLength=function(h){return c(h,Math.min,1/0)};function c(h,_,y){if(o(h))if(o(h[0])){for(var v=y,g=0;g<h.length;g++)v=_(v,h[g].length);return v}else return h.length;return 0}}),fn=Mt((E,P)=>{var i=ua(),t=lr().isArrayOrTypedArray;P.exports=function(c,h){if(i(h))h=String(h);else if(typeof h!="string"||h.substr(h.length-4)==="[-1]")throw"bad property string";var _=h.split("."),y,v,g,x;for(x=0;x<_.length;x++)if(String(_[x]).slice(0,2)==="__")throw"bad property string";for(x=0;x<_.length;){if(y=String(_[x]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),y){if(y[1])_[x]=y[1];else if(x===0)_.splice(0,1);else throw"bad property string";for(v=y[2].substr(1,y[2].length-2).split("]["),g=0;g<v.length;g++)x++,_.splice(x,0,Number(v[g]))}x++}return typeof c!="object"?p(c,h,_):{set:o(c,_,h),get:a(c,_),astr:h,parts:_,obj:c}};function a(c,h){return function(_){var y=c,v,g,x,u,d;for(u=0;u<h.length-1;u++){if(v=h[u],v===-1){for(g=!0,x=[],d=0;d<y.length;d++)x[d]=a(y[d],h.slice(u+1))(_),x[d]!==x[0]&&(g=!1);return g?x[0]:x}if(typeof v=="number"&&!t(y)||(y=y[v],typeof y!="object"||y===null))return}if(!(typeof y!="object"||y===null)&&(x=y[h[u]],!(!_&&x===null)))return x}}var l=/(^|\.)args\[/;function n(c,h){return c===void 0||c===null&&!h.match(l)}function o(c,h,_){return function(y){var v=c,g="",x=n(y,_),u,d;for(d=0;d<h.length-1;d++){if(u=h[d],typeof u=="number"&&!t(v))throw"array index but container is not an array";if(u===-1){if(x=!f(v,h.slice(d+1),y,_),x)break;return}if(!e(v,u,h[d+1],x))break;if(v=v[u],typeof v!="object"||v===null)throw"container is not an object";g=s(g,u)}if(x){if(d===h.length-1&&(delete v[h[d]],Array.isArray(v)&&+h[d]===v.length-1))for(;v.length&&v[v.length-1]===void 0;)v.pop()}else v[h[d]]=y}}function s(c,h){var _=h;return i(h)?_="["+h+"]":c&&(_="."+h),c+_}function f(c,h,_,y){var v=t(_),g=!0,x=_,u=y.replace("-1",0),d=v?!1:n(_,u),m=h[0],w;for(w=0;w<c.length;w++)u=y.replace("-1",w),v&&(x=_[w%_.length],d=n(x,u)),d&&(g=!1),e(c,w,m,d)&&o(c[w],h,y.replace("-1",w))(x);return g}function e(c,h,_,y){if(c[h]===void 0){if(y)return!1;typeof _=="number"?c[h]=[]:c[h]={}}return!0}function p(c,h,_){return{set:function(){throw"bad container"},get:function(){},astr:h,parts:_,obj:c}}}),Za=Mt((E,P)=>{var i=fn(),t=/^\w*$/,a=0,l=1,n=2,o=3,s=4;P.exports=function(f,e,p,c){p=p||"name",c=c||"value";var h,_,y,v={};e&&e.length?(y=i(f,e),_=y.get()):_=f,e=e||"";var g={};if(_)for(h=0;h<_.length;h++)g[_[h][p]]=h;var x=t.test(c),u={set:function(d,m){var w=m===null?s:a;if(!_){if(!y||w===s)return;_=[],y.set(_)}var k=g[d];if(k===void 0){if(w===s)return;w=w|o,k=_.length,g[d]=k}else m!==(x?_[k][c]:i(_[k],c).get())&&(w=w|n);var U=_[k]=_[k]||{};return U[p]=d,x?U[c]=m:i(U,c).set(m),m!==null&&(w=w&~s),v[k]=v[k]|w,u},get:function(d){if(_){var m=g[d];if(m!==void 0)return x?_[m][c]:i(_[m],c).get()}},rename:function(d,m){var w=g[d];return w===void 0||(v[w]=v[w]|l,g[m]=w,delete g[d],_[w][p]=m),u},remove:function(d){var m=g[d];if(m===void 0)return u;var w=_[m];if(Object.keys(w).length>2)return v[m]=v[m]|n,u.set(d,null);if(x){for(h=m;h<_.length;h++)v[h]=v[h]|o;for(h=m;h<_.length;h++)g[_[h][p]]--;_.splice(m,1),delete g[d]}else i(w,c).set(null),v[m]=v[m]|n|s;return u},constructUpdate:function(){for(var d,m,w={},k=Object.keys(v),U=0;U<k.length;U++)m=k[U],d=e+"["+m+"]",_[m]?(v[m]&l&&(w[d+"."+p]=_[m][p]),v[m]&n&&(x?w[d+"."+c]=v[m]&s?null:_[m][c]:w[d+"."+c]=v[m]&s?null:i(_[m],c).get())):w[d]=null;return w}};return u}}),tn=Mt((E,P)=>{var i=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;P.exports=function(a,l){for(;l;){var n=a.match(i);if(n)a=n[1];else if(a.match(t))a="";else throw new Error("bad relativeAttr call:"+[a,l]);if(l.charAt(0)==="^")l=l.slice(1);else break}return a&&l.charAt(0)!=="["?a+"."+l:a+l}}),xn=Mt((E,P)=>{var i=ua();P.exports=function(t,a){if(t>0)return Math.log(t)/Math.LN10;var l=Math.log(Math.min(a[0],a[1]))/Math.LN10;return i(l)||(l=Math.log(Math.max(a[0],a[1]))/Math.LN10-6),l}}),ai=Mt((E,P)=>{var i=lr().isArrayOrTypedArray,t=_r();P.exports=function a(l,n){for(var o in n){var s=n[o],f=l[o];if(f!==s)if(o.charAt(0)==="_"||typeof s=="function"){if(o in l)continue;l[o]=s}else if(i(s)&&i(f)&&t(s[0])){if(o==="customdata"||o==="ids")continue;for(var e=Math.min(s.length,f.length),p=0;p<e;p++)f[p]!==s[p]&&t(s[p])&&t(f[p])&&a(f[p],s[p])}else t(s)&&t(f)&&(a(f,s),Object.keys(f).length||delete l[o])}}}),en=Mt((E,P)=>{function i(a,l){var n=a%l;return n<0?n+l:n}function t(a,l){return Math.abs(a)>l/2?a-Math.round(a/l)*l:a}P.exports={mod:i,modHalf:t}}),Yr=Mt((E,P)=>{(function(i){var t=/^\s+/,a=/\s+$/,l=0,n=i.round,o=i.min,s=i.max,f=i.random;function e(M,S){if(M=M||"",S=S||{},M instanceof e)return M;if(!(this instanceof e))return new e(M,S);var N=p(M);this._originalInput=M,this._r=N.r,this._g=N.g,this._b=N.b,this._a=N.a,this._roundA=n(100*this._a)/100,this._format=S.format||N.format,this._gradientType=S.gradientType,this._r<1&&(this._r=n(this._r)),this._g<1&&(this._g=n(this._g)),this._b<1&&(this._b=n(this._b)),this._ok=N.ok,this._tc_id=l++}e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var M=this.toRgb();return(M.r*299+M.g*587+M.b*114)/1e3},getLuminance:function(){var M=this.toRgb(),S,N,V,nt,ut,ct;return S=M.r/255,N=M.g/255,V=M.b/255,S<=.03928?nt=S/12.92:nt=i.pow((S+.055)/1.055,2.4),N<=.03928?ut=N/12.92:ut=i.pow((N+.055)/1.055,2.4),V<=.03928?ct=V/12.92:ct=i.pow((V+.055)/1.055,2.4),.2126*nt+.7152*ut+.0722*ct},setAlpha:function(M){return this._a=J(M),this._roundA=n(100*this._a)/100,this},toHsv:function(){var M=y(this._r,this._g,this._b);return{h:M.h*360,s:M.s,v:M.v,a:this._a}},toHsvString:function(){var M=y(this._r,this._g,this._b),S=n(M.h*360),N=n(M.s*100),V=n(M.v*100);return this._a==1?"hsv("+S+", "+N+"%, "+V+"%)":"hsva("+S+", "+N+"%, "+V+"%, "+this._roundA+")"},toHsl:function(){var M=h(this._r,this._g,this._b);return{h:M.h*360,s:M.s,l:M.l,a:this._a}},toHslString:function(){var M=h(this._r,this._g,this._b),S=n(M.h*360),N=n(M.s*100),V=n(M.l*100);return this._a==1?"hsl("+S+", "+N+"%, "+V+"%)":"hsla("+S+", "+N+"%, "+V+"%, "+this._roundA+")"},toHex:function(M){return g(this._r,this._g,this._b,M)},toHexString:function(M){return"#"+this.toHex(M)},toHex8:function(M){return x(this._r,this._g,this._b,this._a,M)},toHex8String:function(M){return"#"+this.toHex8(M)},toRgb:function(){return{r:n(this._r),g:n(this._g),b:n(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+n(this._r)+", "+n(this._g)+", "+n(this._b)+")":"rgba("+n(this._r)+", "+n(this._g)+", "+n(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:n(X(this._r,255)*100)+"%",g:n(X(this._g,255)*100)+"%",b:n(X(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+n(X(this._r,255)*100)+"%, "+n(X(this._g,255)*100)+"%, "+n(X(this._b,255)*100)+"%)":"rgba("+n(X(this._r,255)*100)+"%, "+n(X(this._g,255)*100)+"%, "+n(X(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:G[g(this._r,this._g,this._b,!0)]||!1},toFilter:function(M){var S="#"+u(this._r,this._g,this._b,this._a),N=S,V=this._gradientType?"GradientType = 1, ":"";if(M){var nt=e(M);N="#"+u(nt._r,nt._g,nt._b,nt._a)}return"progid:DXImageTransform.Microsoft.gradient("+V+"startColorstr="+S+",endColorstr="+N+")"},toString:function(M){var S=!!M;M=M||this._format;var N=!1,V=this._a<1&&this._a>=0,nt=!S&&V&&(M==="hex"||M==="hex6"||M==="hex3"||M==="hex4"||M==="hex8"||M==="name");return nt?M==="name"&&this._a===0?this.toName():this.toRgbString():(M==="rgb"&&(N=this.toRgbString()),M==="prgb"&&(N=this.toPercentageRgbString()),(M==="hex"||M==="hex6")&&(N=this.toHexString()),M==="hex3"&&(N=this.toHexString(!0)),M==="hex4"&&(N=this.toHex8String(!0)),M==="hex8"&&(N=this.toHex8String()),M==="name"&&(N=this.toName()),M==="hsl"&&(N=this.toHslString()),M==="hsv"&&(N=this.toHsvString()),N||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(M,S){var N=M.apply(null,[this].concat([].slice.call(S)));return this._r=N._r,this._g=N._g,this._b=N._b,this.setAlpha(N._a),this},lighten:function(){return this._applyModification(k,arguments)},brighten:function(){return this._applyModification(U,arguments)},darken:function(){return this._applyModification(D,arguments)},desaturate:function(){return this._applyModification(d,arguments)},saturate:function(){return this._applyModification(m,arguments)},greyscale:function(){return this._applyModification(w,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(M,S){return M.apply(null,[this].concat([].slice.call(S)))},analogous:function(){return this._applyCombination(F,arguments)},complement:function(){return this._applyCombination(T,arguments)},monochromatic:function(){return this._applyCombination(R,arguments)},splitcomplement:function(){return this._applyCombination(j,arguments)},triad:function(){return this._applyCombination(Y,arguments)},tetrad:function(){return this._applyCombination(z,arguments)}},e.fromRatio=function(M,S){if(typeof M=="object"){var N={};for(var V in M)M.hasOwnProperty(V)&&(V==="a"?N[V]=M[V]:N[V]=yt(M[V]));M=N}return e(M,S)};function p(M){var S={r:0,g:0,b:0},N=1,V=null,nt=null,ut=null,ct=!1,bt=!1;return typeof M=="string"&&(M=rt(M)),typeof M=="object"&&(W(M.r)&&W(M.g)&&W(M.b)?(S=c(M.r,M.g,M.b),ct=!0,bt=String(M.r).substr(-1)==="%"?"prgb":"rgb"):W(M.h)&&W(M.s)&&W(M.v)?(V=yt(M.s),nt=yt(M.v),S=v(M.h,V,nt),ct=!0,bt="hsv"):W(M.h)&&W(M.s)&&W(M.l)&&(V=yt(M.s),ut=yt(M.l),S=_(M.h,V,ut),ct=!0,bt="hsl"),M.hasOwnProperty("a")&&(N=M.a)),N=J(N),{ok:ct,format:M.format||bt,r:o(255,s(S.r,0)),g:o(255,s(S.g,0)),b:o(255,s(S.b,0)),a:N}}function c(M,S,N){return{r:X(M,255)*255,g:X(S,255)*255,b:X(N,255)*255}}function h(M,S,N){M=X(M,255),S=X(S,255),N=X(N,255);var V=s(M,S,N),nt=o(M,S,N),ut,ct,bt=(V+nt)/2;if(V==nt)ut=ct=0;else{var kt=V-nt;switch(ct=bt>.5?kt/(2-V-nt):kt/(V+nt),V){case M:ut=(S-N)/kt+(S<N?6:0);break;case S:ut=(N-M)/kt+2;break;case N:ut=(M-S)/kt+4;break}ut/=6}return{h:ut,s:ct,l:bt}}function _(M,S,N){var V,nt,ut;M=X(M,360),S=X(S,100),N=X(N,100);function ct(Et,Gt,Vt){return Vt<0&&(Vt+=1),Vt>1&&(Vt-=1),Vt<1/6?Et+(Gt-Et)*6*Vt:Vt<1/2?Gt:Vt<2/3?Et+(Gt-Et)*(2/3-Vt)*6:Et}if(S===0)V=nt=ut=N;else{var bt=N<.5?N*(1+S):N+S-N*S,kt=2*N-bt;V=ct(kt,bt,M+1/3),nt=ct(kt,bt,M),ut=ct(kt,bt,M-1/3)}return{r:V*255,g:nt*255,b:ut*255}}function y(M,S,N){M=X(M,255),S=X(S,255),N=X(N,255);var V=s(M,S,N),nt=o(M,S,N),ut,ct,bt=V,kt=V-nt;if(ct=V===0?0:kt/V,V==nt)ut=0;else{switch(V){case M:ut=(S-N)/kt+(S<N?6:0);break;case S:ut=(N-M)/kt+2;break;case N:ut=(M-S)/kt+4;break}ut/=6}return{h:ut,s:ct,v:bt}}function v(M,S,N){M=X(M,360)*6,S=X(S,100),N=X(N,100);var V=i.floor(M),nt=M-V,ut=N*(1-S),ct=N*(1-nt*S),bt=N*(1-(1-nt)*S),kt=V%6,Et=[N,ct,ut,ut,bt,N][kt],Gt=[bt,N,N,ct,ut,ut][kt],Vt=[ut,ut,bt,N,N,ct][kt];return{r:Et*255,g:Gt*255,b:Vt*255}}function g(M,S,N,V){var nt=[pt(n(M).toString(16)),pt(n(S).toString(16)),pt(n(N).toString(16))];return V&&nt[0].charAt(0)==nt[0].charAt(1)&&nt[1].charAt(0)==nt[1].charAt(1)&&nt[2].charAt(0)==nt[2].charAt(1)?nt[0].charAt(0)+nt[1].charAt(0)+nt[2].charAt(0):nt.join("")}function x(M,S,N,V,nt){var ut=[pt(n(M).toString(16)),pt(n(S).toString(16)),pt(n(N).toString(16)),pt(H(V))];return nt&&ut[0].charAt(0)==ut[0].charAt(1)&&ut[1].charAt(0)==ut[1].charAt(1)&&ut[2].charAt(0)==ut[2].charAt(1)&&ut[3].charAt(0)==ut[3].charAt(1)?ut[0].charAt(0)+ut[1].charAt(0)+ut[2].charAt(0)+ut[3].charAt(0):ut.join("")}function u(M,S,N,V){var nt=[pt(H(V)),pt(n(M).toString(16)),pt(n(S).toString(16)),pt(n(N).toString(16))];return nt.join("")}e.equals=function(M,S){return!M||!S?!1:e(M).toRgbString()==e(S).toRgbString()},e.random=function(){return e.fromRatio({r:f(),g:f(),b:f()})};function d(M,S){S=S===0?0:S||10;var N=e(M).toHsl();return N.s-=S/100,N.s=it(N.s),e(N)}function m(M,S){S=S===0?0:S||10;var N=e(M).toHsl();return N.s+=S/100,N.s=it(N.s),e(N)}function w(M){return e(M).desaturate(100)}function k(M,S){S=S===0?0:S||10;var N=e(M).toHsl();return N.l+=S/100,N.l=it(N.l),e(N)}function U(M,S){S=S===0?0:S||10;var N=e(M).toRgb();return N.r=s(0,o(255,N.r-n(255*-(S/100)))),N.g=s(0,o(255,N.g-n(255*-(S/100)))),N.b=s(0,o(255,N.b-n(255*-(S/100)))),e(N)}function D(M,S){S=S===0?0:S||10;var N=e(M).toHsl();return N.l-=S/100,N.l=it(N.l),e(N)}function C(M,S){var N=e(M).toHsl(),V=(N.h+S)%360;return N.h=V<0?360+V:V,e(N)}function T(M){var S=e(M).toHsl();return S.h=(S.h+180)%360,e(S)}function Y(M){var S=e(M).toHsl(),N=S.h;return[e(M),e({h:(N+120)%360,s:S.s,l:S.l}),e({h:(N+240)%360,s:S.s,l:S.l})]}function z(M){var S=e(M).toHsl(),N=S.h;return[e(M),e({h:(N+90)%360,s:S.s,l:S.l}),e({h:(N+180)%360,s:S.s,l:S.l}),e({h:(N+270)%360,s:S.s,l:S.l})]}function j(M){var S=e(M).toHsl(),N=S.h;return[e(M),e({h:(N+72)%360,s:S.s,l:S.l}),e({h:(N+216)%360,s:S.s,l:S.l})]}function F(M,S,N){S=S||6,N=N||30;var V=e(M).toHsl(),nt=360/N,ut=[e(M)];for(V.h=(V.h-(nt*S>>1)+720)%360;--S;)V.h=(V.h+nt)%360,ut.push(e(V));return ut}function R(M,S){S=S||6;for(var N=e(M).toHsv(),V=N.h,nt=N.s,ut=N.v,ct=[],bt=1/S;S--;)ct.push(e({h:V,s:nt,v:ut})),ut=(ut+bt)%1;return ct}e.mix=function(M,S,N){N=N===0?0:N||50;var V=e(M).toRgb(),nt=e(S).toRgb(),ut=N/100,ct={r:(nt.r-V.r)*ut+V.r,g:(nt.g-V.g)*ut+V.g,b:(nt.b-V.b)*ut+V.b,a:(nt.a-V.a)*ut+V.a};return e(ct)},e.readability=function(M,S){var N=e(M),V=e(S);return(i.max(N.getLuminance(),V.getLuminance())+.05)/(i.min(N.getLuminance(),V.getLuminance())+.05)},e.isReadable=function(M,S,N){var V=e.readability(M,S),nt,ut;switch(ut=!1,nt=I(N),nt.level+nt.size){case"AAsmall":case"AAAlarge":ut=V>=4.5;break;case"AAlarge":ut=V>=3;break;case"AAAsmall":ut=V>=7;break}return ut},e.mostReadable=function(M,S,N){var V=null,nt=0,ut,ct,bt,kt;N=N||{},ct=N.includeFallbackColors,bt=N.level,kt=N.size;for(var Et=0;Et<S.length;Et++)ut=e.readability(M,S[Et]),ut>nt&&(nt=ut,V=e(S[Et]));return e.isReadable(M,V,{level:bt,size:kt})||!ct?V:(N.includeFallbackColors=!1,e.mostReadable(M,["#fff","#000"],N))};var Z=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},G=e.hexNames=O(Z);function O(M){var S={};for(var N in M)M.hasOwnProperty(N)&&(S[M[N]]=N);return S}function J(M){return M=parseFloat(M),(isNaN(M)||M<0||M>1)&&(M=1),M}function X(M,S){ot(M)&&(M="100%");var N=ht(M);return M=o(S,s(0,parseFloat(M))),N&&(M=parseInt(M*S,10)/100),i.abs(M-S)<1e-6?1:M%S/parseFloat(S)}function it(M){return o(1,s(0,M))}function at(M){return parseInt(M,16)}function ot(M){return typeof M=="string"&&M.indexOf(".")!=-1&&parseFloat(M)===1}function ht(M){return typeof M=="string"&&M.indexOf("%")!=-1}function pt(M){return M.length==1?"0"+M:""+M}function yt(M){return M<=1&&(M=M*100+"%"),M}function H(M){return i.round(parseFloat(M)*255).toString(16)}function q(M){return at(M)/255}var A=function(){var M="[-\\+]?\\d+%?",S="[-\\+]?\\d*\\.\\d+%?",N="(?:"+S+")|(?:"+M+")",V="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",nt="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?";return{CSS_UNIT:new RegExp(N),rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+nt),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+nt),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+nt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function W(M){return!!A.CSS_UNIT.exec(M)}function rt(M){M=M.replace(t,"").replace(a,"").toLowerCase();var S=!1;if(Z[M])M=Z[M],S=!0;else if(M=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var N;return(N=A.rgb.exec(M))?{r:N[1],g:N[2],b:N[3]}:(N=A.rgba.exec(M))?{r:N[1],g:N[2],b:N[3],a:N[4]}:(N=A.hsl.exec(M))?{h:N[1],s:N[2],l:N[3]}:(N=A.hsla.exec(M))?{h:N[1],s:N[2],l:N[3],a:N[4]}:(N=A.hsv.exec(M))?{h:N[1],s:N[2],v:N[3]}:(N=A.hsva.exec(M))?{h:N[1],s:N[2],v:N[3],a:N[4]}:(N=A.hex8.exec(M))?{r:at(N[1]),g:at(N[2]),b:at(N[3]),a:q(N[4]),format:S?"name":"hex8"}:(N=A.hex6.exec(M))?{r:at(N[1]),g:at(N[2]),b:at(N[3]),format:S?"name":"hex"}:(N=A.hex4.exec(M))?{r:at(N[1]+""+N[1]),g:at(N[2]+""+N[2]),b:at(N[3]+""+N[3]),a:q(N[4]+""+N[4]),format:S?"name":"hex8"}:(N=A.hex3.exec(M))?{r:at(N[1]+""+N[1]),g:at(N[2]+""+N[2]),b:at(N[3]+""+N[3]),format:S?"name":"hex"}:!1}function I(M){var S,N;return M=M||{level:"AA",size:"small"},S=(M.level||"AA").toUpperCase(),N=(M.size||"small").toLowerCase(),S!=="AA"&&S!=="AAA"&&(S="AA"),N!=="small"&&N!=="large"&&(N="small"),{level:S,size:N}}typeof P<"u"&&P.exports?P.exports=e:window.tinycolor=e})(Math)}),yr=Mt(E=>{var P=_r(),i=Array.isArray;function t(l,n){var o,s;for(o=0;o<l.length;o++){if(s=l[o],s!==null&&typeof s=="object")return!1;s!==void 0&&(n[o]=s)}return!0}E.extendFlat=function(){return a(arguments,!1,!1,!1)},E.extendDeep=function(){return a(arguments,!0,!1,!1)},E.extendDeepAll=function(){return a(arguments,!0,!0,!1)},E.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)};function a(l,n,o,s){var f=l[0],e=l.length,p,c,h,_,y,v,g;if(e===2&&i(f)&&i(l[1])&&f.length===0){if(g=t(l[1],f),g)return f;f.splice(0,f.length)}for(var x=1;x<e;x++){p=l[x];for(c in p)h=f[c],_=p[c],s&&i(_)?f[c]=_:n&&_&&(P(_)||(y=i(_)))?(y?(y=!1,v=h&&i(h)?h:[]):v=h&&P(h)?h:{},f[c]=a([v,_],n,o,s)):(typeof _<"u"||o)&&(f[c]=_)}return f}}),Lr=Mt((E,P)=>{P.exports=function(i){var t=i.variantValues,a=i.editType,l=i.colorEditType;l===void 0&&(l=a);var n={editType:a,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};i.noNumericWeightValues&&(n.valType="enumerated",n.values=n.extras,n.extras=void 0,n.min=void 0,n.max=void 0);var o={family:{valType:"string",noBlank:!0,strict:!0,editType:a},size:{valType:"number",min:1,editType:a},color:{valType:"color",editType:l},weight:n,style:{editType:a,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:i.noFontVariant?void 0:{editType:a,valType:"enumerated",values:t||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:i.noFontTextcase?void 0:{editType:a,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:i.noFontLineposition?void 0:{editType:a,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:i.noFontShadow?void 0:{editType:a,valType:"string",dflt:i.autoShadowDflt?"auto":"none"},editType:a};return i.autoSize&&(o.size.dflt="auto"),i.autoColor&&(o.color.dflt="auto"),i.arrayOk&&(o.family.arrayOk=!0,o.weight.arrayOk=!0,o.style.arrayOk=!0,i.noFontVariant||(o.variant.arrayOk=!0),i.noFontTextcase||(o.textcase.arrayOk=!0),i.noFontLineposition||(o.lineposition.arrayOk=!0),i.noFontShadow||(o.shadow.arrayOk=!0),o.size.arrayOk=!0,o.color.arrayOk=!0),o}}),ri=Mt((E,P)=>{P.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}}),Bn=Mt((E,P)=>{var i=ri(),t=Lr(),a=t({editType:"none"});a.family.dflt=i.HOVERFONT,a.size.dflt=i.HOVERFONTSIZE,P.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:t({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},showarrow:{valType:"boolean",dflt:!0,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}}),Ni=Mt((E,P)=>{var i=Lr(),t=Bn().hoverlabel,a=yr().extendFlat;P.exports={hoverlabel:{bgcolor:a({},t.bgcolor,{arrayOk:!0}),bordercolor:a({},t.bordercolor,{arrayOk:!0}),font:i({arrayOk:!0,editType:"none"}),align:a({},t.align,{arrayOk:!0}),namelength:a({},t.namelength,{arrayOk:!0}),showarrow:a({},t.showarrow),editType:"none"}}}),an=Mt((E,P)=>{var i=Lr(),t=Ni();P.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:i({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:t.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}}),Pn=Mt((E,P)=>{var i=Yr(),t={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=t.RdBu;function l(s,f){if(f||(f=a),!s)return f;function e(){try{s=t[s]||JSON.parse(s)}catch{s=f}}return typeof s=="string"&&(e(),typeof s=="string"&&e()),n(s)?s:f}function n(s){var f=0;if(!Array.isArray(s)||s.length<2||!s[0]||!s[s.length-1]||+s[0][0]!=0||+s[s.length-1][0]!=1)return!1;for(var e=0;e<s.length;e++){var p=s[e];if(p.length!==2||+p[0]<f||!i(p[1]).isValid())return!1;f=+p[0]}return!0}function o(s){return t[s]!==void 0?!0:n(s)}P.exports={scales:t,defaultScale:a,get:l,isValid:o}}),dn=Mt(E=>{E.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],E.defaultLine="#444",E.lightLine="#eee",E.background="#fff",E.borderLine="#BEC8D9",E.lightFraction=100*10/11}),Ta=Mt((E,P)=>{var i=Yr(),t=ua(),a=lr().isTypedArray,l=P.exports={},n=dn();l.defaults=n.defaults;var o=l.defaultLine=n.defaultLine;l.lightLine=n.lightLine;var s=l.background=n.background;l.tinyRGB=function(e){var p=e.toRgb();return"rgb("+Math.round(p.r)+", "+Math.round(p.g)+", "+Math.round(p.b)+")"},l.rgb=function(e){return l.tinyRGB(i(e))},l.opacity=function(e){return e?i(e).getAlpha():0},l.addOpacity=function(e,p){var c=i(e).toRgb();return"rgba("+Math.round(c.r)+", "+Math.round(c.g)+", "+Math.round(c.b)+", "+p+")"},l.combine=function(e,p){var c=i(e).toRgb();if(c.a===1)return i(e).toRgbString();var h=i(p||s).toRgb(),_=h.a===1?h:{r:255*(1-h.a)+h.r*h.a,g:255*(1-h.a)+h.g*h.a,b:255*(1-h.a)+h.b*h.a},y={r:_.r*(1-c.a)+c.r*c.a,g:_.g*(1-c.a)+c.g*c.a,b:_.b*(1-c.a)+c.b*c.a};return i(y).toRgbString()},l.interpolate=function(e,p,c){var h=i(e).toRgb(),_=i(p).toRgb(),y={r:c*h.r+(1-c)*_.r,g:c*h.g+(1-c)*_.g,b:c*h.b+(1-c)*_.b};return i(y).toRgbString()},l.contrast=function(e,p,c){var h=i(e);h.getAlpha()!==1&&(h=i(l.combine(e,s)));var _=h.isDark()?p?h.lighten(p):s:c?h.darken(c):o;return _.toString()},l.stroke=function(e,p){var c=i(p);e.style({stroke:l.tinyRGB(c),"stroke-opacity":c.getAlpha()})},l.fill=function(e,p){var c=i(p);e.style({fill:l.tinyRGB(c),"fill-opacity":c.getAlpha()})},l.clean=function(e){if(!(!e||typeof e!="object")){var p=Object.keys(e),c,h,_,y;for(c=0;c<p.length;c++)if(_=p[c],y=e[_],_.substr(_.length-5)==="color")if(Array.isArray(y))for(h=0;h<y.length;h++)y[h]=f(y[h]);else e[_]=f(y);else if(_.substr(_.length-10)==="colorscale"&&Array.isArray(y))for(h=0;h<y.length;h++)Array.isArray(y[h])&&(y[h][1]=f(y[h][1]));else if(Array.isArray(y)){var v=y[0];if(!Array.isArray(v)&&v&&typeof v=="object")for(h=0;h<y.length;h++)l.clean(y[h])}else y&&typeof y=="object"&&!a(y)&&l.clean(y)}};function f(e){if(t(e)||typeof e!="string")return e;var p=e.trim();if(p.substr(0,3)!=="rgb")return e;var c=p.match(/^rgba?\s*\(([^()]*)\)$/);if(!c)return e;var h=c[1].trim().split(/\s*[\s,]\s*/),_=p.charAt(3)==="a"&&h.length===4;if(!_&&h.length!==3)return e;for(var y=0;y<h.length;y++){if(!h[y].length||(h[y]=Number(h[y]),!(h[y]>=0)))return e;if(y===3)h[y]>1&&(h[y]=1);else if(h[y]>=1)return e}var v=Math.round(h[0]*255)+", "+Math.round(h[1]*255)+", "+Math.round(h[2]*255);return _?"rgba("+v+", "+h[3]+")":"rgb("+v+")"}}),Ri=Mt((E,P)=>{P.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}}),Vn=Mt(E=>{E.counter=function(P,i,t,a){var l=(i||"")+(t?"":"$"),n=a===!1?"":"^";return P==="xy"?new RegExp(n+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+l):new RegExp(n+P+"([2-9]|[1-9][0-9]+)?"+l)}}),xu=Mt(E=>{var P=ua(),i=Yr(),t=yr().extendFlat,a=an(),l=Pn(),n=Ta(),o=Ri().DESELECTDIM,s=fn(),f=Vn().counter,e=en().modHalf,p=lr().isArrayOrTypedArray,c=lr().isTypedArraySpec,h=lr().decodeTypedArraySpec;E.valObjectMeta={data_array:{coerceFunction:function(y,v,g){v.set(p(y)?y:c(y)?h(y):g)}},enumerated:{coerceFunction:function(y,v,g,x){x.coerceNumber&&(y=+y),x.values.indexOf(y)===-1?v.set(g):v.set(y)},validateFunction:function(y,v){v.coerceNumber&&(y=+y);for(var g=v.values,x=0;x<g.length;x++){var u=String(g[x]);if(u.charAt(0)==="/"&&u.charAt(u.length-1)==="/"){var d=new RegExp(u.substr(1,u.length-2));if(d.test(y))return!0}else if(y===g[x])return!0}return!1}},boolean:{coerceFunction:function(y,v,g){y===!0||y===!1?v.set(y):v.set(g)}},number:{coerceFunction:function(y,v,g,x){c(y)&&(y=h(y)),!P(y)||x.min!==void 0&&y<x.min||x.max!==void 0&&y>x.max?v.set(g):v.set(+y)}},integer:{coerceFunction:function(y,v,g,x){if((x.extras||[]).indexOf(y)!==-1){v.set(y);return}c(y)&&(y=h(y)),y%1||!P(y)||x.min!==void 0&&y<x.min||x.max!==void 0&&y>x.max?v.set(g):v.set(+y)}},string:{coerceFunction:function(y,v,g,x){if(typeof y!="string"){var u=typeof y=="number";x.strict===!0||!u?v.set(g):v.set(String(y))}else x.noBlank&&!y?v.set(g):v.set(y)}},color:{coerceFunction:function(y,v,g){c(y)&&(y=h(y)),i(y).isValid()?v.set(y):v.set(g)}},colorlist:{coerceFunction:function(y,v,g){function x(u){return i(u).isValid()}!Array.isArray(y)||!y.length?v.set(g):y.every(x)?v.set(y):v.set(g)}},colorscale:{coerceFunction:function(y,v,g){v.set(l.get(y,g))}},angle:{coerceFunction:function(y,v,g){c(y)&&(y=h(y)),y==="auto"?v.set("auto"):P(y)?v.set(e(+y,360)):v.set(g)}},subplotid:{coerceFunction:function(y,v,g,x){var u=x.regex||f(g);if(typeof y=="string"&&u.test(y)){v.set(y);return}v.set(g)},validateFunction:function(y,v){var g=v.dflt;return y===g?!0:typeof y!="string"?!1:!!f(g).test(y)}},flaglist:{coerceFunction:function(y,v,g,x){if((x.extras||[]).indexOf(y)!==-1){v.set(y);return}if(typeof y!="string"){v.set(g);return}for(var u=y.split("+"),d=0;d<u.length;){var m=u[d];x.flags.indexOf(m)===-1||u.indexOf(m)<d?u.splice(d,1):d++}u.length?v.set(u.join("+")):v.set(g)}},any:{coerceFunction:function(y,v,g){y===void 0?v.set(g):v.set(c(y)?h(y):y)}},info_array:{coerceFunction:function(y,v,g,x){function u(Z,G,O){var J,X={set:function(it){J=it}};return O===void 0&&(O=G.dflt),E.valObjectMeta[G.valType].coerceFunction(Z,X,O,G),J}if(c(y)&&(y=h(y)),!p(y)){v.set(g);return}var d=x.dimensions===2||x.dimensions==="1-2"&&Array.isArray(y)&&p(y[0]),m=x.items,w=[],k=Array.isArray(m),U=k&&d&&p(m[0]),D=d&&k&&!U,C=k&&!D?m.length:y.length,T,Y,z,j,F,R;if(g=Array.isArray(g)?g:[],d)for(T=0;T<C;T++)for(w[T]=[],z=p(y[T])?y[T]:[],D?F=m.length:k?F=m[T].length:F=z.length,Y=0;Y<F;Y++)D?j=m[Y]:k?j=m[T][Y]:j=m,R=u(z[Y],j,(g[T]||[])[Y]),R!==void 0&&(w[T][Y]=R);else for(T=0;T<C;T++)R=u(y[T],k?m[T]:m,g[T]),R!==void 0&&(w[T]=R);v.set(w)},validateFunction:function(y,v){if(!p(y))return!1;var g=v.items,x=Array.isArray(g),u=v.dimensions===2;if(!v.freeLength&&y.length!==g.length)return!1;for(var d=0;d<y.length;d++)if(u){if(!p(y[d])||!v.freeLength&&y[d].length!==g[d].length)return!1;for(var m=0;m<y[d].length;m++)if(!_(y[d][m],x?g[d][m]:g))return!1}else if(!_(y[d],x?g[d]:g))return!1;return!0}}},E.coerce=function(y,v,g,x,u){var d=s(g,x).get(),m=s(y,x),w=s(v,x),k=m.get(),U=v._template;if(k===void 0&&U&&(k=s(U,x).get(),U=0),u===void 0&&(u=d.dflt),d.arrayOk){if(p(k))return w.set(k),k;if(c(k))return k=h(k),w.set(k),k}var D=E.valObjectMeta[d.valType].coerceFunction;D(k,w,u,d);var C=w.get();return U&&C===u&&!_(k,d)&&(k=s(U,x).get(),D(k,w,u,d),C=w.get()),C},E.coerce2=function(y,v,g,x,u){var d=s(y,x),m=E.coerce(y,v,g,x,u),w=d.get();return w!=null?m:!1},E.coerceFont=function(y,v,g,x){x||(x={}),g=t({},g),g=t(g,x.overrideDflt||{});var u={family:y(v+".family",g.family),size:y(v+".size",g.size),color:y(v+".color",g.color),weight:y(v+".weight",g.weight),style:y(v+".style",g.style)};if(x.noFontVariant||(u.variant=y(v+".variant",g.variant)),x.noFontLineposition||(u.lineposition=y(v+".lineposition",g.lineposition)),x.noFontTextcase||(u.textcase=y(v+".textcase",g.textcase)),!x.noFontShadow){var d=g.shadow;d==="none"&&x.autoShadowDflt&&(d="auto"),u.shadow=y(v+".shadow",d)}return u},E.coercePattern=function(y,v,g,x){var u=y(v+".shape"),d;if(u||(d=y(v+".path")),u||d){u&&y(v+".solidity"),y(v+".size");var m=y(v+".fillmode"),w=m==="overlay";if(!x){var k=y(v+".bgcolor",w?g:void 0);y(v+".fgcolor",w?n.contrast(k):g)}y(v+".fgopacity",w?.5:1)}},E.coerceHoverinfo=function(y,v,g){var x=v._module.attributes,u=x.hoverinfo?x:a,d=u.hoverinfo,m;if(g._dataLength===1){var w=d.dflt==="all"?d.flags.slice():d.dflt.split("+");w.splice(w.indexOf("name"),1),m=w.join("+")}return E.coerce(y,v,u,"hoverinfo",m)},E.coerceSelectionMarkerOpacity=function(y,v){if(y.marker){var g=y.marker.opacity;if(g!==void 0){var x,u;!p(g)&&!y.selected&&!y.unselected&&(x=g,u=o*g),v("selected.marker.opacity",x),v("unselected.marker.opacity",u)}}};function _(y,v){var g=E.valObjectMeta[v.valType];if(v.arrayOk&&p(y))return!0;if(g.validateFunction)return g.validateFunction(y,v);var x={},u=x,d={set:function(m){u=m}};return g.coerceFunction(y,d,x,v),u!==x}E.validate=_}),zn=Mt((E,P)=>{var i={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/un/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};function a(l,n){for(var o in l){var s=l[o];s.valType?n[o]=s.dflt:(n[o]||(n[o]={}),a(s,n[o]))}}a(i,t),P.exports={configAttributes:i,dfltConfig:t}}),Zo=Mt((E,P)=>{var i=Ke(),t=ua(),a=[];P.exports=function(l,n){if(a.indexOf(l)!==-1)return;a.push(l);var o=1e3;t(n)?o=n:n==="long"&&(o=3e3);var s=i.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0);var f=s.selectAll(".notifier-note").data(a);function e(p){p.duration(700).style("opacity",0).each("end",function(c){var h=a.indexOf(c);h!==-1&&a.splice(h,1),i.select(this).remove()})}f.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(p){var c=i.select(this);c.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){c.transition().call(e)});for(var h=c.append("p"),_=p.split(/<br\s*\/?>/g),y=0;y<_.length;y++)y&&h.append("br"),h.append("span").text(_[y]);n==="stick"?c.transition().duration(350).style("opacity",1):c.transition().duration(700).style("opacity",1).transition().delay(o).call(e)})}}),In=Mt((E,P)=>{var i=zn().dfltConfig,t=Zo(),a=P.exports={};a.log=function(){var l;if(i.logging>1){var n=["LOG:"];for(l=0;l<arguments.length;l++)n.push(arguments[l]);console.trace.apply(console,n)}if(i.notifyOnLogging>1){var o=[];for(l=0;l<arguments.length;l++)o.push(arguments[l]);t(o.join("<br>"),"long")}},a.warn=function(){var l;if(i.logging>0){var n=["WARN:"];for(l=0;l<arguments.length;l++)n.push(arguments[l]);console.trace.apply(console,n)}if(i.notifyOnLogging>0){var o=[];for(l=0;l<arguments.length;l++)o.push(arguments[l]);t(o.join("<br>"),"stick")}},a.error=function(){var l;if(i.logging>0){var n=["ERROR:"];for(l=0;l<arguments.length;l++)n.push(arguments[l]);console.error.apply(console,n)}if(i.notifyOnLogging>0){var o=[];for(l=0;l<arguments.length;l++)o.push(arguments[l]);t(o.join("<br>"),"stick")}}}),ji=Mt((E,P)=>{P.exports=function(){}}),Go=Mt((E,P)=>{P.exports=function(i,t){if(t instanceof RegExp){for(var a=t.toString(),l=0;l<i.length;l++)if(i[l]instanceof RegExp&&i[l].toString()===a)return i;i.push(t)}else(t||t===0)&&i.indexOf(t)===-1&&i.push(t);return i}}),bu=Mt((E,P)=>{P.exports=i;function i(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),_u=Mt((E,P)=>{P.exports=i;function i(t){var a=new Float32Array(16);return a[0]=t[0],a[1]=t[1],a[2]=t[2],a[3]=t[3],a[4]=t[4],a[5]=t[5],a[6]=t[6],a[7]=t[7],a[8]=t[8],a[9]=t[9],a[10]=t[10],a[11]=t[11],a[12]=t[12],a[13]=t[13],a[14]=t[14],a[15]=t[15],a}}),wu=Mt((E,P)=>{P.exports=i;function i(t,a){return t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}}),Jo=Mt((E,P)=>{P.exports=i;function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Mu=Mt((E,P)=>{P.exports=i;function i(t,a){if(t===a){var l=a[1],n=a[2],o=a[3],s=a[6],f=a[7],e=a[11];t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=l,t[6]=a[9],t[7]=a[13],t[8]=n,t[9]=s,t[11]=a[14],t[12]=o,t[13]=f,t[14]=e}else t[0]=a[0],t[1]=a[4],t[2]=a[8],t[3]=a[12],t[4]=a[1],t[5]=a[5],t[6]=a[9],t[7]=a[13],t[8]=a[2],t[9]=a[6],t[10]=a[10],t[11]=a[14],t[12]=a[3],t[13]=a[7],t[14]=a[11],t[15]=a[15];return t}}),Tu=Mt((E,P)=>{P.exports=i;function i(t,a){var l=a[0],n=a[1],o=a[2],s=a[3],f=a[4],e=a[5],p=a[6],c=a[7],h=a[8],_=a[9],y=a[10],v=a[11],g=a[12],x=a[13],u=a[14],d=a[15],m=l*e-n*f,w=l*p-o*f,k=l*c-s*f,U=n*p-o*e,D=n*c-s*e,C=o*c-s*p,T=h*x-_*g,Y=h*u-y*g,z=h*d-v*g,j=_*u-y*x,F=_*d-v*x,R=y*d-v*u,Z=m*R-w*F+k*j+U*z-D*Y+C*T;return Z?(Z=1/Z,t[0]=(e*R-p*F+c*j)*Z,t[1]=(o*F-n*R-s*j)*Z,t[2]=(x*C-u*D+d*U)*Z,t[3]=(y*D-_*C-v*U)*Z,t[4]=(p*z-f*R-c*Y)*Z,t[5]=(l*R-o*z+s*Y)*Z,t[6]=(u*k-g*C-d*w)*Z,t[7]=(h*C-y*k+v*w)*Z,t[8]=(f*F-e*z+c*T)*Z,t[9]=(n*z-l*F-s*T)*Z,t[10]=(g*D-x*k+d*m)*Z,t[11]=(_*k-h*D-v*m)*Z,t[12]=(e*Y-f*j-p*T)*Z,t[13]=(l*j-n*Y+o*T)*Z,t[14]=(x*w-g*U-u*m)*Z,t[15]=(h*U-_*w+y*m)*Z,t):null}}),ku=Mt((E,P)=>{P.exports=i;function i(t,a){var l=a[0],n=a[1],o=a[2],s=a[3],f=a[4],e=a[5],p=a[6],c=a[7],h=a[8],_=a[9],y=a[10],v=a[11],g=a[12],x=a[13],u=a[14],d=a[15];return t[0]=e*(y*d-v*u)-_*(p*d-c*u)+x*(p*v-c*y),t[1]=-(n*(y*d-v*u)-_*(o*d-s*u)+x*(o*v-s*y)),t[2]=n*(p*d-c*u)-e*(o*d-s*u)+x*(o*c-s*p),t[3]=-(n*(p*v-c*y)-e*(o*v-s*y)+_*(o*c-s*p)),t[4]=-(f*(y*d-v*u)-h*(p*d-c*u)+g*(p*v-c*y)),t[5]=l*(y*d-v*u)-h*(o*d-s*u)+g*(o*v-s*y),t[6]=-(l*(p*d-c*u)-f*(o*d-s*u)+g*(o*c-s*p)),t[7]=l*(p*v-c*y)-f*(o*v-s*y)+h*(o*c-s*p),t[8]=f*(_*d-v*x)-h*(e*d-c*x)+g*(e*v-c*_),t[9]=-(l*(_*d-v*x)-h*(n*d-s*x)+g*(n*v-s*_)),t[10]=l*(e*d-c*x)-f*(n*d-s*x)+g*(n*c-s*e),t[11]=-(l*(e*v-c*_)-f*(n*v-s*_)+h*(n*c-s*e)),t[12]=-(f*(_*u-y*x)-h*(e*u-p*x)+g*(e*y-p*_)),t[13]=l*(_*u-y*x)-h*(n*u-o*x)+g*(n*y-o*_),t[14]=-(l*(e*u-p*x)-f*(n*u-o*x)+g*(n*p-o*e)),t[15]=l*(e*y-p*_)-f*(n*y-o*_)+h*(n*p-o*e),t}}),Au=Mt((E,P)=>{P.exports=i;function i(t){var a=t[0],l=t[1],n=t[2],o=t[3],s=t[4],f=t[5],e=t[6],p=t[7],c=t[8],h=t[9],_=t[10],y=t[11],v=t[12],g=t[13],x=t[14],u=t[15],d=a*f-l*s,m=a*e-n*s,w=a*p-o*s,k=l*e-n*f,U=l*p-o*f,D=n*p-o*e,C=c*g-h*v,T=c*x-_*v,Y=c*u-y*v,z=h*x-_*g,j=h*u-y*g,F=_*u-y*x;return d*F-m*j+w*z+k*Y-U*T+D*C}}),Lu=Mt((E,P)=>{P.exports=i;function i(t,a,l){var n=a[0],o=a[1],s=a[2],f=a[3],e=a[4],p=a[5],c=a[6],h=a[7],_=a[8],y=a[9],v=a[10],g=a[11],x=a[12],u=a[13],d=a[14],m=a[15],w=l[0],k=l[1],U=l[2],D=l[3];return t[0]=w*n+k*e+U*_+D*x,t[1]=w*o+k*p+U*y+D*u,t[2]=w*s+k*c+U*v+D*d,t[3]=w*f+k*h+U*g+D*m,w=l[4],k=l[5],U=l[6],D=l[7],t[4]=w*n+k*e+U*_+D*x,t[5]=w*o+k*p+U*y+D*u,t[6]=w*s+k*c+U*v+D*d,t[7]=w*f+k*h+U*g+D*m,w=l[8],k=l[9],U=l[10],D=l[11],t[8]=w*n+k*e+U*_+D*x,t[9]=w*o+k*p+U*y+D*u,t[10]=w*s+k*c+U*v+D*d,t[11]=w*f+k*h+U*g+D*m,w=l[12],k=l[13],U=l[14],D=l[15],t[12]=w*n+k*e+U*_+D*x,t[13]=w*o+k*p+U*y+D*u,t[14]=w*s+k*c+U*v+D*d,t[15]=w*f+k*h+U*g+D*m,t}}),Su=Mt((E,P)=>{P.exports=i;function i(t,a,l){var n=l[0],o=l[1],s=l[2],f,e,p,c,h,_,y,v,g,x,u,d;return a===t?(t[12]=a[0]*n+a[4]*o+a[8]*s+a[12],t[13]=a[1]*n+a[5]*o+a[9]*s+a[13],t[14]=a[2]*n+a[6]*o+a[10]*s+a[14],t[15]=a[3]*n+a[7]*o+a[11]*s+a[15]):(f=a[0],e=a[1],p=a[2],c=a[3],h=a[4],_=a[5],y=a[6],v=a[7],g=a[8],x=a[9],u=a[10],d=a[11],t[0]=f,t[1]=e,t[2]=p,t[3]=c,t[4]=h,t[5]=_,t[6]=y,t[7]=v,t[8]=g,t[9]=x,t[10]=u,t[11]=d,t[12]=f*n+h*o+g*s+a[12],t[13]=e*n+_*o+x*s+a[13],t[14]=p*n+y*o+u*s+a[14],t[15]=c*n+v*o+d*s+a[15]),t}}),Cu=Mt((E,P)=>{P.exports=i;function i(t,a,l){var n=l[0],o=l[1],s=l[2];return t[0]=a[0]*n,t[1]=a[1]*n,t[2]=a[2]*n,t[3]=a[3]*n,t[4]=a[4]*o,t[5]=a[5]*o,t[6]=a[6]*o,t[7]=a[7]*o,t[8]=a[8]*s,t[9]=a[9]*s,t[10]=a[10]*s,t[11]=a[11]*s,t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15],t}}),Ou=Mt((E,P)=>{P.exports=i;function i(t,a,l,n){var o=n[0],s=n[1],f=n[2],e=Math.sqrt(o*o+s*s+f*f),p,c,h,_,y,v,g,x,u,d,m,w,k,U,D,C,T,Y,z,j,F,R,Z,G;return Math.abs(e)<1e-6?null:(e=1/e,o*=e,s*=e,f*=e,p=Math.sin(l),c=Math.cos(l),h=1-c,_=a[0],y=a[1],v=a[2],g=a[3],x=a[4],u=a[5],d=a[6],m=a[7],w=a[8],k=a[9],U=a[10],D=a[11],C=o*o*h+c,T=s*o*h+f*p,Y=f*o*h-s*p,z=o*s*h-f*p,j=s*s*h+c,F=f*s*h+o*p,R=o*f*h+s*p,Z=s*f*h-o*p,G=f*f*h+c,t[0]=_*C+x*T+w*Y,t[1]=y*C+u*T+k*Y,t[2]=v*C+d*T+U*Y,t[3]=g*C+m*T+D*Y,t[4]=_*z+x*j+w*F,t[5]=y*z+u*j+k*F,t[6]=v*z+d*j+U*F,t[7]=g*z+m*j+D*F,t[8]=_*R+x*Z+w*G,t[9]=y*R+u*Z+k*G,t[10]=v*R+d*Z+U*G,t[11]=g*R+m*Z+D*G,a!==t&&(t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t)}}),Du=Mt((E,P)=>{P.exports=i;function i(t,a,l){var n=Math.sin(l),o=Math.cos(l),s=a[4],f=a[5],e=a[6],p=a[7],c=a[8],h=a[9],_=a[10],y=a[11];return a!==t&&(t[0]=a[0],t[1]=a[1],t[2]=a[2],t[3]=a[3],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[4]=s*o+c*n,t[5]=f*o+h*n,t[6]=e*o+_*n,t[7]=p*o+y*n,t[8]=c*o-s*n,t[9]=h*o-f*n,t[10]=_*o-e*n,t[11]=y*o-p*n,t}}),Pu=Mt((E,P)=>{P.exports=i;function i(t,a,l){var n=Math.sin(l),o=Math.cos(l),s=a[0],f=a[1],e=a[2],p=a[3],c=a[8],h=a[9],_=a[10],y=a[11];return a!==t&&(t[4]=a[4],t[5]=a[5],t[6]=a[6],t[7]=a[7],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=s*o-c*n,t[1]=f*o-h*n,t[2]=e*o-_*n,t[3]=p*o-y*n,t[8]=s*n+c*o,t[9]=f*n+h*o,t[10]=e*n+_*o,t[11]=p*n+y*o,t}}),zu=Mt((E,P)=>{P.exports=i;function i(t,a,l){var n=Math.sin(l),o=Math.cos(l),s=a[0],f=a[1],e=a[2],p=a[3],c=a[4],h=a[5],_=a[6],y=a[7];return a!==t&&(t[8]=a[8],t[9]=a[9],t[10]=a[10],t[11]=a[11],t[12]=a[12],t[13]=a[13],t[14]=a[14],t[15]=a[15]),t[0]=s*o+c*n,t[1]=f*o+h*n,t[2]=e*o+_*n,t[3]=p*o+y*n,t[4]=c*o-s*n,t[5]=h*o-f*n,t[6]=_*o-e*n,t[7]=y*o-p*n,t}}),Iu=Mt((E,P)=>{P.exports=i;function i(t,a,l){var n,o,s,f=l[0],e=l[1],p=l[2],c=Math.sqrt(f*f+e*e+p*p);return Math.abs(c)<1e-6?null:(c=1/c,f*=c,e*=c,p*=c,n=Math.sin(a),o=Math.cos(a),s=1-o,t[0]=f*f*s+o,t[1]=e*f*s+p*n,t[2]=p*f*s-e*n,t[3]=0,t[4]=f*e*s-p*n,t[5]=e*e*s+o,t[6]=p*e*s+f*n,t[7]=0,t[8]=f*p*s+e*n,t[9]=e*p*s-f*n,t[10]=p*p*s+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}}),Eu=Mt((E,P)=>{P.exports=i;function i(t,a,l){var n=a[0],o=a[1],s=a[2],f=a[3],e=n+n,p=o+o,c=s+s,h=n*e,_=n*p,y=n*c,v=o*p,g=o*c,x=s*c,u=f*e,d=f*p,m=f*c;return t[0]=1-(v+x),t[1]=_+m,t[2]=y-d,t[3]=0,t[4]=_-m,t[5]=1-(h+x),t[6]=g+u,t[7]=0,t[8]=y+d,t[9]=g-u,t[10]=1-(h+v),t[11]=0,t[12]=l[0],t[13]=l[1],t[14]=l[2],t[15]=1,t}}),Fu=Mt((E,P)=>{P.exports=i;function i(t,a){return t[0]=a[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=a[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Nu=Mt((E,P)=>{P.exports=i;function i(t,a){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=a[0],t[13]=a[1],t[14]=a[2],t[15]=1,t}}),Ru=Mt((E,P)=>{P.exports=i;function i(t,a){var l=Math.sin(a),n=Math.cos(a);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=l,t[7]=0,t[8]=0,t[9]=-l,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),ju=Mt((E,P)=>{P.exports=i;function i(t,a){var l=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=0,t[2]=-l,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=l,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Hu=Mt((E,P)=>{P.exports=i;function i(t,a){var l=Math.sin(a),n=Math.cos(a);return t[0]=n,t[1]=l,t[2]=0,t[3]=0,t[4]=-l,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Bu=Mt((E,P)=>{P.exports=i;function i(t,a){var l=a[0],n=a[1],o=a[2],s=a[3],f=l+l,e=n+n,p=o+o,c=l*f,h=n*f,_=n*e,y=o*f,v=o*e,g=o*p,x=s*f,u=s*e,d=s*p;return t[0]=1-_-g,t[1]=h+d,t[2]=y-u,t[3]=0,t[4]=h-d,t[5]=1-c-g,t[6]=v+x,t[7]=0,t[8]=y+u,t[9]=v-x,t[10]=1-c-_,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}}),Vu=Mt((E,P)=>{P.exports=i;function i(t,a,l,n,o,s,f){var e=1/(l-a),p=1/(o-n),c=1/(s-f);return t[0]=s*2*e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s*2*p,t[6]=0,t[7]=0,t[8]=(l+a)*e,t[9]=(o+n)*p,t[10]=(f+s)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=f*s*2*c,t[15]=0,t}}),qu=Mt((E,P)=>{P.exports=i;function i(t,a,l,n,o){var s=1/Math.tan(a/2),f=1/(n-o);return t[0]=s/l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(o+n)*f,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*o*n*f,t[15]=0,t}}),Uu=Mt((E,P)=>{P.exports=i;function i(t,a,l,n){var o=Math.tan(a.upDegrees*Math.PI/180),s=Math.tan(a.downDegrees*Math.PI/180),f=Math.tan(a.leftDegrees*Math.PI/180),e=Math.tan(a.rightDegrees*Math.PI/180),p=2/(f+e),c=2/(o+s);return t[0]=p,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-((f-e)*p*.5),t[9]=(o-s)*c*.5,t[10]=n/(l-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*l/(l-n),t[15]=0,t}}),Yu=Mt((E,P)=>{P.exports=i;function i(t,a,l,n,o,s,f){var e=1/(a-l),p=1/(n-o),c=1/(s-f);return t[0]=-2*e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*p,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(a+l)*e,t[13]=(o+n)*p,t[14]=(f+s)*c,t[15]=1,t}}),Zu=Mt((E,P)=>{var i=Jo();P.exports=t;function t(a,l,n,o){var s,f,e,p,c,h,_,y,v,g,x=l[0],u=l[1],d=l[2],m=o[0],w=o[1],k=o[2],U=n[0],D=n[1],C=n[2];return Math.abs(x-U)<1e-6&&Math.abs(u-D)<1e-6&&Math.abs(d-C)<1e-6?i(a):(_=x-U,y=u-D,v=d-C,g=1/Math.sqrt(_*_+y*y+v*v),_*=g,y*=g,v*=g,s=w*v-k*y,f=k*_-m*v,e=m*y-w*_,g=Math.sqrt(s*s+f*f+e*e),g?(g=1/g,s*=g,f*=g,e*=g):(s=0,f=0,e=0),p=y*e-v*f,c=v*s-_*e,h=_*f-y*s,g=Math.sqrt(p*p+c*c+h*h),g?(g=1/g,p*=g,c*=g,h*=g):(p=0,c=0,h=0),a[0]=s,a[1]=p,a[2]=_,a[3]=0,a[4]=f,a[5]=c,a[6]=y,a[7]=0,a[8]=e,a[9]=h,a[10]=v,a[11]=0,a[12]=-(s*x+f*u+e*d),a[13]=-(p*x+c*u+h*d),a[14]=-(_*x+y*u+v*d),a[15]=1,a)}}),Gu=Mt((E,P)=>{P.exports=i;function i(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}}),Wo=Mt((E,P)=>{P.exports={create:bu(),clone:_u(),copy:wu(),identity:Jo(),transpose:Mu(),invert:Tu(),adjoint:ku(),determinant:Au(),multiply:Lu(),translate:Su(),scale:Cu(),rotate:Ou(),rotateX:Du(),rotateY:Pu(),rotateZ:zu(),fromRotation:Iu(),fromRotationTranslation:Eu(),fromScaling:Fu(),fromTranslation:Nu(),fromXRotation:Ru(),fromYRotation:ju(),fromZRotation:Hu(),fromQuat:Bu(),frustum:Vu(),perspective:qu(),perspectiveFromFieldOfView:Uu(),ortho:Yu(),lookAt:Zu(),str:Gu()}}),Hi=Mt(E=>{var P=Wo();E.init2dArray=function(i,t){for(var a=new Array(i),l=0;l<i;l++)a[l]=new Array(t);return a},E.transposeRagged=function(i){var t=0,a=i.length,l,n;for(l=0;l<a;l++)t=Math.max(t,i[l].length);var o=new Array(t);for(l=0;l<t;l++)for(o[l]=new Array(a),n=0;n<a;n++)o[l][n]=i[n][l];return o},E.dot=function(i,t){if(!(i.length&&t.length)||i.length!==t.length)return null;var a=i.length,l,n;if(i[0].length)for(l=new Array(a),n=0;n<a;n++)l[n]=E.dot(i[n],t);else if(t[0].length){var o=E.transposeRagged(t);for(l=new Array(o.length),n=0;n<o.length;n++)l[n]=E.dot(i,o[n])}else for(l=0,n=0;n<a;n++)l+=i[n]*t[n];return l},E.translationMatrix=function(i,t){return[[1,0,i],[0,1,t],[0,0,1]]},E.rotationMatrix=function(i){var t=i*Math.PI/180;return[[Math.cos(t),-Math.sin(t),0],[Math.sin(t),Math.cos(t),0],[0,0,1]]},E.rotationXYMatrix=function(i,t,a){return E.dot(E.dot(E.translationMatrix(t,a),E.rotationMatrix(i)),E.translationMatrix(-t,-a))},E.apply3DTransform=function(i){return function(){var t=arguments,a=arguments.length===1?t[0]:[t[0],t[1],t[2]||0];return E.dot(i,[a[0],a[1],a[2],1]).slice(0,3)}},E.apply2DTransform=function(i){return function(){var t=arguments;t.length===3&&(t=t[0]);var a=arguments.length===1?t[0]:[t[0],t[1]];return E.dot(i,[a[0],a[1],1]).slice(0,2)}},E.apply2DTransform2=function(i){var t=E.apply2DTransform(i);return function(a){return t(a.slice(0,2)).concat(t(a.slice(2,4)))}},E.convertCssMatrix=function(i){if(i){var t=i.length;if(t===16)return i;if(t===6)return[i[0],i[1],0,0,i[2],i[3],0,0,0,0,1,0,i[4],i[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},E.inverseTransformMatrix=function(i){var t=[];return P.invert(t,i),[[t[0],t[1],t[2],t[3]],[t[4],t[5],t[6],t[7]],[t[8],t[9],t[10],t[11]],[t[12],t[13],t[14],t[15]]]}}),ni=Mt((E,P)=>{var i=Ke(),t=In(),a=Hi(),l=Wo();function n(x){var u;if(typeof x=="string"){if(u=document.getElementById(x),u===null)throw new Error("No DOM element with id '"+x+"' exists on the page.");return u}else if(x==null)throw new Error("DOM element provided is null or undefined");return x}function o(x){var u=i.select(x);return u.node()instanceof HTMLElement&&u.size()&&u.classed("js-plotly-plot")}function s(x){var u=x&&x.parentNode;u&&u.removeChild(x)}function f(x,u){e("global",x,u)}function e(x,u,d){var m="plotly.js-style-"+x,w=document.getElementById(m);if(!(w&&w.matches(".no-inline-styles"))){w||(w=document.createElement("style"),w.setAttribute("id",m),w.appendChild(document.createTextNode("")),document.head.appendChild(w));var k=w.sheet;k?k.insertRule?k.insertRule(u+"{"+d+"}",0):k.addRule?k.addRule(u,d,0):t.warn("addStyleRule failed"):t.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function p(x){var u="plotly.js-style-"+x,d=document.getElementById(u);d&&s(d)}function c(x,u,d,m,w,k){var U=m.split(":"),D=w.split(":"),C="data-btn-style-event-added";k||(k=document),k.querySelectorAll(x).forEach(function(T){T.getAttribute(C)||(T.addEventListener("mouseenter",function(){var Y=this.querySelector(d);Y&&(Y.style[U[0]]=U[1])}),T.addEventListener("mouseleave",function(){var Y=this.querySelector(d);Y&&(u&&this.matches(u)?Y.style[U[0]]=U[1]:Y.style[D[0]]=D[1])}),T.setAttribute(C,!0))})}function h(x){var u=y(x),d=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return u.forEach(function(m){var w=_(m);if(w){var k=a.convertCssMatrix(w);d=l.multiply(d,d,k)}}),d}function _(x){var u=window.getComputedStyle(x,null),d=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("-moz-transform")||u.getPropertyValue("-ms-transform")||u.getPropertyValue("-o-transform")||u.getPropertyValue("transform");return d==="none"?null:d.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(m){return+m})}function y(x){for(var u=[];v(x);)u.push(x),x=x.parentNode,typeof ShadowRoot=="function"&&x instanceof ShadowRoot&&(x=x.host);return u}function v(x){return x&&(x instanceof Element||x instanceof HTMLElement)}function g(x,u){return x&&u&&x.top===u.top&&x.left===u.left&&x.right===u.right&&x.bottom===u.bottom}P.exports={getGraphDiv:n,isPlotDiv:o,removeElement:s,addStyleRule:f,addRelatedStyleRule:e,deleteRelatedStyleRule:p,setStyleOnHover:c,getFullTransformMatrix:h,getElementTransformMatrix:_,getElementAndAncestors:y,equalDomRects:g}}),ii=Mt((E,P)=>{P.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}}),hn=Mt((E,P)=>{var i=yr().extendFlat,t=_r(),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},l={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},n=a.flags.slice().concat(["fullReplot"]),o=l.flags.slice().concat("layoutReplot");P.exports={traces:a,layout:l,traceFlags:function(){return s(n)},layoutFlags:function(){return s(o)},update:function(p,c){var h=c.editType;if(h&&h!=="none")for(var _=h.split("+"),y=0;y<_.length;y++)p[_[y]]=!0},overrideAll:f};function s(p){for(var c={},h=0;h<p.length;h++)c[p[h]]=!1;return c}function f(p,c,h){var _=i({},p);for(var y in _){var v=_[y];t(v)&&(_[y]=e(v,c,h,y))}return h==="from-root"&&(_.editType=c),_}function e(p,c,h,_){if(p.valType){var y=i({},p);if(y.editType=c,Array.isArray(p.items)){y.items=new Array(p.items.length);for(var v=0;v<p.items.length;v++)y.items[v]=e(p.items[v],c)}return y}else return f(p,c,_.charAt(0)==="_"?"nested":"from-root")}}),pn=Mt(E=>{E.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},E.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},path:{valType:"string",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}}),Xo=Mt((E,P)=>{P.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}}),vn=Mt(E=>{var P=Xo(),i=P.FORMAT_LINK,t=P.DATE_FORMAT_LINK;function a(n){var o=n&&n.supportOther;return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(o?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".`,i,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".`,t,"for details on the date formatting syntax."].join(" ")}E.templateFormatStringDescription=a;function l(n){var o=n.description?" "+n.description:"",s=n.keys||[];if(s.length>0){for(var f=[],e=0;e<s.length;e++)f[e]="`"+s[e]+"`";o=o+"Finally, the template string has access to ",s.length===1?o=o+"variable "+f[0]:o=o+"variables "+f.slice(0,-1).join(", ")+" and "+f.slice(-1)+"."}return o}E.hovertemplateAttrs=function(n,o){n=n||{},o=o||{},l(o);var s={valType:"string",dflt:"",editType:n.editType||"none"};return n.arrayOk!==!1&&(s.arrayOk=!0),s},E.texttemplateAttrs=function(n,o){n=n||{},o=o||{},l(o);var s={valType:"string",dflt:"",editType:n.editType||"calc"};return n.arrayOk!==!1&&(s.arrayOk=!0),s},E.shapeTexttemplateAttrs=function(n,o){n=n||{},o=o||{},n.newshape,l(o);var s={valType:"string",dflt:"",editType:n.editType||"arraydraw"};return s}}),Bi=Mt((E,P)=>{function i(d,m){return m?m.d2l(d):d}function t(d,m){return m?m.l2d(d):d}function a(d){return d.x0}function l(d){return d.x1}function n(d){return d.y0}function o(d){return d.y1}function s(d){return d.x0shift||0}function f(d){return d.x1shift||0}function e(d){return d.y0shift||0}function p(d){return d.y1shift||0}function c(d,m){return i(d.x1,m)+f(d)-i(d.x0,m)-s(d)}function h(d,m,w){return i(d.y1,w)+p(d)-i(d.y0,w)-e(d)}function _(d,m){return Math.abs(c(d,m))}function y(d,m,w){return Math.abs(h(d,m,w))}function v(d,m,w){return d.type!=="line"?void 0:Math.sqrt(Math.pow(c(d,m),2)+Math.pow(h(d,m,w),2))}function g(d,m){return t((i(d.x1,m)+f(d)+i(d.x0,m)+s(d))/2,m)}function x(d,m,w){return t((i(d.y1,w)+p(d)+i(d.y0,w)+e(d))/2,w)}function u(d,m,w){return d.type!=="line"?void 0:h(d,m,w)/c(d,m)}P.exports={x0:a,x1:l,y0:n,y1:o,slope:u,dx:c,dy:h,width:_,height:y,length:v,xcenter:g,ycenter:x}}),Ju=Mt((E,P)=>{var i=hn().overrideAll,t=an(),a=Lr(),l=pn().dash,n=yr().extendFlat,o=vn().shapeTexttemplateAttrs,s=Bi();P.exports=i({newshape:{visible:n({},t.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:n({},t.legend,{}),legendgroup:n({},t.legendgroup,{}),legendgrouptitle:{text:n({},t.legendgrouptitle.text,{}),font:a({})},legendrank:n({},t.legendrank,{}),legendwidth:n({},t.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:n({},l,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:n({},t.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:o({newshape:!0},{keys:Object.keys(s)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")}),Wu=Mt((E,P)=>{var i=pn().dash,t=yr().extendFlat;P.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:t({},i,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}}),Vi=Mt((E,P)=>{P.exports=function(i){var t=i.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}}),qn=Mt((E,P)=>{var i=Lr(),t=ii(),a=dn(),l=Ju(),n=Wu(),o=Vi(),s=yr().extendFlat,f=i({editType:"calc"});f.family.dflt='"Open Sans", verdana, arial, sans-serif',f.size.dflt=12,f.color.dflt=a.defaultLine,P.exports={font:f,title:{text:{valType:"string",editType:"layoutstyle"},font:i({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:i({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(o({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:l.newshape,activeshape:l.activeshape,newselection:n.newselection,activeselection:n.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},t.transition,{editType:"none"})}}),Xu=Mt(()=>{(function(){if(!document.getElementById("ce8d464691048653ffe3a57c6c18ab566e8366f186677868cf724621a857b4fe")){var E=document.createElement("style");E.id="ce8d464691048653ffe3a57c6c18ab566e8366f186677868cf724621a857b4fe",E.textContent=`.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}}@keyframes maplibregl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(width <= 480px){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}`,document.head.appendChild(E)}})()}),da=Mt(E=>{var P=In(),i=ji(),t=Go(),a=_r(),l=ni().addStyleRule,n=yr(),o=an(),s=qn(),f=n.extendFlat,e=n.extendDeepAll;E.modules={},E.allCategories={},E.allTypes=[],E.subplotsRegistry={},E.componentsRegistry={},E.layoutArrayContainers=[],E.layoutArrayRegexes=[],E.traceLayoutAttributes={},E.localeRegistry={},E.apiMethodRegistry={},E.collectableSubplotTypes=null,E.register=function(d){if(E.collectableSubplotTypes=null,d)d&&!Array.isArray(d)&&(d=[d]);else throw new Error("No argument passed to Plotly.register.");for(var m=0;m<d.length;m++){var w=d[m];if(!w)throw new Error("Invalid module was attempted to be registered!");switch(w.moduleType){case"trace":p(w);break;case"transform":_(w);break;case"component":h(w);break;case"locale":y(w);break;case"apiMethod":var k=w.name;E.apiMethodRegistry[k]=w.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},E.getModule=function(d){var m=E.modules[u(d)];return m?m._module:!1},E.traceIs=function(d,m){if(d=u(d),d==="various")return!1;var w=E.modules[d];return w||(d&&P.log("Unrecognized trace type "+d+"."),w=E.modules[o.type.dflt]),!!w.categories[m]},E.getComponentMethod=function(d,m){var w=E.componentsRegistry[d];return w&&w[m]||i},E.call=function(){var d=arguments[0],m=[].slice.call(arguments,1);return E.apiMethodRegistry[d].apply(null,m)};function p(d){var m=d.name,w=d.categories,k=d.meta;if(E.modules[m]){P.log("Type "+m+" already registered");return}E.subplotsRegistry[d.basePlotModule.name]||c(d.basePlotModule);for(var U={},D=0;D<w.length;D++)U[w[D]]=!0,E.allCategories[w[D]]=!0;E.modules[m]={_module:d,categories:U},k&&Object.keys(k).length&&(E.modules[m].meta=k),E.allTypes.push(m);for(var C in E.componentsRegistry)g(C,m);d.layoutAttributes&&f(E.traceLayoutAttributes,d.layoutAttributes);var T=d.basePlotModule,Y=T.name;if(Y==="mapbox"){var z=T.constants.styleRules;for(var j in z)l(".js-plotly-plot .plotly .mapboxgl-"+j,z[j])}Y==="map"&&Xu(),(Y==="geo"||Y==="mapbox"||Y==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function c(d){var m=d.name;if(E.subplotsRegistry[m]){P.log("Plot type "+m+" already registered.");return}v(d),E.subplotsRegistry[m]=d;for(var w in E.componentsRegistry)x(w,d.name)}function h(d){if(typeof d.name!="string")throw new Error("Component module *name* must be a string.");var m=d.name;E.componentsRegistry[m]=d,d.layoutAttributes&&(d.layoutAttributes._isLinkedToArray&&t(E.layoutArrayContainers,m),v(d));for(var w in E.modules)g(m,w);for(var k in E.subplotsRegistry)x(m,k);d.schema&&d.schema.layout&&e(s,d.schema.layout)}function _(d){if(typeof d.name!="string")throw new Error("Transform module *name* must be a string.");var m="Transform module "+d.name,w=typeof d.transform=="function",k=typeof d.calcTransform=="function";if(!w&&!k)throw new Error(m+" is missing a *transform* or *calcTransform* method.");w&&k&&P.log([m+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),a(d.attributes)||P.log(m+" registered without an *attributes* object."),typeof d.supplyDefaults!="function"&&P.log(m+" registered without a *supplyDefaults* method.")}function y(d){var m=d.name,w=m.split("-")[0],k=d.dictionary,U=d.format,D=k&&Object.keys(k).length,C=U&&Object.keys(U).length,T=E.localeRegistry,Y=T[m];if(Y||(T[m]=Y={}),w!==m){var z=T[w];z||(T[w]=z={}),D&&z.dictionary===Y.dictionary&&(z.dictionary=k),C&&z.format===Y.format&&(z.format=U)}D&&(Y.dictionary=k),C&&(Y.format=U)}function v(d){if(d.layoutAttributes){var m=d.layoutAttributes._arrayAttrRegexps;if(m)for(var w=0;w<m.length;w++)t(E.layoutArrayRegexes,m[w])}}function g(d,m){var w=E.componentsRegistry[d].schema;if(!(!w||!w.traces)){var k=w.traces[m];k&&e(E.modules[m]._module.attributes,k)}}function x(d,m){var w=E.componentsRegistry[d].schema;if(!(!w||!w.subplots)){var k=E.subplotsRegistry[m],U=k.layoutAttributes,D=k.attr==="subplot"?k.name:k.attr;Array.isArray(D)&&(D=D[0]);var C=w.subplots[D];U&&C&&e(U,C)}}function u(d){return typeof d=="object"&&(d=d.type),d}}),$u=Mt(E=>{var P=Oa().timeFormat,i=ua(),t=In(),a=en().mod,l=Fa(),n=l.BADNUM,o=l.ONEDAY,s=l.ONEHOUR,f=l.ONEMIN,e=l.ONESEC,p=l.EPOCHJD,c=da(),h=Oa().utcFormat,_=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,y=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,v=new Date().getFullYear()-70;function g(Z){return Z&&c.componentsRegistry.calendars&&typeof Z=="string"&&Z!=="gregorian"}E.dateTick0=function(Z,G){var O=x(Z,!!G);if(G<2)return O;var J=E.dateTime2ms(O,Z);return J+=o*(G-1),E.ms2DateTime(J,0,Z)};function x(Z,G){return g(Z)?G?c.getComponentMethod("calendars","CANONICAL_SUNDAY")[Z]:c.getComponentMethod("calendars","CANONICAL_TICK")[Z]:G?"2000-01-02":"2000-01-01"}E.dfltRange=function(Z){return g(Z)?c.getComponentMethod("calendars","DFLTRANGE")[Z]:["2000-01-01","2001-01-01"]},E.isJSDate=function(Z){return typeof Z=="object"&&Z!==null&&typeof Z.getTime=="function"};var u,d;E.dateTime2ms=function(Z,G){if(E.isJSDate(Z)){var O=Z.getTimezoneOffset()*f,J=(Z.getUTCMinutes()-Z.getMinutes())*f+(Z.getUTCSeconds()-Z.getSeconds())*e+(Z.getUTCMilliseconds()-Z.getMilliseconds());if(J){var X=3*f;O=O-X/2+a(J-O+X/2,X)}return Z=Number(Z)-O,Z>=u&&Z<=d?Z:n}if(typeof Z!="string"&&typeof Z!="number")return n;Z=String(Z);var it=g(G),at=Z.charAt(0);it&&(at==="G"||at==="g")&&(Z=Z.substr(1),G="");var ot=it&&G.substr(0,7)==="chinese",ht=Z.match(ot?y:_);if(!ht)return n;var pt=ht[1],yt=ht[3]||"1",H=Number(ht[5]||1),q=Number(ht[7]||0),A=Number(ht[9]||0),W=Number(ht[11]||0);if(it){if(pt.length===2)return n;pt=Number(pt);var rt;try{var I=c.getComponentMethod("calendars","getCal")(G);if(ot){var M=yt.charAt(yt.length-1)==="i";yt=parseInt(yt,10),rt=I.newDate(pt,I.toMonthIndex(pt,yt,M),H)}else rt=I.newDate(pt,Number(yt),H)}catch{return n}return rt?(rt.toJD()-p)*o+q*s+A*f+W*e:n}pt.length===2?pt=(Number(pt)+2e3-v)%100+v:pt=Number(pt),yt-=1;var S=new Date(Date.UTC(2e3,yt,H,q,A));return S.setUTCFullYear(pt),S.getUTCMonth()!==yt||S.getUTCDate()!==H?n:S.getTime()+W*e},u=E.MIN_MS=E.dateTime2ms("-9999"),d=E.MAX_MS=E.dateTime2ms("9999-12-31 23:59:59.9999"),E.isDateTime=function(Z,G){return E.dateTime2ms(Z,G)!==n};function m(Z,G){return String(Z+Math.pow(10,G)).substr(1)}var w=90*o,k=3*s,U=5*f;E.ms2DateTime=function(Z,G,O){if(typeof Z!="number"||!(Z>=u&&Z<=d))return n;G||(G=0);var J=Math.floor(a(Z+.05,1)*10),X=Math.round(Z-J/10),it,at,ot,ht,pt,yt;if(g(O)){var H=Math.floor(X/o)+p,q=Math.floor(a(Z,o));try{it=c.getComponentMethod("calendars","getCal")(O).fromJD(H).formatDate("yyyy-mm-dd")}catch{it=h("G%Y-%m-%d")(new Date(X))}if(it.charAt(0)==="-")for(;it.length<11;)it="-0"+it.substr(1);else for(;it.length<10;)it="0"+it;at=G<w?Math.floor(q/s):0,ot=G<w?Math.floor(q%s/f):0,ht=G<k?Math.floor(q%f/e):0,pt=G<U?q%e*10+J:0}else yt=new Date(X),it=h("%Y-%m-%d")(yt),at=G<w?yt.getUTCHours():0,ot=G<w?yt.getUTCMinutes():0,ht=G<k?yt.getUTCSeconds():0,pt=G<U?yt.getUTCMilliseconds()*10+J:0;return D(it,at,ot,ht,pt)},E.ms2DateTimeLocal=function(Z){if(!(Z>=u+o&&Z<=d-o))return n;var G=Math.floor(a(Z+.05,1)*10),O=new Date(Math.round(Z-G/10)),J=P("%Y-%m-%d")(O),X=O.getHours(),it=O.getMinutes(),at=O.getSeconds(),ot=O.getUTCMilliseconds()*10+G;return D(J,X,it,at,ot)};function D(Z,G,O,J,X){if((G||O||J||X)&&(Z+=" "+m(G,2)+":"+m(O,2),(J||X)&&(Z+=":"+m(J,2),X))){for(var it=4;X%10===0;)it-=1,X/=10;Z+="."+m(X,it)}return Z}E.cleanDate=function(Z,G,O){if(Z===n)return G;if(E.isJSDate(Z)||typeof Z=="number"&&isFinite(Z)){if(g(O))return t.error("JS Dates and milliseconds are incompatible with world calendars",Z),G;if(Z=E.ms2DateTimeLocal(+Z),!Z&&G!==void 0)return G}else if(!E.isDateTime(Z,O))return t.error("unrecognized date",Z),G;return Z};var C=/%\d?f/g,T=/%h/g,Y={1:"1",2:"1",3:"2",4:"2"};function z(Z,G,O,J){Z=Z.replace(C,function(it){var at=Math.min(+it.charAt(1)||6,6),ot=(G/1e3%1+2).toFixed(at).substr(2).replace(/0+$/,"")||"0";return ot});var X=new Date(Math.floor(G+.05));if(Z=Z.replace(T,function(){return Y[O("%q")(X)]}),g(J))try{Z=c.getComponentMethod("calendars","worldCalFmt")(Z,G,J)}catch{return"Invalid"}return O(Z)(X)}var j=[59,59.9,59.99,59.999,59.9999];function F(Z,G){var O=a(Z+.05,o),J=m(Math.floor(O/s),2)+":"+m(a(Math.floor(O/f),60),2);if(G!=="M"){i(G)||(G=0);var X=Math.min(a(Z/e,60),j[G]),it=(100+X).toFixed(G).substr(1);G>0&&(it=it.replace(/0+$/,"").replace(/[\.]$/,"")),J+=":"+it}return J}E.formatDate=function(Z,G,O,J,X,it){if(X=g(X)&&X,!G)if(O==="y")G=it.year;else if(O==="m")G=it.month;else if(O==="d")G=it.dayMonth+`
`+it.year;else return F(Z,O)+`
`+z(it.dayMonthYear,Z,J,X);return z(G,Z,J,X)};var R=3*o;E.incrementMonth=function(Z,G,O){O=g(O)&&O;var J=a(Z,o);if(Z=Math.round(Z-J),O)try{var X=Math.round(Z/o)+p,it=c.getComponentMethod("calendars","getCal")(O),at=it.fromJD(X);return G%12?it.add(at,G,"m"):it.add(at,G/12,"y"),(at.toJD()-p)*o+J}catch{t.error("invalid ms "+Z+" in calendar "+O)}var ot=new Date(Z+R);return ot.setUTCMonth(ot.getUTCMonth()+G)+J-R},E.findExactDates=function(Z,G){for(var O=0,J=0,X=0,it=0,at,ot,ht=g(G)&&c.getComponentMethod("calendars","getCal")(G),pt=0;pt<Z.length;pt++){if(ot=Z[pt],!i(ot)){it++;continue}if(!(ot%o))if(ht)try{at=ht.fromJD(ot/o+p),at.day()===1?at.month()===1?O++:J++:X++}catch{}else at=new Date(ot),at.getUTCDate()===1?at.getUTCMonth()===0?O++:J++:X++}J+=O,X+=J;var yt=Z.length-it;return{exactYears:O/yt,exactMonths:J/yt,exactDays:X/yt}}}),$o=Mt((E,P)=>{P.exports=function(i){return i}}),Qo=Mt(E=>{var P=ua(),i=In(),t=$o(),a=Fa().BADNUM,l=1e-9;E.findBin=function(e,p,c){if(P(p.start))return c?Math.ceil((e-p.start)/p.size-l)-1:Math.floor((e-p.start)/p.size+l);var h=0,_=p.length,y=0,v=_>1?(p[_-1]-p[0])/(_-1):1,g,x;for(v>=0?x=c?n:o:x=c?f:s,e+=v*l*(c?-1:1)*(v>=0?1:-1);h<_&&y++<100;)g=Math.floor((h+_)/2),x(p[g],e)?h=g+1:_=g;return y>90&&i.log("Long binary search..."),h-1};function n(e,p){return e<p}function o(e,p){return e<=p}function s(e,p){return e>p}function f(e,p){return e>=p}E.sorterAsc=function(e,p){return e-p},E.sorterDes=function(e,p){return p-e},E.distinctVals=function(e){var p=e.slice();p.sort(E.sorterAsc);var c;for(c=p.length-1;c>-1&&p[c]===a;c--);for(var h=p[c]-p[0]||1,_=h/(c||1)/1e4,y=[],v,g=0;g<=c;g++){var x=p[g],u=x-v;v===void 0?(y.push(x),v=x):u>_&&(h=Math.min(h,u),y.push(x),v=x)}return{vals:y,minDiff:h}},E.roundUp=function(e,p,c){for(var h=0,_=p.length-1,y,v=0,g=c?0:1,x=c?1:0,u=c?Math.ceil:Math.floor;h<_&&v++<100;)y=u((h+_)/2),p[y]<=e?h=y+g:_=y-x;return p[h]},E.sort=function(e,p){for(var c=0,h=0,_=1;_<e.length;_++){var y=p(e[_],e[_-1]);if(y<0?c=1:y>0&&(h=1),c&&h)return e.sort(p)}return h?e:e.reverse()},E.findIndexOfMin=function(e,p){p=p||t;for(var c=1/0,h,_=0;_<e.length;_++){var y=p(e[_]);y<c&&(c=y,h=_)}return h}}),Ko=Mt((E,P)=>{P.exports=function(i){return Object.keys(i).sort()}}),Qu=Mt(E=>{var P=ua(),i=lr().isArrayOrTypedArray;E.aggNums=function(t,a,l,n){var o,s;if((!n||n>l.length)&&(n=l.length),P(a)||(a=!1),i(l[0])){for(s=new Array(n),o=0;o<n;o++)s[o]=E.aggNums(t,a,l[o]);l=s}for(o=0;o<n;o++)P(a)?P(l[o])&&(a=t(+a,+l[o])):a=l[o];return a},E.len=function(t){return E.aggNums(function(a){return a+1},0,t)},E.mean=function(t,a){return a||(a=E.len(t)),E.aggNums(function(l,n){return l+n},0,t)/a},E.geometricMean=function(t,a){return a||(a=E.len(t)),Math.pow(E.aggNums(function(l,n){return l*n},1,t),1/a)},E.midRange=function(t){if(!(t===void 0||t.length===0))return(E.aggNums(Math.max,null,t)+E.aggNums(Math.min,null,t))/2},E.variance=function(t,a,l){return a||(a=E.len(t)),P(l)||(l=E.mean(t,a)),E.aggNums(function(n,o){return n+Math.pow(o-l,2)},0,t)/a},E.stdev=function(t,a,l){return Math.sqrt(E.variance(t,a,l))},E.median=function(t){var a=t.slice().sort();return E.interp(a,.5)},E.interp=function(t,a){if(!P(a))throw"n should be a finite number";if(a=a*t.length-.5,a<0)return t[0];if(a>t.length-1)return t[t.length-1];var l=a%1;return l*t[Math.ceil(a)]+(1-l)*t[Math.floor(a)]}}),Ku=Mt((E,P)=>{var i=en(),t=i.mod,a=i.modHalf,l=Math.PI,n=2*l;function o(x){return x/180*l}function s(x){return x/l*180}function f(x){return Math.abs(x[1]-x[0])>n-1e-14}function e(x,u){return a(u-x,n)}function p(x,u){return Math.abs(e(x,u))}function c(x,u){if(f(u))return!0;var d,m;u[0]<u[1]?(d=u[0],m=u[1]):(d=u[1],m=u[0]),d=t(d,n),m=t(m,n),d>m&&(m+=n);var w=t(x,n),k=w+n;return w>=d&&w<=m||k>=d&&k<=m}function h(x,u,d,m){if(!c(u,m))return!1;var w,k;return d[0]<d[1]?(w=d[0],k=d[1]):(w=d[1],k=d[0]),x>=w&&x<=k}function _(x,u,d,m,w,k,U){w=w||0,k=k||0;var D=f([d,m]),C,T,Y,z,j;D?(C=0,T=l,Y=n):d<m?(C=d,Y=m):(C=m,Y=d),x<u?(z=x,j=u):(z=u,j=x);function F(O,J){return[O*Math.cos(J)+w,k-O*Math.sin(J)]}var R=Math.abs(Y-C)<=l?0:1;function Z(O,J,X){return"A"+[O,O]+" "+[0,R,X]+" "+F(O,J)}var G;return D?z===null?G="M"+F(j,C)+Z(j,T,0)+Z(j,Y,0)+"Z":G="M"+F(z,C)+Z(z,T,0)+Z(z,Y,0)+"ZM"+F(j,C)+Z(j,T,1)+Z(j,Y,1)+"Z":z===null?(G="M"+F(j,C)+Z(j,Y,0),U&&(G+="L0,0Z")):G="M"+F(z,C)+"L"+F(j,C)+Z(j,Y,0)+"L"+F(z,Y)+Z(z,C,1)+"Z",G}function y(x,u,d,m,w){return _(null,x,u,d,m,w,0)}function v(x,u,d,m,w){return _(null,x,u,d,m,w,1)}function g(x,u,d,m,w,k){return _(x,u,d,m,w,k,1)}P.exports={deg2rad:o,rad2deg:s,angleDelta:e,angleDist:p,isFullCircle:f,isAngleInsideSector:c,isPtInsideSector:h,pathArc:y,pathSector:v,pathAnnulus:g}}),tc=Mt(E=>{E.isLeftAnchor=function(P){return P.xanchor==="left"||P.xanchor==="auto"&&P.x<=1/3},E.isCenterAnchor=function(P){return P.xanchor==="center"||P.xanchor==="auto"&&P.x>1/3&&P.x<2/3},E.isRightAnchor=function(P){return P.xanchor==="right"||P.xanchor==="auto"&&P.x>=2/3},E.isTopAnchor=function(P){return P.yanchor==="top"||P.yanchor==="auto"&&P.y>=2/3},E.isMiddleAnchor=function(P){return P.yanchor==="middle"||P.yanchor==="auto"&&P.y>1/3&&P.y<2/3},E.isBottomAnchor=function(P){return P.yanchor==="bottom"||P.yanchor==="auto"&&P.y<=1/3}}),ec=Mt(E=>{var P=en().mod;E.segmentsIntersect=i;function i(o,s,f,e,p,c,h,_){var y=f-o,v=p-o,g=h-p,x=e-s,u=c-s,d=_-c,m=y*d-g*x;if(m===0)return null;var w=(v*d-g*u)/m,k=(v*x-y*u)/m;return k<0||k>1||w<0||w>1?null:{x:o+y*w,y:s+x*w}}E.segmentDistance=function(o,s,f,e,p,c,h,_){if(i(o,s,f,e,p,c,h,_))return 0;var y=f-o,v=e-s,g=h-p,x=_-c,u=y*y+v*v,d=g*g+x*x,m=Math.min(t(y,v,u,p-o,c-s),t(y,v,u,h-o,_-s),t(g,x,d,o-p,s-c),t(g,x,d,f-p,e-c));return Math.sqrt(m)};function t(o,s,f,e,p){var c=e*o+p*s;if(c<0)return e*e+p*p;if(c>f){var h=e-o,_=p-s;return h*h+_*_}else{var y=e*s-p*o;return y*y/f}}var a,l,n;E.getTextLocation=function(o,s,f,e){if((o!==l||e!==n)&&(a={},l=o,n=e),a[f])return a[f];var p=o.getPointAtLength(P(f-e/2,s)),c=o.getPointAtLength(P(f+e/2,s)),h=Math.atan((c.y-p.y)/(c.x-p.x)),_=o.getPointAtLength(P(f,s)),y=(_.x*4+p.x+c.x)/6,v=(_.y*4+p.y+c.y)/6,g={x:y,y:v,theta:h};return a[f]=g,g},E.clearLocationCache=function(){l=null},E.getVisibleSegment=function(o,s,f){var e=s.left,p=s.right,c=s.top,h=s.bottom,_=0,y=o.getTotalLength(),v=y,g,x;function u(m){var w=o.getPointAtLength(m);m===0?g=w:m===y&&(x=w);var k=w.x<e?e-w.x:w.x>p?w.x-p:0,U=w.y<c?c-w.y:w.y>h?w.y-h:0;return Math.sqrt(k*k+U*U)}for(var d=u(_);d;){if(_+=d+f,_>v)return;d=u(_)}for(d=u(v);d;){if(v-=d+f,_>v)return;d=u(v)}return{min:_,max:v,len:v-_,total:y,isClosed:_===0&&v===y&&Math.abs(g.x-x.x)<.1&&Math.abs(g.y-x.y)<.1}},E.findPointOnPath=function(o,s,f,e){e=e||{};for(var p=e.pathLength||o.getTotalLength(),c=e.tolerance||.001,h=e.iterationLimit||30,_=o.getPointAtLength(0)[f]>o.getPointAtLength(p)[f]?-1:1,y=0,v=0,g=p,x,u,d;y<h;){if(x=(v+g)/2,u=o.getPointAtLength(x),d=u[f]-s,Math.abs(d)<c)return u;_*d>0?g=x:v=x,y++}return u}}),qi=Mt(E=>{var P={};E.throttle=function(t,a,l){var n=P[t],o=Date.now();if(!n){for(var s in P)P[s].ts<o-6e4&&delete P[s];n=P[t]={ts:0,timer:null}}i(n);function f(){l(),n.ts=Date.now(),n.onDone&&(n.onDone(),n.onDone=null)}if(o>n.ts+a){f();return}n.timer=setTimeout(function(){f(),n.timer=null},a)},E.done=function(t){var a=P[t];return!a||!a.timer?Promise.resolve():new Promise(function(l){var n=a.onDone;a.onDone=function(){n&&n(),l(),a.onDone=null}})},E.clear=function(t){if(t)i(P[t]),delete P[t];else for(var a in P)E.clear(a)};function i(t){t&&t.timer!==null&&(clearTimeout(t.timer),t.timer=null)}}),ac=Mt((E,P)=>{P.exports=function(i){i._responsiveChartHandler&&(window.removeEventListener("resize",i._responsiveChartHandler),delete i._responsiveChartHandler)}}),rc=Mt((E,P)=>{P.exports=l,P.exports.isMobile=l,P.exports.default=l;var i=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,a=/android|ipad|playbook|silk/i;function l(n){n||(n={});let o=n.ua;if(!o&&typeof navigator<"u"&&(o=navigator.userAgent),o&&o.headers&&typeof o.headers["user-agent"]=="string"&&(o=o.headers["user-agent"]),typeof o!="string")return!1;let s=i.test(o)&&!t.test(o)||!!n.tablet&&a.test(o);return!s&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&o.indexOf("Macintosh")!==-1&&o.indexOf("Safari")!==-1&&(s=!0),s}}),nc=Mt((E,P)=>{var i=ua(),t=rc();P.exports=function(l){var n;if(l&&l.hasOwnProperty("userAgent")?n=l.userAgent:n=a(),typeof n!="string")return!0;var o=t({ua:{headers:{"user-agent":n}},tablet:!0,featureDetect:!1});if(!o)for(var s=n.split(" "),f=1;f<s.length;f++){var e=s[f];if(e.indexOf("Safari")!==-1)for(var p=f-1;p>-1;p--){var c=s[p];if(c.substr(0,8)==="Version/"){var h=c.substr(8).split(".")[0];if(i(h)&&(h=+h),h>=13)return!0}}}return o};function a(){var l;return typeof navigator<"u"&&(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),l}}),ic=Mt((E,P)=>{var i=Ke();P.exports=function(t,a,l){var n=t.selectAll("g."+l.replace(/\s/g,".")).data(a,function(s){return s[0].trace.uid});n.exit().remove(),n.enter().append("g").attr("class",l),n.order();var o=t.classed("rangeplot")?"nodeRangePlot3":"node3";return n.each(function(s){s[0][o]=i.select(this)}),n}}),oc=Mt((E,P)=>{var i=da();P.exports=function(t,a){for(var l=t._context.locale,n=0;n<2;n++){for(var o=t._context.locales,s=0;s<2;s++){var f=(o[l]||{}).dictionary;if(f){var e=f[a];if(e)return e}o=i.localeRegistry}var p=l.split("-")[0];if(p===l)break;l=p}return a}}),lc=Mt((E,P)=>{P.exports=function(i){for(var t={},a=[],l=0,n=0;n<i.length;n++){var o=i[n];t[o]!==1&&(t[o]=1,a[l++]=o)}return a}}),sc=Mt((E,P)=>{P.exports=function(l){for(var n=a(l)?t:i,o=[],s=0;s<l.length;s++){var f=l[s];n(f)&&o.push(f)}return o};function i(l){return l.visible===!0}function t(l){var n=l[0].trace;return n.visible===!0&&n._length!==0}function a(l){return Array.isArray(l)&&Array.isArray(l[0])&&l[0][0]&&l[0][0].trace}}),uc=Mt((E,P)=>{P.exports=function(i,t){if(!t)return i;var a=1/Math.abs(t),l=a>1?(a*i+a*t)/a:i+t,n=String(l).length;if(n>16){var o=String(t).length,s=String(i).length;if(n>=s+o){var f=parseFloat(l).toPrecision(12);f.indexOf("e+")===-1&&(l=+f)}}return l}}),cc=Mt((E,P)=>{var i=ua(),t=Fa().BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;P.exports=function(l){return typeof l=="string"&&(l=l.replace(a,"")),i(l)?Number(l):t}}),Oe=Mt((E,P)=>{var i=Ke(),t=Oa().utcFormat,a=Qa().format,l=ua(),n=Fa(),o=n.FP_SAFE,s=-o,f=n.BADNUM,e=P.exports={};e.adjustFormat=function(I){return!I||/^\d[.]\df/.test(I)||/[.]\d%/.test(I)?I:I==="0.f"?"~f":/^\d%/.test(I)?"~%":/^\ds/.test(I)?"~s":!/^[~,.0$]/.test(I)&&/[&fps]/.test(I)?"~"+I:I};var p={};e.warnBadFormat=function(I){var M=String(I);p[M]||(p[M]=1,e.warn('encountered bad format: "'+M+'"'))},e.noFormat=function(I){return String(I)},e.numberFormat=function(I){var M;try{M=a(e.adjustFormat(I))}catch{return e.warnBadFormat(I),e.noFormat}return M},e.nestedProperty=fn(),e.keyedContainer=Za(),e.relativeAttr=tn(),e.isPlainObject=_r(),e.toLogRange=xn(),e.relinkPrivateKeys=ai();var c=lr();e.isArrayBuffer=c.isArrayBuffer,e.isTypedArray=c.isTypedArray,e.isArrayOrTypedArray=c.isArrayOrTypedArray,e.isArray1D=c.isArray1D,e.ensureArray=c.ensureArray,e.concat=c.concat,e.maxRowLength=c.maxRowLength,e.minRowLength=c.minRowLength;var h=en();e.mod=h.mod,e.modHalf=h.modHalf;var _=xu();e.valObjectMeta=_.valObjectMeta,e.coerce=_.coerce,e.coerce2=_.coerce2,e.coerceFont=_.coerceFont,e.coercePattern=_.coercePattern,e.coerceHoverinfo=_.coerceHoverinfo,e.coerceSelectionMarkerOpacity=_.coerceSelectionMarkerOpacity,e.validate=_.validate;var y=$u();e.dateTime2ms=y.dateTime2ms,e.isDateTime=y.isDateTime,e.ms2DateTime=y.ms2DateTime,e.ms2DateTimeLocal=y.ms2DateTimeLocal,e.cleanDate=y.cleanDate,e.isJSDate=y.isJSDate,e.formatDate=y.formatDate,e.incrementMonth=y.incrementMonth,e.dateTick0=y.dateTick0,e.dfltRange=y.dfltRange,e.findExactDates=y.findExactDates,e.MIN_MS=y.MIN_MS,e.MAX_MS=y.MAX_MS;var v=Qo();e.findBin=v.findBin,e.sorterAsc=v.sorterAsc,e.sorterDes=v.sorterDes,e.distinctVals=v.distinctVals,e.roundUp=v.roundUp,e.sort=v.sort,e.findIndexOfMin=v.findIndexOfMin,e.sortObjectKeys=Ko();var g=Qu();e.aggNums=g.aggNums,e.len=g.len,e.mean=g.mean,e.geometricMean=g.geometricMean,e.median=g.median,e.midRange=g.midRange,e.variance=g.variance,e.stdev=g.stdev,e.interp=g.interp;var x=Hi();e.init2dArray=x.init2dArray,e.transposeRagged=x.transposeRagged,e.dot=x.dot,e.translationMatrix=x.translationMatrix,e.rotationMatrix=x.rotationMatrix,e.rotationXYMatrix=x.rotationXYMatrix,e.apply3DTransform=x.apply3DTransform,e.apply2DTransform=x.apply2DTransform,e.apply2DTransform2=x.apply2DTransform2,e.convertCssMatrix=x.convertCssMatrix,e.inverseTransformMatrix=x.inverseTransformMatrix;var u=Ku();e.deg2rad=u.deg2rad,e.rad2deg=u.rad2deg,e.angleDelta=u.angleDelta,e.angleDist=u.angleDist,e.isFullCircle=u.isFullCircle,e.isAngleInsideSector=u.isAngleInsideSector,e.isPtInsideSector=u.isPtInsideSector,e.pathArc=u.pathArc,e.pathSector=u.pathSector,e.pathAnnulus=u.pathAnnulus;var d=tc();e.isLeftAnchor=d.isLeftAnchor,e.isCenterAnchor=d.isCenterAnchor,e.isRightAnchor=d.isRightAnchor,e.isTopAnchor=d.isTopAnchor,e.isMiddleAnchor=d.isMiddleAnchor,e.isBottomAnchor=d.isBottomAnchor;var m=ec();e.segmentsIntersect=m.segmentsIntersect,e.segmentDistance=m.segmentDistance,e.getTextLocation=m.getTextLocation,e.clearLocationCache=m.clearLocationCache,e.getVisibleSegment=m.getVisibleSegment,e.findPointOnPath=m.findPointOnPath;var w=yr();e.extendFlat=w.extendFlat,e.extendDeep=w.extendDeep,e.extendDeepAll=w.extendDeepAll,e.extendDeepNoArrays=w.extendDeepNoArrays;var k=In();e.log=k.log,e.warn=k.warn,e.error=k.error;var U=Vn();e.counterRegex=U.counter;var D=qi();e.throttle=D.throttle,e.throttleDone=D.done,e.clearThrottle=D.clear;var C=ni();e.getGraphDiv=C.getGraphDiv,e.isPlotDiv=C.isPlotDiv,e.removeElement=C.removeElement,e.addStyleRule=C.addStyleRule,e.addRelatedStyleRule=C.addRelatedStyleRule,e.deleteRelatedStyleRule=C.deleteRelatedStyleRule,e.setStyleOnHover=C.setStyleOnHover,e.getFullTransformMatrix=C.getFullTransformMatrix,e.getElementTransformMatrix=C.getElementTransformMatrix,e.getElementAndAncestors=C.getElementAndAncestors,e.equalDomRects=C.equalDomRects,e.clearResponsive=ac(),e.preserveDrawingBuffer=nc(),e.makeTraceGroups=ic(),e._=oc(),e.notifier=Zo(),e.filterUnique=lc(),e.filterVisible=sc(),e.pushUnique=Go(),e.increment=uc(),e.cleanNumber=cc(),e.ensureNumber=function(I){return l(I)?(I=Number(I),I>o||I<s?f:I):f},e.isIndex=function(I,M){return M!==void 0&&I>=M?!1:l(I)&&I>=0&&I%1===0},e.noop=ji(),e.identity=$o(),e.repeat=function(I,M){for(var S=new Array(M),N=0;N<M;N++)S[N]=I;return S},e.swapAttrs=function(I,M,S,N){S||(S="x"),N||(N="y");for(var V=0;V<M.length;V++){var nt=M[V],ut=e.nestedProperty(I,nt.replace("?",S)),ct=e.nestedProperty(I,nt.replace("?",N)),bt=ut.get();ut.set(ct.get()),ct.set(bt)}},e.raiseToTop=function(I){I.parentNode.appendChild(I)},e.cancelTransition=function(I){return I.transition().duration(0)},e.constrain=function(I,M,S){return M>S?Math.max(S,Math.min(M,I)):Math.max(M,Math.min(S,I))},e.bBoxIntersect=function(I,M,S){return S=S||0,I.left<=M.right+S&&M.left<=I.right+S&&I.top<=M.bottom+S&&M.top<=I.bottom+S},e.simpleMap=function(I,M,S,N,V){for(var nt=I.length,ut=new Array(nt),ct=0;ct<nt;ct++)ut[ct]=M(I[ct],S,N,V);return ut},e.randstr=function I(M,S,N,V){if(N||(N=16),S===void 0&&(S=24),S<=0)return"0";var nt=Math.log(Math.pow(2,S))/Math.log(N),ut="",ct,bt,kt;for(ct=2;nt===1/0;ct*=2)nt=Math.log(Math.pow(2,S/ct))/Math.log(N)*ct;var Et=nt-Math.floor(nt);for(ct=0;ct<Math.floor(nt);ct++)kt=Math.floor(Math.random()*N).toString(N),ut=kt+ut;Et&&(bt=Math.pow(N,Et),kt=Math.floor(Math.random()*bt).toString(N),ut=kt+ut);var Gt=parseInt(ut,N);return M&&M[ut]||Gt!==1/0&&Gt>=Math.pow(2,S)?V>10?(e.warn("randstr failed uniqueness"),ut):I(M,S,N,(V||0)+1):ut},e.OptionControl=function(I,M){I||(I={}),M||(M="opt");var S={};return S.optionList=[],S._newoption=function(N){N[M]=I,S[N.name]=N,S.optionList.push(N)},S["_"+M]=I,S},e.smooth=function(I,M){if(M=Math.round(M)||0,M<2)return I;var S=I.length,N=2*S,V=2*M-1,nt=new Array(V),ut=new Array(S),ct,bt,kt,Et;for(ct=0;ct<V;ct++)nt[ct]=(1-Math.cos(Math.PI*(ct+1)/M))/(2*M);for(ct=0;ct<S;ct++){for(Et=0,bt=0;bt<V;bt++)kt=ct+bt+1-M,kt<-S?kt-=N*Math.round(kt/N):kt>=N&&(kt-=N*Math.floor(kt/N)),kt<0?kt=-1-kt:kt>=S&&(kt=N-1-kt),Et+=I[kt]*nt[bt];ut[ct]=Et}return ut},e.syncOrAsync=function(I,M,S){var N,V;function nt(){return e.syncOrAsync(I,M,S)}for(;I.length;)if(V=I.splice(0,1)[0],N=V(M),N&&N.then)return N.then(nt);return S&&S(M)},e.stripTrailingSlash=function(I){return I.substr(-1)==="/"?I.substr(0,I.length-1):I},e.noneOrAll=function(I,M,S){if(I){var N=!1,V=!0,nt,ut;for(nt=0;nt<S.length;nt++)ut=I[S[nt]],ut!=null?N=!0:V=!1;if(N&&!V)for(nt=0;nt<S.length;nt++)I[S[nt]]=M[S[nt]]}},e.mergeArray=function(I,M,S,N){var V=typeof N=="function";if(e.isArrayOrTypedArray(I))for(var nt=Math.min(I.length,M.length),ut=0;ut<nt;ut++){var ct=I[ut];M[ut][S]=V?N(ct):ct}},e.mergeArrayCastPositive=function(I,M,S){return e.mergeArray(I,M,S,function(N){var V=+N;return isFinite(V)&&V>0?V:0})},e.fillArray=function(I,M,S,N){if(N=N||e.identity,e.isArrayOrTypedArray(I))for(var V=0;V<M.length;V++)M[V][S]=N(I[V])},e.castOption=function(I,M,S,N){N=N||e.identity;var V=e.nestedProperty(I,S).get();return e.isArrayOrTypedArray(V)?Array.isArray(M)&&e.isArrayOrTypedArray(V[M[0]])?N(V[M[0]][M[1]]):N(V[M]):V},e.extractOption=function(I,M,S,N){if(S in I)return I[S];var V=e.nestedProperty(M,N).get();if(!Array.isArray(V))return V};function T(I){var M={};for(var S in I)for(var N=I[S],V=0;V<N.length;V++)M[N[V]]=+S;return M}e.tagSelected=function(I,M,S){var N=M.selectedpoints,V=M._indexToPoints,nt;V&&(nt=T(V));function ut(Gt){return Gt!==void 0&&Gt<I.length}for(var ct=0;ct<N.length;ct++){var bt=N[ct];if(e.isIndex(bt)||e.isArrayOrTypedArray(bt)&&e.isIndex(bt[0])&&e.isIndex(bt[1])){var kt=nt?nt[bt]:bt,Et=S?S[kt]:kt;ut(Et)&&(I[Et].selected=1)}}},e.selIndices2selPoints=function(I){var M=I.selectedpoints,S=I._indexToPoints;if(S){for(var N=T(S),V=[],nt=0;nt<M.length;nt++){var ut=M[nt];if(e.isIndex(ut)){var ct=N[ut];e.isIndex(ct)&&V.push(ct)}}return V}else return M},e.getTargetArray=function(I,M){var S=M.target;if(typeof S=="string"&&S){var N=e.nestedProperty(I,S).get();return e.isArrayOrTypedArray(N)?N:!1}else if(e.isArrayOrTypedArray(S))return S;return!1};function Y(I,M,S){var N={};typeof M!="object"&&(M={});var V=S==="pieLike"?-1:3,nt=Object.keys(I),ut,ct,bt;for(ut=0;ut<nt.length;ut++)ct=nt[ut],bt=I[ct],!(ct.charAt(0)==="_"||typeof bt=="function")&&(ct==="module"?N[ct]=bt:Array.isArray(bt)?ct==="colorscale"||V===-1?N[ct]=bt.slice():N[ct]=bt.slice(0,V):e.isTypedArray(bt)?V===-1?N[ct]=bt.subarray():N[ct]=bt.subarray(0,V):bt&&typeof bt=="object"?N[ct]=Y(I[ct],M[ct],S):N[ct]=bt);for(nt=Object.keys(M),ut=0;ut<nt.length;ut++)ct=nt[ut],bt=M[ct],(typeof bt!="object"||!(ct in N)||typeof N[ct]!="object")&&(N[ct]=bt);return N}e.minExtend=Y,e.titleCase=function(I){return I.charAt(0).toUpperCase()+I.substr(1)},e.containsAny=function(I,M){for(var S=0;S<M.length;S++)if(I.indexOf(M[S])!==-1)return!0;return!1};var z=/Version\/[\d\.]+.*Safari/;e.isSafari=function(){return z.test(window.navigator.userAgent)};var j=/iPad|iPhone|iPod/;e.isIOS=function(){return j.test(window.navigator.userAgent)};var F=/Macintosh.+AppleWebKit.+Gecko\)$/;e.isMacWKWebView=()=>F.test(window.navigator.userAgent);var R=/Firefox\/(\d+)\.\d+/;e.getFirefoxVersion=function(){var I=R.exec(window.navigator.userAgent);if(I&&I.length===2){var M=parseInt(I[1]);if(!isNaN(M))return M}return null},e.isD3Selection=function(I){return I instanceof i.selection},e.ensureSingle=function(I,M,S,N){var V=I.select(M+(S?"."+S:""));if(V.size())return V;var nt=I.append(M);return S&&nt.classed(S,!0),N&&nt.call(N),nt},e.ensureSingleById=function(I,M,S,N){var V=I.select(M+"#"+S);if(V.size())return V;var nt=I.append(M).attr("id",S);return N&&nt.call(N),nt},e.objectFromPath=function(I,M){for(var S=I.split("."),N,V=N={},nt=0;nt<S.length;nt++){var ut=S[nt],ct=null,bt=S[nt].match(/(.*)\[([0-9]+)\]/);bt?(ut=bt[1],ct=bt[2],N=N[ut]=[],nt===S.length-1?N[ct]=M:N[ct]={},N=N[ct]):(nt===S.length-1?N[ut]=M:N[ut]={},N=N[ut])}return V};var Z=/^([^\[\.]+)\.(.+)?/,G=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function O(I){return I.slice(0,2)==="__"}e.expandObjectPaths=function(I){var M,S,N,V,nt,ut,ct;if(typeof I=="object"&&!Array.isArray(I)){for(S in I)if(I.hasOwnProperty(S))if(M=S.match(Z)){if(V=I[S],N=M[1],O(N))continue;delete I[S],I[N]=e.extendDeepNoArrays(I[N]||{},e.objectFromPath(S,e.expandObjectPaths(V))[N])}else if(M=S.match(G)){if(V=I[S],N=M[1],O(N))continue;if(nt=parseInt(M[2]),delete I[S],I[N]=I[N]||[],M[3]===".")ct=M[4],ut=I[N][nt]=I[N][nt]||{},e.extendDeepNoArrays(ut,e.objectFromPath(ct,e.expandObjectPaths(V)));else{if(O(N))continue;I[N][nt]=e.expandObjectPaths(V)}}else{if(O(S))continue;I[S]=e.expandObjectPaths(I[S])}}return I},e.numSeparate=function(I,M,S){if(S||(S=!1),typeof M!="string"||M.length===0)throw new Error("Separator string required for formatting!");typeof I=="number"&&(I=String(I));var N=/(\d+)(\d{3})/,V=M.charAt(0),nt=M.charAt(1),ut=I.split("."),ct=ut[0],bt=ut.length>1?V+ut[1]:"";if(nt&&(ut.length>1||ct.length>4||S))for(;N.test(ct);)ct=ct.replace(N,"$1"+nt+"$2");return ct+bt},e.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var J=/^\w*$/;e.templateString=function(I,M){var S={};return I.replace(e.TEMPLATE_STRING_REGEX,function(N,V){var nt;return J.test(V)?nt=M[V]:(S[V]=S[V]||e.nestedProperty(M,V).get,nt=S[V](!0)),nt!==void 0?nt:""})};var X={max:10,count:0,name:"hovertemplate"};e.hovertemplateString=function(){return yt.apply(X,arguments)};var it={max:10,count:0,name:"texttemplate"};e.texttemplateString=function(){return yt.apply(it,arguments)};var at=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function ot(I){var M=I.match(at);return M?{key:M[1],op:M[2],number:Number(M[3])}:{key:I,op:null,number:null}}var ht={max:10,count:0,name:"texttemplate",parseMultDiv:!0};e.texttemplateStringForShapes=function(){return yt.apply(ht,arguments)};var pt=/^[:|\|]/;function yt(I,M,S){var N=this,V=arguments;return M||(M={}),I.replace(e.TEMPLATE_STRING_REGEX,function(nt,ut,ct){var bt=ut==="xother"||ut==="yother",kt=ut==="_xother"||ut==="_yother",Et=ut==="_xother_"||ut==="_yother_",Gt=ut==="xother_"||ut==="yother_",Vt=bt||kt||Gt||Et,Ht=ut;(kt||Et)&&(Ht=Ht.substring(1)),(Gt||Et)&&(Ht=Ht.substring(0,Ht.length-1));var vt=null,xt=null;if(N.parseMultDiv){var lt=ot(Ht);Ht=lt.key,vt=lt.op,xt=lt.number}var At;if(Vt){if(At=M[Ht],At===void 0)return""}else{var Rt,Ut;for(Ut=3;Ut<V.length;Ut++)if(Rt=V[Ut],!!Rt){if(Rt.hasOwnProperty(Ht)){At=Rt[Ht];break}if(J.test(Ht)||(At=e.nestedProperty(Rt,Ht).get(!0)),At!==void 0)break}}if(At!==void 0&&(vt==="*"&&(At*=xt),vt==="/"&&(At/=xt)),At===void 0&&N)return N.count<N.max&&(e.warn("Variable '"+Ht+"' in "+N.name+" could not be found!"),At=nt),N.count===N.max&&e.warn("Too many "+N.name+" warnings - additional warnings will be suppressed"),N.count++,nt;if(ct){var te;if(ct[0]===":"&&(te=S?S.numberFormat:e.numberFormat,At!==""&&(At=te(ct.replace(pt,""))(At))),ct[0]==="|"){te=S?S.timeFormat:t;var Wt=e.dateTime2ms(At);At=e.formatDate(Wt,ct.replace(pt,""),!1,te)}}else{var ae=Ht+"Label";M.hasOwnProperty(ae)&&(At=M[ae])}return Vt&&(At="("+At+")",(kt||Et)&&(At=" "+At),(Gt||Et)&&(At=At+" ")),At})}var H=48,q=57;e.subplotSort=function(I,M){for(var S=Math.min(I.length,M.length)+1,N=0,V=0,nt=0;nt<S;nt++){var ut=I.charCodeAt(nt)||0,ct=M.charCodeAt(nt)||0,bt=ut>=H&&ut<=q,kt=ct>=H&&ct<=q;if(bt&&(N=10*N+ut-H),kt&&(V=10*V+ct-H),!bt||!kt){if(N!==V)return N-V;if(ut!==ct)return ut-ct}}return V-N};var A=2e9;e.seedPseudoRandom=function(){A=2e9},e.pseudoRandom=function(){var I=A;return A=(69069*A+1)%4294967296,Math.abs(A-I)<429496729?e.pseudoRandom():A/4294967296},e.fillText=function(I,M,S){var N=Array.isArray(S)?function(ut){S.push(ut)}:function(ut){S.text=ut},V=e.extractOption(I,M,"htx","hovertext");if(e.isValidTextValue(V))return N(V);var nt=e.extractOption(I,M,"tx","text");if(e.isValidTextValue(nt))return N(nt)},e.isValidTextValue=function(I){return I||I===0},e.formatPercent=function(I,M){M=M||0;for(var S=(Math.round(100*I*Math.pow(10,M))*Math.pow(.1,M)).toFixed(M)+"%",N=0;N<M;N++)S.indexOf(".")!==-1&&(S=S.replace("0%","%"),S=S.replace(".%","%"));return S},e.isHidden=function(I){var M=window.getComputedStyle(I).display;return!M||M==="none"},e.strTranslate=function(I,M){return I||M?"translate("+I+","+M+")":""},e.strRotate=function(I){return I?"rotate("+I+")":""},e.strScale=function(I){return I!==1?"scale("+I+")":""},e.getTextTransform=function(I){var M=I.noCenter,S=I.textX,N=I.textY,V=I.targetX,nt=I.targetY,ut=I.anchorX||0,ct=I.anchorY||0,bt=I.rotate,kt=I.scale;return kt?kt>1&&(kt=1):kt=0,e.strTranslate(V-kt*(S+ut),nt-kt*(N+ct))+e.strScale(kt)+(bt?"rotate("+bt+(M?"":" "+S+" "+N)+")":"")},e.setTransormAndDisplay=function(I,M){I.attr("transform",e.getTextTransform(M)),I.style("display",M.scale?null:"none")},e.ensureUniformFontSize=function(I,M){var S=e.extendFlat({},M);return S.size=Math.max(M.size,I._fullLayout.uniformtext.minsize||0),S},e.join2=function(I,M,S){var N=I.length;return N>1?I.slice(0,-1).join(M)+S+I[N-1]:I.join(M)},e.bigFont=function(I){return Math.round(1.2*I)};var W=e.getFirefoxVersion(),rt=W!==null&&W<86;e.getPositionFromD3Event=function(){return rt?[i.event.layerX,i.event.layerY]:[i.event.offsetX,i.event.offsetY]}}),fc=Mt(()=>{var E=Oe(),P={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X:focus-within .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group a":"display:grid;place-content:center;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;border:none;background:rgba(0,0,0,0);","X .modebar-btn svg":"position:relative;","X .modebar-btn:focus-visible":"outline:1px solid #000;outline-offset:1px;border-radius:3px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(t in P)i=t.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),E.addStyleRule(i,P[t]);var i,t}),tl=Mt((E,P)=>{P.exports=!0}),el=Mt((E,P)=>{var i=tl(),t;typeof window.matchMedia=="function"?t=!window.matchMedia("(hover: none)").matches:t=i,P.exports=t}),Ui=Mt((E,P)=>{var i=typeof Reflect=="object"?Reflect:null,t=i&&typeof i.apply=="function"?i.apply:function(w,k,U){return Function.prototype.apply.call(w,k,U)},a;i&&typeof i.ownKeys=="function"?a=i.ownKeys:Object.getOwnPropertySymbols?a=function(w){return Object.getOwnPropertyNames(w).concat(Object.getOwnPropertySymbols(w))}:a=function(w){return Object.getOwnPropertyNames(w)};function l(w){console&&console.warn&&console.warn(w)}var n=Number.isNaN||function(w){return w!==w};function o(){o.init.call(this)}P.exports=o,P.exports.once=u,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function f(w){if(typeof w!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof w)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(w){if(typeof w!="number"||w<0||n(w))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+w+".");s=w}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(w){if(typeof w!="number"||w<0||n(w))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+w+".");return this._maxListeners=w,this};function e(w){return w._maxListeners===void 0?o.defaultMaxListeners:w._maxListeners}o.prototype.getMaxListeners=function(){return e(this)},o.prototype.emit=function(w){for(var k=[],U=1;U<arguments.length;U++)k.push(arguments[U]);var D=w==="error",C=this._events;if(C!==void 0)D=D&&C.error===void 0;else if(!D)return!1;if(D){var T;if(k.length>0&&(T=k[0]),T instanceof Error)throw T;var Y=new Error("Unhandled error."+(T?" ("+T.message+")":""));throw Y.context=T,Y}var z=C[w];if(z===void 0)return!1;if(typeof z=="function")t(z,this,k);else for(var j=z.length,F=v(z,j),U=0;U<j;++U)t(F[U],this,k);return!0};function p(w,k,U,D){var C,T,Y;if(f(U),T=w._events,T===void 0?(T=w._events=Object.create(null),w._eventsCount=0):(T.newListener!==void 0&&(w.emit("newListener",k,U.listener?U.listener:U),T=w._events),Y=T[k]),Y===void 0)Y=T[k]=U,++w._eventsCount;else if(typeof Y=="function"?Y=T[k]=D?[U,Y]:[Y,U]:D?Y.unshift(U):Y.push(U),C=e(w),C>0&&Y.length>C&&!Y.warned){Y.warned=!0;var z=new Error("Possible EventEmitter memory leak detected. "+Y.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");z.name="MaxListenersExceededWarning",z.emitter=w,z.type=k,z.count=Y.length,l(z)}return w}o.prototype.addListener=function(w,k){return p(this,w,k,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(w,k){return p(this,w,k,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(w,k,U){var D={fired:!1,wrapFn:void 0,target:w,type:k,listener:U},C=c.bind(D);return C.listener=U,D.wrapFn=C,C}o.prototype.once=function(w,k){return f(k),this.on(w,h(this,w,k)),this},o.prototype.prependOnceListener=function(w,k){return f(k),this.prependListener(w,h(this,w,k)),this},o.prototype.removeListener=function(w,k){var U,D,C,T,Y;if(f(k),D=this._events,D===void 0)return this;if(U=D[w],U===void 0)return this;if(U===k||U.listener===k)--this._eventsCount===0?this._events=Object.create(null):(delete D[w],D.removeListener&&this.emit("removeListener",w,U.listener||k));else if(typeof U!="function"){for(C=-1,T=U.length-1;T>=0;T--)if(U[T]===k||U[T].listener===k){Y=U[T].listener,C=T;break}if(C<0)return this;C===0?U.shift():g(U,C),U.length===1&&(D[w]=U[0]),D.removeListener!==void 0&&this.emit("removeListener",w,Y||k)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(w){var k,U,D;if(U=this._events,U===void 0)return this;if(U.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):U[w]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete U[w]),this;if(arguments.length===0){var C=Object.keys(U),T;for(D=0;D<C.length;++D)T=C[D],T!=="removeListener"&&this.removeAllListeners(T);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(k=U[w],typeof k=="function")this.removeListener(w,k);else if(k!==void 0)for(D=k.length-1;D>=0;D--)this.removeListener(w,k[D]);return this};function _(w,k,U){var D=w._events;if(D===void 0)return[];var C=D[k];return C===void 0?[]:typeof C=="function"?U?[C.listener||C]:[C]:U?x(C):v(C,C.length)}o.prototype.listeners=function(w){return _(this,w,!0)},o.prototype.rawListeners=function(w){return _(this,w,!1)},o.listenerCount=function(w,k){return typeof w.listenerCount=="function"?w.listenerCount(k):y.call(w,k)},o.prototype.listenerCount=y;function y(w){var k=this._events;if(k!==void 0){var U=k[w];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]};function v(w,k){for(var U=new Array(k),D=0;D<k;++D)U[D]=w[D];return U}function g(w,k){for(;k+1<w.length;k++)w[k]=w[k+1];w.pop()}function x(w){for(var k=new Array(w.length),U=0;U<k.length;++U)k[U]=w[U].listener||w[U];return k}function u(w,k){return new Promise(function(U,D){function C(Y){w.removeListener(k,T),D(Y)}function T(){typeof w.removeListener=="function"&&w.removeListener("error",C),U([].slice.call(arguments))}m(w,k,T,{once:!0}),k!=="error"&&d(w,C,{once:!0})})}function d(w,k,U){typeof w.on=="function"&&m(w,"error",k,U)}function m(w,k,U,D){if(typeof w.on=="function")D.once?w.once(k,U):w.on(k,U);else if(typeof w.addEventListener=="function")w.addEventListener(k,function C(T){D.once&&w.removeEventListener(k,C),U(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof w)}}),oi=Mt((E,P)=>{var i=Ui().EventEmitter,t={init:function(a){if(a._ev instanceof i)return a;var l=new i,n=new i;return a._ev=l,a._internalEv=n,a.on=l.on.bind(l),a.once=l.once.bind(l),a.removeListener=l.removeListener.bind(l),a.removeAllListeners=l.removeAllListeners.bind(l),a._internalOn=n.on.bind(n),a._internalOnce=n.once.bind(n),a._removeInternalListener=n.removeListener.bind(n),a._removeAllInternalListeners=n.removeAllListeners.bind(n),a.emit=function(o,s){l.emit(o,s),n.emit(o,s)},typeof a.addEventListener=="function"&&a.addEventListener("wheel",()=>{},{passive:!0}),a},triggerHandler:function(a,l,n){var o,s=a._ev;if(!s)return;var f=s._events[l];if(!f)return;function e(c){if(c.listener){if(s.removeListener(l,c.listener),!c.fired)return c.fired=!0,c.listener.apply(s,[n])}else return c.apply(s,[n])}f=Array.isArray(f)?f:[f];var p;for(p=0;p<f.length-1;p++)e(f[p]);return o=e(f[p]),o},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};P.exports=t}),dc=Mt((E,P)=>{var i=Oe(),t=zn().dfltConfig;function a(n,o){for(var s=[],f,e=0;e<o.length;e++)f=o[e],f===n?s[e]=f:typeof f=="object"?s[e]=Array.isArray(f)?i.extendDeep([],f):i.extendDeepAll({},f):s[e]=f;return s}var l={};l.add=function(n,o,s,f,e){var p,c;if(n.undoQueue=n.undoQueue||{index:0,queue:[],sequence:!1},c=n.undoQueue.index,n.autoplay){n.undoQueue.inSequence||(n.autoplay=!1);return}!n.undoQueue.sequence||n.undoQueue.beginSequence?(p={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},n.undoQueue.queue.splice(c,n.undoQueue.queue.length-c,p),n.undoQueue.index+=1):p=n.undoQueue.queue[c-1],n.undoQueue.beginSequence=!1,p&&(p.undo.calls.unshift(o),p.undo.args.unshift(s),p.redo.calls.push(f),p.redo.args.push(e)),n.undoQueue.queue.length>t.queueLength&&(n.undoQueue.queue.shift(),n.undoQueue.index--)},l.startSequence=function(n){n.undoQueue=n.undoQueue||{index:0,queue:[],sequence:!1},n.undoQueue.sequence=!0,n.undoQueue.beginSequence=!0},l.stopSequence=function(n){n.undoQueue=n.undoQueue||{index:0,queue:[],sequence:!1},n.undoQueue.sequence=!1,n.undoQueue.beginSequence=!1},l.undo=function(n){var o,s;if(!(n.undoQueue===void 0||isNaN(n.undoQueue.index)||n.undoQueue.index<=0)){for(n.undoQueue.index--,o=n.undoQueue.queue[n.undoQueue.index],n.undoQueue.inSequence=!0,s=0;s<o.undo.calls.length;s++)l.plotDo(n,o.undo.calls[s],o.undo.args[s]);n.undoQueue.inSequence=!1,n.autoplay=!1}},l.redo=function(n){var o,s;if(!(n.undoQueue===void 0||isNaN(n.undoQueue.index)||n.undoQueue.index>=n.undoQueue.queue.length)){for(o=n.undoQueue.queue[n.undoQueue.index],n.undoQueue.inSequence=!0,s=0;s<o.redo.calls.length;s++)l.plotDo(n,o.redo.calls[s],o.redo.args[s]);n.undoQueue.inSequence=!1,n.autoplay=!1,n.undoQueue.index++}},l.plotDo=function(n,o,s){n.autoplay=!0,s=a(n,s),o.apply(null,s)},P.exports=l}),al=Mt((E,P)=>{P.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}}),Un=Mt(E=>{var P=da(),i=Oe(),t=an(),a=qn(),l=al(),n=ii(),o=zn().configAttributes,s=hn(),f=i.extendDeepAll,e=i.isPlainObject,p=i.isArrayOrTypedArray,c=i.nestedProperty,h=i.valObjectMeta,_="_isSubplotObj",y="_isLinkedToArray",v="_arrayAttrRegexps",g="_deprecated",x=[_,y,v,g];E.IS_SUBPLOT_OBJ=_,E.IS_LINKED_TO_ARRAY=y,E.DEPRECATED=g,E.UNDERSCORE_ATTRS=x,E.get=function(){var F={};return P.allTypes.forEach(function(R){F[R]=w(R)}),{defs:{valObjects:h,metaKeys:x.concat(["description","role","editType","impliedEdits"]),editType:{traces:s.traces,layout:s.layout},impliedEdits:{}},traces:F,layout:k(),frames:U(),animation:D(n),config:D(o)}},E.crawl=function(F,R,Z,G){var O=Z||0;G=G||"",Object.keys(F).forEach(function(J){var X=F[J];if(x.indexOf(J)===-1){var it=(G?G+".":"")+J;R(X,J,F,O,it),!E.isValObject(X)&&e(X)&&J!=="impliedEdits"&&E.crawl(X,R,O+1,it)}})},E.isValObject=function(F){return F&&F.valType!==void 0},E.findArrayAttributes=function(F){var R=[],Z=[],G=[],O,J;function X(at,ot,ht,pt){Z=Z.slice(0,pt).concat([ot]),G=G.slice(0,pt).concat([at&&at._isLinkedToArray]);var yt=at&&(at.valType==="data_array"||at.arrayOk===!0)&&!(Z[pt-1]==="colorbar"&&(ot==="ticktext"||ot==="tickvals"));yt&&it(O,0,"")}function it(at,ot,ht){var pt=at[Z[ot]],yt=ht+Z[ot];if(ot===Z.length-1)p(pt)&&R.push(J+yt);else if(G[ot]){if(Array.isArray(pt))for(var H=0;H<pt.length;H++)e(pt[H])&&it(pt[H],ot+1,yt+"["+H+"].")}else e(pt)&&it(pt,ot+1,yt+".")}return O=F,J="",E.crawl(t,X),F._module&&F._module.attributes&&E.crawl(F._module.attributes,X),R},E.getTraceValObject=function(F,R){var Z=R[0],G=1,O,J,X=F._module;if(X||(X=(P.modules[F.type||t.type.dflt]||{})._module),!X)return!1;if(O=X.attributes,J=O&&O[Z],!J){var it=X.basePlotModule;it&&it.attributes&&(J=it.attributes[Z])}return J||(J=t[Z]),d(J,R,G)},E.getLayoutValObject=function(F,R){var Z=u(F,R[0]);return d(Z,R,1)};function u(F,R){var Z,G,O,J,X=F._basePlotModules;if(X){var it;for(Z=0;Z<X.length;Z++){if(O=X[Z],O.attrRegex&&O.attrRegex.test(R)){if(O.layoutAttrOverrides)return O.layoutAttrOverrides;!it&&O.layoutAttributes&&(it=O.layoutAttributes)}var at=O.baseLayoutAttrOverrides;if(at&&R in at)return at[R]}if(it)return it}var ot=F._modules;if(ot){for(Z=0;Z<ot.length;Z++)if(J=ot[Z].layoutAttributes,J&&R in J)return J[R]}for(G in P.componentsRegistry){if(O=P.componentsRegistry[G],O.name==="colorscale"&&R.indexOf("coloraxis")===0)return O.layoutAttributes[R];if(!O.schema&&R===O.name)return O.layoutAttributes}return R in a?a[R]:!1}function d(F,R,Z){if(!F)return!1;if(F._isLinkedToArray){if(m(R[Z]))Z++;else if(Z<R.length)return!1}for(;Z<R.length;Z++){var G=F[R[Z]];if(e(G))F=G;else break;if(Z===R.length-1)break;if(F._isLinkedToArray){if(Z++,!m(R[Z]))return!1}else if(F.valType==="info_array"){Z++;var O=R[Z];if(!m(O))return!1;var J=F.items;if(Array.isArray(J)){if(O>=J.length)return!1;if(F.dimensions===2){if(Z++,R.length===Z)return F;var X=R[Z];if(!m(X))return!1;F=J[O][X]}else F=J[O]}else F=J}}return F}function m(F){return F===Math.round(F)&&F>=0}function w(F){var R,Z;R=P.modules[F]._module,Z=R.basePlotModule;var G={};G.type=null;var O=f({},t),J=f({},R.attributes);E.crawl(J,function(at,ot,ht,pt,yt){c(O,yt).set(void 0),at===void 0&&c(J,yt).set(void 0)}),f(G,O),P.traceIs(F,"noOpacity")&&delete G.opacity,P.traceIs(F,"showLegend")||(delete G.showlegend,delete G.legendgroup),P.traceIs(F,"noHover")&&(delete G.hoverinfo,delete G.hoverlabel),R.selectPoints||delete G.selectedpoints,f(G,J),Z.attributes&&f(G,Z.attributes),G.type=F;var X={meta:R.meta||{},categories:R.categories||{},animatable:!!R.animatable,type:F,attributes:D(G)};if(R.layoutAttributes){var it={};f(it,R.layoutAttributes),X.layoutAttributes=D(it)}return R.animatable||E.crawl(X,function(at){E.isValObject(at)&&"anim"in at&&delete at.anim}),X}function k(){var F={},R,Z;f(F,a);for(R in P.subplotsRegistry)if(Z=P.subplotsRegistry[R],!!Z.layoutAttributes)if(Array.isArray(Z.attr))for(var G=0;G<Z.attr.length;G++)z(F,Z,Z.attr[G]);else{var O=Z.attr==="subplot"?Z.name:Z.attr;z(F,Z,O)}for(R in P.componentsRegistry){Z=P.componentsRegistry[R];var J=Z.schema;if(J&&(J.subplots||J.layout)){var X=J.subplots;if(X&&X.xaxis&&!X.yaxis)for(var it in X.xaxis)delete F.yaxis[it];delete F.xaxis.shift,delete F.xaxis.autoshift}else Z.name==="colorscale"?f(F,Z.layoutAttributes):Z.layoutAttributes&&j(F,Z.layoutAttributes,Z.name)}return{layoutAttributes:D(F)}}function U(){var F={frames:f({},l)};return D(F),F.frames}function D(F){return C(F),T(F),Y(F),F}function C(F){function R(G){return{valType:"string",editType:"none"}}function Z(G,O,J){E.isValObject(G)?(G.arrayOk===!0||G.valType==="data_array")&&(J[O+"src"]=R()):e(G)&&(G.role="object")}E.crawl(F,Z)}function T(F){function R(Z,G,O){if(Z){var J=Z[y];J&&(delete Z[y],O[G]={items:{}},O[G].items[J]=Z,O[G].role="object")}}E.crawl(F,R)}function Y(F){function R(Z){for(var G in Z)if(e(Z[G]))R(Z[G]);else if(Array.isArray(Z[G]))for(var O=0;O<Z[G].length;O++)R(Z[G][O]);else Z[G]instanceof RegExp&&(Z[G]=Z[G].toString())}R(F)}function z(F,R,Z){var G=c(F,Z),O=f({},R.layoutAttributes);O[_]=!0,G.set(O)}function j(F,R,Z){var G=c(F,Z);G.set(f(G.get()||{},R))}}),$a=Mt(E=>{var P=Oe(),i=an(),t="templateitemname",a={name:{valType:"string",editType:"none"}};a[t]={valType:"string",editType:"calc"},E.templatedArray=function(o,s){return s._isLinkedToArray=o,s.name=a.name,s[t]=a[t],s},E.traceTemplater=function(o){var s={},f,e;for(f in o)e=o[f],Array.isArray(e)&&e.length&&(s[f]=0);function p(c){f=P.coerce(c,{},i,"type");var h={type:f,_template:null};if(f in s){e=o[f];var _=s[f]%e.length;s[f]++,h._template=e[_]}return h}return{newTrace:p}},E.newContainer=function(o,s,f){var e=o._template,p=e&&(e[s]||f&&e[f]);P.isPlainObject(p)||(p=null);var c=o[s]={_template:p};return c},E.arrayTemplater=function(o,s,f){var e=o._template,p=e&&e[n(s)],c=e&&e[s];(!Array.isArray(c)||!c.length)&&(c=[]);var h={};function _(v){var g={name:v.name,_input:v},x=g[t]=v[t];if(!l(x))return g._template=p,g;for(var u=0;u<c.length;u++){var d=c[u];if(d.name===x)return h[x]=1,g._template=d,g}return g[f]=v[f]||!1,g._template=!1,g}function y(){for(var v=[],g=0;g<c.length;g++){var x=c[g],u=x.name;if(l(u)&&!h[u]){var d={_template:x,name:u,_input:{_templateitemname:u}};d[t]=x[t],v.push(d),h[u]=1}}return v}return{newItem:_,defaultItems:y}};function l(o){return o&&typeof o=="string"}function n(o){var s=o.length-1;return o.charAt(s)!=="s"&&P.warn("bad argument to arrayDefaultKey: "+o),o.substr(0,o.length-1)+"defaults"}E.arrayDefaultKey=n,E.arrayEditor=function(o,s,f){var e=(P.nestedProperty(o,s).get()||[]).length,p=f._index,c=p>=e&&(f._input||{})._templateitemname;c&&(p=e);var h=s+"["+p+"]",_;function y(){_={},c&&(_[h]={},_[h][t]=c)}y();function v(d,m){_[d]=m}function g(d,m){c?P.nestedProperty(_[h],d).set(m):_[h+"."+d]=m}function x(){var d=_;return y(),d}function u(d,m){d&&g(d,m);var w=x();for(var k in w)P.nestedProperty(o,k).set(w[k])}return{modifyBase:v,modifyItem:g,getUpdateObj:x,applyUpdate:u}}}),Sr=Mt((E,P)=>{var i=Vn().counter;P.exports={idRegex:{x:i("x","( domain)?"),y:i("y","( domain)?")},attrRegex:i("[xy]axis"),xAxisMatch:i("xaxis"),yAxisMatch:i("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}}),xr=Mt(E=>{var P=da(),i=Sr();E.id2name=function(a){if(!(typeof a!="string"||!a.match(i.AX_ID_PATTERN))){var l=a.split(" ")[0].substr(1);return l==="1"&&(l=""),a.charAt(0)+"axis"+l}},E.name2id=function(a){if(a.match(i.AX_NAME_PATTERN)){var l=a.substr(5);return l==="1"&&(l=""),a.charAt(0)+l}},E.cleanId=function(a,l,n){var o=/( domain)$/.test(a);if(!(typeof a!="string"||!a.match(i.AX_ID_PATTERN))&&!(l&&a.charAt(0)!==l)&&!(o&&!n)){var s=a.split(" ")[0].substr(1).replace(/^0+/,"");return s==="1"&&(s=""),a.charAt(0)+s+(o&&n?" domain":"")}},E.list=function(a,l,n){var o=a._fullLayout;if(!o)return[];var s=E.listIds(a,l),f=new Array(s.length),e;for(e=0;e<s.length;e++){var p=s[e];f[e]=o[p.charAt(0)+"axis"+p.substr(1)]}if(!n){var c=o._subplots.gl3d||[];for(e=0;e<c.length;e++){var h=o[c[e]];l?f.push(h[l+"axis"]):f.push(h.xaxis,h.yaxis,h.zaxis)}}return f},E.listIds=function(a,l){var n=a._fullLayout;if(!n)return[];var o=n._subplots;return l?o[l+"axis"]:o.xaxis.concat(o.yaxis)},E.getFromId=function(a,l,n){var o=a._fullLayout;return l=l===void 0||typeof l!="string"?l:l.replace(" domain",""),n==="x"?l=l.replace(/y[0-9]*/,""):n==="y"&&(l=l.replace(/x[0-9]*/,"")),o[E.id2name(l)]},E.getFromTrace=function(a,l,n){var o=a._fullLayout,s=null;if(P.traceIs(l,"gl3d")){var f=l.scene;f.substr(0,5)==="scene"&&(s=o[f][n+"axis"])}else s=E.getFromId(a,l[n+"axis"]||n);return s},E.idSort=function(a,l){var n=a.charAt(0),o=l.charAt(0);return n!==o?n>o?1:-1:+(a.substr(1)||1)-+(l.substr(1)||1)},E.ref2id=function(a){return/^[xyz]/.test(a)?a.split(" ")[0]:!1};function t(a,l){if(l&&l.length){for(var n=0;n<l.length;n++)if(l[n][a])return!0}return!1}E.isLinked=function(a,l){return t(l,a._axisMatchGroups)||t(l,a._axisConstraintGroups)}}),Tn=Mt((E,P)=>{function i(a){var l=a._fullLayout._zoomlayer;l&&l.selectAll(".outline-controllers").remove()}function t(a){var l=a._fullLayout._zoomlayer;l&&l.selectAll(".select-outline").remove(),a._fullLayout._outlining=!1}P.exports={clearOutlineControllers:i,clearOutline:t}}),Yi=Mt((E,P)=>{P.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}}),rl=Mt(E=>{var P=da();Sr().SUBPLOT_PATTERN,E.getSubplotCalcData=function(i,t,a){var l=P.subplotsRegistry[t];if(!l)return[];for(var n=l.attr,o=[],s=0;s<i.length;s++){var f=i[s],e=f[0].trace;e[n]===a&&o.push(f)}return o},E.getModuleCalcData=function(i,t,a){var l=[],n=[],o;if(typeof t=="string"?o=P.getModule(t).plot:typeof t=="function"?o=t:o=t.plot,!o)return[l,i];for(var s=a,f=0;f<i.length;f++){var e=i[f],p=e[0].trace,c=p.zorder!==void 0;p.visible!==!0||p._length===0||(p._module&&p._module.plot===o&&(!c||p.zorder===s)?l.push(e):n.push(e))}return[l,n]},E.getSubplotData=function(i,t,a){if(!P.subplotsRegistry[t])return[];for(var l=P.subplotsRegistry[t].attr,n=[],o,s,f,e=0;e<i.length;e++)o=i[e],o[l]===a&&n.push(o);return n}}),hc=Mt(E=>{var P=da(),i=Oe();E.manageCommandObserver=function(s,f,e,p){var c={},h=!0;f&&f._commandObserver&&(c=f._commandObserver),c.cache||(c.cache={}),c.lookupTable={};var _=E.hasSimpleAPICommandBindings(s,e,c.lookupTable);if(f&&f._commandObserver){if(_)return c;if(f._commandObserver.remove)return f._commandObserver.remove(),f._commandObserver=null,c}if(_){t(s,_,c.cache),c.check=function(){if(h){var g=t(s,_,c.cache);return g.changed&&p&&c.lookupTable[g.value]!==void 0&&(c.disable(),Promise.resolve(p({value:g.value,type:_.type,prop:_.prop,traces:_.traces,index:c.lookupTable[g.value]})).then(c.enable,c.enable)),g.changed}};for(var y=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],v=0;v<y.length;v++)s._internalOn(y[v],c.check);c.remove=function(){for(var g=0;g<y.length;g++)s._removeInternalListener(y[g],c.check)}}else i.log("Unable to automatically bind plot updates to API command"),c.lookupTable={},c.remove=function(){};return c.disable=function(){h=!1},c.enable=function(){h=!0},f&&(f._commandObserver=c),c},E.hasSimpleAPICommandBindings=function(s,f,e){var p,c=f.length,h;for(p=0;p<c;p++){var _,y=f[p],v=y.method,g=y.args;if(Array.isArray(g)||(g=[]),!v)return!1;var x=E.computeAPICommandBindings(s,v,g);if(x.length!==1)return!1;if(!h)h=x[0],Array.isArray(h.traces)&&h.traces.sort();else{if(_=x[0],_.type!==h.type||_.prop!==h.prop)return!1;if(Array.isArray(h.traces))if(Array.isArray(_.traces)){_.traces.sort();for(var u=0;u<h.traces.length;u++)if(h.traces[u]!==_.traces[u])return!1}else return!1;else if(_.prop!==h.prop)return!1}_=x[0];var d=_.value;if(Array.isArray(d))if(d.length===1)d=d[0];else return!1;e&&(e[d]=p)}return h};function t(s,f,e){var p,c,h,_=!1;if(f.type==="data")p=s._fullData[f.traces!==null?f.traces[0]:0];else if(f.type==="layout")p=s._fullLayout;else return!1;return c=i.nestedProperty(p,f.prop).get(),h=e[f.type]=e[f.type]||{},h.hasOwnProperty(f.prop)&&h[f.prop]!==c&&(_=!0),h[f.prop]=c,{changed:_,value:c}}E.executeAPICommand=function(s,f,e){if(f==="skip")return Promise.resolve();var p=P.apiMethodRegistry[f],c=[s];Array.isArray(e)||(e=[]);for(var h=0;h<e.length;h++)c.push(e[h]);return p.apply(null,c).catch(function(_){return i.warn("API call to Plotly."+f+" rejected.",_),Promise.reject(_)})},E.computeAPICommandBindings=function(s,f,e){var p;switch(Array.isArray(e)||(e=[]),f){case"restyle":p=n(s,e);break;case"relayout":p=l(s,e);break;case"update":p=n(s,[e[0],e[2]]).concat(l(s,[e[1]]));break;case"animate":p=a(s,e);break;default:p=[]}return p};function a(s,f){return Array.isArray(f[0])&&f[0].length===1&&["string","number"].indexOf(typeof f[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:f[0][0].toString()}]:[]}function l(s,f){var e=[],p=f[0],c={};if(typeof p=="string")c[p]=f[1];else if(i.isPlainObject(p))c=p;else return e;return o(c,function(h,_,y){e.push({type:"layout",prop:h,value:y})},"",0),e}function n(s,f){var e,p,c,h,_=[];if(p=f[0],c=f[1],e=f[2],h={},typeof p=="string")h[p]=c;else if(i.isPlainObject(p))h=p,e===void 0&&(e=c);else return _;return e===void 0&&(e=null),o(h,function(y,v,g){var x,u;if(Array.isArray(g)){u=g.slice();var d=Math.min(u.length,s.data.length);e&&(d=Math.min(d,e.length)),x=[];for(var m=0;m<d;m++)x[m]=e?e[m]:m}else u=g,x=e?e.slice():null;if(x===null)Array.isArray(u)&&(u=u[0]);else if(Array.isArray(x)){if(!Array.isArray(u)){var w=u;u=[];for(var k=0;k<x.length;k++)u[k]=w}u.length=Math.min(x.length,u.length)}_.push({type:"data",prop:y,traces:x,value:u})},"",0),_}function o(s,f,e,p){Object.keys(s).forEach(function(c){var h=s[c];if(c[0]!=="_"){var _=e+(p>0?".":"")+c;i.isPlainObject(h)?o(h,f,_,p+1):f(_,c,h)}})}}),hr=Mt((E,P)=>{var i=Ke(),t=Oa().timeFormatLocale,a=Qa().formatLocale,l=ua(),n=Ur(),o=da(),s=Un(),f=$a(),e=Oe(),p=Ta(),c=Fa().BADNUM,h=xr(),_=Tn().clearOutline,y=Yi(),v=ii(),g=al(),x=rl().getModuleCalcData,u=e.relinkPrivateKeys,d=e._,m=P.exports={};e.extendFlat(m,o),m.attributes=an(),m.attributes.type.values=m.allTypes,m.fontAttrs=Lr(),m.layoutAttributes=qn();var w=hc();m.executeAPICommand=w.executeAPICommand,m.computeAPICommandBindings=w.computeAPICommandBindings,m.manageCommandObserver=w.manageCommandObserver,m.hasSimpleAPICommandBindings=w.hasSimpleAPICommandBindings,m.redrawText=function(H){return H=e.getGraphDiv(H),new Promise(function(q){setTimeout(function(){H._fullLayout&&(o.getComponentMethod("annotations","draw")(H),o.getComponentMethod("legend","draw")(H),o.getComponentMethod("colorbar","draw")(H),q(m.previousPromises(H)))},300)})},m.resize=function(H){H=e.getGraphDiv(H);var q,A=new Promise(function(W,rt){(!H||e.isHidden(H))&&rt(new Error("Resize must be passed a displayed plot div element.")),H._redrawTimer&&clearTimeout(H._redrawTimer),H._resolveResize&&(q=H._resolveResize),H._resolveResize=W,H._redrawTimer=setTimeout(function(){if(!H.layout||H.layout.width&&H.layout.height||e.isHidden(H)){W(H);return}delete H.layout.width,delete H.layout.height;var I=H.changed;H.autoplay=!0,o.call("relayout",H,{autosize:!0}).then(function(){H.changed=I,H._resolveResize===W&&(delete H._resolveResize,W(H))})},100)});return q&&q(A),A},m.previousPromises=function(H){if((H._promises||[]).length)return Promise.all(H._promises).then(function(){H._promises=[]})},m.addLinks=function(H){if(!(!H._context.showLink&&!H._context.showSources)){var q=H._fullLayout,A=e.ensureSingle(q._paper,"text","js-plot-link-container",function(N){N.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:p.defaultLine,"pointer-events":"all"}).each(function(){var V=i.select(this);V.append("tspan").classed("js-link-to-tool",!0),V.append("tspan").classed("js-link-spacer",!0),V.append("tspan").classed("js-sourcelinks",!0)})}),W=A.node(),rt={y:q._paper.attr("height")-9};document.body.contains(W)&&W.getComputedTextLength()>=q.width-20?(rt["text-anchor"]="start",rt.x=5):(rt["text-anchor"]="end",rt.x=q._paper.attr("width")-7),A.attr(rt);var I=A.select(".js-link-to-tool"),M=A.select(".js-link-spacer"),S=A.select(".js-sourcelinks");H._context.showSources&&H._context.showSources(H),H._context.showLink&&k(H,I),M.text(I.text()&&S.text()?" - ":"")}};function k(H,q){q.text("");var A=q.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(H._context.linkText+" »");if(H._context.sendData)A.on("click",function(){m.sendDataToCloud(H)});else{var W=window.location.pathname.split("/"),rt=window.location.search;A.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+W[2].split(".")[0]+"/"+W[1]+rt})}}m.sendDataToCloud=function(H){var q=(window.PLOTLYENV||{}).BASE_URL||H._context.plotlyServerURL;if(q){H.emit("plotly_beforeexport");var A=i.select(H).append("div").attr("id","hiddenform").style("display","none"),W=A.append("form").attr({action:q+"/external",method:"post",target:"_blank"}),rt=W.append("input").attr({type:"text",name:"data"});return rt.node().value=m.graphJson(H,!1,"keepdata"),W.node().submit(),A.remove(),H.emit("plotly_afterexport"),!1}};var U=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],D=["year","month","dayMonth","dayMonthYear"];m.supplyDefaults=function(H,q){var A=q&&q.skipUpdateCalc,W=H._fullLayout||{};if(W._skipDefaults){delete W._skipDefaults;return}var rt=H._fullLayout={},I=H.layout||{},M=H._fullData||[],S=H._fullData=[],N=H.data||[],V=H.calcdata||[],nt=H._context||{},ut;H._transitionData||m.createTransitionData(H),rt._dfltTitle={plot:d(H,"Click to enter Plot title"),subtitle:d(H,"Click to enter Plot subtitle"),x:d(H,"Click to enter X axis title"),y:d(H,"Click to enter Y axis title"),colorbar:d(H,"Click to enter Colorscale title"),annotation:d(H,"new text")},rt._traceWord=d(H,"trace");var ct=Y(H,U);if(rt._mapboxAccessToken=nt.mapboxAccessToken,W._initialAutoSizeIsDone){var bt=W.width,kt=W.height;m.supplyLayoutGlobalDefaults(I,rt,ct),I.width||(rt.width=bt),I.height||(rt.height=kt),m.sanitizeMargins(rt)}else{m.supplyLayoutGlobalDefaults(I,rt,ct);var Et=!I.width||!I.height,Gt=rt.autosize,Vt=nt.autosizable,Ht=Et&&(Gt||Vt);Ht?m.plotAutoSize(H,I,rt):Et&&m.sanitizeMargins(rt),!Gt&&Et&&(I.width=rt.width,I.height=rt.height)}rt._d3locale=z(ct,rt.separators),rt._extraFormat=Y(H,D),rt._initialAutoSizeIsDone=!0,rt._dataLength=N.length,rt._modules=[],rt._visibleModules=[],rt._basePlotModules=[];var vt=rt._subplots=T(),xt=rt._splomAxes={x:{},y:{}},lt=rt._splomSubplots={};rt._splomGridDflt={},rt._scatterStackOpts={},rt._firstScatter={},rt._alignmentOpts={},rt._colorAxes={},rt._requestRangeslider={},rt._traceUids=C(M,N),m.supplyDataDefaults(N,S,I,rt);var At=Object.keys(xt.x),Rt=Object.keys(xt.y);if(At.length>1&&Rt.length>1){for(o.getComponentMethod("grid","sizeDefaults")(I,rt),ut=0;ut<At.length;ut++)e.pushUnique(vt.xaxis,At[ut]);for(ut=0;ut<Rt.length;ut++)e.pushUnique(vt.yaxis,Rt[ut]);for(var Ut in lt)e.pushUnique(vt.cartesian,Ut)}if(rt._has=m._hasPlotType.bind(rt),M.length===S.length)for(ut=0;ut<S.length;ut++)u(S[ut],M[ut]);m.supplyLayoutModuleDefaults(I,rt,S,H._transitionData);var te=rt._visibleModules,Wt=[];for(ut=0;ut<te.length;ut++){var ae=te[ut].crossTraceDefaults;ae&&e.pushUnique(Wt,ae)}for(ut=0;ut<Wt.length;ut++)Wt[ut](S,rt);rt._hasOnlyLargeSploms=rt._basePlotModules.length===1&&rt._basePlotModules[0].name==="splom"&&At.length>15&&Rt.length>15&&rt.shapes.length===0&&rt.images.length===0,m.linkSubplots(S,rt,M,W),m.cleanPlot(S,rt,M,W);var ne=!!(W._has&&W._has("cartesian")),re=!!(rt._has&&rt._has("cartesian")),de=ne,$t=re;de&&!$t?W._bgLayer.remove():$t&&!de&&(rt._shouldCreateBgLayer=!0),W._zoomlayer&&!H._dragging&&_({_fullLayout:W}),j(S,rt),u(rt,W),o.getComponentMethod("colorscale","crossTraceDefaults")(S,rt),rt._preGUI||(rt._preGUI={}),rt._tracePreGUI||(rt._tracePreGUI={});var ve=rt._tracePreGUI,xe={},pe;for(pe in ve)xe[pe]="old";for(ut=0;ut<S.length;ut++)pe=S[ut]._fullInput.uid,xe[pe]||(ve[pe]={}),xe[pe]="new";for(pe in xe)xe[pe]==="old"&&delete ve[pe];Z(rt),o.getComponentMethod("rangeslider","makeData")(rt),!A&&V.length===S.length&&m.supplyDefaultsUpdateCalc(V,S)},m.supplyDefaultsUpdateCalc=function(H,q){for(var A=0;A<q.length;A++){var W=q[A],rt=(H[A]||[])[0];if(rt&&rt.trace){var I=rt.trace;if(I._hasCalcTransform){var M=I._arrayAttrs,S,N,V;for(S=0;S<M.length;S++)N=M[S],V=e.nestedProperty(I,N).get().slice(),e.nestedProperty(W,N).set(V)}rt.trace=W}}};function C(H,q){var A=q.length,W=[],rt,I;for(rt=0;rt<H.length;rt++){var M=H[rt]._fullInput;M!==I&&W.push(M),I=M}var S=W.length,N=new Array(A),V={};function nt(bt,kt){N[kt]=bt,V[bt]=1}function ut(bt,kt){if(bt&&typeof bt=="string"&&!V[bt])return nt(bt,kt),!0}for(rt=0;rt<A;rt++){var ct=q[rt].uid;typeof ct=="number"&&(ct=String(ct)),!ut(ct,rt)&&(rt<S&&ut(W[rt].uid,rt)||nt(e.randstr(V),rt))}return N}function T(){var H=o.collectableSubplotTypes,q={},A,W;if(!H){H=[];var rt=o.subplotsRegistry;for(var I in rt){var M=rt[I],S=M.attr;if(S&&(H.push(I),Array.isArray(S)))for(W=0;W<S.length;W++)e.pushUnique(H,S[W])}}for(A=0;A<H.length;A++)q[H[A]]=[];return q}function Y(H,q){var A=H._context.locale;A||(A="en-US");var W=!1,rt={};function I(ut){for(var ct=!0,bt=0;bt<q.length;bt++){var kt=q[bt];rt[kt]||(ut[kt]?rt[kt]=ut[kt]:ct=!1)}ct&&(W=!0)}for(var M=0;M<2;M++){for(var S=H._context.locales,N=0;N<2;N++){var V=(S[A]||{}).format;if(V&&(I(V),W))break;S=o.localeRegistry}var nt=A.split("-")[0];if(W||nt===A)break;A=nt}return W||I(o.localeRegistry.en.format),rt}function z(H,q){return H.decimal=q.charAt(0),H.thousands=q.charAt(1),{numberFormat:function(A){try{A=a(H).format(e.adjustFormat(A))}catch{return e.warnBadFormat(A),e.noFormat}return A},timeFormat:t(H).utcFormat}}function j(H,q){var A,W=[];q.meta&&(A=q._meta={meta:q.meta,layout:{meta:q.meta}});for(var rt=0;rt<H.length;rt++){var I=H[rt];I.meta?W[I.index]=I._meta={meta:I.meta}:q.meta&&(I._meta={meta:q.meta}),q.meta&&(I._meta.layout={meta:q.meta})}W.length&&(A||(A=q._meta={}),A.data=W)}m.createTransitionData=function(H){H._transitionData||(H._transitionData={}),H._transitionData._frames||(H._transitionData._frames=[]),H._transitionData._frameHash||(H._transitionData._frameHash={}),H._transitionData._counter||(H._transitionData._counter=0),H._transitionData._interruptCallbacks||(H._transitionData._interruptCallbacks=[])},m._hasPlotType=function(H){var q,A=this._basePlotModules||[];for(q=0;q<A.length;q++)if(A[q].name===H)return!0;var W=this._modules||[];for(q=0;q<W.length;q++){var rt=W[q].name;if(rt===H)return!0;var I=o.modules[rt];if(I&&I.categories[H])return!0}return!1},m.cleanPlot=function(H,q,A,W){var rt,I,M=W._basePlotModules||[];for(rt=0;rt<M.length;rt++){var S=M[rt];S.clean&&S.clean(H,q,A,W)}var N=W._has&&W._has("gl"),V=q._has&&q._has("gl");N&&!V&&W._glcontainer!==void 0&&(W._glcontainer.selectAll(".gl-canvas").remove(),W._glcontainer.selectAll(".no-webgl").remove(),W._glcanvas=null);var nt=!!W._infolayer;t:for(rt=0;rt<A.length;rt++){var ut=A[rt],ct=ut.uid;for(I=0;I<H.length;I++){var bt=H[I];if(ct===bt.uid)continue t}nt&&W._infolayer.select(".cb"+ct).remove()}},m.linkSubplots=function(H,q,A,W){var rt,I,M=W._plots||{},S=q._plots={},N=q._subplots,V={_fullData:H,_fullLayout:q},nt=N.cartesian||[];for(rt=0;rt<nt.length;rt++){var ut=nt[rt],ct=M[ut],bt=h.getFromId(V,ut,"x"),kt=h.getFromId(V,ut,"y"),Et;for(ct?Et=S[ut]=ct:(Et=S[ut]={},Et.id=ut),bt._counterAxes.push(kt._id),kt._counterAxes.push(bt._id),bt._subplotsWith.push(ut),kt._subplotsWith.push(ut),Et.xaxis=bt,Et.yaxis=kt,Et._hasClipOnAxisFalse=!1,I=0;I<H.length;I++){var Gt=H[I];if(Gt.xaxis===Et.xaxis._id&&Gt.yaxis===Et.yaxis._id&&Gt.cliponaxis===!1){Et._hasClipOnAxisFalse=!0;break}}}var Vt=h.list(V,null,!0),Ht;for(rt=0;rt<Vt.length;rt++){Ht=Vt[rt];var vt=null;Ht.overlaying&&(vt=h.getFromId(V,Ht.overlaying),vt&&vt.overlaying&&(Ht.overlaying=!1,vt=null)),Ht._mainAxis=vt||Ht,vt&&(Ht.domain=vt.domain.slice()),Ht._anchorAxis=Ht.anchor==="free"?null:h.getFromId(V,Ht.anchor)}for(rt=0;rt<Vt.length;rt++)if(Ht=Vt[rt],Ht._counterAxes.sort(h.idSort),Ht._subplotsWith.sort(e.subplotSort),Ht._mainSubplot=F(Ht,q),Ht._counterAxes.length&&(Ht.spikemode&&Ht.spikemode.indexOf("across")!==-1||Ht.automargin&&Ht.mirror&&Ht.anchor!=="free"||o.getComponentMethod("rangeslider","isVisible")(Ht))){var xt=1,lt=0;for(I=0;I<Ht._counterAxes.length;I++){var At=h.getFromId(V,Ht._counterAxes[I]);xt=Math.min(xt,At.domain[0]),lt=Math.max(lt,At.domain[1])}xt<lt&&(Ht._counterDomainMin=xt,Ht._counterDomainMax=lt)}};function F(H,q){var A={_fullLayout:q},W=H._id.charAt(0)==="x",rt=H._mainAxis._anchorAxis,I="",M="",S="";if(rt&&(S=rt._mainAxis._id,I=W?H._id+S:S+H._id),!I||!q._plots[I]){I="";for(var N=H._counterAxes,V=0;V<N.length;V++){var nt=N[V],ut=W?H._id+nt:nt+H._id;M||(M=ut);var ct=h.getFromId(A,nt);if(S&&ct.overlaying===S){I=ut;break}}}return I||M}m.clearExpandedTraceDefaultColors=function(H){var q,A,W;function rt(M,S,N,V){A[V]=S,A.length=V+1,M.valType==="color"&&M.dflt===void 0&&q.push(A.join("."))}for(A=[],q=H._module._colorAttrs,q||(H._module._colorAttrs=q=[],s.crawl(H._module.attributes,rt)),W=0;W<q.length;W++){var I=e.nestedProperty(H,"_input."+q[W]);I.get()||e.nestedProperty(H,q[W]).set(null)}},m.supplyDataDefaults=function(H,q,A,W){var rt=W._modules,I=W._visibleModules,M=W._basePlotModules,S=0,N,V,nt;W._transformModules=[];function ut(Vt){q.push(Vt);var Ht=Vt._module;Ht&&(e.pushUnique(rt,Ht),Vt.visible===!0&&e.pushUnique(I,Ht),e.pushUnique(M,Vt._module.basePlotModule),Vt._input.visible!==!1&&S++)}var ct={},bt=[],kt=(A.template||{}).data||{},Et=f.traceTemplater(kt);for(N=0;N<H.length;N++)nt=H[N],V=Et.newTrace(nt),V.uid=W._traceUids[N],m.supplyTraceDefaults(nt,V,S,W,N),V.index=N,V._input=nt,V._fullInput=V,ut(V),o.traceIs(V,"carpetAxis")&&(ct[V.carpet]=V),o.traceIs(V,"carpetDependent")&&bt.push(N);for(N=0;N<bt.length;N++)if(V=q[bt[N]],!!V.visible){var Gt=ct[V.carpet];if(V._carpet=Gt,!Gt||!Gt.visible){V.visible=!1;continue}V.xaxis=Gt.xaxis,V.yaxis=Gt.yaxis}},m.supplyAnimationDefaults=function(H){H=H||{};var q,A={};function W(rt,I){return e.coerce(H||{},A,v,rt,I)}if(W("mode"),W("direction"),W("fromcurrent"),Array.isArray(H.frame))for(A.frame=[],q=0;q<H.frame.length;q++)A.frame[q]=m.supplyAnimationFrameDefaults(H.frame[q]||{});else A.frame=m.supplyAnimationFrameDefaults(H.frame||{});if(Array.isArray(H.transition))for(A.transition=[],q=0;q<H.transition.length;q++)A.transition[q]=m.supplyAnimationTransitionDefaults(H.transition[q]||{});else A.transition=m.supplyAnimationTransitionDefaults(H.transition||{});return A},m.supplyAnimationFrameDefaults=function(H){var q={};function A(W,rt){return e.coerce(H||{},q,v.frame,W,rt)}return A("duration"),A("redraw"),q},m.supplyAnimationTransitionDefaults=function(H){var q={};function A(W,rt){return e.coerce(H||{},q,v.transition,W,rt)}return A("duration"),A("easing"),q},m.supplyFrameDefaults=function(H){var q={};function A(W,rt){return e.coerce(H,q,g,W,rt)}return A("group"),A("name"),A("traces"),A("baseframe"),A("data"),A("layout"),q},m.supplyTraceDefaults=function(H,q,A,W,rt){var I=W.colorway||p.defaults,M=I[A%I.length],S;function N(vt,xt){return e.coerce(H,q,m.attributes,vt,xt)}var V=N("visible");N("type"),N("name",W._traceWord+" "+rt),N("uirevision",W.uirevision);var nt=m.getModule(q);if(q._module=nt,nt){var ut=nt.basePlotModule,ct=ut.attr,bt=ut.attributes;if(ct&&bt){var kt=W._subplots,Et="";if(Array.isArray(ct))for(S=0;S<ct.length;S++){var Gt=ct[S],Vt=e.coerce(H,q,bt,Gt);kt[Gt]&&e.pushUnique(kt[Gt],Vt),Et+=Vt}else Et=e.coerce(H,q,bt,ct);kt[ut.name]&&e.pushUnique(kt[ut.name],Et)}}if(V&&(N("customdata"),N("ids"),N("meta"),o.traceIs(q,"showLegend")?(e.coerce(H,q,nt.attributes.showlegend?nt.attributes:m.attributes,"showlegend"),N("legend"),N("legendwidth"),N("legendgroup"),N("legendgrouptitle.text"),N("legendrank"),q._dfltShowLegend=!0):q._dfltShowLegend=!1,nt&&nt.supplyDefaults(H,q,M,W),o.traceIs(q,"noOpacity")||N("opacity"),o.traceIs(q,"notLegendIsolatable")&&(q.visible=!!q.visible),o.traceIs(q,"noHover")||(q.hovertemplate||e.coerceHoverinfo(H,q,W),q.type!=="parcats"&&o.getComponentMethod("fx","supplyDefaults")(H,q,M,W)),nt&&nt.selectPoints)){var Ht=N("selectedpoints");e.isTypedArray(Ht)&&(q.selectedpoints=Array.from(Ht))}return q},m.supplyLayoutGlobalDefaults=function(H,q,A){function W(ut,ct){return e.coerce(H,q,m.layoutAttributes,ut,ct)}var rt=H.template;e.isPlainObject(rt)&&(q.template=rt,q._template=rt.layout,q._dataTemplate=rt.data),W("autotypenumbers");var I=e.coerceFont(W,"font"),M=I.size;e.coerceFont(W,"title.font",I,{overrideDflt:{size:Math.round(M*1.4)}}),W("title.text",q._dfltTitle.plot),W("title.xref");var S=W("title.yref");W("title.pad.t"),W("title.pad.r"),W("title.pad.b"),W("title.pad.l");var N=W("title.automargin");W("title.x"),W("title.xanchor"),W("title.y"),W("title.yanchor"),W("title.subtitle.text",q._dfltTitle.subtitle),e.coerceFont(W,"title.subtitle.font",I,{overrideDflt:{size:Math.round(q.title.font.size*.7)}}),N&&(S==="paper"&&(q.title.y!==0&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y===0?"top":"bottom")),S==="container"&&(q.title.y==="auto"&&(q.title.y=1),q.title.yanchor==="auto"&&(q.title.yanchor=q.title.y<.5?"bottom":"top")));var V=W("uniformtext.mode");V&&W("uniformtext.minsize"),W("autosize",!(H.width&&H.height)),W("width"),W("height"),W("minreducedwidth"),W("minreducedheight"),W("margin.l"),W("margin.r"),W("margin.t"),W("margin.b"),W("margin.pad"),W("margin.autoexpand"),H.width&&H.height&&m.sanitizeMargins(q),o.getComponentMethod("grid","sizeDefaults")(H,q),W("paper_bgcolor"),W("separators",A.decimal+A.thousands),W("hidesources"),W("colorway"),W("datarevision");var nt=W("uirevision");W("editrevision",nt),W("selectionrevision",nt),o.getComponentMethod("modebar","supplyLayoutDefaults")(H,q),o.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(H,q,W),o.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(H,q,W),W("meta"),e.isPlainObject(H.transition)&&(W("transition.duration"),W("transition.easing"),W("transition.ordering")),o.getComponentMethod("calendars","handleDefaults")(H,q,"calendar"),o.getComponentMethod("fx","supplyLayoutGlobalDefaults")(H,q,W),e.coerce(H,q,y,"scattermode")};function R(H){return typeof H=="string"&&H.substr(H.length-2)==="px"&&parseFloat(H)}m.plotAutoSize=function(H,q,A){var W=H._context||{},rt=W.frameMargins,I,M,S=e.isPlotDiv(H);if(S&&H.emit("plotly_autosize"),W.fillFrame)I=window.innerWidth,M=window.innerHeight,document.body.style.overflow="hidden";else{var N=S?window.getComputedStyle(H):{};if(I=R(N.width)||R(N.maxWidth)||A.width,M=R(N.height)||R(N.maxHeight)||A.height,l(rt)&&rt>0){var V=1-2*rt;I=Math.round(V*I),M=Math.round(V*M)}}var nt=m.layoutAttributes.width.min,ut=m.layoutAttributes.height.min;I<nt&&(I=nt),M<ut&&(M=ut);var ct=!q.width&&Math.abs(A.width-I)>1,bt=!q.height&&Math.abs(A.height-M)>1;(bt||ct)&&(ct&&(A.width=I),bt&&(A.height=M)),H._initialAutoSize||(H._initialAutoSize={width:I,height:M}),m.sanitizeMargins(A)},m.supplyLayoutModuleDefaults=function(H,q,A,W){var rt=o.componentsRegistry,I=q._basePlotModules,M,S,N,V=o.subplotsRegistry.cartesian;for(M in rt)N=rt[M],N.includeBasePlot&&N.includeBasePlot(H,q);I.length||I.push(V),q._has("cartesian")&&(o.getComponentMethod("grid","contentDefaults")(H,q),V.finalizeSubplots(H,q));for(var nt in q._subplots)q._subplots[nt].sort(e.subplotSort);for(S=0;S<I.length;S++)N=I[S],N.supplyLayoutDefaults&&N.supplyLayoutDefaults(H,q,A);var ut=q._modules;for(S=0;S<ut.length;S++)N=ut[S],N.supplyLayoutDefaults&&N.supplyLayoutDefaults(H,q,A);var ct=q._transformModules;for(S=0;S<ct.length;S++)N=ct[S],N.supplyLayoutDefaults&&N.supplyLayoutDefaults(H,q,A,W);for(M in rt)N=rt[M],N.supplyLayoutDefaults&&N.supplyLayoutDefaults(H,q,A)},m.purge=function(H){var q=H._fullLayout||{};q._glcontainer!==void 0&&(q._glcontainer.selectAll(".gl-canvas").remove(),q._glcontainer.remove(),q._glcanvas=null),q._modeBar&&q._modeBar.destroy(),H._transitionData&&(H._transitionData._interruptCallbacks&&(H._transitionData._interruptCallbacks.length=0),H._transitionData._animationRaf&&window.cancelAnimationFrame(H._transitionData._animationRaf)),e.clearThrottle(),e.clearResponsive(H),delete H.data,delete H.layout,delete H._fullData,delete H._fullLayout,delete H.calcdata,delete H.empty,delete H.fid,delete H.undoqueue,delete H.undonum,delete H.autoplay,delete H.changed,delete H._promises,delete H._redrawTimer,delete H._hmlumcount,delete H._hmpixcount,delete H._transitionData,delete H._transitioning,delete H._initialAutoSize,delete H._transitioningWithDuration,delete H._dragging,delete H._dragged,delete H._dragdata,delete H._hoverdata,delete H._snapshotInProgress,delete H._editing,delete H._mouseDownTime,delete H._legendMouseDownTime,H.removeAllListeners&&H.removeAllListeners()},m.style=function(H){var q=H._fullLayout._visibleModules,A=[],W;for(W=0;W<q.length;W++){var rt=q[W];rt.style&&e.pushUnique(A,rt.style)}for(W=0;W<A.length;W++)A[W](H)},m.sanitizeMargins=function(H){if(!(!H||!H.margin)){var q=H.width,A=H.height,W=H.margin,rt=q-(W.l+W.r),I=A-(W.t+W.b),M;rt<0&&(M=(q-1)/(W.l+W.r),W.l=Math.floor(M*W.l),W.r=Math.floor(M*W.r)),I<0&&(M=(A-1)/(W.t+W.b),W.t=Math.floor(M*W.t),W.b=Math.floor(M*W.b))}},m.clearAutoMarginIds=function(H){H._fullLayout._pushmarginIds={}},m.allowAutoMargin=function(H,q){H._fullLayout._pushmarginIds[q]=1};function Z(H){var q=H.margin;if(!H._size){var A=H._size={l:Math.round(q.l),r:Math.round(q.r),t:Math.round(q.t),b:Math.round(q.b),p:Math.round(q.pad)};A.w=Math.round(H.width)-A.l-A.r,A.h=Math.round(H.height)-A.t-A.b}H._pushmargin||(H._pushmargin={}),H._pushmarginIds||(H._pushmarginIds={}),H._reservedMargin||(H._reservedMargin={})}var G=2,O=2;m.autoMargin=function(H,q,A){var W=H._fullLayout,rt=W.width,I=W.height,M=W.margin,S=W.minreducedwidth,N=W.minreducedheight,V=e.constrain(rt-M.l-M.r,G,S),nt=e.constrain(I-M.t-M.b,O,N),ut=Math.max(0,rt-V),ct=Math.max(0,I-nt),bt=W._pushmargin,kt=W._pushmarginIds;if(M.autoexpand!==!1){if(!A)delete bt[q],delete kt[q];else{var Et=A.pad;if(Et===void 0&&(Et=Math.min(12,M.l,M.r,M.t,M.b)),ut){var Gt=(A.l+A.r)/ut;Gt>1&&(A.l/=Gt,A.r/=Gt)}if(ct){var Vt=(A.t+A.b)/ct;Vt>1&&(A.t/=Vt,A.b/=Vt)}var Ht=A.xl!==void 0?A.xl:A.x,vt=A.xr!==void 0?A.xr:A.x,xt=A.yt!==void 0?A.yt:A.y,lt=A.yb!==void 0?A.yb:A.y;bt[q]={l:{val:Ht,size:A.l+Et},r:{val:vt,size:A.r+Et},b:{val:lt,size:A.b+Et},t:{val:xt,size:A.t+Et}},kt[q]=1}if(!W._replotting)return m.doAutoMargin(H)}};function J(H){if("_redrawFromAutoMarginCount"in H._fullLayout)return!1;var q=h.list(H,"",!0);for(var A in q)if(q[A].autoshift||q[A].shift)return!0;return!1}m.doAutoMargin=function(H){var q=H._fullLayout,A=q.width,W=q.height;q._size||(q._size={}),Z(q);var rt=q._size,I=q.margin,M={t:0,b:0,l:0,r:0},S=e.extendFlat({},rt),N=I.l,V=I.r,nt=I.t,ut=I.b,ct=q._pushmargin,bt=q._pushmarginIds,kt=q.minreducedwidth,Et=q.minreducedheight;if(I.autoexpand!==!1){for(var Gt in ct)bt[Gt]||delete ct[Gt];var Vt=H._fullLayout._reservedMargin;for(var Ht in Vt)for(var vt in Vt[Ht]){var xt=Vt[Ht][vt];M[vt]=Math.max(M[vt],xt)}ct.base={l:{val:0,size:N},r:{val:1,size:V},t:{val:1,size:nt},b:{val:0,size:ut}};for(var lt in M){var At=0;for(var Rt in ct)Rt!=="base"&&l(ct[Rt][lt].size)&&(At=ct[Rt][lt].size>At?ct[Rt][lt].size:At);var Ut=Math.max(0,I[lt]-At);M[lt]=Math.max(0,M[lt]-Ut)}for(var te in ct){var Wt=ct[te].l||{},ae=ct[te].b||{},ne=Wt.val,re=Wt.size,de=ae.val,$t=ae.size,ve=A-M.r-M.l,xe=W-M.t-M.b;for(var pe in ct){if(l(re)&&ct[pe].r){var _e=ct[pe].r.val,mt=ct[pe].r.size;if(_e>ne){var Ct=(re*_e+(mt-ve)*ne)/(_e-ne),Q=(mt*(1-ne)+(re-ve)*(1-_e))/(_e-ne);Ct+Q>N+V&&(N=Ct,V=Q)}}if(l($t)&&ct[pe].t){var st=ct[pe].t.val,ft=ct[pe].t.size;if(st>de){var _t=($t*st+(ft-xe)*de)/(st-de),Tt=(ft*(1-de)+($t-xe)*(1-st))/(st-de);_t+Tt>ut+nt&&(ut=_t,nt=Tt)}}}}}var zt=e.constrain(A-I.l-I.r,G,kt),Ft=e.constrain(W-I.t-I.b,O,Et),Zt=Math.max(0,A-zt),qt=Math.max(0,W-Ft);if(Zt){var Yt=(N+V)/Zt;Yt>1&&(N/=Yt,V/=Yt)}if(qt){var ie=(ut+nt)/qt;ie>1&&(ut/=ie,nt/=ie)}if(rt.l=Math.round(N)+M.l,rt.r=Math.round(V)+M.r,rt.t=Math.round(nt)+M.t,rt.b=Math.round(ut)+M.b,rt.p=Math.round(I.pad),rt.w=Math.round(A)-rt.l-rt.r,rt.h=Math.round(W)-rt.t-rt.b,!q._replotting&&(m.didMarginChange(S,rt)||J(H))){"_redrawFromAutoMarginCount"in q?q._redrawFromAutoMarginCount++:q._redrawFromAutoMarginCount=1;var oe=3*(1+Object.keys(bt).length);if(q._redrawFromAutoMarginCount<oe)return o.call("_doPlot",H);q._size=S,e.warn("Too many auto-margin redraws.")}X(H)};function X(H){var q=h.list(H,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(A){for(var W=0;W<q.length;W++){var rt=q[W][A];rt&&rt()}})}var it=["l","r","t","b","p","w","h"];m.didMarginChange=function(H,q){for(var A=0;A<it.length;A++){var W=it[A],rt=H[W],I=q[W];if(!l(rt)||Math.abs(I-rt)>1)return!0}return!1},m.graphJson=function(H,q,A,W,rt,I){(rt&&q&&!H._fullData||rt&&!q&&!H._fullLayout)&&m.supplyDefaults(H);var M=rt?H._fullData:H.data,S=rt?H._fullLayout:H.layout,N=(H._transitionData||{})._frames;function V(ct,bt){if(typeof ct=="function")return bt?"_function_":null;if(e.isPlainObject(ct)){var kt={},Et;return Object.keys(ct).sort().forEach(function(vt){if(["_","["].indexOf(vt.charAt(0))===-1){if(typeof ct[vt]=="function"){bt&&(kt[vt]="_function");return}if(A==="keepdata"){if(vt.substr(vt.length-3)==="src")return}else if(A==="keepstream"){if(Et=ct[vt+"src"],typeof Et=="string"&&Et.indexOf(":")>0&&!e.isPlainObject(ct.stream))return}else if(A!=="keepall"&&(Et=ct[vt+"src"],typeof Et=="string"&&Et.indexOf(":")>0))return;kt[vt]=V(ct[vt],bt)}}),kt}var Gt=Array.isArray(ct),Vt=e.isTypedArray(ct);if((Gt||Vt)&&ct.dtype&&ct.shape){var Ht=ct.bdata;return V({dtype:ct.dtype,shape:ct.shape,bdata:e.isArrayBuffer(Ht)?n.encode(Ht):Ht},bt)}return Gt?ct.map(function(vt){return V(vt,bt)}):Vt?e.simpleMap(ct,e.identity):e.isJSDate(ct)?e.ms2DateTimeLocal(+ct):ct}var nt={data:(M||[]).map(function(ct){var bt=V(ct);return q&&delete bt.fit,bt})};if(!q&&(nt.layout=V(S),rt)){var ut=S._size;nt.layout.computed={margin:{b:ut.b,l:ut.l,r:ut.r,t:ut.t}}}return N&&(nt.frames=V(N)),I&&(nt.config=V(H._context,!0)),W==="object"?nt:JSON.stringify(nt)},m.modifyFrames=function(H,q){var A,W,rt,I=H._transitionData._frames,M=H._transitionData._frameHash;for(A=0;A<q.length;A++)switch(W=q[A],W.type){case"replace":rt=W.value;var S=(I[W.index]||{}).name,N=rt.name;I[W.index]=M[N]=rt,N!==S&&(delete M[S],M[N]=rt);break;case"insert":rt=W.value,M[rt.name]=rt,I.splice(W.index,0,rt);break;case"delete":rt=I[W.index],delete M[rt.name],I.splice(W.index,1);break}return Promise.resolve()},m.computeFrame=function(H,q){var A=H._transitionData._frameHash,W,rt,I,M;if(!q)throw new Error("computeFrame must be given a string frame name");var S=A[q.toString()];if(!S)return!1;for(var N=[S],V=[S.name];S.baseframe&&(S=A[S.baseframe.toString()])&&V.indexOf(S.name)===-1;)N.push(S),V.push(S.name);for(var nt={};S=N.pop();)if(S.layout&&(nt.layout=m.extendLayout(nt.layout,S.layout)),S.data){if(nt.data||(nt.data=[]),rt=S.traces,!rt)for(rt=[],W=0;W<S.data.length;W++)rt[W]=W;for(nt.traces||(nt.traces=[]),W=0;W<S.data.length;W++)I=rt[W],I!=null&&(M=nt.traces.indexOf(I),M===-1&&(M=nt.data.length,nt.traces[M]=I),nt.data[M]=m.extendTrace(nt.data[M],S.data[W]))}return nt},m.recomputeFrameHash=function(H){for(var q=H._transitionData._frameHash={},A=H._transitionData._frames,W=0;W<A.length;W++){var rt=A[W];rt&&rt.name&&(q[rt.name]=rt)}},m.extendObjectWithContainers=function(H,q,A){var W,rt,I,M,S,N,V,nt,ut=e.extendDeepNoArrays({},q||{}),ct=e.expandObjectPaths(ut),bt={};if(A&&A.length)for(I=0;I<A.length;I++)W=e.nestedProperty(ct,A[I]),rt=W.get(),rt===void 0?e.nestedProperty(bt,A[I]).set(null):(W.set(null),e.nestedProperty(bt,A[I]).set(rt));if(H=e.extendDeepNoArrays(H||{},ct),A&&A.length){for(I=0;I<A.length;I++)if(S=e.nestedProperty(bt,A[I]),V=S.get(),!!V){for(N=e.nestedProperty(H,A[I]),nt=N.get(),Array.isArray(nt)||(nt=[],N.set(nt)),M=0;M<V.length;M++){var kt=V[M];kt===null?nt[M]=null:nt[M]=m.extendObjectWithContainers(nt[M],kt)}N.set(nt)}}return H},m.dataArrayContainers=["transforms","dimensions"],m.layoutArrayContainers=o.layoutArrayContainers,m.extendTrace=function(H,q){return m.extendObjectWithContainers(H,q,m.dataArrayContainers)},m.extendLayout=function(H,q){return m.extendObjectWithContainers(H,q,m.layoutArrayContainers)},m.transition=function(H,q,A,W,rt,I){var M={redraw:rt.redraw},S={},N=[];return M.prepareFn=function(){for(var V=Array.isArray(q)?q.length:0,nt=W.slice(0,V),ut=0;ut<nt.length;ut++){var ct=nt[ut],bt=H._fullData[ct],kt=bt._module;if(kt){if(kt.animatable){var Et=kt.basePlotModule.name;S[Et]||(S[Et]=[]),S[Et].push(ct)}H.data[nt[ut]]=m.extendTrace(H.data[nt[ut]],q[ut])}}var Gt=e.expandObjectPaths(e.extendDeepNoArrays({},A)),Vt=/^[xy]axis[0-9]*$/;for(var Ht in Gt)Vt.test(Ht)&&delete Gt[Ht].range;m.extendLayout(H.layout,Gt),delete H.calcdata,m.supplyDefaults(H),m.doCalcdata(H);var vt=e.expandObjectPaths(A);if(vt){var xt=H._fullLayout._plots;for(var lt in xt){var At=xt[lt],Rt=At.xaxis,Ut=At.yaxis,te=Rt.range.slice(),Wt=Ut.range.slice(),ae=null,ne=null,re=null,de=null;Array.isArray(vt[Rt._name+".range"])?ae=vt[Rt._name+".range"].slice():Array.isArray((vt[Rt._name]||{}).range)&&(ae=vt[Rt._name].range.slice()),Array.isArray(vt[Ut._name+".range"])?ne=vt[Ut._name+".range"].slice():Array.isArray((vt[Ut._name]||{}).range)&&(ne=vt[Ut._name].range.slice()),te&&ae&&(Rt.r2l(te[0])!==Rt.r2l(ae[0])||Rt.r2l(te[1])!==Rt.r2l(ae[1]))&&(re={xr0:te,xr1:ae}),Wt&&ne&&(Ut.r2l(Wt[0])!==Ut.r2l(ne[0])||Ut.r2l(Wt[1])!==Ut.r2l(ne[1]))&&(de={yr0:Wt,yr1:ne}),(re||de)&&N.push(e.extendFlat({plotinfo:At},re,de))}}return Promise.resolve()},M.runFn=function(V){var nt,ut=H._fullLayout._basePlotModules,ct=N.length,bt;if(A)for(bt=0;bt<ut.length;bt++)ut[bt].transitionAxes&&ut[bt].transitionAxes(H,N,I,V);ct?(nt=e.extendFlat({},I),nt.duration=0,delete S.cartesian):nt=I;for(var kt in S){var Et=S[kt],Gt=H._fullData[Et[0]]._module;Gt.basePlotModule.plot(H,Et,nt,V)}},at(H,I,M)},m.transitionFromReact=function(H,q,A,W){var rt=H._fullLayout,I=rt.transition,M={},S=[];return M.prepareFn=function(){var N=rt._plots;M.redraw=!1,q.anim==="some"&&(M.redraw=!0),A.anim==="some"&&(M.redraw=!0);for(var V in N){var nt=N[V],ut=nt.xaxis,ct=nt.yaxis,bt=W[ut._name].range.slice(),kt=W[ct._name].range.slice(),Et=ut.range.slice(),Gt=ct.range.slice();ut.setScale(),ct.setScale();var Vt=null,Ht=null;(ut.r2l(bt[0])!==ut.r2l(Et[0])||ut.r2l(bt[1])!==ut.r2l(Et[1]))&&(Vt={xr0:bt,xr1:Et}),(ct.r2l(kt[0])!==ct.r2l(Gt[0])||ct.r2l(kt[1])!==ct.r2l(Gt[1]))&&(Ht={yr0:kt,yr1:Gt}),(Vt||Ht)&&S.push(e.extendFlat({plotinfo:nt},Vt,Ht))}return Promise.resolve()},M.runFn=function(N){for(var V=H._fullData,nt=H._fullLayout,ut=nt._basePlotModules,ct,bt,kt,Et=[],Gt=0;Gt<V.length;Gt++)Et.push(Gt);function Vt(){if(H._fullLayout)for(var vt=0;vt<ut.length;vt++)ut[vt].transitionAxes&&ut[vt].transitionAxes(H,S,ct,N)}function Ht(){if(H._fullLayout)for(var vt=0;vt<ut.length;vt++)ut[vt].plot(H,kt,bt,N)}S.length&&q.anim?I.ordering==="traces first"?(ct=e.extendFlat({},I,{duration:0}),kt=Et,bt=I,setTimeout(Vt,I.duration),Ht()):(ct=I,kt=null,bt=e.extendFlat({},I,{duration:0}),setTimeout(Ht,ct.duration),Vt()):S.length?(ct=I,Vt()):q.anim&&(kt=Et,bt=I,Ht())},at(H,I,M)};function at(H,q,A){var W=!1;function rt(ut){var ct=Promise.resolve();if(!ut)return ct;for(;ut.length;)ct=ct.then(ut.shift());return ct}function I(ut){if(ut)for(;ut.length;)ut.shift()}function M(){return H.emit("plotly_transitioning",[]),new Promise(function(ut){H._transitioning=!0,q.duration>0&&(H._transitioningWithDuration=!0),H._transitionData._interruptCallbacks.push(function(){W=!0}),A.redraw&&H._transitionData._interruptCallbacks.push(function(){return o.call("redraw",H)}),H._transitionData._interruptCallbacks.push(function(){H.emit("plotly_transitioninterrupted",[])});var ct=0,bt=0;function kt(){return ct++,function(){bt++,!W&&bt===ct&&S(ut)}}A.runFn(kt),setTimeout(kt())})}function S(ut){if(H._transitionData)return I(H._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(A.redraw)return o.call("redraw",H)}).then(function(){H._transitioning=!1,H._transitioningWithDuration=!1,H.emit("plotly_transitioned",[])}).then(ut)}function N(){if(H._transitionData)return H._transitioning=!1,rt(H._transitionData._interruptCallbacks)}var V=[m.previousPromises,N,A.prepareFn,m.rehover,m.reselect,M],nt=e.syncOrAsync(V,H);return(!nt||!nt.then)&&(nt=Promise.resolve()),nt.then(function(){return H})}m.doCalcdata=function(H,q){var A=h.list(H),W=H._fullData,rt=H._fullLayout,I,M,S,N,V=new Array(W.length),nt=(H.calcdata||[]).slice();for(H.calcdata=V,rt._numBoxes=0,rt._numViolins=0,rt._violinScaleGroupStats={},H._hmpixcount=0,H._hmlumcount=0,rt._piecolormap={},rt._sunburstcolormap={},rt._treemapcolormap={},rt._iciclecolormap={},rt._funnelareacolormap={},S=0;S<W.length;S++)if(Array.isArray(q)&&q.indexOf(S)===-1){V[S]=nt[S];continue}for(S=0;S<W.length;S++)I=W[S],I._arrayAttrs=s.findArrayAttributes(I),I._extremes={};var ut=rt._subplots.polar||[];for(S=0;S<ut.length;S++)A.push(rt[ut[S]].radialaxis,rt[ut[S]].angularaxis);for(var ct in rt._colorAxes){var bt=rt[ct];bt.cauto!==!1&&(delete bt.cmin,delete bt.cmax)}var kt=!1;function Et(Ht){if(I=W[Ht],M=I._module,I.visible===!0&&I.transforms){if(M&&M.calc){var vt=M.calc(H,I);vt[0]&&vt[0].t&&vt[0].t._scene&&delete vt[0].t._scene.dirty}for(N=0;N<I.transforms.length;N++){var xt=I.transforms[N];M=transformsRegistry[xt.type],M&&M.calcTransform&&(I._hasCalcTransform=!0,kt=!0,M.calcTransform(H,I,xt))}}}function Gt(Ht,vt){if(I=W[Ht],M=I._module,!!M.isContainer===vt){var xt=[];if(I.visible===!0&&I._length!==0){delete I._indexToPoints;var lt=I.transforms||[];for(N=lt.length-1;N>=0;N--)if(lt[N].enabled){I._indexToPoints=lt[N]._indexToPoints;break}M&&M.calc&&(xt=M.calc(H,I))}(!Array.isArray(xt)||!xt[0])&&(xt=[{x:c,y:c}]),xt[0].t||(xt[0].t={}),xt[0].trace=I,V[Ht]=xt}}for(pt(A,W,rt),S=0;S<W.length;S++)Gt(S,!0);for(S=0;S<W.length;S++)Et(S);for(kt&&pt(A,W,rt),S=0;S<W.length;S++)Gt(S,!0);for(S=0;S<W.length;S++)Gt(S,!1);yt(H);var Vt=ht(A,H);if(Vt.length){for(rt._numBoxes=0,rt._numViolins=0,S=0;S<Vt.length;S++)Gt(Vt[S],!0);for(S=0;S<Vt.length;S++)Gt(Vt[S],!1);yt(H)}o.getComponentMethod("fx","calc")(H),o.getComponentMethod("errorbars","calc")(H)};var ot=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function ht(H,q){var A=[],W,rt,I,M,S;function N(pe,_e,mt){var Ct=_e._id.charAt(0);if(pe==="histogram2dcontour"){var Q=_e._counterAxes[0],st=h.getFromId(q,Q),ft=Ct==="x"||Q==="x"&&st.type==="category",_t=Ct==="y"||Q==="y"&&st.type==="category";return function(Tt,zt){return Tt===0||zt===0||ft&&Tt===mt[zt].length-1||_t&&zt===mt.length-1?-1:(Ct==="y"?zt:Tt)-1}}else return function(Tt,zt){return Ct==="y"?zt:Tt}}var V={min:function(pe){return e.aggNums(Math.min,null,pe)},max:function(pe){return e.aggNums(Math.max,null,pe)},sum:function(pe){return e.aggNums(function(_e,mt){return _e+mt},null,pe)},total:function(pe){return e.aggNums(function(_e,mt){return _e+mt},null,pe)},mean:function(pe){return e.mean(pe)},"geometric mean":function(pe){return e.geometricMean(pe)},median:function(pe){return e.median(pe)}};function nt(pe,_e){return pe[1]-_e[1]}function ut(pe,_e){return _e[1]-pe[1]}for(W=0;W<H.length;W++){var ct=H[W];if(ct.type==="category"){var bt=ct.categoryorder.match(ot);if(bt){var kt=bt[1],Et=bt[2],Gt=ct._id.charAt(0),Vt=Gt==="x",Ht=[];for(rt=0;rt<ct._categories.length;rt++)Ht.push([ct._categories[rt],[]]);for(rt=0;rt<ct._traceIndices.length;rt++){var vt=ct._traceIndices[rt],xt=q._fullData[vt];if(xt.visible===!0){var lt=xt.type;o.traceIs(xt,"histogram")&&(delete xt._xautoBinFinished,delete xt._yautoBinFinished);var At=lt==="splom",Rt=lt==="scattergl",Ut=q.calcdata[vt];for(I=0;I<Ut.length;I++){var te=Ut[I],Wt,ae;if(At){var ne=xt._axesDim[ct._id];if(!Vt){var re=xt._diag[ne][0];re&&(ct=q._fullLayout[h.id2name(re)])}var de=te.trace.dimensions[ne].values;for(M=0;M<de.length;M++)for(Wt=ct._categoriesMap[de[M]],S=0;S<te.trace.dimensions.length;S++)if(S!==ne){var $t=te.trace.dimensions[S];Ht[Wt][1].push($t.values[M])}}else if(Rt){for(M=0;M<te.t.x.length;M++)Vt?(Wt=te.t.x[M],ae=te.t.y[M]):(Wt=te.t.y[M],ae=te.t.x[M]),Ht[Wt][1].push(ae);te.t&&te.t._scene&&delete te.t._scene.dirty}else if(te.hasOwnProperty("z")){ae=te.z;var ve=N(xt.type,ct,ae);for(M=0;M<ae.length;M++)for(S=0;S<ae[M].length;S++)Wt=ve(S,M),Wt+1&&Ht[Wt][1].push(ae[M][S])}else for(Wt=te.p,Wt===void 0&&(Wt=te[Gt]),ae=te.s,ae===void 0&&(ae=te.v),ae===void 0&&(ae=Vt?te.y:te.x),Array.isArray(ae)||(ae===void 0?ae=[]:ae=[ae]),M=0;M<ae.length;M++)Ht[Wt][1].push(ae[M])}}}ct._categoriesValue=Ht;var xe=[];for(rt=0;rt<Ht.length;rt++)xe.push([Ht[rt][0],V[kt](Ht[rt][1])]);xe.sort(Et==="descending"?ut:nt),ct._categoriesAggregatedValue=xe,ct._initialCategories=xe.map(function(pe){return pe[0]}),A=A.concat(ct.sortByInitialCategories())}}}return A}function pt(H,q,A){var W={};function rt(N){N.clearCalc(),N.type==="multicategory"&&N.setupMultiCategory(q),W[N._id]=1}e.simpleMap(H,rt);for(var I=A._axisMatchGroups||[],M=0;M<I.length;M++)for(var S in I[M])W[S]||rt(A[h.id2name(S)])}function yt(H){var q=H._fullLayout,A=q._visibleModules,W={},rt,I,M;for(I=0;I<A.length;I++){var S=A[I],N=S.crossTraceCalc;if(N){var V=S.basePlotModule.name;W[V]?e.pushUnique(W[V],N):W[V]=[N]}}for(M in W){var nt=W[M],ut=q._subplots[M];if(Array.isArray(ut))for(rt=0;rt<ut.length;rt++){var ct=ut[rt],bt=M==="cartesian"?q._plots[ct]:q[ct];for(I=0;I<nt.length;I++)nt[I](H,bt,ct)}else for(I=0;I<nt.length;I++)nt[I](H)}}m.rehover=function(H){H._fullLayout._rehover&&H._fullLayout._rehover()},m.redrag=function(H){H._fullLayout._redrag&&H._fullLayout._redrag()},m.reselect=function(H){var q=H._fullLayout,A=(H.layout||{}).selections,W=q._previousSelections;q._previousSelections=A;var rt=q._reselect||JSON.stringify(A)!==JSON.stringify(W);o.getComponentMethod("selections","reselect")(H,rt)},m.generalUpdatePerTraceModule=function(H,q,A,W){var rt=q.traceHash,I={},M;for(M=0;M<A.length;M++){var S=A[M],N=S[0].trace;N.visible&&(I[N.type]=I[N.type]||[],I[N.type].push(S))}for(var V in rt)if(!I[V]){var nt=rt[V][0],ut=nt[0].trace;ut.visible=!1,I[V]=[nt]}for(var ct in I){var bt=I[ct],kt=bt[0][0].trace._module;kt.plot(H,q,e.filterVisible(bt),W)}q.traceHash=I},m.plotBasePlot=function(H,q,A,W,rt){var I=o.getModule(H),M=x(q.calcdata,I)[0];I.plot(q,M,W,rt)},m.cleanBasePlot=function(H,q,A,W,rt){var I=rt._has&&rt._has(H),M=A._has&&A._has(H);I&&!M&&rt["_"+H+"layer"].selectAll("g.trace").remove()}}),En=Mt(E=>{E.xmlns="http://www.w3.org/2000/xmlns/",E.svg="http://www.w3.org/2000/svg",E.xlink="http://www.w3.org/1999/xlink",E.svgAttrs={xmlns:E.svg,"xmlns:xlink":E.xlink}}),Rr=Mt((E,P)=>{P.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}}),Pr=Mt(E=>{var P=Ke(),i=Oe(),t=i.strTranslate,a=En(),l=Rr().LINE_SPACING,n=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;E.convertToTspans=function(O,J,X){var it=O.text(),at=!O.attr("data-notex")&&J&&J._context.typesetMath&&typeof MathJax<"u"&&it.match(n),ot=P.select(O.node().parentNode);if(ot.empty())return;var ht=O.attr("class")?O.attr("class").split(" ")[0]:"text";ht+="-math",ot.selectAll("svg."+ht).remove(),ot.selectAll("g."+ht+"-group").remove(),O.style("display",null).attr({"data-unformatted":it,"data-math":"N"});function pt(){ot.empty()||(ht=O.attr("class")+"-math",ot.select("svg."+ht).remove()),O.text("").style("white-space","pre");var yt=F(O.node(),it);yt&&O.style("pointer-events","all"),E.positionText(O),X&&X.call(O)}return at?(J&&J._promises||[]).push(new Promise(function(yt){O.style("display","none");var H=parseInt(O.node().style.fontSize,10),q={fontSize:H};p(at[2],q,function(A,W,rt){ot.selectAll("svg."+ht).remove(),ot.selectAll("g."+ht+"-group").remove();var I=A&&A.select("svg");if(!I||!I.node()){pt(),yt();return}var M=ot.append("g").classed(ht+"-group",!0).attr({"pointer-events":"none","data-unformatted":it,"data-math":"Y"});M.node().appendChild(I.node()),W&&W.node()&&I.node().insertBefore(W.node().cloneNode(!0),I.node().firstChild);var S=rt.width,N=rt.height;I.attr({class:ht,height:N,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var V=O.node().style.fill||"black",nt=I.select("g");nt.attr({fill:V,stroke:V});var ut=nt.node().getBoundingClientRect(),ct=ut.width,bt=ut.height;(ct>S||bt>N)&&(I.style("overflow","hidden"),ut=I.node().getBoundingClientRect(),ct=ut.width,bt=ut.height);var kt=+O.attr("x"),Et=+O.attr("y"),Gt=H||O.node().getBoundingClientRect().height,Vt=-Gt/4;if(ht[0]==="y")M.attr({transform:"rotate("+[-90,kt,Et]+")"+t(-ct/2,Vt-bt/2)});else if(ht[0]==="l")Et=Vt-bt/2;else if(ht[0]==="a"&&ht.indexOf("atitle")!==0)kt=0,Et=Vt;else{var Ht=O.attr("text-anchor");kt=kt-ct*(Ht==="middle"?.5:Ht==="end"?1:0),Et=Et+Vt-bt/2}I.attr({x:kt,y:Et}),X&&X.call(O,M),yt(M)})})):pt(),O};var o=/(<|&lt;|&#60;)/g,s=/(>|&gt;|&#62;)/g;function f(O){return O.replace(o,"\\lt ").replace(s,"\\gt ")}var e=[["$","$"],["\\(","\\)"]];function p(O,J,X){var it=parseInt((MathJax.version||"").split(".")[0]);if(it!==2&&it!==3){i.warn("No MathJax version:",MathJax.version);return}var at,ot,ht,pt,yt=function(){return ot=i.extendDeepAll({},MathJax.Hub.config),ht=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:e},displayAlign:"left"})},H=function(){ot=i.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=e},q=function(){if(at=MathJax.Hub.config.menuSettings.renderer,at!=="SVG")return MathJax.Hub.setRenderer("SVG")},A=function(){at=MathJax.config.startup.output,at!=="svg"&&(MathJax.config.startup.output="svg")},W=function(){var V="math-output-"+i.randstr({},64);pt=P.select("body").append("div").attr({id:V}).style({visibility:"hidden",position:"absolute","font-size":J.fontSize+"px"}).text(f(O));var nt=pt.node();return it===2?MathJax.Hub.Typeset(nt):MathJax.typeset([nt])},rt=function(){var V=pt.select(it===2?".MathJax_SVG":".MathJax"),nt=!V.empty()&&pt.select("svg").node();if(!nt)i.log("There was an error in the tex syntax.",O),X();else{var ut=nt.getBoundingClientRect(),ct;it===2?ct=P.select("body").select("#MathJax_SVG_glyphs"):ct=V.select("defs"),X(V,ct,ut)}pt.remove()},I=function(){if(at!=="SVG")return MathJax.Hub.setRenderer(at)},M=function(){at!=="svg"&&(MathJax.config.startup.output=at)},S=function(){return ht!==void 0&&(MathJax.Hub.processSectionDelay=ht),MathJax.Hub.Config(ot)},N=function(){MathJax.config=ot};it===2?MathJax.Hub.Queue(yt,q,W,rt,I,S):it===3&&(H(),A(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){W(),rt(),M(),N()}))}var c={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},h={sub:"0.3em",sup:"-0.6em"},_={sub:"-0.21em",sup:"0.42em"},y="​",v=["http:","https:","mailto:","",void 0,":"],g=E.NEWLINES=/(\r\n?|\n)/g,x=/(<[^<>]*>)/,u=/<(\/?)([^ >]*)(\s+(.*))?>/i,d=/<br(\s+.*)?>/i;E.BR_TAG_ALL=/<br(\s+.*)?>/gi;var m=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,w=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,k=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,U=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function D(O,J){if(!O)return null;var X=O.match(J),it=X&&(X[3]||X[4]);return it&&z(it)}var C=/(^|;)\s*color:/;E.plainText=function(O,J){J=J||{};for(var X=J.len!==void 0&&J.len!==-1?J.len:1/0,it=J.allowedTags!==void 0?J.allowedTags:["br"],at="...",ot=at.length,ht=O.split(x),pt=[],yt="",H=0,q=0;q<ht.length;q++){var A=ht[q],W=A.match(u),rt=W&&W[2].toLowerCase();if(rt)it.indexOf(rt)!==-1&&(pt.push(A),yt=rt);else{var I=A.length;if(H+I<X)pt.push(A),H+=I;else if(H<X){var M=X-H;yt&&(yt!=="br"||M<=ot||I<=ot)&&pt.pop(),X>ot?pt.push(A.substr(0,M-ot)+at):pt.push(A.substr(0,M));break}yt=""}}return pt.join("")};var T={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},Y=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function z(O){return O.replace(Y,function(J,X){var it;return X.charAt(0)==="#"?it=j(X.charAt(1)==="x"?parseInt(X.substr(2),16):parseInt(X.substr(1),10)):it=T[X],it||J})}E.convertEntities=z;function j(O){if(!(O>1114111)){var J=String.fromCodePoint;if(J)return J(O);var X=String.fromCharCode;return O<=65535?X(O):X((O>>10)+55232,O%1024+56320)}}function F(O,J){J=J.replace(g," ");var X=!1,it=[],at,ot=-1;function ht(){ot++;var bt=document.createElementNS(a.svg,"tspan");P.select(bt).attr({class:"line",dy:ot*l+"em"}),O.appendChild(bt),at=bt;var kt=it;if(it=[{node:bt}],kt.length>1)for(var Et=1;Et<kt.length;Et++)pt(kt[Et])}function pt(bt){var kt=bt.type,Et={},Gt;if(kt==="a"){Gt="a";var Vt=bt.target,Ht=bt.href,vt=bt.popup;Ht&&(Et={"xlink:xlink:show":Vt==="_blank"||Vt.charAt(0)!=="_"?"new":"replace",target:Vt,"xlink:xlink:href":Ht},vt&&(Et.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+vt+'");return false;'))}else Gt="tspan";bt.style&&(Et.style=bt.style);var xt=document.createElementNS(a.svg,Gt);if(kt==="sup"||kt==="sub"){yt(at,y),at.appendChild(xt);var lt=document.createElementNS(a.svg,"tspan");yt(lt,y),P.select(lt).attr("dy",_[kt]),Et.dy=h[kt],at.appendChild(xt),at.appendChild(lt)}else at.appendChild(xt);P.select(xt).attr(Et),at=bt.node=xt,it.push(bt)}function yt(bt,kt){bt.appendChild(document.createTextNode(kt))}function H(bt){if(it.length===1){i.log("Ignoring unexpected end tag </"+bt+">.",J);return}var kt=it.pop();bt!==kt.type&&i.log("Start tag <"+kt.type+"> doesnt match end tag <"+bt+">. Pretending it did match.",J),at=it[it.length-1].node}var q=d.test(J);q?ht():(at=O,it=[{node:O}]);for(var A=J.split(x),W=0;W<A.length;W++){var rt=A[W],I=rt.match(u),M=I&&I[2].toLowerCase(),S=c[M];if(M==="br")ht();else if(S===void 0)yt(at,z(rt));else if(I[1])H(M);else{var N=I[4],V={type:M},nt=D(N,m);if(nt?(nt=nt.replace(C,"$1 fill:"),S&&(nt+=";"+S)):S&&(nt=S),nt&&(V.style=nt),M==="a"){X=!0;var ut=D(N,w);if(ut){var ct=R(ut);ct&&(V.href=ct,V.target=D(N,k)||"_blank",V.popup=D(N,U))}}pt(V)}}return X}function R(O){var J=encodeURI(decodeURI(O)),X=document.createElement("a"),it=document.createElement("a");X.href=O,it.href=J;var at=X.protocol,ot=it.protocol;return v.indexOf(at)!==-1&&v.indexOf(ot)!==-1?J:""}E.sanitizeHTML=function(O){O=O.replace(g," ");for(var J=document.createElement("p"),X=J,it=[],at=O.split(x),ot=0;ot<at.length;ot++){var ht=at[ot],pt=ht.match(u),yt=pt&&pt[2].toLowerCase();if(yt in c)if(pt[1])it.length&&(X=it.pop());else{var H=pt[4],q=D(H,m),A=q?{style:q}:{};if(yt==="a"){var W=D(H,w);if(W){var rt=R(W);if(rt){A.href=rt;var I=D(H,k);I&&(A.target=I)}}}var M=document.createElement(yt);X.appendChild(M),P.select(M).attr(A),X=M,it.push(M)}else X.appendChild(document.createTextNode(z(ht)))}var S="innerHTML";return J[S]},E.lineCount=function(O){return O.selectAll("tspan.line").size()||1},E.positionText=function(O,J,X){return O.each(function(){var it=P.select(this);function at(pt,yt){return yt===void 0?(yt=it.attr(pt),yt===null&&(it.attr(pt,0),yt=0)):it.attr(pt,yt),yt}var ot=at("x",J),ht=at("y",X);this.nodeName==="text"&&it.selectAll("tspan.line").attr({x:ot,y:ht})})};function Z(O,J,X){var it=X.horizontalAlign,at=X.verticalAlign||"top",ot=O.node().getBoundingClientRect(),ht=J.node().getBoundingClientRect(),pt,yt,H;return at==="bottom"?yt=function(){return ot.bottom-pt.height}:at==="middle"?yt=function(){return ot.top+(ot.height-pt.height)/2}:yt=function(){return ot.top},it==="right"?H=function(){return ot.right-pt.width}:it==="center"?H=function(){return ot.left+(ot.width-pt.width)/2}:H=function(){return ot.left},function(){pt=this.node().getBoundingClientRect();var q=H()-ht.left,A=yt()-ht.top,W=X.gd||{};if(X.gd){W._fullLayout._calcInverseTransform(W);var rt=i.apply3DTransform(W._fullLayout._invTransform)(q,A);q=rt[0],A=rt[1]}return this.style({top:A+"px",left:q+"px","z-index":1e3}),this}}var G="1px ";E.makeTextShadow=function(O){var J=G,X=G,it=G;return J+X+it+O+", -"+J+"-"+X+it+O+", "+J+"-"+X+it+O+", -"+J+X+it+O},E.makeEditable=function(O,J){var X=J.gd,it=J.delegate,at=P.dispatch("edit","input","cancel"),ot=it||O;if(O.style({"pointer-events":it?"none":"all"}),O.size()!==1)throw new Error("boo");function ht(){yt(),O.style({opacity:0});var H=ot.attr("class"),q;H?q="."+H.split(" ")[0]+"-math-group":q="[class*=-math-group]",q&&P.select(O.node().parentNode).select(q).style({opacity:0})}function pt(H){var q=H.node(),A=document.createRange();A.selectNodeContents(q);var W=window.getSelection();W.removeAllRanges(),W.addRange(A),q.focus()}function yt(){var H=P.select(X),q=H.select(".svg-container"),A=q.append("div"),W=O.node().style,rt=parseFloat(W.fontSize||12),I=J.text;I===void 0&&(I=O.attr("data-unformatted")),A.classed("plugin-editable editable",!0).style({position:"absolute","font-family":W.fontFamily||"Arial","font-size":rt,color:J.fill||W.fill||"black",opacity:1,"background-color":J.background||"transparent",outline:"#ffffff33 1px solid",margin:[-rt/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(I).call(Z(O,q,J)).on("blur",function(){X._editing=!1,O.text(this.textContent).style({opacity:1});var M=P.select(this).attr("class"),S;M?S="."+M.split(" ")[0]+"-math-group":S="[class*=-math-group]",S&&P.select(O.node().parentNode).select(S).style({opacity:0});var N=this.textContent;P.select(this).transition().duration(0).remove(),P.select(document).on("mouseup",null),at.edit.call(O,N)}).on("focus",function(){var M=this;X._editing=!0,P.select(document).on("mouseup",function(){if(P.event.target===M)return!1;document.activeElement===A.node()&&A.node().blur()})}).on("keyup",function(){P.event.which===27?(X._editing=!1,O.style({opacity:1}),P.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),at.cancel.call(O,this.textContent)):(at.input.call(O,this.textContent),P.select(this).call(Z(O,q,J)))}).on("keydown",function(){P.event.which===13&&this.blur()}).call(pt)}return J.immediate?ht():ot.on("click",ht),P.rebind(O,at,"on")}}),$r=Mt((E,P)=>{var i=Ke(),t=Yr(),a=ua(),l=Oe(),n=Ta(),o=Pn().isValid;function s(g,x,u){var d=x?l.nestedProperty(g,x).get()||{}:g,m=d[u||"color"];m&&m._inputArray&&(m=m._inputArray);var w=!1;if(l.isArrayOrTypedArray(m)){for(var k=0;k<m.length;k++)if(a(m[k])){w=!0;break}}return l.isPlainObject(d)&&(w||d.showscale===!0||a(d.cmin)&&a(d.cmax)||o(d.colorscale)||l.isPlainObject(d.colorbar))}var f=["showscale","autocolorscale","colorscale","reversescale","colorbar"],e=["min","max","mid","auto"];function p(g){var x=g._colorAx,u=x||g,d={},m,w,k;for(w=0;w<f.length;w++)k=f[w],d[k]=u[k];if(x)for(m="c",w=0;w<e.length;w++)k=e[w],d[k]=u["c"+k];else{var U;for(w=0;w<e.length;w++){if(k=e[w],U="c"+k,U in u){d[k]=u[U];continue}U="z"+k,U in u&&(d[k]=u[U])}m=U.charAt(0)}return d._sync=function(D,C){var T=e.indexOf(D)!==-1?m+D:D;u[T]=u["_"+T]=C},d}function c(g){for(var x=p(g),u=x.min,d=x.max,m=x.reversescale?h(x.colorscale):x.colorscale,w=m.length,k=new Array(w),U=new Array(w),D=0;D<w;D++){var C=m[D];k[D]=u+C[0]*(d-u),U[D]=C[1]}return{domain:k,range:U}}function h(g){for(var x=g.length,u=new Array(x),d=x-1,m=0;d>=0;d--,m++){var w=g[d];u[m]=[1-w[0],w[1]]}return u}function _(g,x){x=x||{};for(var u=g.domain,d=g.range,m=d.length,w=new Array(m),k=0;k<m;k++){var U=t(d[k]).toRgb();w[k]=[U.r,U.g,U.b,U.a]}var D=i.scale.linear().domain(u).range(w).clamp(!0),C=x.noNumericCheck,T=x.returnArray,Y;return C&&T?Y=D:C?Y=function(z){return v(D(z))}:T?Y=function(z){return a(z)?D(z):t(z).isValid()?z:n.defaultLine}:Y=function(z){return a(z)?v(D(z)):t(z).isValid()?z:n.defaultLine},Y.domain=D.domain,Y.range=function(){return d},Y}function y(g,x){return _(c(g),x)}function v(g){var x={r:g[0],g:g[1],b:g[2],a:g[3]};return t(x).toRgbString()}P.exports={hasColorscale:s,extractOpts:p,extractScale:c,flipScale:h,makeColorScaleFunc:_,makeColorScaleFuncFromTrace:y}}),Zi=Mt((E,P)=>{var i=Xo(),t=i.FORMAT_LINK,a=i.DATE_FORMAT_LINK;function l(s,f){return{valType:"string",dflt:"",editType:"none",description:(f?n:o)("hover text",s)+["By default the values are formatted using "+(f?"generic number format":"`"+s+"axis.hoverformat`")+"."].join(" ")}}function n(s,f){return["Sets the "+s+" formatting rule"+(f?"for `"+f+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+t+"."].join(" ")}function o(s,f){return n(s,f)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}P.exports={axisHoverFormat:l,descriptionOnlyNumbers:n,descriptionWithDates:o}}),rn=Mt((E,P)=>{var i=Lr(),t=dn(),a=pn().dash,l=yr().extendFlat,n=$a().templatedArray;vn().templateFormatStringDescription;var o=Zi().descriptionWithDates,s=Fa().ONEDAY,f=Sr(),e=f.HOUR_PATTERN,p=f.WEEKDAY_PATTERN,c={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},h=l({},c,{values:c.values.slice().concat(["sync"])});function _(C){return{valType:"integer",min:0,dflt:C?5:0,editType:"ticks"}}var y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},v={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},g={valType:"data_array",editType:"ticks"},x={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function u(C){var T={valType:"number",min:0,editType:"ticks"};return C||(T.dflt=5),T}function d(C){var T={valType:"number",min:0,editType:"ticks"};return C||(T.dflt=1),T}var m={valType:"color",dflt:t.defaultLine,editType:"ticks"},w={valType:"color",dflt:t.lightLine,editType:"ticks"};function k(C){var T={valType:"number",min:0,editType:"ticks"};return C||(T.dflt=1),T}var U=l({},a,{editType:"ticks"}),D={valType:"boolean",editType:"ticks"};P.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:t.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:i({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},modebardisable:{valType:"flaglist",flags:["autoscale","zoominout"],extras:["none"],dflt:"none",editType:"modebar"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[f.idRegex.x.toString(),f.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"calc"},rangebreaks:n("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[p,e,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:h,nticks:_(),tick0:y,dtick:v,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:g,ticktext:{valType:"data_array",editType:"ticks"},ticks:x,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:u(),tickwidth:d(),tickcolor:m,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:l({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:i({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B","SI extended"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:o("tick label")},tickformatstops:n("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:o("hover text")},unifiedhovertitle:{text:{valType:"string",dflt:"",editType:"none"},editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:t.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:D,gridcolor:w,gridwidth:k(),griddash:U,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:t.defaultLine,editType:"ticks"},zerolinelayer:{valType:"enumerated",values:["above traces","below traces"],dflt:"below traces",editType:"plot"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:t.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",f.idRegex.x.toString(),f.idRegex.y.toString()],editType:"plot"},minor:{tickmode:c,nticks:_("minor"),tick0:y,dtick:v,tickvals:g,ticks:x,ticklen:u("minor"),tickwidth:d("minor"),tickcolor:m,gridcolor:w,gridwidth:k("minor"),griddash:U,showgrid:D,editType:"ticks"},minorloglabels:{valType:"enumerated",values:["small digits","complete","none"],dflt:"small digits",editType:"calc"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}}),Gi=Mt((E,P)=>{var i=rn(),t=Lr(),a=yr().extendFlat,l=hn().overrideAll;P.exports=l({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:i.linecolor,outlinewidth:i.linewidth,bordercolor:i.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:i.minor.tickmode,nticks:i.nticks,tick0:i.tick0,dtick:i.dtick,tickvals:i.tickvals,ticktext:i.ticktext,ticks:a({},i.ticks,{dflt:""}),ticklabeloverflow:a({},i.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:i.ticklen,tickwidth:i.tickwidth,tickcolor:i.tickcolor,ticklabelstep:i.ticklabelstep,showticklabels:i.showticklabels,labelalias:i.labelalias,tickfont:t({}),tickangle:i.tickangle,tickformat:i.tickformat,tickformatstops:i.tickformatstops,tickprefix:i.tickprefix,showtickprefix:i.showtickprefix,ticksuffix:i.ticksuffix,showticksuffix:i.showticksuffix,separatethousands:i.separatethousands,exponentformat:i.exponentformat,minexponent:i.minexponent,showexponent:i.showexponent,title:{text:{valType:"string"},font:t({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")}),li=Mt((E,P)=>{var i=Gi(),t=Vn().counter,a=Ko(),l=Pn().scales;a(l);function n(o){return"`"+o+"`"}P.exports=function(o,s){o=o||"",s=s||{};var f=s.cLetter||"c";"onlyIfNumerical"in s&&s.onlyIfNumerical;var e="noScale"in s?s.noScale:o==="marker.line",p="showScaleDflt"in s?s.showScaleDflt:f==="z",c=typeof s.colorscaleDflt=="string"?l[s.colorscaleDflt]:null,h=s.editTypeOverride||"",_=o?o+".":"",y;"colorAttr"in s?(y=s.colorAttr,s.colorAttr):(y={z:"z",c:"color"}[f],""+n(_+y));var v=f+"auto",g=f+"min",x=f+"max",u=f+"mid",d={};d[g]=d[x]=void 0;var m={};m[v]=!1;var w={};return y==="color"&&(w.color={valType:"color",arrayOk:!0,editType:h||"style"},s.anim&&(w.color.anim=!0)),w[v]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:d},w[g]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:m},w[x]={valType:"number",dflt:null,editType:h||"plot",impliedEdits:m},w[u]={valType:"number",dflt:null,editType:"calc",impliedEdits:d},w.colorscale={valType:"colorscale",editType:"calc",dflt:c,impliedEdits:{autocolorscale:!1}},w.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},w.reversescale={valType:"boolean",dflt:!1,editType:"plot"},e||(w.showscale={valType:"boolean",dflt:p,editType:"calc"},w.colorbar=i),s.noColorAxis||(w.coloraxis={valType:"subplotid",regex:t("coloraxis"),dflt:null,editType:"calc"}),w}}),nl=Mt((E,P)=>{var i=yr().extendFlat,t=li(),a=Pn().scales;P.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:i({_isSubplotObj:!0,editType:"calc"},t("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}}),il=Mt((E,P)=>{var i=Oe();P.exports=function(t){return i.isPlainObject(t.colorbar)}}),ol=Mt(E=>{var P=ua(),i=Oe(),t=Fa(),a=t.ONEDAY,l=t.ONEWEEK;E.dtick=function(n,o){var s=o==="log",f=o==="date",e=o==="category",p=f?a:1;if(!n)return p;if(P(n))return n=Number(n),n<=0?p:e?Math.max(1,Math.round(n)):f?Math.max(.1,n):n;if(typeof n!="string"||!(f||s))return p;var c=n.charAt(0),h=n.substr(1);return h=P(h)?Number(h):0,h<=0||!(f&&c==="M"&&h===Math.round(h)||s&&c==="L"||s&&c==="D"&&(h===1||h===2))?p:n},E.tick0=function(n,o,s,f){if(o==="date")return i.cleanDate(n,i.dateTick0(s,f%l===0?1:0));if(!(f==="D1"||f==="D2"))return P(n)?Number(n):0}}),ll=Mt((E,P)=>{var i=ol(),t=Oe().isArrayOrTypedArray,a=lr().isTypedArraySpec,l=lr().decodeTypedArraySpec;P.exports=function(n,o,s,f,e){e||(e={});var p=e.isMinor,c=p?n.minor||{}:n,h=p?o.minor:o,_=p?"minor.":"";function y(k){var U=c[k];return a(U)&&(U=l(U)),U!==void 0?U:(h._template||{})[k]}var v=y("tick0"),g=y("dtick"),x=y("tickvals"),u=t(x)?"array":g?"linear":"auto",d=s(_+"tickmode",u);if(d==="auto"||d==="sync")s(_+"nticks");else if(d==="linear"){var m=h.dtick=i.dtick(g,f);h.tick0=i.tick0(v,f,o.calendar,m)}else if(f!=="multicategory"){var w=s(_+"tickvals");w===void 0?h.tickmode="auto":p||s("ticktext")}}}),sl=Mt((E,P)=>{var i=Oe(),t=rn();P.exports=function(a,l,n,o){var s=o.isMinor,f=s?a.minor||{}:a,e=s?l.minor:l,p=s?t.minor:t,c=s?"minor.":"",h=i.coerce2(f,e,p,"ticklen",s?(l.ticklen||5)*.6:void 0),_=i.coerce2(f,e,p,"tickwidth",s?l.tickwidth||1:void 0),y=i.coerce2(f,e,p,"tickcolor",(s?l.tickcolor:void 0)||e.color),v=n(c+"ticks",!s&&o.outerTicks||h||_||y?"outside":"");v||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}}),ul=Mt((E,P)=>{P.exports=function(i){var t=["showexponent","showtickprefix","showticksuffix"],a=t.filter(function(n){return i[n]!==void 0}),l=function(n){return i[n]===i[a[0]]};if(a.every(l)||a.length===1)return i[a[0]]}}),nn=Mt((E,P)=>{var i=Oe(),t=$a();P.exports=function(a,l,n){var o=n.name,s=n.inclusionAttr||"visible",f=l[o],e=i.isArrayOrTypedArray(a[o])?a[o]:[],p=l[o]=[],c=t.arrayTemplater(l,o,s),h,_;for(h=0;h<e.length;h++){var y=e[h];i.isPlainObject(y)?_=c.newItem(y):(_=c.newItem({}),_[s]=!1),_._index=h,_[s]!==!1&&n.handleItemDefaults(y,_,l,n),p.push(_)}var v=c.defaultItems();for(h=0;h<v.length;h++)_=v[h],_._index=p.length,n.handleItemDefaults({},_,l,n,{}),p.push(_);if(i.isArrayOrTypedArray(f)){var g=Math.min(f.length,p.length);for(h=0;h<g;h++)i.relinkPrivateKeys(p[h],f[h])}return p}}),cl=Mt((E,P)=>{var i=Oe(),t=Ta().contrast,a=rn(),l=ul(),n=nn();P.exports=function(s,f,e,p,c){c||(c={});var h=e("labelalias");i.isPlainObject(h)||delete f.labelalias;var _=l(s),y=e("showticklabels");if(y){c.noTicklabelshift||e("ticklabelshift"),c.noTicklabelstandoff||e("ticklabelstandoff");var v=c.font||{},g=f.color,x=f.ticklabelposition||"",u=x.indexOf("inside")!==-1?t(c.bgColor):g&&g!==a.color.dflt?g:v.color;if(i.coerceFont(e,"tickfont",v,{overrideDflt:{color:u}}),!c.noTicklabelstep&&p!=="multicategory"&&p!=="log"&&e("ticklabelstep"),!c.noAng){var d=e("tickangle");!c.noAutotickangles&&d==="auto"&&e("autotickangles")}if(p!=="category"){var m=e("tickformat");n(s,f,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:o}),f.tickformatstops.length||delete f.tickformatstops,!c.noExp&&!m&&p!=="date"&&(e("showexponent",_),e("exponentformat"),e("minexponent"),e("separatethousands"))}!c.noMinorloglabels&&p==="log"&&e("minorloglabels")}};function o(s,f){function e(c,h){return i.coerce(s,f,a.tickformatstops,c,h)}var p=e("enabled");p&&(e("dtickrange"),e("value"))}}),fl=Mt((E,P)=>{var i=ul();P.exports=function(t,a,l,n,o){o||(o={});var s=o.tickSuffixDflt,f=i(t),e=l("tickprefix");e&&l("showtickprefix",f);var p=l("ticksuffix",s);p&&l("showticksuffix",f)}}),dl=Mt((E,P)=>{var i=Oe(),t=$a(),a=ll(),l=sl(),n=cl(),o=fl(),s=Gi();P.exports=function(f,e,p){var c=t.newContainer(e,"colorbar"),h=f.colorbar||{};function _(O,J){return i.coerce(h,c,s,O,J)}var y=p.margin||{t:0,b:0,l:0,r:0},v=p.width-y.l-y.r,g=p.height-y.t-y.b,x=_("orientation"),u=x==="v",d=_("thicknessmode");_("thickness",d==="fraction"?30/(u?v:g):30);var m=_("lenmode");_("len",m==="fraction"?1:u?g:v);var w=_("yref"),k=_("xref"),U=w==="paper",D=k==="paper",C,T,Y,z="left";u?(Y="middle",z=D?"left":"right",C=D?1.02:1,T=.5):(Y=U?"bottom":"top",z="center",C=.5,T=U?1.02:1),i.coerce(h,c,{x:{valType:"number",min:D?-2:0,max:D?3:1,dflt:C}},"x"),i.coerce(h,c,{y:{valType:"number",min:U?-2:0,max:U?3:1,dflt:T}},"y"),_("xanchor",z),_("xpad"),_("yanchor",Y),_("ypad"),i.noneOrAll(h,c,["x","y"]),_("outlinecolor"),_("outlinewidth"),_("bordercolor"),_("borderwidth"),_("bgcolor");var j=i.coerce(h,c,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:u?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");_("ticklabeloverflow",j.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(h,c,_,"linear");var F=p.font,R={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:F};j.indexOf("inside")!==-1&&(R.bgColor="black"),o(h,c,_,"linear",R),n(h,c,_,"linear",R),l(h,c,_,"linear",R),_("title.text",p._dfltTitle.colorbar);var Z=c.showticklabels?c.tickfont:F,G=i.extendFlat({},F,{family:Z.family,size:i.bigFont(Z.size)});i.coerceFont(_,"title.font",G),_("title.side",u?"top":"right")}}),Yn=Mt((E,P)=>{var i=ua(),t=Oe(),a=il(),l=dl(),n=Pn().isValid,o=da().traceIs;function s(f,e){var p=e.slice(0,e.length-1);return e?t.nestedProperty(f,p).get()||{}:f}P.exports=function f(e,p,c,h,_){var y=_.prefix,v=_.cLetter,g="_module"in p,x=s(e,y),u=s(p,y),d=s(p._template||{},y)||{},m=function(){return delete e.coloraxis,delete p.coloraxis,f(e,p,c,h,_)};if(g){var w=c._colorAxes||{},k=h(y+"coloraxis");if(k){var U=o(p,"contour")&&t.nestedProperty(p,"contours.coloring").get()||"heatmap",D=w[k];D?(D[2].push(m),D[0]!==U&&(D[0]=!1,t.warn(["Ignoring coloraxis:",k,"setting","as it is linked to incompatible colorscales."].join(" ")))):w[k]=[U,p,[m]];return}}var C=x[v+"min"],T=x[v+"max"],Y=i(C)&&i(T)&&C<T,z=h(y+v+"auto",!Y);z?h(y+v+"mid"):(h(y+v+"min"),h(y+v+"max"));var j=x.colorscale,F=d.colorscale,R;if(j!==void 0&&(R=!n(j)),F!==void 0&&(R=!n(F)),h(y+"autocolorscale",R),h(y+"colorscale"),h(y+"reversescale"),y!=="marker.line."){var Z;y&&g&&(Z=a(x));var G=h(y+"showscale",Z);G&&(y&&d&&(u._template=d),l(x,u,c))}}}),pc=Mt((E,P)=>{var i=Oe(),t=$a(),a=nl(),l=Yn();P.exports=function(n,o){function s(v,g){return i.coerce(n,o,a,v,g)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var f=o._colorAxes,e,p;function c(v,g){return i.coerce(e,p,a.coloraxis,v,g)}for(var h in f){var _=f[h];if(_[0])e=n[h]||{},p=t.newContainer(o,h,"coloraxis"),p._name=h,l(e,p,o,c,{prefix:"",cLetter:"c"});else{for(var y=0;y<_[2].length;y++)_[2][y]();delete o._colorAxes[h]}}}}),vc=Mt((E,P)=>{var i=Oe(),t=$r().hasColorscale,a=$r().extractOpts;P.exports=function(l,n){function o(_,y){var v=_["_"+y];v!==void 0&&(_[y]=v)}function s(_,y){var v=y.container?i.nestedProperty(_,y.container).get():_;if(v)if(v.coloraxis)v._colorAx=n[v.coloraxis];else{var g=a(v),x=g.auto;(x||g.min===void 0)&&o(v,y.min),(x||g.max===void 0)&&o(v,y.max),g.autocolorscale&&o(v,"colorscale")}}for(var f=0;f<l.length;f++){var e=l[f],p=e._module.colorbar;if(p)if(Array.isArray(p))for(var c=0;c<p.length;c++)s(e,p[c]);else s(e,p);t(e,"marker.line")&&s(e,{container:"marker.line",min:"cmin",max:"cmax"})}for(var h in n._colorAxes)s(n[h],{min:"cmin",max:"cmax"})}}),Ji=Mt((E,P)=>{var i=ua(),t=Oe(),a=$r().extractOpts;P.exports=function(l,n,o){var s=l._fullLayout,f=o.vals,e=o.containerStr,p=e?t.nestedProperty(n,e).get():n,c=a(p),h=c.auto!==!1,_=c.min,y=c.max,v=c.mid,g=function(){return t.aggNums(Math.min,null,f)},x=function(){return t.aggNums(Math.max,null,f)};if(_===void 0?_=g():h&&(p._colorAx&&i(_)?_=Math.min(_,g()):_=g()),y===void 0?y=x():h&&(p._colorAx&&i(y)?y=Math.max(y,x()):y=x()),h&&v!==void 0&&(y-v>v-_?_=v-(y-v):y-v<v-_&&(y=v+(v-_))),_===y&&(_-=.5,y+=.5),c._sync("min",_),c._sync("max",y),c.autocolorscale){var u;_*y<0?u=s.colorscale.diverging:_>=0?u=s.colorscale.sequential:u=s.colorscale.sequentialminus,c._sync("colorscale",u)}}}),hl=Mt((E,P)=>{var i=Pn(),t=$r();P.exports={moduleType:"component",name:"colorscale",attributes:li(),layoutAttributes:nl(),supplyLayoutDefaults:pc(),handleDefaults:Yn(),crossTraceDefaults:vc(),calc:Ji(),scales:i.scales,defaultScale:i.defaultScale,getScale:i.get,isValidScale:i.isValid,hasColorscale:t.hasColorscale,extractOpts:t.extractOpts,extractScale:t.extractScale,flipScale:t.flipScale,makeColorScaleFunc:t.makeColorScaleFunc,makeColorScaleFuncFromTrace:t.makeColorScaleFuncFromTrace}}),Gr=Mt((E,P)=>{var i=Oe(),t=lr().isTypedArraySpec;P.exports={hasLines:function(a){return a.visible&&a.mode&&a.mode.indexOf("lines")!==-1},hasMarkers:function(a){return a.visible&&(a.mode&&a.mode.indexOf("markers")!==-1||a.type==="splom")},hasText:function(a){return a.visible&&a.mode&&a.mode.indexOf("text")!==-1},isBubble:function(a){var l=a.marker;return i.isPlainObject(l)&&(i.isArrayOrTypedArray(l.size)||t(l.size))}}}),gc=Mt((E,P)=>{var i=ua();P.exports=function(t,a){a||(a=2);var l=t.marker,n=l.sizeref||1,o=l.sizemin||0,s=l.sizemode==="area"?function(f){return Math.sqrt(f/n)}:function(f){return f/n};return function(f){var e=s(f/a);return i(e)&&e>0?Math.max(e,o):0}}}),gn=Mt(E=>{var P=Oe();E.getSubplot=function(o){return o.subplot||o.xaxis+o.yaxis||o.geo},E.isTraceInSubplots=function(o,s){if(o.type==="splom"){for(var f=o.xaxes||[],e=o.yaxes||[],p=0;p<f.length;p++)for(var c=0;c<e.length;c++)if(s.indexOf(f[p]+e[c])!==-1)return!0;return!1}return s.indexOf(E.getSubplot(o))!==-1},E.flat=function(o,s){for(var f=new Array(o.length),e=0;e<o.length;e++)f[e]=s;return f},E.p2c=function(o,s){for(var f=new Array(o.length),e=0;e<o.length;e++)f[e]=o[e].p2c(s);return f},E.getDistanceFunction=function(o,s,f,e){return o==="closest"?e||E.quadrature(s,f):o.charAt(0)==="x"?s:f},E.getClosest=function(o,s,f){if(f.index!==!1)f.index>=0&&f.index<o.length?f.distance=0:f.index=!1;else for(var e=1/0,p=o.length,c=0;c<p;c++)e=s(o[c]),e<=f.distance&&(f.index=c,f.distance=e);return f},E.inbox=function(o,s,f){return o*s<0||o===0?f:1/0},E.quadrature=function(o,s){return function(f){var e=o(f),p=s(f);return Math.sqrt(e*e+p*p)}},E.makeEventData=function(o,s,f){var e="index"in o?o.index:o.pointNumber,p={data:s._input,fullData:s,curveNumber:s.index,pointNumber:e};if(s._indexToPoints){var c=s._indexToPoints[e];c.length===1?p.pointIndex=c[0]:p.pointIndices=c}else p.pointIndex=e;return s._module.eventData?p=s._module.eventData(p,o,s,f,e):("xVal"in o?p.x=o.xVal:"x"in o&&(p.x=o.x),"yVal"in o?p.y=o.yVal:"y"in o&&(p.y=o.y),o.xa&&(p.xaxis=o.xa),o.ya&&(p.yaxis=o.ya),o.zLabelVal!==void 0&&(p.z=o.zLabelVal)),E.appendArrayPointValue(p,s,e),p},E.appendArrayPointValue=function(o,s,f){var e=s._arrayAttrs;if(e)for(var p=0;p<e.length;p++){var c=e[p],h=t(c);if(o[h]===void 0){var _=P.nestedProperty(s,c).get(),y=a(_,f);y!==void 0&&(o[h]=y)}}},E.appendArrayMultiPointValues=function(o,s,f){var e=s._arrayAttrs;if(e)for(var p=0;p<e.length;p++){var c=e[p],h=t(c);if(o[h]===void 0){for(var _=P.nestedProperty(s,c).get(),y=new Array(f.length),v=0;v<f.length;v++)y[v]=a(_,f[v]);o[h]=y}}};var i={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function t(o){return i[o]||o}function a(o,s){if(Array.isArray(s)){if(Array.isArray(o)&&Array.isArray(o[s[0]]))return o[s[0]][s[1]]}else return o[s]}var l={x:!0,y:!0},n={"x unified":!0,"y unified":!0};E.isUnifiedHover=function(o){return typeof o!="string"?!1:!!n[o]},E.isXYhover=function(o){return typeof o!="string"?!1:!!l[o]}}),pl=Mt((E,P)=>{P.exports=a;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function a(o){var s=[];return o.replace(t,function(f,e,p){var c=e.toLowerCase();for(p=n(p),c=="m"&&p.length>2&&(s.push([e].concat(p.splice(0,2))),c="l",e=e=="m"?"l":"L");;){if(p.length==i[c])return p.unshift(e),s.push(p);if(p.length<i[c])throw new Error("malformed path data");s.push([e].concat(p.splice(0,i[c])))}}),s}var l=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function n(o){var s=o.match(l);return s?s.map(Number):[]}}),mc=Mt((E,P)=>{var i=pl(),t=function(v,g){return g?Math.round(v*(g=Math.pow(10,g)))/g:Math.round(v)},a="M0,0Z",l=Math.sqrt(2),n=Math.sqrt(3),o=Math.PI,s=Math.cos,f=Math.sin;P.exports={circle:{n:0,f:function(v,g,x){if(e(g))return a;var u=t(v,2),d="M"+u+",0A"+u+","+u+" 0 1,1 0,-"+u+"A"+u+","+u+" 0 0,1 "+u+",0Z";return x?y(g,x,d):d}},square:{n:1,f:function(v,g,x){if(e(g))return a;var u=t(v,2);return y(g,x,"M"+u+","+u+"H-"+u+"V-"+u+"H"+u+"Z")}},diamond:{n:2,f:function(v,g,x){if(e(g))return a;var u=t(v*1.3,2);return y(g,x,"M"+u+",0L0,"+u+"L-"+u+",0L0,-"+u+"Z")}},cross:{n:3,f:function(v,g,x){if(e(g))return a;var u=t(v*.4,2),d=t(v*1.2,2);return y(g,x,"M"+d+","+u+"H"+u+"V"+d+"H-"+u+"V"+u+"H-"+d+"V-"+u+"H-"+u+"V-"+d+"H"+u+"V-"+u+"H"+d+"Z")}},x:{n:4,f:function(v,g,x){if(e(g))return a;var u=t(v*.8/l,2),d="l"+u+","+u,m="l"+u+",-"+u,w="l-"+u+",-"+u,k="l-"+u+","+u;return y(g,x,"M0,"+u+d+m+w+m+w+k+w+k+d+k+d+"Z")}},"triangle-up":{n:5,f:function(v,g,x){if(e(g))return a;var u=t(v*2/n,2),d=t(v/2,2),m=t(v,2);return y(g,x,"M-"+u+","+d+"H"+u+"L0,-"+m+"Z")}},"triangle-down":{n:6,f:function(v,g,x){if(e(g))return a;var u=t(v*2/n,2),d=t(v/2,2),m=t(v,2);return y(g,x,"M-"+u+",-"+d+"H"+u+"L0,"+m+"Z")}},"triangle-left":{n:7,f:function(v,g,x){if(e(g))return a;var u=t(v*2/n,2),d=t(v/2,2),m=t(v,2);return y(g,x,"M"+d+",-"+u+"V"+u+"L-"+m+",0Z")}},"triangle-right":{n:8,f:function(v,g,x){if(e(g))return a;var u=t(v*2/n,2),d=t(v/2,2),m=t(v,2);return y(g,x,"M-"+d+",-"+u+"V"+u+"L"+m+",0Z")}},"triangle-ne":{n:9,f:function(v,g,x){if(e(g))return a;var u=t(v*.6,2),d=t(v*1.2,2);return y(g,x,"M-"+d+",-"+u+"H"+u+"V"+d+"Z")}},"triangle-se":{n:10,f:function(v,g,x){if(e(g))return a;var u=t(v*.6,2),d=t(v*1.2,2);return y(g,x,"M"+u+",-"+d+"V"+u+"H-"+d+"Z")}},"triangle-sw":{n:11,f:function(v,g,x){if(e(g))return a;var u=t(v*.6,2),d=t(v*1.2,2);return y(g,x,"M"+d+","+u+"H-"+u+"V-"+d+"Z")}},"triangle-nw":{n:12,f:function(v,g,x){if(e(g))return a;var u=t(v*.6,2),d=t(v*1.2,2);return y(g,x,"M-"+u+","+d+"V-"+u+"H"+d+"Z")}},pentagon:{n:13,f:function(v,g,x){if(e(g))return a;var u=t(v*.951,2),d=t(v*.588,2),m=t(-v,2),w=t(v*-.309,2),k=t(v*.809,2);return y(g,x,"M"+u+","+w+"L"+d+","+k+"H-"+d+"L-"+u+","+w+"L0,"+m+"Z")}},hexagon:{n:14,f:function(v,g,x){if(e(g))return a;var u=t(v,2),d=t(v/2,2),m=t(v*n/2,2);return y(g,x,"M"+m+",-"+d+"V"+d+"L0,"+u+"L-"+m+","+d+"V-"+d+"L0,-"+u+"Z")}},hexagon2:{n:15,f:function(v,g,x){if(e(g))return a;var u=t(v,2),d=t(v/2,2),m=t(v*n/2,2);return y(g,x,"M-"+d+","+m+"H"+d+"L"+u+",0L"+d+",-"+m+"H-"+d+"L-"+u+",0Z")}},octagon:{n:16,f:function(v,g,x){if(e(g))return a;var u=t(v*.924,2),d=t(v*.383,2);return y(g,x,"M-"+d+",-"+u+"H"+d+"L"+u+",-"+d+"V"+d+"L"+d+","+u+"H-"+d+"L-"+u+","+d+"V-"+d+"Z")}},star:{n:17,f:function(v,g,x){if(e(g))return a;var u=v*1.4,d=t(u*.225,2),m=t(u*.951,2),w=t(u*.363,2),k=t(u*.588,2),U=t(-u,2),D=t(u*-.309,2),C=t(u*.118,2),T=t(u*.809,2),Y=t(u*.382,2);return y(g,x,"M"+d+","+D+"H"+m+"L"+w+","+C+"L"+k+","+T+"L0,"+Y+"L-"+k+","+T+"L-"+w+","+C+"L-"+m+","+D+"H-"+d+"L0,"+U+"Z")}},hexagram:{n:18,f:function(v,g,x){if(e(g))return a;var u=t(v*.66,2),d=t(v*.38,2),m=t(v*.76,2);return y(g,x,"M-"+m+",0l-"+d+",-"+u+"h"+m+"l"+d+",-"+u+"l"+d+","+u+"h"+m+"l-"+d+","+u+"l"+d+","+u+"h-"+m+"l-"+d+","+u+"l-"+d+",-"+u+"h-"+m+"Z")}},"star-triangle-up":{n:19,f:function(v,g,x){if(e(g))return a;var u=t(v*n*.8,2),d=t(v*.8,2),m=t(v*1.6,2),w=t(v*4,2),k="A "+w+","+w+" 0 0 1 ";return y(g,x,"M-"+u+","+d+k+u+","+d+k+"0,-"+m+k+"-"+u+","+d+"Z")}},"star-triangle-down":{n:20,f:function(v,g,x){if(e(g))return a;var u=t(v*n*.8,2),d=t(v*.8,2),m=t(v*1.6,2),w=t(v*4,2),k="A "+w+","+w+" 0 0 1 ";return y(g,x,"M"+u+",-"+d+k+"-"+u+",-"+d+k+"0,"+m+k+u+",-"+d+"Z")}},"star-square":{n:21,f:function(v,g,x){if(e(g))return a;var u=t(v*1.1,2),d=t(v*2,2),m="A "+d+","+d+" 0 0 1 ";return y(g,x,"M-"+u+",-"+u+m+"-"+u+","+u+m+u+","+u+m+u+",-"+u+m+"-"+u+",-"+u+"Z")}},"star-diamond":{n:22,f:function(v,g,x){if(e(g))return a;var u=t(v*1.4,2),d=t(v*1.9,2),m="A "+d+","+d+" 0 0 1 ";return y(g,x,"M-"+u+",0"+m+"0,"+u+m+u+",0"+m+"0,-"+u+m+"-"+u+",0Z")}},"diamond-tall":{n:23,f:function(v,g,x){if(e(g))return a;var u=t(v*.7,2),d=t(v*1.4,2);return y(g,x,"M0,"+d+"L"+u+",0L0,-"+d+"L-"+u+",0Z")}},"diamond-wide":{n:24,f:function(v,g,x){if(e(g))return a;var u=t(v*1.4,2),d=t(v*.7,2);return y(g,x,"M0,"+d+"L"+u+",0L0,-"+d+"L-"+u+",0Z")}},hourglass:{n:25,f:function(v,g,x){if(e(g))return a;var u=t(v,2);return y(g,x,"M"+u+","+u+"H-"+u+"L"+u+",-"+u+"H-"+u+"Z")},noDot:!0},bowtie:{n:26,f:function(v,g,x){if(e(g))return a;var u=t(v,2);return y(g,x,"M"+u+","+u+"V-"+u+"L-"+u+","+u+"V-"+u+"Z")},noDot:!0},"circle-cross":{n:27,f:function(v,g,x){if(e(g))return a;var u=t(v,2);return y(g,x,"M0,"+u+"V-"+u+"M"+u+",0H-"+u+"M"+u+",0A"+u+","+u+" 0 1,1 0,-"+u+"A"+u+","+u+" 0 0,1 "+u+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(v,g,x){if(e(g))return a;var u=t(v,2),d=t(v/l,2);return y(g,x,"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d+"M"+u+",0A"+u+","+u+" 0 1,1 0,-"+u+"A"+u+","+u+" 0 0,1 "+u+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(v,g,x){if(e(g))return a;var u=t(v,2);return y(g,x,"M0,"+u+"V-"+u+"M"+u+",0H-"+u+"M"+u+","+u+"H-"+u+"V-"+u+"H"+u+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(v,g,x){if(e(g))return a;var u=t(v,2);return y(g,x,"M"+u+","+u+"L-"+u+",-"+u+"M"+u+",-"+u+"L-"+u+","+u+"M"+u+","+u+"H-"+u+"V-"+u+"H"+u+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(v,g,x){if(e(g))return a;var u=t(v*1.3,2);return y(g,x,"M"+u+",0L0,"+u+"L-"+u+",0L0,-"+u+"ZM0,-"+u+"V"+u+"M-"+u+",0H"+u)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(v,g,x){if(e(g))return a;var u=t(v*1.3,2),d=t(v*.65,2);return y(g,x,"M"+u+",0L0,"+u+"L-"+u+",0L0,-"+u+"ZM-"+d+",-"+d+"L"+d+","+d+"M-"+d+","+d+"L"+d+",-"+d)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(v,g,x){if(e(g))return a;var u=t(v*1.4,2);return y(g,x,"M0,"+u+"V-"+u+"M"+u+",0H-"+u)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(v,g,x){if(e(g))return a;var u=t(v,2);return y(g,x,"M"+u+","+u+"L-"+u+",-"+u+"M"+u+",-"+u+"L-"+u+","+u)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(v,g,x){if(e(g))return a;var u=t(v*1.2,2),d=t(v*.85,2);return y(g,x,"M0,"+u+"V-"+u+"M"+u+",0H-"+u+"M"+d+","+d+"L-"+d+",-"+d+"M"+d+",-"+d+"L-"+d+","+d)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(v,g,x){if(e(g))return a;var u=t(v/2,2),d=t(v,2);return y(g,x,"M"+u+","+d+"V-"+d+"M"+(u-d)+",-"+d+"V"+d+"M"+d+","+u+"H-"+d+"M-"+d+","+(u-d)+"H"+d)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(v,g,x){if(e(g))return a;var u=t(v*1.2,2),d=t(v*1.6,2),m=t(v*.8,2);return y(g,x,"M-"+u+","+m+"L0,0M"+u+","+m+"L0,0M0,-"+d+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(v,g,x){if(e(g))return a;var u=t(v*1.2,2),d=t(v*1.6,2),m=t(v*.8,2);return y(g,x,"M-"+u+",-"+m+"L0,0M"+u+",-"+m+"L0,0M0,"+d+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(v,g,x){if(e(g))return a;var u=t(v*1.2,2),d=t(v*1.6,2),m=t(v*.8,2);return y(g,x,"M"+m+","+u+"L0,0M"+m+",-"+u+"L0,0M-"+d+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(v,g,x){if(e(g))return a;var u=t(v*1.2,2),d=t(v*1.6,2),m=t(v*.8,2);return y(g,x,"M-"+m+","+u+"L0,0M-"+m+",-"+u+"L0,0M"+d+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(v,g,x){if(e(g))return a;var u=t(v*1.4,2);return y(g,x,"M"+u+",0H-"+u)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(v,g,x){if(e(g))return a;var u=t(v*1.4,2);return y(g,x,"M0,"+u+"V-"+u)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(v,g,x){if(e(g))return a;var u=t(v,2);return y(g,x,"M"+u+",-"+u+"L-"+u+","+u)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(v,g,x){if(e(g))return a;var u=t(v,2);return y(g,x,"M"+u+","+u+"L-"+u+",-"+u)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(v,g,x){if(e(g))return a;var u=t(v,2),d=t(v*2,2);return y(g,x,"M0,0L-"+u+","+d+"H"+u+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(v,g,x){if(e(g))return a;var u=t(v,2),d=t(v*2,2);return y(g,x,"M0,0L-"+u+",-"+d+"H"+u+"Z")},noDot:!0},"arrow-left":{n:47,f:function(v,g,x){if(e(g))return a;var u=t(v*2,2),d=t(v,2);return y(g,x,"M0,0L"+u+",-"+d+"V"+d+"Z")},noDot:!0},"arrow-right":{n:48,f:function(v,g,x){if(e(g))return a;var u=t(v*2,2),d=t(v,2);return y(g,x,"M0,0L-"+u+",-"+d+"V"+d+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(v,g,x){if(e(g))return a;var u=t(v,2),d=t(v*2,2);return y(g,x,"M-"+u+",0H"+u+"M0,0L-"+u+","+d+"H"+u+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(v,g,x){if(e(g))return a;var u=t(v,2),d=t(v*2,2);return y(g,x,"M-"+u+",0H"+u+"M0,0L-"+u+",-"+d+"H"+u+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(v,g,x){if(e(g))return a;var u=t(v*2,2),d=t(v,2);return y(g,x,"M0,-"+d+"V"+d+"M0,0L"+u+",-"+d+"V"+d+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(v,g,x){if(e(g))return a;var u=t(v*2,2),d=t(v,2);return y(g,x,"M0,-"+d+"V"+d+"M0,0L-"+u+",-"+d+"V"+d+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(v,g,x){if(e(g))return a;var u=o/2.5,d=2*v*s(u),m=2*v*f(u);return y(g,x,"M0,0L"+-d+","+m+"L"+d+","+m+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(v,g,x){if(e(g))return a;var u=o/4,d=2*v*s(u),m=2*v*f(u);return y(g,x,"M0,0L"+-d+","+m+"A "+2*v+","+2*v+" 0 0 1 "+d+","+m+"Z")},backoff:.4,noDot:!0}};function e(v){return v===null}var p,c,h,_;function y(v,g,x){if((!v||v%360===0)&&!g)return x;if(h===v&&_===g&&p===x)return c;h=v,_=g,p=x;function u(R,Z){var G=s(R),O=f(R),J=Z[0],X=Z[1]+(g||0);return[J*G-X*O,J*O+X*G]}for(var d=v/180*o,m=0,w=0,k=i(x),U="",D=0;D<k.length;D++){var C=k[D],T=C[0],Y=m,z=w;if(T==="M"||T==="L")m=+C[1],w=+C[2];else if(T==="m"||T==="l")m+=+C[1],w+=+C[2];else if(T==="H")m=+C[1];else if(T==="h")m+=+C[1];else if(T==="V")w=+C[1];else if(T==="v")w+=+C[1];else if(T==="A"){m=+C[1],w=+C[2];var j=u(d,[+C[6],+C[7]]);C[6]=j[0],C[7]=j[1],C[3]=+C[3]+v}(T==="H"||T==="V")&&(T="L"),(T==="h"||T==="v")&&(T="l"),(T==="m"||T==="l")&&(m-=Y,w-=z);var F=u(d,[m,w]);(T==="H"||T==="V")&&(T="L"),(T==="M"||T==="L"||T==="m"||T==="l")&&(C[1]=F[0],C[2]=F[1]),C[0]=T,U+=C[0]+C.slice(1).join(",")}return c=U,U}}),Ga=Mt((E,P)=>{var i=Ke(),t=Oe(),a=t.numberFormat,l=ua(),n=Yr(),o=da(),s=Ta(),f=hl(),e=t.strTranslate,p=Pr(),c=En(),h=Rr(),_=h.LINE_SPACING,y=Ri().DESELECTDIM,v=Gr(),g=gc(),x=gn().appendArrayPointValue,u=P.exports={};u.font=function(vt,xt){var lt=xt.variant,At=xt.style,Rt=xt.weight,Ut=xt.color,te=xt.size,Wt=xt.family,ae=xt.shadow,ne=xt.lineposition,re=xt.textcase;Wt&&vt.style("font-family",Wt),te+1&&vt.style("font-size",te+"px"),Ut&&vt.call(s.fill,Ut),Rt&&vt.style("font-weight",Rt),At&&vt.style("font-style",At),lt&&vt.style("font-variant",lt),re&&vt.style("text-transform",d(w(re))),ae&&vt.style("text-shadow",ae==="auto"?p.makeTextShadow(s.contrast(Ut)):d(ae)),ne&&vt.style("text-decoration-line",d(k(ne)))};function d(vt){return vt==="none"?void 0:vt}var m={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function w(vt){return m[vt]}function k(vt){return vt.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}u.setPosition=function(vt,xt,lt){vt.attr("x",xt).attr("y",lt)},u.setSize=function(vt,xt,lt){vt.attr("width",xt).attr("height",lt)},u.setRect=function(vt,xt,lt,At,Rt){vt.call(u.setPosition,xt,lt).call(u.setSize,At,Rt)},u.translatePoint=function(vt,xt,lt,At){var Rt=lt.c2p(vt.x),Ut=At.c2p(vt.y);if(l(Rt)&&l(Ut)&&xt.node())xt.node().nodeName==="text"?xt.attr("x",Rt).attr("y",Ut):xt.attr("transform",e(Rt,Ut));else return!1;return!0},u.translatePoints=function(vt,xt,lt){vt.each(function(At){var Rt=i.select(this);u.translatePoint(At,Rt,xt,lt)})},u.hideOutsideRangePoint=function(vt,xt,lt,At,Rt,Ut){xt.attr("display",lt.isPtWithinRange(vt,Rt)&&At.isPtWithinRange(vt,Ut)?null:"none")},u.hideOutsideRangePoints=function(vt,xt){if(xt._hasClipOnAxisFalse){var lt=xt.xaxis,At=xt.yaxis;vt.each(function(Rt){var Ut=Rt[0].trace,te=Ut.xcalendar,Wt=Ut.ycalendar,ae=o.traceIs(Ut,"bar-like")?".bartext":".point,.textpoint";vt.selectAll(ae).each(function(ne){u.hideOutsideRangePoint(ne,i.select(this),lt,At,te,Wt)})})}},u.crispRound=function(vt,xt,lt){return!xt||!l(xt)?lt||0:vt._context.staticPlot?xt:xt<1?1:Math.round(xt)},u.singleLineStyle=function(vt,xt,lt,At,Rt){xt.style("fill","none");var Ut=(((vt||[])[0]||{}).trace||{}).line||{},te=lt||Ut.width||0,Wt=Rt||Ut.dash||"";s.stroke(xt,At||Ut.color),u.dashLine(xt,Wt,te)},u.lineGroupStyle=function(vt,xt,lt,At){vt.style("fill","none").each(function(Rt){var Ut=(((Rt||[])[0]||{}).trace||{}).line||{},te=xt||Ut.width||0,Wt=At||Ut.dash||"";i.select(this).call(s.stroke,lt||Ut.color).call(u.dashLine,Wt,te)})},u.dashLine=function(vt,xt,lt){lt=+lt||0,xt=u.dashStyle(xt,lt),vt.style({"stroke-dasharray":xt,"stroke-width":lt+"px"})},u.dashStyle=function(vt,xt){xt=+xt||1;var lt=Math.max(xt,3);return vt==="solid"?vt="":vt==="dot"?vt=lt+"px,"+lt+"px":vt==="dash"?vt=3*lt+"px,"+3*lt+"px":vt==="longdash"?vt=5*lt+"px,"+5*lt+"px":vt==="dashdot"?vt=3*lt+"px,"+lt+"px,"+lt+"px,"+lt+"px":vt==="longdashdot"&&(vt=5*lt+"px,"+2*lt+"px,"+lt+"px,"+2*lt+"px"),vt};function U(vt,xt,lt,At){var Rt=xt.fillpattern,Ut=xt.fillgradient,te=u.getPatternAttr,Wt=Rt&&(te(Rt.shape,0,"")||te(Rt.path,0,""));if(Wt){var ae=te(Rt.bgcolor,0,null),ne=te(Rt.fgcolor,0,null),re=Rt.fgopacity,de=te(Rt.size,0,8),$t=te(Rt.solidity,0,.3),ve=xt.uid;u.pattern(vt,"point",lt,ve,Wt,de,$t,void 0,Rt.fillmode,ae,ne,re)}else if(Ut&&Ut.type!=="none"){var xe=Ut.type,pe="scatterfill-"+xt.uid;if(At&&(pe="legendfill-"+xt.uid),!At&&(Ut.start!==void 0||Ut.stop!==void 0)){var _e,mt;xe==="horizontal"?(_e={x:Ut.start,y:0},mt={x:Ut.stop,y:0}):xe==="vertical"&&(_e={x:0,y:Ut.start},mt={x:0,y:Ut.stop}),_e.x=xt._xA.c2p(_e.x===void 0?xt._extremes.x.min[0].val:_e.x,!0),_e.y=xt._yA.c2p(_e.y===void 0?xt._extremes.y.min[0].val:_e.y,!0),mt.x=xt._xA.c2p(mt.x===void 0?xt._extremes.x.max[0].val:mt.x,!0),mt.y=xt._yA.c2p(mt.y===void 0?xt._extremes.y.max[0].val:mt.y,!0),vt.call(F,lt,pe,"linear",Ut.colorscale,"fill",_e,mt,!0,!1)}else xe==="horizontal"&&(xe=xe+"reversed"),vt.call(u.gradient,lt,pe,xe,Ut.colorscale,"fill")}else xt.fillcolor&&vt.call(s.fill,xt.fillcolor)}u.singleFillStyle=function(vt,xt){var lt=i.select(vt.node()),At=lt.data(),Rt=((At[0]||[])[0]||{}).trace||{};U(vt,Rt,xt,!1)},u.fillGroupStyle=function(vt,xt,lt){vt.style("stroke-width",0).each(function(At){var Rt=i.select(this);At[0].trace&&U(Rt,At[0].trace,xt,lt)})};var D=mc();u.symbolNames=[],u.symbolFuncs=[],u.symbolBackOffs=[],u.symbolNeedLines={},u.symbolNoDot={},u.symbolNoFill={},u.symbolList=[],Object.keys(D).forEach(function(vt){var xt=D[vt],lt=xt.n;u.symbolList.push(lt,String(lt),vt,lt+100,String(lt+100),vt+"-open"),u.symbolNames[lt]=vt,u.symbolFuncs[lt]=xt.f,u.symbolBackOffs[lt]=xt.backoff||0,xt.needLine&&(u.symbolNeedLines[lt]=!0),xt.noDot?u.symbolNoDot[lt]=!0:u.symbolList.push(lt+200,String(lt+200),vt+"-dot",lt+300,String(lt+300),vt+"-open-dot"),xt.noFill&&(u.symbolNoFill[lt]=!0)});var C=u.symbolNames.length,T="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";u.symbolNumber=function(vt){if(l(vt))vt=+vt;else if(typeof vt=="string"){var xt=0;vt.indexOf("-open")>0&&(xt=100,vt=vt.replace("-open","")),vt.indexOf("-dot")>0&&(xt+=200,vt=vt.replace("-dot","")),vt=u.symbolNames.indexOf(vt),vt>=0&&(vt+=xt)}return vt%100>=C||vt>=400?0:Math.floor(Math.max(vt,0))};function Y(vt,xt,lt,At){var Rt=vt%100;return u.symbolFuncs[Rt](xt,lt,At)+(vt>=200?T:"")}var z=a("~f"),j={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};u.gradient=function(vt,xt,lt,At,Rt,Ut){var te=j[At];return F(vt,xt,lt,te.type,Rt,Ut,te.start,te.stop,!1,te.reversed)};function F(vt,xt,lt,At,Rt,Ut,te,Wt,ae,ne){var re=Rt.length,de;At==="linear"?de={node:"linearGradient",attrs:{x1:te.x,y1:te.y,x2:Wt.x,y2:Wt.y,gradientUnits:ae?"userSpaceOnUse":"objectBoundingBox"},reversed:ne}:At==="radial"&&(de={node:"radialGradient",reversed:ne});for(var $t=new Array(re),ve=0;ve<re;ve++)de.reversed?$t[re-1-ve]=[z((1-Rt[ve][0])*100),Rt[ve][1]]:$t[ve]=[z(Rt[ve][0]*100),Rt[ve][1]];var xe=xt._fullLayout,pe="g"+xe._uid+"-"+lt,_e=xe._defs.select(".gradients").selectAll("#"+pe).data([At+$t.join(";")],t.identity);_e.exit().remove(),_e.enter().append(de.node).each(function(){var mt=i.select(this);de.attrs&&mt.attr(de.attrs),mt.attr("id",pe);var Ct=mt.selectAll("stop").data($t);Ct.exit().remove(),Ct.enter().append("stop"),Ct.each(function(Q){var st=n(Q[1]);i.select(this).attr({offset:Q[0]+"%","stop-color":s.tinyRGB(st),"stop-opacity":st.getAlpha()})})}),vt.style(Ut,rt(pe,xt)).style(Ut+"-opacity",null),vt.classed("gradient_filled",!0)}u.pattern=function(vt,xt,lt,At,Rt,Ut,te,Wt,ae,ne,re,de){var $t=xt==="legend";Wt&&(ae==="overlay"?(ne=Wt,re=s.contrast(ne)):(ne=void 0,re=Wt));var ve=lt._fullLayout,xe="p"+ve._uid+"-"+At,pe,_e,mt=function(ie,oe,le,be,Ae){return be+(Ae-be)*(ie-oe)/(le-oe)},Ct,Q,st,ft,_t={},Tt=n(re),zt=s.tinyRGB(Tt),Ft=Tt.getAlpha(),Zt=de*Ft;switch(Rt){case"/":pe=Ut*Math.sqrt(2),_e=Ut*Math.sqrt(2),Ct="M-"+pe/4+","+_e/4+"l"+pe/2+",-"+_e/2+"M0,"+_e+"L"+pe+",0M"+pe/4*3+","+_e/4*5+"l"+pe/2+",-"+_e/2,Q=te*Ut,ft="path",_t={d:Ct,opacity:Zt,stroke:zt,"stroke-width":Q+"px"};break;case"\\":pe=Ut*Math.sqrt(2),_e=Ut*Math.sqrt(2),Ct="M"+pe/4*3+",-"+_e/4+"l"+pe/2+","+_e/2+"M0,0L"+pe+","+_e+"M-"+pe/4+","+_e/4*3+"l"+pe/2+","+_e/2,Q=te*Ut,ft="path",_t={d:Ct,opacity:Zt,stroke:zt,"stroke-width":Q+"px"};break;case"x":pe=Ut*Math.sqrt(2),_e=Ut*Math.sqrt(2),Ct="M-"+pe/4+","+_e/4+"l"+pe/2+",-"+_e/2+"M0,"+_e+"L"+pe+",0M"+pe/4*3+","+_e/4*5+"l"+pe/2+",-"+_e/2+"M"+pe/4*3+",-"+_e/4+"l"+pe/2+","+_e/2+"M0,0L"+pe+","+_e+"M-"+pe/4+","+_e/4*3+"l"+pe/2+","+_e/2,Q=Ut-Ut*Math.sqrt(1-te),ft="path",_t={d:Ct,opacity:Zt,stroke:zt,"stroke-width":Q+"px"};break;case"|":pe=Ut,_e=Ut,ft="path",Ct="M"+pe/2+",0L"+pe/2+","+_e,Q=te*Ut,ft="path",_t={d:Ct,opacity:Zt,stroke:zt,"stroke-width":Q+"px"};break;case"-":pe=Ut,_e=Ut,ft="path",Ct="M0,"+_e/2+"L"+pe+","+_e/2,Q=te*Ut,ft="path",_t={d:Ct,opacity:Zt,stroke:zt,"stroke-width":Q+"px"};break;case"+":pe=Ut,_e=Ut,ft="path",Ct="M"+pe/2+",0L"+pe/2+","+_e+"M0,"+_e/2+"L"+pe+","+_e/2,Q=Ut-Ut*Math.sqrt(1-te),ft="path",_t={d:Ct,opacity:Zt,stroke:zt,"stroke-width":Q+"px"};break;case".":pe=Ut,_e=Ut,te<Math.PI/4?st=Math.sqrt(te*Ut*Ut/Math.PI):st=mt(te,Math.PI/4,1,Ut/2,Ut/Math.sqrt(2)),ft="circle",_t={cx:pe/2,cy:_e/2,r:st,opacity:Zt,fill:zt};break;default:pe=Ut,_e=Ut,ft="path",_t={d:Rt,opacity:Zt,fill:zt};break}var qt=[Rt||"noSh",ne||"noBg",re||"noFg",Ut,te].join(";"),Yt=ve._defs.select(".patterns").selectAll("#"+xe).data([qt],t.identity);Yt.exit().remove(),Yt.enter().append("pattern").each(function(){var ie=i.select(this);if(ie.attr({id:xe,width:pe+"px",height:_e+"px",patternUnits:"userSpaceOnUse",patternTransform:$t?"scale(0.8)":""}),ne){var oe=n(ne),le=s.tinyRGB(oe),be=oe.getAlpha(),Ae=ie.selectAll("rect").data([0]);Ae.exit().remove(),Ae.enter().append("rect").attr({width:pe+"px",height:_e+"px",fill:le,"fill-opacity":be})}var Re=ie.selectAll(ft).data([0]);Re.exit().remove(),Re.enter().append(ft).attr(_t)}),vt.style("fill",rt(xe,lt)).style("fill-opacity",null),vt.classed("pattern_filled",!0)},u.initGradients=function(vt){var xt=vt._fullLayout,lt=t.ensureSingle(xt._defs,"g","gradients");lt.selectAll("linearGradient,radialGradient").remove(),i.select(vt).selectAll(".gradient_filled").classed("gradient_filled",!1)},u.initPatterns=function(vt){var xt=vt._fullLayout,lt=t.ensureSingle(xt._defs,"g","patterns");lt.selectAll("pattern").remove(),i.select(vt).selectAll(".pattern_filled").classed("pattern_filled",!1)},u.getPatternAttr=function(vt,xt,lt){return vt&&t.isArrayOrTypedArray(vt)?xt<vt.length?vt[xt]:lt:vt},u.pointStyle=function(vt,xt,lt,At){if(vt.size()){var Rt=u.makePointStyleFns(xt);vt.each(function(Ut){u.singlePointStyle(Ut,i.select(this),xt,Rt,lt,At)})}},u.singlePointStyle=function(vt,xt,lt,At,Rt,Ut){var te=lt.marker,Wt=te.line;if(Ut&&Ut.i>=0&&vt.i===void 0&&(vt.i=Ut.i),xt.style("opacity",At.selectedOpacityFn?At.selectedOpacityFn(vt):vt.mo===void 0?te.opacity:vt.mo),At.ms2mrc){var ae;vt.ms==="various"||te.size==="various"?ae=3:ae=At.ms2mrc(vt.ms),vt.mrc=ae,At.selectedSizeFn&&(ae=vt.mrc=At.selectedSizeFn(vt));var ne=u.symbolNumber(vt.mx||te.symbol)||0;vt.om=ne%200>=100;var re=Ht(vt,lt),de=S(vt,lt);xt.attr("d",Y(ne,ae,re,de))}var $t=!1,ve,xe,pe;if(vt.so)pe=Wt.outlierwidth,xe=Wt.outliercolor,ve=te.outliercolor;else{var _e=(Wt||{}).width;pe=(vt.mlw+1||_e+1||(vt.trace?(vt.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in vt?xe=vt.mlcc=At.lineScale(vt.mlc):t.isArrayOrTypedArray(Wt.color)?xe=s.defaultLine:xe=Wt.color,t.isArrayOrTypedArray(te.color)&&(ve=s.defaultLine,$t=!0),"mc"in vt?ve=vt.mcc=At.markerScale(vt.mc):ve=te.color||te.colors||"rgba(0,0,0,0)",At.selectedColorFn&&(ve=At.selectedColorFn(vt))}if(vt.om)xt.call(s.stroke,ve).style({"stroke-width":(pe||1)+"px",fill:"none"});else{xt.style("stroke-width",(vt.isBlank?0:pe)+"px");var mt=te.gradient,Ct=vt.mgt;Ct?$t=!0:Ct=mt&&mt.type,t.isArrayOrTypedArray(Ct)&&(Ct=Ct[0],j[Ct]||(Ct=0));var Q=te.pattern,st=u.getPatternAttr,ft=Q&&(st(Q.shape,vt.i,"")||st(Q.path,vt.i,""));if(Ct&&Ct!=="none"){var _t=vt.mgc;_t?$t=!0:_t=mt.color;var Tt=lt.uid;$t&&(Tt+="-"+vt.i),u.gradient(xt,Rt,Tt,Ct,[[0,_t],[1,ve]],"fill")}else if(ft){var zt=!1,Ft=Q.fgcolor;!Ft&&Ut&&Ut.color&&(Ft=Ut.color,zt=!0);var Zt=st(Ft,vt.i,Ut&&Ut.color||null),qt=st(Q.bgcolor,vt.i,null),Yt=Q.fgopacity,ie=st(Q.size,vt.i,8),oe=st(Q.solidity,vt.i,.3);zt=zt||vt.mcc||t.isArrayOrTypedArray(Q.shape)||t.isArrayOrTypedArray(Q.path)||t.isArrayOrTypedArray(Q.bgcolor)||t.isArrayOrTypedArray(Q.fgcolor)||t.isArrayOrTypedArray(Q.size)||t.isArrayOrTypedArray(Q.solidity);var le=lt.uid;zt&&(le+="-"+vt.i),u.pattern(xt,"point",Rt,le,ft,ie,oe,vt.mcc,Q.fillmode,qt,Zt,Yt)}else t.isArrayOrTypedArray(ve)?s.fill(xt,ve[vt.i]):s.fill(xt,ve);pe&&s.stroke(xt,xe)}},u.makePointStyleFns=function(vt){var xt={},lt=vt.marker;return xt.markerScale=u.tryColorscale(lt,""),xt.lineScale=u.tryColorscale(lt,"line"),o.traceIs(vt,"symbols")&&(xt.ms2mrc=v.isBubble(vt)?g(vt):function(){return(lt.size||6)/2}),vt.selectedpoints&&t.extendFlat(xt,u.makeSelectedPointStyleFns(vt)),xt},u.makeSelectedPointStyleFns=function(vt){var xt={},lt=vt.selected||{},At=vt.unselected||{},Rt=vt.marker||{},Ut=lt.marker||{},te=At.marker||{},Wt=Rt.opacity,ae=Ut.opacity,ne=te.opacity,re=ae!==void 0,de=ne!==void 0;(t.isArrayOrTypedArray(Wt)||re||de)&&(xt.selectedOpacityFn=function(st){var ft=st.mo===void 0?Rt.opacity:st.mo;return st.selected?re?ae:ft:de?ne:y*ft});var $t=Rt.color,ve=Ut.color,xe=te.color;(ve||xe)&&(xt.selectedColorFn=function(st){var ft=st.mcc||$t;return st.selected?ve||ft:xe||ft});var pe=Rt.size,_e=Ut.size,mt=te.size,Ct=_e!==void 0,Q=mt!==void 0;return o.traceIs(vt,"symbols")&&(Ct||Q)&&(xt.selectedSizeFn=function(st){var ft=st.mrc||pe/2;return st.selected?Ct?_e/2:ft:Q?mt/2:ft}),xt},u.makeSelectedTextStyleFns=function(vt){var xt={},lt=vt.selected||{},At=vt.unselected||{},Rt=vt.textfont||{},Ut=lt.textfont||{},te=At.textfont||{},Wt=Rt.color,ae=Ut.color,ne=te.color;return xt.selectedTextColorFn=function(re){var de=re.tc||Wt;return re.selected?ae||de:ne||(ae?de:s.addOpacity(de,y))},xt},u.selectedPointStyle=function(vt,xt){if(!(!vt.size()||!xt.selectedpoints)){var lt=u.makeSelectedPointStyleFns(xt),At=xt.marker||{},Rt=[];lt.selectedOpacityFn&&Rt.push(function(Ut,te){Ut.style("opacity",lt.selectedOpacityFn(te))}),lt.selectedColorFn&&Rt.push(function(Ut,te){s.fill(Ut,lt.selectedColorFn(te))}),lt.selectedSizeFn&&Rt.push(function(Ut,te){var Wt=te.mx||At.symbol||0,ae=lt.selectedSizeFn(te);Ut.attr("d",Y(u.symbolNumber(Wt),ae,Ht(te,xt),S(te,xt))),te.mrc2=ae}),Rt.length&&vt.each(function(Ut){for(var te=i.select(this),Wt=0;Wt<Rt.length;Wt++)Rt[Wt](te,Ut)})}},u.tryColorscale=function(vt,xt){var lt=xt?t.nestedProperty(vt,xt).get():vt;if(lt){var At=lt.color;if((lt.colorscale||lt._colorAx)&&t.isArrayOrTypedArray(At))return f.makeColorScaleFuncFromTrace(lt)}return t.identity};var R={start:1,end:-1,middle:0,bottom:1,top:-1};function Z(vt,xt,lt,At,Rt){var Ut=i.select(vt.node().parentNode),te=xt.indexOf("top")!==-1?"top":xt.indexOf("bottom")!==-1?"bottom":"middle",Wt=xt.indexOf("left")!==-1?"end":xt.indexOf("right")!==-1?"start":"middle",ae=At?At/.8+1:0,ne=(p.lineCount(vt)-1)*_+1,re=R[Wt]*ae,de=lt*.75+R[te]*ae+(R[te]-1)*ne*lt/2;vt.attr("text-anchor",Wt),Rt||Ut.attr("transform",e(re,de))}function G(vt,xt){var lt=vt.ts||xt.textfont.size;return l(lt)&&lt>0?lt:0}u.textPointStyle=function(vt,xt,lt){if(vt.size()){var At;if(xt.selectedpoints){var Rt=u.makeSelectedTextStyleFns(xt);At=Rt.selectedTextColorFn}var Ut=xt.texttemplate,te=lt._fullLayout;vt.each(function(Wt){var ae=i.select(this),ne=Ut?t.extractOption(Wt,xt,"txt","texttemplate"):t.extractOption(Wt,xt,"tx","text");if(!ne&&ne!==0){ae.remove();return}if(Ut){var re=xt._module.formatLabels,de=re?re(Wt,xt,te):{},$t={};x($t,xt,Wt.i);var ve=xt._meta||{};ne=t.texttemplateString(ne,de,te._d3locale,$t,Wt,ve)}var xe=Wt.tp||xt.textposition,pe=G(Wt,xt),_e=At?At(Wt):Wt.tc||xt.textfont.color;ae.call(u.font,{family:Wt.tf||xt.textfont.family,weight:Wt.tw||xt.textfont.weight,style:Wt.ty||xt.textfont.style,variant:Wt.tv||xt.textfont.variant,textcase:Wt.tC||xt.textfont.textcase,lineposition:Wt.tE||xt.textfont.lineposition,shadow:Wt.tS||xt.textfont.shadow,size:pe,color:_e}).text(ne).call(p.convertToTspans,lt).call(Z,xe,pe,Wt.mrc)})}},u.selectedTextStyle=function(vt,xt){if(!(!vt.size()||!xt.selectedpoints)){var lt=u.makeSelectedTextStyleFns(xt);vt.each(function(At){var Rt=i.select(this),Ut=lt.selectedTextColorFn(At),te=At.tp||xt.textposition,Wt=G(At,xt);s.fill(Rt,Ut);var ae=o.traceIs(xt,"bar-like");Z(Rt,te,Wt,At.mrc2||At.mrc,ae)})}};var O=.5;u.smoothopen=function(vt,xt){if(vt.length<3)return"M"+vt.join("L");var lt="M"+vt[0],At=[],Rt;for(Rt=1;Rt<vt.length-1;Rt++)At.push(ht(vt[Rt-1],vt[Rt],vt[Rt+1],xt));for(lt+="Q"+At[0][0]+" "+vt[1],Rt=2;Rt<vt.length-1;Rt++)lt+="C"+At[Rt-2][1]+" "+At[Rt-1][0]+" "+vt[Rt];return lt+="Q"+At[vt.length-3][1]+" "+vt[vt.length-1],lt},u.smoothclosed=function(vt,xt){if(vt.length<3)return"M"+vt.join("L")+"Z";var lt="M"+vt[0],At=vt.length-1,Rt=[ht(vt[At],vt[0],vt[1],xt)],Ut;for(Ut=1;Ut<At;Ut++)Rt.push(ht(vt[Ut-1],vt[Ut],vt[Ut+1],xt));for(Rt.push(ht(vt[At-1],vt[At],vt[0],xt)),Ut=1;Ut<=At;Ut++)lt+="C"+Rt[Ut-1][1]+" "+Rt[Ut][0]+" "+vt[Ut];return lt+="C"+Rt[At][1]+" "+Rt[0][0]+" "+vt[0]+"Z",lt};var J,X;function it(vt,xt,lt){return lt&&(vt=H(vt)),xt?ot(vt[1]):at(vt[0])}function at(vt){var xt=i.round(vt,2);return J=xt,xt}function ot(vt){var xt=i.round(vt,2);return X=xt,xt}function ht(vt,xt,lt,At){var Rt=vt[0]-xt[0],Ut=vt[1]-xt[1],te=lt[0]-xt[0],Wt=lt[1]-xt[1],ae=Math.pow(Rt*Rt+Ut*Ut,O/2),ne=Math.pow(te*te+Wt*Wt,O/2),re=(ne*ne*Rt-ae*ae*te)*At,de=(ne*ne*Ut-ae*ae*Wt)*At,$t=3*ne*(ae+ne),ve=3*ae*(ae+ne);return[[at(xt[0]+($t&&re/$t)),ot(xt[1]+($t&&de/$t))],[at(xt[0]-(ve&&re/ve)),ot(xt[1]-(ve&&de/ve))]]}var pt={hv:function(vt,xt,lt){return"H"+at(xt[0])+"V"+it(xt,1,lt)},vh:function(vt,xt,lt){return"V"+ot(xt[1])+"H"+it(xt,0,lt)},hvh:function(vt,xt,lt){return"H"+at((vt[0]+xt[0])/2)+"V"+ot(xt[1])+"H"+it(xt,0,lt)},vhv:function(vt,xt,lt){return"V"+ot((vt[1]+xt[1])/2)+"H"+at(xt[0])+"V"+it(xt,1,lt)}},yt=function(vt,xt,lt){return"L"+it(xt,0,lt)+","+it(xt,1,lt)};u.steps=function(vt){var xt=pt[vt]||yt;return function(lt){for(var At="M"+at(lt[0][0])+","+ot(lt[0][1]),Rt=lt.length,Ut=1;Ut<Rt;Ut++)At+=xt(lt[Ut-1],lt[Ut],Ut===Rt-1);return At}};function H(vt,xt){var lt=vt.backoff,At=vt.trace,Rt=vt.d,Ut=vt.i;if(lt&&At&&At.marker&&At.marker.angle%360===0&&At.line&&At.line.shape!=="spline"){var te=t.isArrayOrTypedArray(lt),Wt=vt,ae=xt?xt[0]:J||0,ne=xt?xt[1]:X||0,re=Wt[0],de=Wt[1],$t=re-ae,ve=de-ne,xe=Math.atan2(ve,$t),pe=te?lt[Ut]:lt;if(pe==="auto"){var _e=Wt.i;At.type==="scatter"&&_e--;var mt=Wt.marker,Ct=mt.symbol;t.isArrayOrTypedArray(Ct)&&(Ct=Ct[_e]);var Q=mt.size;t.isArrayOrTypedArray(Q)&&(Q=Q[_e]),pe=mt?u.symbolBackOffs[u.symbolNumber(Ct)]*Q:0,pe+=u.getMarkerStandoff(Rt[_e],At)||0}var st=re-pe*Math.cos(xe),ft=de-pe*Math.sin(xe);(st<=re&&st>=ae||st>=re&&st<=ae)&&(ft<=de&&ft>=ne||ft>=de&&ft<=ne)&&(vt=[st,ft])}return vt}u.applyBackoff=H,u.makeTester=function(){var vt=t.ensureSingleById(i.select("body"),"svg","js-plotly-tester",function(lt){lt.attr(c.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),xt=t.ensureSingle(vt,"path","js-reference-point",function(lt){lt.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});u.tester=vt,u.testref=xt},u.savedBBoxes={};var q=0,A=1e4;u.bBox=function(vt,xt,lt){lt||(lt=W(vt));var At;if(lt){if(At=u.savedBBoxes[lt],At)return t.extendFlat({},At)}else if(vt.childNodes.length===1){var Rt=vt.childNodes[0];if(lt=W(Rt),lt){var Ut=+Rt.getAttribute("x")||0,te=+Rt.getAttribute("y")||0,Wt=Rt.getAttribute("transform");if(!Wt){var ae=u.bBox(Rt,!1,lt);return Ut&&(ae.left+=Ut,ae.right+=Ut),te&&(ae.top+=te,ae.bottom+=te),ae}if(lt+="~"+Ut+"~"+te+"~"+Wt,At=u.savedBBoxes[lt],At)return t.extendFlat({},At)}}var ne,re;xt?ne=vt:(re=u.tester.node(),ne=vt.cloneNode(!0),re.appendChild(ne)),i.select(ne).attr("transform",null).call(p.positionText,0,0);var de=ne.getBoundingClientRect(),$t=u.testref.node().getBoundingClientRect();xt||re.removeChild(ne);var ve={height:de.height,width:de.width,left:de.left-$t.left,top:de.top-$t.top,right:de.right-$t.left,bottom:de.bottom-$t.top};return q>=A&&(u.savedBBoxes={},q=0),lt&&(u.savedBBoxes[lt]=ve),q++,t.extendFlat({},ve)};function W(vt){var xt=vt.getAttribute("data-unformatted");if(xt!==null)return xt+vt.getAttribute("data-math")+vt.getAttribute("text-anchor")+vt.getAttribute("style")}u.setClipUrl=function(vt,xt,lt){vt.attr("clip-path",rt(xt,lt))};function rt(vt,xt){if(!vt)return null;var lt=xt._context,At=lt._exportedPlot?"":lt._baseUrl||"";return At?"url('"+At+"#"+vt+"')":"url(#"+vt+")"}u.getTranslate=function(vt){var xt=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,lt=vt.attr?"attr":"getAttribute",At=vt[lt]("transform")||"",Rt=At.replace(xt,function(Ut,te,Wt){return[te,Wt].join(" ")}).split(" ");return{x:+Rt[0]||0,y:+Rt[1]||0}},u.setTranslate=function(vt,xt,lt){var At=/(\btranslate\(.*?\);?)/,Rt=vt.attr?"attr":"getAttribute",Ut=vt.attr?"attr":"setAttribute",te=vt[Rt]("transform")||"";return xt=xt||0,lt=lt||0,te=te.replace(At,"").trim(),te+=e(xt,lt),te=te.trim(),vt[Ut]("transform",te),te},u.getScale=function(vt){var xt=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,lt=vt.attr?"attr":"getAttribute",At=vt[lt]("transform")||"",Rt=At.replace(xt,function(Ut,te,Wt){return[te,Wt].join(" ")}).split(" ");return{x:+Rt[0]||1,y:+Rt[1]||1}},u.setScale=function(vt,xt,lt){var At=/(\bscale\(.*?\);?)/,Rt=vt.attr?"attr":"getAttribute",Ut=vt.attr?"attr":"setAttribute",te=vt[Rt]("transform")||"";return xt=xt||1,lt=lt||1,te=te.replace(At,"").trim(),te+="scale("+xt+","+lt+")",te=te.trim(),vt[Ut]("transform",te),te};var I=/\s*sc.*/;u.setPointGroupScale=function(vt,xt,lt){if(xt=xt||1,lt=lt||1,!!vt){var At=xt===1&&lt===1?"":"scale("+xt+","+lt+")";vt.each(function(){var Rt=(this.getAttribute("transform")||"").replace(I,"");Rt+=At,Rt=Rt.trim(),this.setAttribute("transform",Rt)})}};var M=/translate\([^)]*\)\s*$/;u.setTextPointsScale=function(vt,xt,lt){vt&&vt.each(function(){var At,Rt=i.select(this),Ut=Rt.select("text");if(Ut.node()){var te=parseFloat(Ut.attr("x")||0),Wt=parseFloat(Ut.attr("y")||0),ae=(Rt.attr("transform")||"").match(M);xt===1&&lt===1?At=[]:At=[e(te,Wt),"scale("+xt+","+lt+")",e(-te,-Wt)],ae&&At.push(ae),Rt.attr("transform",At.join(""))}})};function S(vt,xt){var lt;return vt&&(lt=vt.mf),lt===void 0&&(lt=xt.marker&&xt.marker.standoff||0),!xt._geo&&!xt._xA?-lt:lt}u.getMarkerStandoff=S;var N=Math.atan2,V=Math.cos,nt=Math.sin;function ut(vt,xt){var lt=xt[0],At=xt[1];return[lt*V(vt)-At*nt(vt),lt*nt(vt)+At*V(vt)]}var ct,bt,kt,Et,Gt,Vt;function Ht(vt,xt){var lt=vt.ma;lt===void 0&&(lt=xt.marker.angle,(!lt||t.isArrayOrTypedArray(lt))&&(lt=0));var At,Rt,Ut=xt.marker.angleref;if(Ut==="previous"||Ut==="north"){if(xt._geo){var te=xt._geo.project(vt.lonlat);At=te[0],Rt=te[1]}else{var Wt=xt._xA,ae=xt._yA;if(Wt&&ae)At=Wt.c2p(vt.x),Rt=ae.c2p(vt.y);else return 90}if(xt._geo){var ne=vt.lonlat[0],re=vt.lonlat[1],de=xt._geo.project([ne,re+1e-5]),$t=xt._geo.project([ne+1e-5,re]),ve=N($t[1]-Rt,$t[0]-At),xe=N(de[1]-Rt,de[0]-At),pe;if(Ut==="north")pe=lt/180*Math.PI;else if(Ut==="previous"){var _e=ne/180*Math.PI,mt=re/180*Math.PI,Ct=ct/180*Math.PI,Q=bt/180*Math.PI,st=Ct-_e,ft=V(Q)*nt(st),_t=nt(Q)*V(mt)-V(Q)*nt(mt)*V(st);pe=-N(ft,_t)-Math.PI,ct=ne,bt=re}var Tt=ut(ve,[V(pe),0]),zt=ut(xe,[nt(pe),0]);lt=N(Tt[1]+zt[1],Tt[0]+zt[0])/Math.PI*180,Ut==="previous"&&!(Vt===xt.uid&&vt.i===Gt+1)&&(lt=null)}if(Ut==="previous"&&!xt._geo)if(Vt===xt.uid&&vt.i===Gt+1&&l(At)&&l(Rt)){var Ft=At-kt,Zt=Rt-Et,qt=xt.line&&xt.line.shape||"",Yt=qt.slice(qt.length-1);Yt==="h"&&(Zt=0),Yt==="v"&&(Ft=0),lt+=N(Zt,Ft)/Math.PI*180+90}else lt=null}return kt=At,Et=Rt,Gt=vt.i,Vt=xt.uid,lt}u.getMarkerAngle=Ht}),si=Mt((E,P)=>{var i=Ke(),t=ua(),a=hr(),l=da(),n=Oe(),o=n.strTranslate,s=Ga(),f=Ta(),e=Pr(),p=Ri(),c=Rr().OPPOSITE_SIDE,h=/ [XY][0-9]* /,_=1.6,y=1.6;function v(g,x,u){var d=g._fullLayout,m=u.propContainer,w=u.propName,k=u.placeholder,U=u.traceIndex,D=u.avoid||{},C=u.attributes,T=u.transform,Y=u.containerGroup,z=1,j=m.title,F=(j&&j.text?j.text:"").trim(),R=!1,Z=j&&j.font?j.font:{},G=Z.family,O=Z.size,J=Z.color,X=Z.weight,it=Z.style,at=Z.variant,ot=Z.textcase,ht=Z.lineposition,pt=Z.shadow,yt=u.subtitlePropName,H=!!yt,q=u.subtitlePlaceholder,A=(m.title||{}).subtitle||{text:"",font:{}},W=(A.text||"").trim(),rt=!1,I=1,M=A.font,S=M.family,N=M.size,V=M.color,nt=M.weight,ut=M.style,ct=M.variant,bt=M.textcase,kt=M.lineposition,Et=M.shadow,Gt;w==="title.text"?Gt="titleText":w.indexOf("axis")!==-1?Gt="axisTitleText":w.indexOf("colorbar")!==-1&&(Gt="colorbarTitleText");var Vt=g._context.edits[Gt];function Ht($t,ve){return $t===void 0||ve===void 0?!1:$t.replace(h," % ")===ve.replace(h," % ")}F===""?z=0:Ht(F,k)&&(Vt||(F=""),z=.2,R=!0),H&&(W===""?I=0:Ht(W,q)&&(Vt||(W=""),I=.2,rt=!0)),u._meta?F=n.templateString(F,u._meta):d._meta&&(F=n.templateString(F,d._meta));var vt=F||W||Vt,xt;Y||(Y=n.ensureSingle(d._infolayer,"g","g-"+x),xt=d._hColorbarMoveTitle);var lt=Y.selectAll("text."+x).data(vt?[0]:[]);lt.enter().append("text"),lt.text(F).attr("class",x),lt.exit().remove();var At=null,Rt=x+"-subtitle",Ut=W||Vt;if(H&&(At=Y.selectAll("text."+Rt).data(Ut?[0]:[]),At.enter().append("text"),At.text(W).attr("class",Rt),At.exit().remove()),!vt)return Y;function te($t,ve){n.syncOrAsync([Wt,ae],{title:$t,subtitle:ve})}function Wt($t){var ve=$t.title,xe=$t.subtitle,pe;!T&&xt&&(T={}),T?(pe="",T.rotate&&(pe+="rotate("+[T.rotate,C.x,C.y]+")"),(T.offset||xt)&&(pe+=o(0,(T.offset||0)-(xt||0)))):pe=null,ve.attr("transform",pe);function _e(_t){if(_t){var Tt=i.select(_t.node().parentNode).select("."+Rt);if(!Tt.empty()){var zt=_t.node().getBBox();if(zt.height){var Ft=zt.y+zt.height+_*N;Tt.attr("y",Ft)}}}}if(ve.style("opacity",z*f.opacity(J)).call(s.font,{color:f.rgb(J),size:i.round(O,2),family:G,weight:X,style:it,variant:at,textcase:ot,shadow:pt,lineposition:ht}).attr(C).call(e.convertToTspans,g,_e),xe&&!xe.empty()){var mt=Y.select("."+x+"-math-group"),Ct=ve.node().getBBox(),Q=mt.node()?mt.node().getBBox():void 0,st=Q?Q.y+Q.height+_*N:Ct.y+Ct.height+y*N,ft=n.extendFlat({},C,{y:st});xe.attr("transform",pe),xe.style("opacity",I*f.opacity(V)).call(s.font,{color:f.rgb(V),size:i.round(N,2),family:S,weight:nt,style:ut,variant:ct,textcase:bt,shadow:Et,lineposition:kt}).attr(ft).call(e.convertToTspans,g)}return a.previousPromises(g)}function ae($t){var ve=$t.title,xe=i.select(ve.node().parentNode);if(D&&D.selection&&D.side&&F){xe.attr("transform",null);var pe=c[D.side],_e=D.side==="left"||D.side==="top"?-1:1,mt=t(D.pad)?D.pad:2,Ct=s.bBox(xe.node()),Q={t:0,b:0,l:0,r:0},st=g._fullLayout._reservedMargin;for(var ft in st)for(var _t in st[ft]){var Tt=st[ft][_t];Q[_t]=Math.max(Q[_t],Tt)}var zt={left:Q.l,top:Q.t,right:d.width-Q.r,bottom:d.height-Q.b},Ft=D.maxShift||_e*(zt[D.side]-Ct[D.side]),Zt=0;if(Ft<0)Zt=Ft;else{var qt=D.offsetLeft||0,Yt=D.offsetTop||0;Ct.left-=qt,Ct.right-=qt,Ct.top-=Yt,Ct.bottom-=Yt,D.selection.each(function(){var oe=s.bBox(this);n.bBoxIntersect(Ct,oe,mt)&&(Zt=Math.max(Zt,_e*(oe[D.side]-Ct[pe])+mt))}),Zt=Math.min(Ft,Zt),m._titleScoot=Math.abs(Zt)}if(Zt>0||Ft<0){var ie={left:[-Zt,0],right:[Zt,0],top:[0,-Zt],bottom:[0,Zt]}[D.side];xe.attr("transform",o(ie[0],ie[1]))}}}lt.call(te,At);function ne($t,ve){$t.text(ve).on("mouseover.opacity",function(){i.select(this).transition().duration(p.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){i.select(this).transition().duration(p.HIDE_PLACEHOLDER).style("opacity",0)})}if(Vt&&(F?lt.on(".opacity",null):(ne(lt,k),R=!0),lt.call(e.makeEditable,{gd:g}).on("edit",function($t){U!==void 0?l.call("_guiRestyle",g,w,$t,U):l.call("_guiRelayout",g,w,$t)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(te)}).on("input",function($t){this.text($t||" ").call(e.positionText,C.x,C.y)}),H)){if(H&&!F){var re=lt.node().getBBox(),de=re.y+re.height+y*N;At.attr("y",de)}W?At.on(".opacity",null):(ne(At,q),rt=!0),At.call(e.makeEditable,{gd:g}).on("edit",function($t){l.call("_guiRelayout",g,"title.subtitle.text",$t)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(te)}).on("input",function($t){this.text($t||" ").call(e.positionText,At.attr("x"),At.attr("y"))})}return lt.classed("js-placeholder",R),At&&!At.empty()&&At.classed("js-placeholder",rt),Y}P.exports={draw:v,SUBTITLE_PADDING_EM:y,SUBTITLE_PADDING_MATHJAX_EM:_}}),Wi=Mt((E,P)=>{var i=Ke(),t=Oa().utcFormat,a=Oe(),l=a.numberFormat,n=ua(),o=a.cleanNumber,s=a.ms2DateTime,f=a.dateTime2ms,e=a.ensureNumber,p=a.isArrayOrTypedArray,c=Fa(),h=c.FP_SAFE,_=c.BADNUM,y=c.LOG_CLIP,v=c.ONEWEEK,g=c.ONEDAY,x=c.ONEHOUR,u=c.ONEMIN,d=c.ONESEC,m=xr(),w=Sr(),k=w.HOUR_PATTERN,U=w.WEEKDAY_PATTERN;function D(T){return Math.pow(10,T)}function C(T){return T!=null}P.exports=function(T,Y){Y=Y||{};var z=T._id||"x",j=z.charAt(0);function F(A,W){if(A>0)return Math.log(A)/Math.LN10;if(A<=0&&W&&T.range&&T.range.length===2){var rt=T.range[0],I=T.range[1];return .5*(rt+I-2*y*Math.abs(rt-I))}else return _}function R(A,W,rt,I){if((I||{}).msUTC&&n(A))return+A;var M=f(A,rt||T.calendar);if(M===_)if(n(A)){A=+A;var S=Math.floor(a.mod(A+.05,1)*10),N=Math.round(A-S/10);M=f(new Date(N))+S/10}else return _;return M}function Z(A,W,rt){return s(A,W,rt||T.calendar)}function G(A){return T._categories[Math.round(A)]}function O(A){if(C(A)){if(T._categoriesMap===void 0&&(T._categoriesMap={}),T._categoriesMap[A]!==void 0)return T._categoriesMap[A];T._categories.push(typeof A=="number"?String(A):A);var W=T._categories.length-1;return T._categoriesMap[A]=W,W}return _}function J(A,W){for(var rt=new Array(W),I=0;I<W;I++){var M=(A[0]||[])[I],S=(A[1]||[])[I];rt[I]=X([M,S])}return rt}function X(A){if(T._categoriesMap)return T._categoriesMap[A]}function it(A){var W=X(A);if(W!==void 0)return W;if(n(A))return+A}function at(A){return n(A)?+A:X(A)}function ot(A,W,rt){return i.round(rt+W*A,2)}function ht(A,W,rt){return(A-rt)/W}var pt=function(A){return n(A)?ot(A,T._m,T._b):_},yt=function(A){return ht(A,T._m,T._b)};if(T.rangebreaks){var H=j==="y";pt=function(A){if(!n(A))return _;var W=T._rangebreaks.length;if(!W)return ot(A,T._m,T._b);var rt=H;T.range[0]>T.range[1]&&(rt=!rt);for(var I=rt?-1:1,M=I*A,S=0,N=0;N<W;N++){var V=I*T._rangebreaks[N].min,nt=I*T._rangebreaks[N].max;if(M<V)break;if(M>nt)S=N+1;else{S=M<(V+nt)/2?N:N+1;break}}var ut=T._B[S]||0;return isFinite(ut)?ot(A,T._m2,ut):0},yt=function(A){var W=T._rangebreaks.length;if(!W)return ht(A,T._m,T._b);for(var rt=0,I=0;I<W&&!(A<T._rangebreaks[I].pmin);I++)A>T._rangebreaks[I].pmax&&(rt=I+1);return ht(A,T._m2,T._B[rt])}}T.c2l=T.type==="log"?F:e,T.l2c=T.type==="log"?D:e,T.l2p=pt,T.p2l=yt,T.c2p=T.type==="log"?function(A,W){return pt(F(A,W))}:pt,T.p2c=T.type==="log"?function(A){return D(yt(A))}:yt,["linear","-"].indexOf(T.type)!==-1?(T.d2r=T.r2d=T.d2c=T.r2c=T.d2l=T.r2l=o,T.c2d=T.c2r=T.l2d=T.l2r=e,T.d2p=T.r2p=function(A){return T.l2p(o(A))},T.p2d=T.p2r=yt,T.cleanPos=e):T.type==="log"?(T.d2r=T.d2l=function(A,W){return F(o(A),W)},T.r2d=T.r2c=function(A){return D(o(A))},T.d2c=T.r2l=o,T.c2d=T.l2r=e,T.c2r=F,T.l2d=D,T.d2p=function(A,W){return T.l2p(T.d2r(A,W))},T.p2d=function(A){return D(yt(A))},T.r2p=function(A){return T.l2p(o(A))},T.p2r=yt,T.cleanPos=e):T.type==="date"?(T.d2r=T.r2d=a.identity,T.d2c=T.r2c=T.d2l=T.r2l=R,T.c2d=T.c2r=T.l2d=T.l2r=Z,T.d2p=T.r2p=function(A,W,rt){return T.l2p(R(A,0,rt))},T.p2d=T.p2r=function(A,W,rt){return Z(yt(A),W,rt)},T.cleanPos=function(A){return a.cleanDate(A,_,T.calendar)}):T.type==="category"?(T.d2c=T.d2l=O,T.r2d=T.c2d=T.l2d=G,T.d2r=T.d2l_noadd=it,T.r2c=function(A){var W=at(A);return W!==void 0?W:T.fraction2r(.5)},T.l2r=T.c2r=e,T.r2l=at,T.d2p=function(A){return T.l2p(T.r2c(A))},T.p2d=function(A){return G(yt(A))},T.r2p=T.d2p,T.p2r=yt,T.cleanPos=function(A){return typeof A=="string"&&A!==""?A:e(A)}):T.type==="multicategory"&&(T.r2d=T.c2d=T.l2d=G,T.d2r=T.d2l_noadd=it,T.r2c=function(A){var W=it(A);return W!==void 0?W:T.fraction2r(.5)},T.r2c_just_indices=X,T.l2r=T.c2r=e,T.r2l=it,T.d2p=function(A){return T.l2p(T.r2c(A))},T.p2d=function(A){return G(yt(A))},T.r2p=T.d2p,T.p2r=yt,T.cleanPos=function(A){return Array.isArray(A)||typeof A=="string"&&A!==""?A:e(A)},T.setupMultiCategory=function(A){var W=T._traceIndices,rt,I,M=T._matchGroup;if(M&&T._categories.length===0){for(var S in M)if(S!==z){var N=Y[m.id2name(S)];W=W.concat(N._traceIndices)}}var V=[[0,{}],[0,{}]],nt=[];for(rt=0;rt<W.length;rt++){var ut=A[W[rt]];if(j in ut){var ct=ut[j],bt=ut._length||a.minRowLength(ct);if(p(ct[0])&&p(ct[1]))for(I=0;I<bt;I++){var kt=ct[0][I],Et=ct[1][I];C(kt)&&C(Et)&&(nt.push([kt,Et]),kt in V[0][1]||(V[0][1][kt]=V[0][0]++),Et in V[1][1]||(V[1][1][Et]=V[1][0]++))}}}for(nt.sort(function(Gt,Vt){var Ht=V[0][1],vt=Ht[Gt[0]]-Ht[Vt[0]];if(vt)return vt;var xt=V[1][1];return xt[Gt[1]]-xt[Vt[1]]}),rt=0;rt<nt.length;rt++)O(nt[rt])}),T.fraction2r=function(A){var W=T.r2l(T.range[0]),rt=T.r2l(T.range[1]);return T.l2r(W+A*(rt-W))},T.r2fraction=function(A){var W=T.r2l(T.range[0]),rt=T.r2l(T.range[1]);return(T.r2l(A)-W)/(rt-W)},T.limitRange=function(A){var W=T.minallowed,rt=T.maxallowed;if(!(W===void 0&&rt===void 0)){A||(A="range");var I=a.nestedProperty(T,A).get(),M=a.simpleMap(I,T.r2l),S=M[1]<M[0];S&&M.reverse();var N=a.simpleMap([W,rt],T.r2l);if(W!==void 0&&M[0]<N[0]&&(I[S?1:0]=W),rt!==void 0&&M[1]>N[1]&&(I[S?0:1]=rt),I[0]===I[1]){var V=T.l2r(W),nt=T.l2r(rt);if(W!==void 0){var ut=V+1;rt!==void 0&&(ut=Math.min(ut,nt)),I[S?1:0]=ut}if(rt!==void 0){var ct=nt+1;W!==void 0&&(ct=Math.max(ct,V)),I[S?0:1]=ct}}}},T.cleanRange=function(A,W){T._cleanRange(A,W),T.limitRange(A)},T._cleanRange=function(A,W){W||(W={}),A||(A="range");var rt=a.nestedProperty(T,A).get(),I,M;if(T.type==="date"?M=a.dfltRange(T.calendar):j==="y"?M=w.DFLTRANGEY:T._name==="realaxis"?M=[0,1]:M=W.dfltRange||w.DFLTRANGEX,M=M.slice(),(T.rangemode==="tozero"||T.rangemode==="nonnegative")&&(M[0]=0),!rt||rt.length!==2){a.nestedProperty(T,A).set(M);return}var S=rt[0]===null,N=rt[1]===null;for(T.type==="date"&&!T.autorange&&(rt[0]=a.cleanDate(rt[0],_,T.calendar),rt[1]=a.cleanDate(rt[1],_,T.calendar)),I=0;I<2;I++)if(T.type==="date"){if(!a.isDateTime(rt[I],T.calendar)){T[A]=M;break}if(T.r2l(rt[0])===T.r2l(rt[1])){var V=a.constrain(T.r2l(rt[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);rt[0]=T.l2r(V-1e3),rt[1]=T.l2r(V+1e3);break}}else{if(!n(rt[I]))if(!(S||N)&&n(rt[1-I]))rt[I]=rt[1-I]*(I?10:.1);else{T[A]=M;break}if(rt[I]<-h?rt[I]=-h:rt[I]>h&&(rt[I]=h),rt[0]===rt[1]){var nt=Math.max(1,Math.abs(rt[0]*1e-6));rt[0]-=nt,rt[1]+=nt}}},T.setScale=function(A){var W=Y._size;if(T.overlaying){var rt=m.getFromId({_fullLayout:Y},T.overlaying);T.domain=rt.domain}var I=A&&T._r?"_r":"range",M=T.calendar;T.cleanRange(I);var S=T.r2l(T[I][0],M),N=T.r2l(T[I][1],M),V=j==="y";if(V?(T._offset=W.t+(1-T.domain[1])*W.h,T._length=W.h*(T.domain[1]-T.domain[0]),T._m=T._length/(S-N),T._b=-T._m*N):(T._offset=W.l+T.domain[0]*W.w,T._length=W.w*(T.domain[1]-T.domain[0]),T._m=T._length/(N-S),T._b=-T._m*S),T._rangebreaks=[],T._lBreaks=0,T._m2=0,T._B=[],T.rangebreaks){var nt,ut;if(T._rangebreaks=T.locateBreaks(Math.min(S,N),Math.max(S,N)),T._rangebreaks.length){for(nt=0;nt<T._rangebreaks.length;nt++)ut=T._rangebreaks[nt],T._lBreaks+=Math.abs(ut.max-ut.min);var ct=V;S>N&&(ct=!ct),ct&&T._rangebreaks.reverse();var bt=ct?-1:1;for(T._m2=bt*T._length/(Math.abs(N-S)-T._lBreaks),T._B.push(-T._m2*(V?N:S)),nt=0;nt<T._rangebreaks.length;nt++)ut=T._rangebreaks[nt],T._B.push(T._B[T._B.length-1]-bt*T._m2*(ut.max-ut.min));for(nt=0;nt<T._rangebreaks.length;nt++)ut=T._rangebreaks[nt],ut.pmin=pt(ut.min),ut.pmax=pt(ut.max)}}if(!isFinite(T._m)||!isFinite(T._b)||T._length<0)throw Y._replotting=!1,new Error("Something went wrong with axis scaling")},T.maskBreaks=function(A){var W=T.rangebreaks||[],rt,I,M,S,N;W._cachedPatterns||(W._cachedPatterns=W.map(function(Ht){return Ht.enabled&&Ht.bounds?a.simpleMap(Ht.bounds,Ht.pattern?o:T.d2c):null})),W._cachedValues||(W._cachedValues=W.map(function(Ht){return Ht.enabled&&Ht.values?a.simpleMap(Ht.values,T.d2c).sort(a.sorterAsc):null}));for(var V=0;V<W.length;V++){var nt=W[V];if(nt.enabled){if(nt.bounds){var ut=nt.pattern;switch(rt=W._cachedPatterns[V],I=rt[0],M=rt[1],ut){case U:N=new Date(A),S=N.getUTCDay(),I>M&&(M+=7,S<I&&(S+=7));break;case k:N=new Date(A);var ct=N.getUTCHours(),bt=N.getUTCMinutes(),kt=N.getUTCSeconds(),Et=N.getUTCMilliseconds();S=ct+(bt/60+kt/3600+Et/36e5),I>M&&(M+=24,S<I&&(S+=24));break;case"":S=A;break}if(S>=I&&S<M)return _}else for(var Gt=W._cachedValues[V],Vt=0;Vt<Gt.length;Vt++)if(I=Gt[Vt],M=I+nt.dvalue,A>=I&&A<M)return _}}return A},T.locateBreaks=function(A,W){var rt,I,M,S,N=[];if(!T.rangebreaks)return N;var V=T.rangebreaks.slice().sort(function(xt,lt){return xt.pattern===U&&lt.pattern===k?-1:lt.pattern===U&&xt.pattern===k?1:0}),nt=function(xt,lt){if(xt=a.constrain(xt,A,W),lt=a.constrain(lt,A,W),xt!==lt){for(var At=!0,Rt=0;Rt<N.length;Rt++){var Ut=N[Rt];xt<Ut.max&&lt>=Ut.min&&(xt<Ut.min&&(Ut.min=xt),lt>Ut.max&&(Ut.max=lt),At=!1)}At&&N.push({min:xt,max:lt})}};for(rt=0;rt<V.length;rt++){var ut=V[rt];if(ut.enabled)if(ut.bounds){var ct=A,bt=W;ut.pattern&&(ct=Math.floor(ct)),I=a.simpleMap(ut.bounds,ut.pattern?o:T.r2l),M=I[0],S=I[1];var kt=new Date(ct),Et,Gt;switch(ut.pattern){case U:Gt=v,Et=((S<M?7:0)+(S-M))*g,ct+=M*g-(kt.getUTCDay()*g+kt.getUTCHours()*x+kt.getUTCMinutes()*u+kt.getUTCSeconds()*d+kt.getUTCMilliseconds());break;case k:Gt=g,Et=((S<M?24:0)+(S-M))*x,ct+=M*x-(kt.getUTCHours()*x+kt.getUTCMinutes()*u+kt.getUTCSeconds()*d+kt.getUTCMilliseconds());break;default:ct=Math.min(I[0],I[1]),bt=Math.max(I[0],I[1]),Gt=bt-ct,Et=Gt}for(var Vt=ct;Vt<bt;Vt+=Gt)nt(Vt,Vt+Et)}else for(var Ht=a.simpleMap(ut.values,T.d2c),vt=0;vt<Ht.length;vt++)M=Ht[vt],S=M+ut.dvalue,nt(M,S)}return N.sort(function(xt,lt){return xt.min-lt.min}),N},T.makeCalcdata=function(A,W,rt){var I,M,S,N,V=T.type,nt=V==="date"&&A[W+"calendar"];if(W in A){if(I=A[W],N=A._length||a.minRowLength(I),a.isTypedArray(I)&&(V==="linear"||V==="log")){if(N===I.length)return I;if(I.subarray)return I.subarray(0,N)}if(V==="multicategory")return J(I,N);for(M=new Array(N),S=0;S<N;S++)M[S]=T.d2c(I[S],0,nt,rt)}else{var ut=W+"0"in A?T.d2c(A[W+"0"],0,nt):0,ct=A["d"+W]?Number(A["d"+W]):1;for(I=A[{x:"y",y:"x"}[W]],N=A._length||I.length,M=new Array(N),S=0;S<N;S++)M[S]=ut+S*ct}if(T.rangebreaks)for(S=0;S<N;S++)M[S]=T.maskBreaks(M[S]);return M},T.isValidRange=function(A,W){return Array.isArray(A)&&A.length===2&&(W&&A[0]===null||n(T.r2l(A[0])))&&(W&&A[1]===null||n(T.r2l(A[1])))},T.getAutorangeDflt=function(A,W){var rt=!T.isValidRange(A,"nullOk");return rt&&W&&W.reverseDflt?rt="reversed":A&&(A[0]===null&&A[1]===null?rt=!0:A[0]===null&&A[1]!==null?rt="min":A[0]!==null&&A[1]===null&&(rt="max")),rt},T.isReversed=function(){var A=T.autorange;return A==="reversed"||A==="min reversed"||A==="max reversed"},T.isPtWithinRange=function(A,W){var rt=T.c2l(A[j],null,W),I=T.r2l(T.range[0]),M=T.r2l(T.range[1]);return I<M?I<=rt&&rt<=M:M<=rt&&rt<=I},T._emptyCategories=function(){T._categories=[],T._categoriesMap={}},T.clearCalc=function(){var A=T._matchGroup;if(A){var W=null,rt=null;for(var I in A){var M=Y[m.id2name(I)];if(M._categories){W=M._categories,rt=M._categoriesMap;break}}W&&rt?(T._categories=W,T._categoriesMap=rt):T._emptyCategories()}else T._emptyCategories();if(T._initialCategories)for(var S=0;S<T._initialCategories.length;S++)O(T._initialCategories[S])},T.sortByInitialCategories=function(){var A=[];if(T._emptyCategories(),T._initialCategories)for(var W=0;W<T._initialCategories.length;W++)O(T._initialCategories[W]);A=A.concat(T._traceIndices);var rt=T._matchGroup;for(var I in rt)if(z!==I){var M=Y[m.id2name(I)];M._categories=T._categories,M._categoriesMap=T._categoriesMap,A=A.concat(M._traceIndices)}return A};var q=Y._d3locale;T.type==="date"&&(T._dateFormat=q?q.timeFormat:t,T._extraFormat=Y._extraFormat),T._separators=Y.separators,T._numFormat=q?q.numberFormat:l,delete T._minDtick,delete T._forceTick0}}),vl=Mt((E,P)=>{var i=ua(),t=Oe(),a=Fa().BADNUM,l=t.isArrayOrTypedArray,n=t.isDateTime,o=t.cleanNumber,s=Math.round;P.exports=function(y,v,g){var x=y,u=g.noMultiCategory;if(l(x)&&!x.length)return"-";if(!u&&_(x))return"multicategory";if(u&&Array.isArray(x[0])){for(var d=[],m=0;m<x.length;m++)if(l(x[m]))for(var w=0;w<x[m].length;w++)d.push(x[m][w]);x=d}if(p(x,v))return"date";var k=g.autotypenumbers!=="strict";return h(x,k)?"category":e(x,k)?"linear":"-"};function f(y,v){return v?i(y):typeof y=="number"}function e(y,v){for(var g=y.length,x=0;x<g;x++)if(f(y[x],v))return!0;return!1}function p(y,v){for(var g=y.length,x=c(g),u=0,d=0,m={},w=0;w<g;w+=x){var k=s(w),U=y[k],D=String(U);m[D]||(m[D]=1,n(U,v)&&u++,i(U)&&d++)}return u>d*2}function c(y){return Math.max(1,(y-1)/1e3)}function h(y,v){for(var g=y.length,x=c(g),u=0,d=0,m={},w=0;w<g;w+=x){var k=s(w),U=y[k],D=String(U);if(!m[D]){m[D]=1;var C=typeof U;C==="boolean"?d++:(v?o(U)!==a:C==="number")?u++:C==="string"&&d++}}return d>u*2}function _(y){return l(y[0])&&l(y[1])}}),ui=Mt((E,P)=>{var i=Ke(),t=ua(),a=Oe(),l=Fa().FP_SAFE,n=da(),o=Ga(),s=xr(),f=s.getFromId,e=s.isLinked;P.exports={applyAutorangeOptions:Y,getAutoRange:p,makePadFn:h,doAutoRange:g,findExtremes:x,concatExtremes:v};function p(z,j){var F,R,Z=[],G=z._fullLayout,O=h(G,j,0),J=h(G,j,1),X=v(z,j),it=X.min,at=X.max;if(it.length===0||at.length===0)return a.simpleMap(j.range,j.r2l);var ot=it[0].val,ht=at[0].val;for(F=1;F<it.length&&ot===ht;F++)ot=Math.min(ot,it[F].val);for(F=1;F<at.length&&ot===ht;F++)ht=Math.max(ht,at[F].val);var pt=j.autorange,yt=pt==="reversed"||pt==="min reversed"||pt==="max reversed";if(!yt&&j.range){var H=a.simpleMap(j.range,j.r2l);yt=H[1]<H[0]}j.autorange==="reversed"&&(j.autorange=!0);var q=j.rangemode,A=q==="tozero",W=q==="nonnegative",rt=j._length,I=rt/10,M=0,S,N,V,nt,ut,ct;for(F=0;F<it.length;F++)for(S=it[F],R=0;R<at.length;R++)N=at[R],ct=N.val-S.val-c(j,S.val,N.val),ct>0&&(ut=rt-O(S)-J(N),ut>I?ct/ut>M&&(V=S,nt=N,M=ct/ut):ct/rt>M&&(V={val:S.val,nopad:1},nt={val:N.val,nopad:1},M=ct/rt));function bt(Ht,vt){return Math.max(Ht,J(vt))}if(ot===ht){var kt=ot-1,Et=ot+1;if(A)if(ot===0)Z=[0,1];else{var Gt=(ot>0?at:it).reduce(bt,0),Vt=ot/(1-Math.min(.5,Gt/rt));Z=ot>0?[0,Vt]:[Vt,0]}else W?Z=[Math.max(0,kt),Math.max(1,Et)]:Z=[kt,Et]}else A?(V.val>=0&&(V={val:0,nopad:1}),nt.val<=0&&(nt={val:0,nopad:1})):W&&(V.val-M*O(V)<0&&(V={val:0,nopad:1}),nt.val<=0&&(nt={val:1,nopad:1})),M=(nt.val-V.val-c(j,S.val,N.val))/(rt-O(V)-J(nt)),Z=[V.val-M*O(V),nt.val+M*J(nt)];return Z=Y(Z,j),j.limitRange&&j.limitRange(),yt&&Z.reverse(),a.simpleMap(Z,j.l2r||Number)}function c(z,j,F){var R=0;if(z.rangebreaks)for(var Z=z.locateBreaks(j,F),G=0;G<Z.length;G++){var O=Z[G];R+=O.max-O.min}return R}function h(z,j,F){var R=.05*j._length,Z=j._anchorAxis||{};if((j.ticklabelposition||"").indexOf("inside")!==-1||(Z.ticklabelposition||"").indexOf("inside")!==-1){var G=j.isReversed();if(!G){var O=a.simpleMap(j.range,j.r2l);G=O[1]<O[0]}G&&(F=!F)}var J=0;return e(z,j._id)||(J=y(z,j,F)),R=Math.max(J,R),j.constrain==="domain"&&j._inputDomain&&(R*=(j._inputDomain[1]-j._inputDomain[0])/(j.domain[1]-j.domain[0])),function(X){return X.nopad?0:X.pad+(X.extrapad?R:J)}}var _=3;function y(z,j,F){var R=0,Z=j._id.charAt(0)==="x";for(var G in z._plots){var O=z._plots[G];if(!(j._id!==O.xaxis._id&&j._id!==O.yaxis._id)){var J=(Z?O.yaxis:O.xaxis)||{};if((J.ticklabelposition||"").indexOf("inside")!==-1&&(!F&&(J.side==="left"||J.side==="bottom")||F&&(J.side==="top"||J.side==="right"))){if(J._vals){var X=a.deg2rad(J._tickAngles[J._id+"tick"]||0),it=Math.abs(Math.cos(X)),at=Math.abs(Math.sin(X));if(!J._vals[0].bb){var ot=J._id+"tick",ht=J._selections[ot];ht.each(function(W){var rt=i.select(this),I=rt.select(".text-math-group");I.empty()&&(W.bb=o.bBox(rt.node()))})}for(var pt=0;pt<J._vals.length;pt++){var yt=J._vals[pt],H=yt.bb;if(H){var q=2*_+H.width,A=2*_+H.height;R=Math.max(R,Z?Math.max(q*it,A*at):Math.max(A*it,q*at))}}}J.ticks==="inside"&&J.ticklabelposition==="inside"&&(R+=J.ticklen||0)}}}return R}function v(z,j,F){var R=j._id,Z=z._fullData,G=z._fullLayout,O=[],J=[],X,it,at;function ot(q,A){for(X=0;X<A.length;X++){var W=q[A[X]],rt=(W._extremes||{})[R];if(W.visible===!0&&rt){for(it=0;it<rt.min.length;it++)at=rt.min[it],u(O,at.val,at.pad,{extrapad:at.extrapad});for(it=0;it<rt.max.length;it++)at=rt.max[it],d(J,at.val,at.pad,{extrapad:at.extrapad})}}}if(ot(Z,j._traceIndices),ot(G.annotations||[],j._annIndices||[]),ot(G.shapes||[],j._shapeIndices||[]),j._matchGroup&&!F){for(var ht in j._matchGroup)if(ht!==j._id){var pt=f(z,ht),yt=v(z,pt,!0),H=j._length/pt._length;for(it=0;it<yt.min.length;it++)at=yt.min[it],u(O,at.val,at.pad*H,{extrapad:at.extrapad});for(it=0;it<yt.max.length;it++)at=yt.max[it],d(J,at.val,at.pad*H,{extrapad:at.extrapad})}}return{min:O,max:J}}function g(z,j,F){if(j.setScale(),j.autorange){j.range=F?F.slice():p(z,j),j._r=j.range.slice(),j._rl=a.simpleMap(j._r,j.r2l);var R=j._input,Z={};Z[j._attr+".range"]=j.range,Z[j._attr+".autorange"]=j.autorange,n.call("_storeDirectGUIEdit",z.layout,z._fullLayout._preGUI,Z),R.range=j.range.slice(),R.autorange=j.autorange}var G=j._anchorAxis;if(G&&G.rangeslider){var O=G.rangeslider[j._name];O&&O.rangemode==="auto"&&(O.range=p(z,j)),G._input.rangeslider[j._name]=a.extendFlat({},O)}}function x(z,j,F){F||(F={}),z._m||z.setScale();var R=[],Z=[],G=j.length,O=F.padded||!1,J=F.tozero&&(z.type==="linear"||z.type==="-"),X=z.type==="log",it=!1,at=F.vpadLinearized||!1,ot,ht,pt,yt,H,q,A,W,rt;function I(bt){if(Array.isArray(bt))return it=!0,function(Et){return Math.max(Number(bt[Et]||0),0)};var kt=Math.max(Number(bt||0),0);return function(){return kt}}var M=I((z._m>0?F.ppadplus:F.ppadminus)||F.ppad||0),S=I((z._m>0?F.ppadminus:F.ppadplus)||F.ppad||0),N=I(F.vpadplus||F.vpad),V=I(F.vpadminus||F.vpad);if(!it){if(W=1/0,rt=-1/0,X)for(ot=0;ot<G;ot++)ht=j[ot],ht<W&&ht>0&&(W=ht),ht>rt&&ht<l&&(rt=ht);else for(ot=0;ot<G;ot++)ht=j[ot],ht<W&&ht>-l&&(W=ht),ht>rt&&ht<l&&(rt=ht);j=[W,rt],G=2}var nt={tozero:J,extrapad:O};function ut(bt){pt=j[bt],t(pt)&&(q=M(bt),A=S(bt),at?(yt=z.c2l(pt)-V(bt),H=z.c2l(pt)+N(bt)):(W=pt-V(bt),rt=pt+N(bt),X&&W<rt/10&&(W=rt/10),yt=z.c2l(W),H=z.c2l(rt)),J&&(yt=Math.min(0,yt),H=Math.max(0,H)),w(yt)&&u(R,yt,A,nt),w(H)&&d(Z,H,q,nt))}var ct=Math.min(6,G);for(ot=0;ot<ct;ot++)ut(ot);for(ot=G-1;ot>=ct;ot--)ut(ot);return{min:R,max:Z,opts:F}}function u(z,j,F,R){m(z,j,F,R,k)}function d(z,j,F,R){m(z,j,F,R,U)}function m(z,j,F,R,Z){for(var G=R.tozero,O=R.extrapad,J=!0,X=0;X<z.length&&J;X++){var it=z[X];if(Z(it.val,j)&&it.pad>=F&&(it.extrapad||!O)){J=!1;break}else Z(j,it.val)&&it.pad<=F&&(O||!it.extrapad)&&(z.splice(X,1),X--)}if(J){var at=G&&j===0;z.push({val:j,pad:at?0:F,extrapad:at?!1:O})}}function w(z){return t(z)&&Math.abs(z)<l}function k(z,j){return z<=j}function U(z,j){return z>=j}function D(z,j){var F=j.autorangeoptions;return F&&F.minallowed!==void 0&&T(j,F.minallowed,F.maxallowed)?F.minallowed:F&&F.clipmin!==void 0&&T(j,F.clipmin,F.clipmax)?Math.max(z,j.d2l(F.clipmin)):z}function C(z,j){var F=j.autorangeoptions;return F&&F.maxallowed!==void 0&&T(j,F.minallowed,F.maxallowed)?F.maxallowed:F&&F.clipmax!==void 0&&T(j,F.clipmin,F.clipmax)?Math.min(z,j.d2l(F.clipmax)):z}function T(z,j,F){return j!==void 0&&F!==void 0?(j=z.d2l(j),F=z.d2l(F),j<F):!0}function Y(z,j){if(!j||!j.autorangeoptions)return z;var F=z[0],R=z[1],Z=j.autorangeoptions.include;if(Z!==void 0){var G=j.d2l(F),O=j.d2l(R);a.isArrayOrTypedArray(Z)||(Z=[Z]);for(var J=0;J<Z.length;J++){var X=j.d2l(Z[J]);G>=X&&(G=X,F=X),O<=X&&(O=X,R=X)}}return F=D(F,j),R=C(R,j),[F,R]}}),Ka=Mt((E,P)=>{var i=Ke(),t=ua(),a=hr(),l=da(),n=Oe(),o=n.strTranslate,s=Pr(),f=si(),e=Ta(),p=Ga(),c=rn(),h=ol(),_=Fa(),y=_.ONEMAXYEAR,v=_.ONEAVGYEAR,g=_.ONEMINYEAR,x=_.ONEMAXQUARTER,u=_.ONEAVGQUARTER,d=_.ONEMINQUARTER,m=_.ONEMAXMONTH,w=_.ONEAVGMONTH,k=_.ONEMINMONTH,U=_.ONEWEEK,D=_.ONEDAY,C=D/2,T=_.ONEHOUR,Y=_.ONEMIN,z=_.ONESEC,j=_.ONEMILLI,F=_.ONEMICROSEC,R=_.MINUS_SIGN,Z=_.BADNUM,G={K:"zeroline"},O={K:"gridline",L:"path"},J={K:"minor-gridline",L:"path"},X={K:"tick",L:"path"},it={K:"tick",L:"text"},at={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},ot=Rr(),ht=ot.MID_SHIFT,pt=ot.CAP_SHIFT,yt=ot.LINE_SPACING,H=ot.OPPOSITE_SIDE,q=3,A=P.exports={};A.setConvert=Wi();var W=vl(),rt=xr(),I=rt.idSort,M=rt.isLinked;A.id2name=rt.id2name,A.name2id=rt.name2id,A.cleanId=rt.cleanId,A.list=rt.list,A.listIds=rt.listIds,A.getFromId=rt.getFromId,A.getFromTrace=rt.getFromTrace;var S=ui();A.getAutoRange=S.getAutoRange,A.findExtremes=S.findExtremes;var N=1e-4;function V(et){var K=(et[1]-et[0])*N;return[et[0]-K,et[1]+K]}A.coerceRef=function(et,K,St,It,jt,Lt){var Ot=It.charAt(It.length-1),Bt=St._fullLayout._subplots[Ot+"axis"],Nt=It+"ref",Xt={};return jt||(jt=Bt[0]||(typeof Lt=="string"?Lt:Lt[0])),Lt||(Lt=jt),Bt=Bt.concat(Bt.map(function(ee){return ee+" domain"})),Xt[Nt]={valType:"enumerated",values:Bt.concat(Lt?typeof Lt=="string"?[Lt]:Lt:[]),dflt:jt},n.coerce(et,K,Xt,Nt)},A.getRefType=function(et){return et===void 0?et:et==="paper"?"paper":et==="pixel"?"pixel":/( domain)$/.test(et)?"domain":"range"},A.coercePosition=function(et,K,St,It,jt,Lt){var Ot,Bt,Nt=A.getRefType(It);if(Nt!=="range")Ot=n.ensureNumber,Bt=St(jt,Lt);else{var Xt=A.getFromId(K,It);Lt=Xt.fraction2r(Lt),Bt=St(jt,Lt),Ot=Xt.cleanPos}et[jt]=Ot(Bt)},A.cleanPosition=function(et,K,St){var It=St==="paper"||St==="pixel"?n.ensureNumber:A.getFromId(K,St).cleanPos;return It(et)},A.redrawComponents=function(et,K){K=K||A.listIds(et);var St=et._fullLayout;function It(jt,Lt,Ot,Bt){for(var Nt=l.getComponentMethod(jt,Lt),Xt={},ee=0;ee<K.length;ee++)for(var he=St[A.id2name(K[ee])],ke=he[Ot],Te=0;Te<ke.length;Te++){var Pe=ke[Te];if(!Xt[Pe]&&(Nt(et,Pe),Xt[Pe]=1,Bt))return}}It("annotations","drawOne","_annIndices"),It("shapes","drawOne","_shapeIndices"),It("images","draw","_imgIndices",!0),It("selections","drawOne","_selectionIndices")};var nt=A.getDataConversions=function(et,K,St,It){var jt,Lt=St==="x"||St==="y"||St==="z"?St:It;if(n.isArrayOrTypedArray(Lt)){if(jt={type:W(It,void 0,{autotypenumbers:et._fullLayout.autotypenumbers}),_categories:[]},A.setConvert(jt),jt.type==="category")for(var Ot=0;Ot<It.length;Ot++)jt.d2c(It[Ot])}else jt=A.getFromTrace(et,K,Lt);return jt?{d2c:jt.d2c,c2d:jt.c2d}:Lt==="ids"?{d2c:ct,c2d:ct}:{d2c:ut,c2d:ut}};function ut(et){return+et}function ct(et){return String(et)}A.getDataToCoordFunc=function(et,K,St,It){return nt(et,K,St,It).d2c},A.counterLetter=function(et){var K=et.charAt(0);if(K==="x")return"y";if(K==="y")return"x"},A.minDtick=function(et,K,St,It){["log","category","multicategory"].indexOf(et.type)!==-1||!It?et._minDtick=0:et._minDtick===void 0?(et._minDtick=K,et._forceTick0=St):et._minDtick&&((et._minDtick/K+1e-6)%1<2e-6&&((St-et._forceTick0)/K%1+1.000001)%1<2e-6?(et._minDtick=K,et._forceTick0=St):((K/et._minDtick+1e-6)%1>2e-6||((St-et._forceTick0)/et._minDtick%1+1.000001)%1>2e-6)&&(et._minDtick=0))},A.saveRangeInitial=function(et,K){for(var St=A.list(et,"",!0),It=!1,jt=0;jt<St.length;jt++){var Lt=St[jt],Ot=Lt._rangeInitial0===void 0&&Lt._rangeInitial1===void 0,Bt=Ot||Lt.range[0]!==Lt._rangeInitial0||Lt.range[1]!==Lt._rangeInitial1,Nt=Lt.autorange;(Ot&&Nt!==!0||K&&Bt)&&(Lt._rangeInitial0=Nt==="min"||Nt==="max reversed"?void 0:Lt.range[0],Lt._rangeInitial1=Nt==="max"||Nt==="min reversed"?void 0:Lt.range[1],Lt._autorangeInitial=Nt,It=!0)}return It},A.saveShowSpikeInitial=function(et,K){for(var St=A.list(et,"",!0),It=!1,jt="on",Lt=0;Lt<St.length;Lt++){var Ot=St[Lt],Bt=Ot._showSpikeInitial===void 0,Nt=Bt||Ot.showspikes!==Ot._showspikes;(Bt||K&&Nt)&&(Ot._showSpikeInitial=Ot.showspikes,It=!0),jt==="on"&&!Ot.showspikes&&(jt="off")}return et._fullLayout._cartesianSpikesEnabled=jt,It},A.autoBin=function(et,K,St,It,jt,Lt){var Ot=n.aggNums(Math.min,null,et),Bt=n.aggNums(Math.max,null,et);if(K.type==="category"||K.type==="multicategory")return{start:Ot-.5,end:Bt+.5,size:Math.max(1,Math.round(Lt)||1),_dataSpan:Bt-Ot};jt||(jt=K.calendar);var Nt;if(K.type==="log"?Nt={type:"linear",range:[Ot,Bt]}:Nt={type:K.type,range:n.simpleMap([Ot,Bt],K.c2r,0,jt),calendar:jt},A.setConvert(Nt),Lt=Lt&&h.dtick(Lt,Nt.type),Lt)Nt.dtick=Lt,Nt.tick0=h.tick0(void 0,Nt.type,jt);else{var Xt;if(St)Xt=(Bt-Ot)/St;else{var ee=n.distinctVals(et),he=Math.pow(10,Math.floor(Math.log(ee.minDiff)/Math.LN10)),ke=he*n.roundUp(ee.minDiff/he,[.9,1.9,4.9,9.9],!0);Xt=Math.max(ke,2*n.stdev(et)/Math.pow(et.length,It?.25:.4)),t(Xt)||(Xt=1)}A.autoTicks(Nt,Xt)}var Te=Nt.dtick,Pe=A.tickIncrement(A.tickFirst(Nt),Te,"reverse",jt),Me,ze;if(typeof Te=="number")Pe=bt(Pe,et,Nt,Ot,Bt),ze=1+Math.floor((Bt-Pe)/Te),Me=Pe+ze*Te;else for(Nt.dtick.charAt(0)==="M"&&(Pe=kt(Pe,et,Te,Ot,jt)),Me=Pe,ze=0;Me<=Bt;)Me=A.tickIncrement(Me,Te,!1,jt),ze++;return{start:K.c2r(Pe,0,jt),end:K.c2r(Me,0,jt),size:Te,_dataSpan:Bt-Ot}};function bt(et,K,St,It,jt){var Lt=0,Ot=0,Bt=0,Nt=0;function Xt(Te){return(1+(Te-et)*100/St.dtick)%100<2}for(var ee=0;ee<K.length;ee++)K[ee]%1===0?Bt++:t(K[ee])||Nt++,Xt(K[ee])&&Lt++,Xt(K[ee]+St.dtick/2)&&Ot++;var he=K.length-Nt;if(Bt===he&&St.type!=="date")St.dtick<1?et=It-.5*St.dtick:(et-=.5,et+St.dtick<It&&(et+=St.dtick));else if(Ot<he*.1&&(Lt>he*.3||Xt(It)||Xt(jt))){var ke=St.dtick/2;et+=et+ke<It?ke:-ke}return et}function kt(et,K,St,It,jt){var Lt=n.findExactDates(K,jt),Ot=.8;if(Lt.exactDays>Ot){var Bt=Number(St.substr(1));Lt.exactYears>Ot&&Bt%12===0?et=A.tickIncrement(et,"M6","reverse")+D*1.5:Lt.exactMonths>Ot?et=A.tickIncrement(et,"M1","reverse")+D*15.5:et-=C;var Nt=A.tickIncrement(et,St);if(Nt<=It)return Nt}return et}A.prepMinorTicks=function(et,K,St){if(!K.minor.dtick){delete et.dtick;var It=K.dtick&&t(K._tmin),jt;if(It){var Lt=A.tickIncrement(K._tmin,K.dtick,!0);jt=[K._tmin,Lt*.99+K._tmin*.01]}else{var Ot=n.simpleMap(K.range,K.r2l);jt=[Ot[0],.8*Ot[0]+.2*Ot[1]]}if(et.range=n.simpleMap(jt,K.l2r),et._isMinor=!0,A.prepTicks(et,St),It){var Bt=t(K.dtick),Nt=t(et.dtick),Xt=Bt?K.dtick:+K.dtick.substring(1),ee=Nt?et.dtick:+et.dtick.substring(1);Bt&&Nt?Et(Xt,ee)?Xt===2*U&&ee===2*D&&(et.dtick=U):Xt===2*U&&ee===3*D?et.dtick=U:Xt===U&&!(K._input.minor||{}).nticks?et.dtick=D:Gt(Xt/ee,2.5)?et.dtick=Xt/2:et.dtick=Xt:String(K.dtick).charAt(0)==="M"?Nt?et.dtick="M1":Et(Xt,ee)?Xt>=12&&ee===2&&(et.dtick="M3"):et.dtick=K.dtick:String(et.dtick).charAt(0)==="L"?String(K.dtick).charAt(0)==="L"?Et(Xt,ee)||(et.dtick=Gt(Xt/ee,2.5)?K.dtick/2:K.dtick):et.dtick="D1":et.dtick==="D2"&&+K.dtick>1&&(et.dtick=1)}et.range=K.range}K.minor._tick0Init===void 0&&(et.tick0=K.tick0)};function Et(et,K){return Math.abs((et/K+.5)%1-.5)<.001}function Gt(et,K){return Math.abs(et/K-1)<.001}A.prepTicks=function(et,K){var St=n.simpleMap(et.range,et.r2l,void 0,void 0,K);if(et.tickmode==="auto"||!et.dtick){var It=et.nticks,jt;It||(et.type==="category"||et.type==="multicategory"?(jt=et.tickfont?n.bigFont(et.tickfont.size||12):15,It=et._length/jt):(jt=et._id.charAt(0)==="y"?40:80,It=n.constrain(et._length/jt,4,9)+1),et._name==="radialaxis"&&(It*=2)),et.minor&&et.minor.tickmode!=="array"||et.tickmode==="array"&&(It*=100),et._roughDTick=Math.abs(St[1]-St[0])/It,A.autoTicks(et,et._roughDTick),et._minDtick>0&&et.dtick<et._minDtick*2&&(et.dtick=et._minDtick,et.tick0=et.l2r(et._forceTick0))}et.ticklabelmode==="period"&&Ht(et),et.tick0||(et.tick0=et.type==="date"?"2000-01-01":0),et.type==="date"&&et.dtick<.1&&(et.dtick=.1),$t(et)};function Vt(et){return+et.substring(1)}function Ht(et){var K;function St(){return!(t(et.dtick)||et.dtick.charAt(0)!=="M")}var It=St(),jt=A.getTickFormat(et);if(jt){var Lt=et._dtickInit!==et.dtick;/%[fLQsSMX]/.test(jt)||(/%[HI]/.test(jt)?(K=T,Lt&&!It&&et.dtick<T&&(et.dtick=T)):/%p/.test(jt)?(K=C,Lt&&!It&&et.dtick<C&&(et.dtick=C)):/%[Aadejuwx]/.test(jt)?(K=D,Lt&&!It&&et.dtick<D&&(et.dtick=D)):/%[UVW]/.test(jt)?(K=U,Lt&&!It&&et.dtick<U&&(et.dtick=U)):/%[Bbm]/.test(jt)?(K=w,Lt&&(It?Vt(et.dtick)<1:et.dtick<k)&&(et.dtick="M1")):/%[q]/.test(jt)?(K=u,Lt&&(It?Vt(et.dtick)<3:et.dtick<d)&&(et.dtick="M3")):/%[Yy]/.test(jt)&&(K=v,Lt&&(It?Vt(et.dtick)<12:et.dtick<g)&&(et.dtick="M12")))}It=St(),It&&et.tick0===et._dowTick0&&(et.tick0=et._rawTick0),et._definedDelta=K}function vt(et,K,St){for(var It=0;It<et.length;It++){var jt=et[It].value,Lt=It,Ot=It+1;It<et.length-1?(Lt=It,Ot=It+1):It>0?(Lt=It-1,Ot=It):(Lt=It,Ot=It);var Bt=et[Lt].value,Nt=et[Ot].value,Xt=Math.abs(Nt-Bt),ee=St||Xt,he=0;ee>=g?Xt>=g&&Xt<=y?he=Xt:he=v:St===u&&ee>=d?Xt>=d&&Xt<=x?he=Xt:he=u:ee>=k?Xt>=k&&Xt<=m?he=Xt:he=w:St===U&&ee>=U?he=U:ee>=D?he=D:St===C&&ee>=C?he=C:St===T&&ee>=T&&(he=T);var ke;he>=Xt&&(he=Xt,ke=!0);var Te=jt+he;if(K.rangebreaks&&he>0){for(var Pe=84,Me=0,ze=0;ze<Pe;ze++){var je=(ze+.5)/Pe;K.maskBreaks(jt*(1-je)+je*Te)!==Z&&Me++}he*=Me/Pe,he||(et[It].drop=!0),ke&&Xt>U&&(he=Xt)}(he>0||It===0)&&(et[It].periodX=jt+he/2)}}A.calcTicks=function(et,K){for(var St=et.type,It=et.calendar,jt=et.ticklabelstep,Lt=et.ticklabelmode==="period",Ot=et.range[0]>et.range[1],Bt=!et.ticklabelindex||n.isArrayOrTypedArray(et.ticklabelindex)?et.ticklabelindex:[et.ticklabelindex],Nt=n.simpleMap(et.range,et.r2l,void 0,void 0,K),Xt=Nt[1]<Nt[0],ee=Math.min(Nt[0],Nt[1]),he=Math.max(Nt[0],Nt[1]),ke=Math.max(1e3,et._length||0),Te=[],Pe=[],Me=[],ze=[],je=[],pa=et.minor&&(et.minor.ticks||et.minor.showgrid),$e=1;$e>=(pa?0:1);$e--){var Aa=!$e;$e?(et._dtickInit=et.dtick,et._tick0Init=et.tick0):(et.minor._dtickInit=et.minor.dtick,et.minor._tick0Init=et.minor.tick0);var ia=$e?et:n.extendFlat({},et,et.minor);if(Aa?A.prepMinorTicks(ia,et,K):A.prepTicks(ia,K),ia.tickmode==="array"){$e?(Me=[],Te=At(et,!Aa)):(ze=[],Pe=At(et,!Aa));continue}if(ia.tickmode==="sync"){Me=[],Te=lt(et);continue}var Ca=V(Nt),ka=Ca[0],Va=Ca[1],Na=t(ia.dtick),la=St==="log"&&!(Na||ia.dtick.charAt(0)==="L"),Ja=A.tickFirst(ia,K);if($e){if(et._tmin=Ja,Ja<ka!==Xt)break;(St==="category"||St==="multicategory")&&(Va=Xt?Math.max(-.5,Va):Math.min(et._categories.length-.5,Va))}var Ra=null,fa=Ja,ja;if($e){var qa;Na?qa=et.dtick:St==="date"?typeof et.dtick=="string"&&et.dtick.charAt(0)==="M"&&(qa=w*et.dtick.substring(1)):qa=et._roughDTick,ja=Math.round((et.r2l(fa)-et.r2l(et.tick0))/qa)-1}var Ha=ia.dtick;for(ia.rangebreaks&&ia._tick0Init!==ia.tick0&&(fa=ya(fa,et),Xt||(fa=A.tickIncrement(fa,Ha,!Xt,It))),$e&&Lt&&(fa=A.tickIncrement(fa,Ha,!Xt,It),ja--);Xt?fa>=Va:fa<=Va;fa=A.tickIncrement(fa,Ha,Xt,It)){if($e&&ja++,ia.rangebreaks&&!Xt){if(fa<ka)continue;if(ia.maskBreaks(fa)===Z&&ya(fa,ia)>=he)break}if(Me.length>ke||fa===Ra)break;Ra=fa;var tr={value:fa};$e?(la&&fa!==(fa|0)&&(tr.simpleLabel=!0),jt>1&&ja%jt&&(tr.skipLabel=!0),Me.push(tr)):(tr.minor=!0,ze.push(tr))}}if(!ze||ze.length<2)Bt=!1;else{var br=(ze[1].value-ze[0].value)*(Ot?-1:1);Ma(br,et.tickformat)||(Bt=!1)}if(!Bt)je=Me;else{var _a=Me.concat(ze);Lt&&Me.length&&(_a=_a.slice(1)),_a=_a.sort(function(za,Xa){return za.value-Xa.value}).filter(function(za,Xa,ir){return Xa===0||za.value!==ir[Xa-1].value});var Da=_a.map(function(za,Xa){return za.minor===void 0&&!za.skipLabel?Xa:null}).filter(function(za){return za!==null});Da.forEach(function(za){Bt.map(function(Xa){var ir=za+Xa;ir>=0&&ir<_a.length&&n.pushUnique(je,_a[ir])})})}if(pa){var La=et.minor.ticks==="inside"&&et.ticks==="outside"||et.minor.ticks==="outside"&&et.ticks==="inside";if(!La){for(var Pa=Me.map(function(za){return za.value}),Wa=[],er=0;er<ze.length;er++){var sr=ze[er],ar=sr.value;if(Pa.indexOf(ar)===-1){for(var pr=!1,rr=0;!pr&&rr<Me.length;rr++)1e7+Me[rr].value===1e7+ar&&(pr=!0);pr||Wa.push(sr)}}ze=Wa}}Lt&&vt(je,et,et._definedDelta);var Sa;if(et.rangebreaks){var Er=et._id.charAt(0)==="y",ur=1;et.tickmode==="auto"&&(ur=et.tickfont?et.tickfont.size:12);var wr=NaN;for(Sa=Me.length-1;Sa>-1;Sa--){if(Me[Sa].drop){Me.splice(Sa,1);continue}Me[Sa].value=ya(Me[Sa].value,et);var vr=et.c2p(Me[Sa].value);(Er?wr>vr-ur:wr<vr+ur)?Me.splice(Xt?Sa+1:Sa,1):wr=vr}}ma(et)&&Math.abs(Nt[1]-Nt[0])===360&&Me.pop(),et._tmax=(Me[Me.length-1]||{}).value,et._prevDateHead="",et._inCalcTicks=!0;var cr,Br=function(za){za.text="",et._prevDateHead=cr};Me=Me.concat(ze);function Cr(za,Xa){var ir=A.tickText(za,Xa.value,!1,Xa.simpleLabel),Mr=Xa.periodX;return Mr!==void 0&&(ir.periodX=Mr,(Mr>he||Mr<ee)&&(Mr>he&&(ir.periodX=he),Mr<ee&&(ir.periodX=ee),Br(ir))),ir}var fr;for(Sa=0;Sa<Me.length;Sa++){var jr=Me[Sa].minor,Zr=Me[Sa].value;jr?(Bt&&je.indexOf(Me[Sa])!==-1?fr=Cr(et,Me[Sa]):fr={x:Zr},fr.minor=!0,Pe.push(fr)):(cr=et._prevDateHead,fr=Cr(et,Me[Sa]),(Me[Sa].skipLabel||Bt&&je.indexOf(Me[Sa])===-1)&&Br(fr),Te.push(fr))}return Te=Te.concat(Pe),et._inCalcTicks=!1,Lt&&Te.length&&(Te[0].noTick=!0),Te};function xt(et,K){return et.rangebreaks&&(K=K.filter(function(St){return et.maskBreaks(St.x)!==Z})),K}function lt(et){var K=et._mainAxis,St=[];if(K._vals){for(var It=0;It<K._vals.length;It++)if(!K._vals[It].noTick){var jt=K.l2p(K._vals[It].x),Lt=et.p2l(jt),Ot=A.tickText(et,Lt);K._vals[It].minor&&(Ot.minor=!0,Ot.text=""),St.push(Ot)}}return St=xt(et,St),St}function At(et,K){var St=n.simpleMap(et.range,et.r2l),It=V(St),jt=Math.min(It[0],It[1]),Lt=Math.max(It[0],It[1]),Ot=et.type==="category"?et.d2l_noadd:et.d2l;et.type==="log"&&String(et.dtick).charAt(0)!=="L"&&(et.dtick="L"+Math.pow(10,Math.floor(Math.min(et.range[0],et.range[1]))-1));for(var Bt=[],Nt=0;Nt<=1;Nt++)if(!(K!==void 0&&(K&&Nt||K===!1&&!Nt))&&!(Nt&&!et.minor)){var Xt=Nt?et.minor.tickvals:et.tickvals,ee=Nt?[]:et.ticktext;if(Xt){n.isArrayOrTypedArray(ee)||(ee=[]);for(var he=0;he<Xt.length;he++){var ke=Ot(Xt[he]);if(ke>jt&&ke<Lt){var Te=A.tickText(et,ke,!1,String(ee[he]));Nt&&(Te.minor=!0,Te.text=""),Bt.push(Te)}}}}return Bt=xt(et,Bt),Bt}var Rt=[2,5,10],Ut=[1,2,3,6,12],te=[1,2,5,10,15,30],Wt=[1,2,3,7,14],ae=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],ne=[-.301,0,.301,.699,1],re=[15,30,45,90,180];function de(et,K,St){return K*n.roundUp(et/K,St)}A.autoTicks=function(et,K,St){var It;function jt(he){return Math.pow(he,Math.floor(Math.log(K)/Math.LN10))}if(et.type==="date"){et.tick0=n.dateTick0(et.calendar,0);var Lt=2*K;if(Lt>v)K/=v,It=jt(10),et.dtick="M"+12*de(K,It,Rt);else if(Lt>w)K/=w,et.dtick="M"+de(K,1,Ut);else if(Lt>D){if(et.dtick=de(K,D,et._hasDayOfWeekBreaks?[1,2,7,14]:Wt),!St){var Ot=A.getTickFormat(et),Bt=et.ticklabelmode==="period";Bt&&(et._rawTick0=et.tick0),/%[uVW]/.test(Ot)?et.tick0=n.dateTick0(et.calendar,2):et.tick0=n.dateTick0(et.calendar,1),Bt&&(et._dowTick0=et.tick0)}}else Lt>T?et.dtick=de(K,T,Ut):Lt>Y?et.dtick=de(K,Y,te):Lt>z?et.dtick=de(K,z,te):(It=jt(10),et.dtick=de(K,It,Rt))}else if(et.type==="log"){et.tick0=0;var Nt=n.simpleMap(et.range,et.r2l);if(et._isMinor&&(K*=1.5),K>.7)et.dtick=Math.ceil(K);else if(Math.abs(Nt[1]-Nt[0])<1){var Xt=1.5*Math.abs((Nt[1]-Nt[0])/K);K=Math.abs(Math.pow(10,Nt[1])-Math.pow(10,Nt[0]))/Xt,It=jt(10),et.dtick="L"+de(K,It,Rt)}else et.dtick=K>.3?"D2":"D1"}else et.type==="category"||et.type==="multicategory"?(et.tick0=0,et.dtick=Math.ceil(Math.max(K,1))):ma(et)?(et.tick0=0,It=1,et.dtick=de(K,It,re)):(et.tick0=0,It=jt(10),et.dtick=de(K,It,Rt));if(et.dtick===0&&(et.dtick=1),!t(et.dtick)&&typeof et.dtick!="string"){var ee=et.dtick;throw et.dtick=1,"ax.dtick error: "+String(ee)}};function $t(et){var K=et.dtick;if(et._tickexponent=0,!t(K)&&typeof K!="string"&&(K=1),(et.type==="category"||et.type==="multicategory")&&(et._tickround=null),et.type==="date"){var St=et.r2l(et.tick0),It=et.l2r(St).replace(/(^-|i)/g,""),jt=It.length;if(String(K).charAt(0)==="M")jt>10||It.substr(5)!=="01-01"?et._tickround="d":et._tickround=+K.substr(1)%12===0?"y":"m";else if(K>=D&&jt<=10||K>=D*15)et._tickround="d";else if(K>=Y&&jt<=16||K>=T)et._tickround="M";else if(K>=z&&jt<=19||K>=Y)et._tickround="S";else{var Lt=et.l2r(St+K).replace(/^-/,"").length;et._tickround=Math.max(jt,Lt)-20,et._tickround<0&&(et._tickround=4)}}else if(t(K)||K.charAt(0)==="L"){var Ot=et.range.map(et.r2d||Number);t(K)||(K=Number(K.substr(1))),et._tickround=2-Math.floor(Math.log(K)/Math.LN10+.01);var Bt=Math.max(Math.abs(Ot[0]),Math.abs(Ot[1])),Nt=Math.floor(Math.log(Bt)/Math.LN10+.01),Xt=et.minexponent===void 0?3:et.minexponent;Math.abs(Nt)>Xt&&(Tt(et.exponentformat)&&et.exponentformat!=="SI extended"&&!zt(Nt)||Tt(et.exponentformat)&&et.exponentformat==="SI extended"&&!Ft(Nt)?et._tickexponent=3*Math.round((Nt-1)/3):et._tickexponent=Nt)}else et._tickround=null}A.tickIncrement=function(et,K,St,It){var jt=St?-1:1;if(t(K))return n.increment(et,jt*K);var Lt=K.charAt(0),Ot=jt*Number(K.substr(1));if(Lt==="M")return n.incrementMonth(et,Ot,It);if(Lt==="L")return Math.log(Math.pow(10,et)+Ot)/Math.LN10;if(Lt==="D"){var Bt=K==="D2"?ne:ae,Nt=et+jt*.01,Xt=n.roundUp(n.mod(Nt,1),Bt,St);return Math.floor(Nt)+Math.log(i.round(Math.pow(10,Xt),1))/Math.LN10}throw"unrecognized dtick "+String(K)},A.tickFirst=function(et,K){var St=et.r2l||Number,It=n.simpleMap(et.range,St,void 0,void 0,K),jt=It[1]<It[0],Lt=jt?Math.floor:Math.ceil,Ot=V(It)[0],Bt=et.dtick,Nt=St(et.tick0);if(t(Bt)){var Xt=Lt((Ot-Nt)/Bt)*Bt+Nt;return(et.type==="category"||et.type==="multicategory")&&(Xt=n.constrain(Xt,0,et._categories.length-1)),Xt}var ee=Bt.charAt(0),he=Number(Bt.substr(1));if(ee==="M"){for(var ke=0,Te=Nt,Pe,Me,ze;ke<10;){if(Pe=A.tickIncrement(Te,Bt,jt,et.calendar),(Pe-Ot)*(Te-Ot)<=0)return jt?Math.min(Te,Pe):Math.max(Te,Pe);Me=(Ot-(Te+Pe)/2)/(Pe-Te),ze=ee+(Math.abs(Math.round(Me))||1)*he,Te=A.tickIncrement(Te,ze,Me<0?!jt:jt,et.calendar),ke++}return n.error("tickFirst did not converge",et),Te}else{if(ee==="L")return Math.log(Lt((Math.pow(10,Ot)-Nt)/he)*he+Nt)/Math.LN10;if(ee==="D"){var je=Bt==="D2"?ne:ae,pa=n.roundUp(n.mod(Ot,1),je,jt);return Math.floor(Ot)+Math.log(i.round(Math.pow(10,pa),1))/Math.LN10}else throw"unrecognized dtick "+String(Bt)}},A.tickText=function(et,K,St,It){var jt=ve(et,K),Lt=et.tickmode==="array",Ot=St||Lt,Bt=et.type,Nt=Bt==="category"?et.d2l_noadd:et.d2l,Xt,ee=function(ze){var je=et.l2p(ze);return je>=0&&je<=et._length?ze:null};if(Lt&&n.isArrayOrTypedArray(et.ticktext)){var he=n.simpleMap(et.range,et.r2l),ke=(Math.abs(he[1]-he[0])-(et._lBreaks||0))/1e4;for(Xt=0;Xt<et.ticktext.length&&!(Math.abs(K-Nt(et.tickvals[Xt]))<ke);Xt++);if(Xt<et.ticktext.length)return jt.text=String(et.ticktext[Xt]),jt.xbnd=[ee(jt.x-.5),ee(jt.x+et.dtick-.5)],jt}function Te(ze){if(ze===void 0)return!0;if(St)return ze==="none";var je={first:et._tmin,last:et._tmax}[ze];return ze!=="all"&&K!==je}var Pe=St?"never":et.exponentformat!=="none"&&Te(et.showexponent)?"hide":"";if(Bt==="date"?xe(et,jt,St,Ot):Bt==="log"?pe(et,jt,St,Ot,Pe):Bt==="category"?_e(et,jt):Bt==="multicategory"?mt(et,jt,St):ma(et)?Q(et,jt,St,Ot,Pe):Ct(et,jt,St,Ot,Pe),It||(et.tickprefix&&!Te(et.showtickprefix)&&(jt.text=et.tickprefix+jt.text),et.ticksuffix&&!Te(et.showticksuffix)&&(jt.text+=et.ticksuffix)),et.labelalias&&et.labelalias.hasOwnProperty(jt.text)){var Me=et.labelalias[jt.text];typeof Me=="string"&&(jt.text=Me)}return(et.tickson==="boundaries"||et.showdividers)&&(jt.xbnd=[ee(jt.x-.5),ee(jt.x+et.dtick-.5)]),jt},A.hoverLabelText=function(et,K,St){St&&(et=n.extendFlat({},et,{hoverformat:St}));var It=n.isArrayOrTypedArray(K)?K[0]:K,jt=n.isArrayOrTypedArray(K)?K[1]:void 0;if(jt!==void 0&&jt!==It)return A.hoverLabelText(et,It,St)+" - "+A.hoverLabelText(et,jt,St);var Lt=et.type==="log"&&It<=0,Ot=A.tickText(et,et.c2l(Lt?-It:It),"hover").text;return Lt?It===0?"0":R+Ot:Ot};function ve(et,K,St){var It=et.tickfont||{};return{x:K,dx:0,dy:0,text:St||"",fontSize:It.size,font:It.family,fontWeight:It.weight,fontStyle:It.style,fontVariant:It.variant,fontTextcase:It.textcase,fontLineposition:It.lineposition,fontShadow:It.shadow,fontColor:It.color}}function xe(et,K,St,It){var jt=et._tickround,Lt=St&&et.hoverformat||A.getTickFormat(et);It=!Lt&&It,It&&(t(jt)?jt=4:jt={y:"m",m:"d",d:"M",M:"S",S:4}[jt]);var Ot=n.formatDate(K.x,Lt,jt,et._dateFormat,et.calendar,et._extraFormat),Bt,Nt=Ot.indexOf(`
`);if(Nt!==-1&&(Bt=Ot.substr(Nt+1),Ot=Ot.substr(0,Nt)),It&&(Bt!==void 0&&(Ot==="00:00:00"||Ot==="00:00")?(Ot=Bt,Bt=""):Ot.length===8&&(Ot=Ot.replace(/:00$/,""))),Bt)if(St)jt==="d"?Ot+=", "+Bt:Ot=Bt+(Ot?", "+Ot:"");else if(!et._inCalcTicks||et._prevDateHead!==Bt)et._prevDateHead=Bt,Ot+="<br>"+Bt;else{var Xt=Qe(et),ee=et._trueSide||et.side;(!Xt&&ee==="top"||Xt&&ee==="bottom")&&(Ot+="<br> ")}K.text=Ot}function pe(et,K,St,It,jt){var Lt=et.dtick,Ot=K.x,Bt=et.tickformat,Nt=typeof Lt=="string"&&Lt.charAt(0);if(jt==="never"&&(jt=""),It&&Nt!=="L"&&(Lt="L3",Nt="L"),Bt||Nt==="L")K.text=qt(Math.pow(10,Ot),et,jt,It);else if(t(Lt)||Nt==="D"&&(et.minorloglabels==="complete"||n.mod(Ot+.01,1)<.1)){et.minorloglabels==="complete"&&!(n.mod(Ot+.01,1)<.1)&&(K.fontSize*=.75);var Xt=Math.pow(10,Ot).toExponential(0),ee=Xt.split("e"),he=+ee[1],ke=Math.abs(he),Te=et.exponentformat;Te==="power"||Tt(Te)&&Te!=="SI extended"&&zt(he)||Tt(Te)&&Te==="SI extended"&&Ft(he)?(K.text=ee[0],ke>0&&(K.text+="x10"),K.text==="1x10"&&(K.text="10"),he!==0&&he!==1&&(K.text+="<sup>"+(he>0?"":R)+ke+"</sup>"),K.fontSize*=1.25):(Te==="e"||Te==="E")&&ke>2?K.text=ee[0]+Te+(he>0?"+":R)+ke:(K.text=qt(Math.pow(10,Ot),et,"","fakehover"),Lt==="D1"&&et._id.charAt(0)==="y"&&(K.dy-=K.fontSize/6))}else if(Nt==="D")K.text=et.minorloglabels==="none"?"":String(Math.round(Math.pow(10,n.mod(Ot,1)))),K.fontSize*=.75;else throw"unrecognized dtick "+String(Lt);if(et.dtick==="D1"){var Pe=String(K.text).charAt(0);(Pe==="0"||Pe==="1")&&(et._id.charAt(0)==="y"?K.dx-=K.fontSize/4:(K.dy+=K.fontSize/2,K.dx+=(et.range[1]>et.range[0]?1:-1)*K.fontSize*(Ot<0?.5:.25)))}}function _e(et,K){var St=et._categories[Math.round(K.x)];St===void 0&&(St=""),K.text=String(St)}function mt(et,K,St){var It=Math.round(K.x),jt=et._categories[It]||[],Lt=jt[1]===void 0?"":String(jt[1]),Ot=jt[0]===void 0?"":String(jt[0]);St?K.text=Ot+" - "+Lt:(K.text=Lt,K.text2=Ot)}function Ct(et,K,St,It,jt){jt==="never"?jt="":et.showexponent==="all"&&Math.abs(K.x/et.dtick)<1e-6&&(jt="hide"),K.text=qt(K.x,et,jt,It)}function Q(et,K,St,It,jt){if(et.thetaunit==="radians"&&!St){var Lt=K.x/180;if(Lt===0)K.text="0";else{var Ot=st(Lt);if(Ot[1]>=100)K.text=qt(n.deg2rad(K.x),et,jt,It);else{var Bt=K.x<0;Ot[1]===1?Ot[0]===1?K.text="π":K.text=Ot[0]+"π":K.text=["<sup>",Ot[0],"</sup>","⁄","<sub>",Ot[1],"</sub>","π"].join(""),Bt&&(K.text=R+K.text)}}}else K.text=qt(K.x,et,jt,It)}function st(et){function K(Bt,Nt){return Math.abs(Bt-Nt)<=1e-6}function St(Bt,Nt){return K(Nt,0)?Bt:St(Nt,Bt%Nt)}function It(Bt){for(var Nt=1;!K(Math.round(Bt*Nt)/Nt,Bt);)Nt*=10;return Nt}var jt=It(et),Lt=et*jt,Ot=Math.abs(St(Lt,jt));return[Math.round(Lt/Ot),Math.round(jt/Ot)]}var ft=["f","p","n","μ","m","","k","M","G","T"],_t=["q","r","y","z","a",...ft,"P","E","Z","Y","R","Q"],Tt=et=>["SI","SI extended","B"].includes(et);function zt(et){return et>14||et<-15}function Ft(et){return et>32||et<-30}function Zt(et,K){return Tt(K)?!!(K==="SI extended"&&Ft(et)||K!=="SI extended"&&zt(et)):!1}function qt(et,K,St,It){var jt=et<0,Lt=K._tickround,Ot=St||K.exponentformat||"B",Bt=K._tickexponent,Nt=A.getTickFormat(K),Xt=K.separatethousands;if(It){var ee={exponentformat:Ot,minexponent:K.minexponent,dtick:K.showexponent==="none"?K.dtick:t(et)&&Math.abs(et)||1,range:K.showexponent==="none"?K.range.map(K.r2d):[0,et||1]};$t(ee),Lt=(Number(ee._tickround)||0)+4,Bt=ee._tickexponent,K.hoverformat&&(Nt=K.hoverformat)}if(Nt)return K._numFormat(Nt)(et).replace(/-/g,R);var he=Math.pow(10,-Lt)/2;if(Ot==="none"&&(Bt=0),et=Math.abs(et),et<he)et="0",jt=!1;else{if(et+=he,Bt&&(et*=Math.pow(10,-Bt),Lt+=Bt),Lt===0)et=String(Math.floor(et));else if(Lt<0){et=String(Math.round(et)),et=et.substr(0,et.length+Lt);for(var ke=Lt;ke<0;ke++)et+="0"}else{et=String(et);var Te=et.indexOf(".")+1;Te&&(et=et.substr(0,Te+Lt).replace(/\.?0+$/,""))}et=n.numSeparate(et,K._separators,Xt)}if(Bt&&Ot!=="hide"){Zt(Bt,Ot)&&(Ot="power");var Pe;Bt<0?Pe=R+-Bt:Ot!=="power"?Pe="+"+Bt:Pe=String(Bt),Ot==="e"||Ot==="E"?et+=Ot+Pe:Ot==="power"?et+="×10<sup>"+Pe+"</sup>":Ot==="B"&&Bt===9?et+="B":Tt(Ot)&&(et+=Ot==="SI extended"?_t[Bt/3+10]:ft[Bt/3+5])}return jt?R+et:et}A.getTickFormat=function(et){var K;function St(Nt){return typeof Nt!="string"?Nt:Number(Nt.replace("M",""))*w}function It(Nt,Xt){var ee=["L","D"];if(typeof Nt==typeof Xt){if(typeof Nt=="number")return Nt-Xt;var he=ee.indexOf(Nt.charAt(0)),ke=ee.indexOf(Xt.charAt(0));return he===ke?Number(Nt.replace(/(L|D)/g,""))-Number(Xt.replace(/(L|D)/g,"")):he-ke}else return typeof Nt=="number"?1:-1}function jt(Nt,Xt,ee){var he=ee||function(Pe){return Pe},ke=Xt[0],Te=Xt[1];return(!ke&&typeof ke!="number"||he(ke)<=he(Nt))&&(!Te&&typeof Te!="number"||he(Te)>=he(Nt))}function Lt(Nt,Xt){var ee=Xt[0]===null,he=Xt[1]===null,ke=It(Nt,Xt[0])>=0,Te=It(Nt,Xt[1])<=0;return(ee||ke)&&(he||Te)}var Ot,Bt;if(et.tickformatstops&&et.tickformatstops.length>0)switch(et.type){case"date":case"linear":{for(K=0;K<et.tickformatstops.length;K++)if(Bt=et.tickformatstops[K],Bt.enabled&&jt(et.dtick,Bt.dtickrange,St)){Ot=Bt;break}break}case"log":{for(K=0;K<et.tickformatstops.length;K++)if(Bt=et.tickformatstops[K],Bt.enabled&&Lt(et.dtick,Bt.dtickrange)){Ot=Bt;break}break}}return Ot?Ot.value:et.tickformat},A.getSubplots=function(et,K){var St=et._fullLayout._subplots,It=St.cartesian.concat(St.gl2d||[]),jt=K?A.findSubplotsWithAxis(It,K):It;return jt.sort(function(Lt,Ot){var Bt=Lt.substr(1).split("y"),Nt=Ot.substr(1).split("y");return Bt[0]===Nt[0]?+Bt[1]-+Nt[1]:+Bt[0]-+Nt[0]}),jt},A.findSubplotsWithAxis=function(et,K){for(var St=new RegExp(K._id.charAt(0)==="x"?"^"+K._id+"y":K._id+"$"),It=[],jt=0;jt<et.length;jt++){var Lt=et[jt];St.test(Lt)&&It.push(Lt)}return It},A.makeClipPaths=function(et){var K=et._fullLayout;if(!K._hasOnlyLargeSploms){var St={_offset:0,_length:K.width,_id:""},It={_offset:0,_length:K.height,_id:""},jt=A.list(et,"x",!0),Lt=A.list(et,"y",!0),Ot=[],Bt,Nt;for(Bt=0;Bt<jt.length;Bt++)for(Ot.push({x:jt[Bt],y:It}),Nt=0;Nt<Lt.length;Nt++)Bt===0&&Ot.push({x:St,y:Lt[Nt]}),Ot.push({x:jt[Bt],y:Lt[Nt]});var Xt=K._clips.selectAll(".axesclip").data(Ot,function(ee){return ee.x._id+ee.y._id});Xt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(ee){return"clip"+K._uid+ee.x._id+ee.y._id}).append("rect"),Xt.exit().remove(),Xt.each(function(ee){i.select(this).select("rect").attr({x:ee.x._offset||0,y:ee.y._offset||0,width:ee.x._length||1,height:ee.y._length||1})})}},A.draw=function(et,K,St){var It=et._fullLayout;K==="redraw"&&It._paper.selectAll("g.subplot").each(function(Nt){var Xt=Nt[0],ee=It._plots[Xt];if(ee){var he=ee.xaxis,ke=ee.yaxis;ee.xaxislayer.selectAll("."+he._id+"tick").remove(),ee.yaxislayer.selectAll("."+ke._id+"tick").remove(),ee.xaxislayer.selectAll("."+he._id+"tick2").remove(),ee.yaxislayer.selectAll("."+ke._id+"tick2").remove(),ee.xaxislayer.selectAll("."+he._id+"divider").remove(),ee.yaxislayer.selectAll("."+ke._id+"divider").remove(),ee.minorGridlayer&&ee.minorGridlayer.selectAll("path").remove(),ee.gridlayer&&ee.gridlayer.selectAll("path").remove(),ee.zerolinelayer&&ee.zerolinelayer.selectAll("path").remove(),ee.zerolinelayerAbove&&ee.zerolinelayerAbove.selectAll("path").remove(),It._infolayer.select(".g-"+he._id+"title").remove(),It._infolayer.select(".g-"+ke._id+"title").remove()}});var jt=!K||K==="redraw"?A.listIds(et):K,Lt=A.list(et),Ot=Lt.filter(function(Nt){return Nt.autoshift}).map(function(Nt){return Nt.overlaying});jt.map(function(Nt){var Xt=A.getFromId(et,Nt);if(Xt.tickmode==="sync"&&Xt.overlaying){var ee=jt.findIndex(function(he){return he===Xt.overlaying});ee>=0&&jt.unshift(jt.splice(ee,1).shift())}});var Bt={false:{left:0,right:0}};return n.syncOrAsync(jt.map(function(Nt){return function(){if(Nt){var Xt=A.getFromId(et,Nt);St||(St={}),St.axShifts=Bt,St.overlayingShiftedAx=Ot;var ee=A.drawOne(et,Xt,St);return Xt._shiftPusher&&oa(Xt,Xt._fullDepth||0,Bt,!0),Xt._r=Xt.range.slice(),Xt._rl=n.simpleMap(Xt._r,Xt.r2l),ee}}}))},A.drawOne=function(et,K,St){St=St||{};var It=St.axShifts||{},jt=St.overlayingShiftedAx||[],Lt,Ot,Bt;K.setScale();var Nt=et._fullLayout,Xt=K._id,ee=Xt.charAt(0),he=A.counterLetter(Xt),ke=Nt._plots[K._mainSubplot],Te=K.zerolinelayer==="above traces";if(!ke)return;if(K._shiftPusher=K.autoshift||jt.indexOf(K._id)!==-1||jt.indexOf(K.overlaying)!==-1,K._shiftPusher&K.anchor==="free"){var Pe=K.linewidth/2||0;K.ticks==="inside"&&(Pe+=K.ticklen),oa(K,Pe,It,!0),oa(K,K.shift||0,It,!1)}(St.skipTitle!==!0||K._shift===void 0)&&(K._shift=Ce(K,It));var Me=ke[ee+"axislayer"],ze=K._mainLinePosition,je=ze+=K._shift,pa=K._mainMirrorPosition,$e=K._vals=A.calcTicks(K),Aa=[K.mirror,je,pa].join("_");for(Lt=0;Lt<$e.length;Lt++)$e[Lt].axInfo=Aa;K._selections={},K._tickAngles&&(K._prevTickAngles=K._tickAngles),K._tickAngles={},K._depth=null;var ia={};function Ca(za){var Xa=Xt+(za||"tick");return ia[Xa]||(ia[Xa]=be(K,Xa,je)),ia[Xa]}if(K.visible){var ka=A.makeTransTickFn(K),Va=A.makeTransTickLabelFn(K),Na,la,Ja=K.ticks==="inside",Ra=K.ticks==="outside";if(K.tickson==="boundaries"){var fa=ie(K,$e);la=A.clipEnds(K,fa),Na=Ja?la:fa}else la=A.clipEnds(K,$e),Na=Ja&&K.ticklabelmode!=="period"?la:$e;var ja=K._gridVals=la,qa=le(K,$e);if(!Nt._hasOnlyLargeSploms){var Ha=K._subplotsWith,tr={};for(Lt=0;Lt<Ha.length;Lt++){Ot=Ha[Lt],Bt=Nt._plots[Ot];var br=Bt[he+"axis"],_a=br._mainAxis._id;if(!tr[_a]){tr[_a]=1;var Da=ee==="x"?"M0,"+br._offset+"v"+br._length:"M"+br._offset+",0h"+br._length;A.drawGrid(et,K,{vals:ja,counterAxis:br,layer:Bt.gridlayer.select("."+Xt),minorLayer:Bt.minorGridlayer.select("."+Xt),path:Da,transFn:ka}),A.drawZeroLine(et,K,{counterAxis:br,layer:Te?Bt.zerolinelayerAbove:Bt.zerolinelayer,path:Da,transFn:ka})}}}var La,Pa=A.getTickSigns(K),Wa=A.getTickSigns(K,"minor");if(K.ticks||K.minor&&K.minor.ticks){var er=A.makeTickPath(K,je,Pa[2]),sr=A.makeTickPath(K,je,Wa[2],{minor:!0}),ar,pr,rr,Sa;if(K._anchorAxis&&K.mirror&&K.mirror!==!0?(ar=A.makeTickPath(K,pa,Pa[3]),pr=A.makeTickPath(K,pa,Wa[3],{minor:!0}),rr=er+ar,Sa=sr+pr):(ar="",pr="",rr=er,Sa=sr),K.showdividers&&Ra&&K.tickson==="boundaries"){var Er={};for(Lt=0;Lt<qa.length;Lt++)Er[qa[Lt].x]=1;La=function(za){return Er[za.x]?ar:rr}}else La=function(za){return za.minor?Sa:rr}}if(A.drawTicks(et,K,{vals:Na,layer:Me,path:La,transFn:ka}),K.mirror==="allticks"){var ur=Object.keys(K._linepositions||{});for(Lt=0;Lt<ur.length;Lt++){Ot=ur[Lt],Bt=Nt._plots[Ot];var wr=K._linepositions[Ot]||[],vr=wr[0],cr=wr[1],Br=wr[2],Cr=A.makeTickPath(K,vr,Br?Pa[0]:Wa[0],{minor:Br})+A.makeTickPath(K,cr,Br?Pa[1]:Wa[1],{minor:Br});A.drawTicks(et,K,{vals:Na,layer:Bt[ee+"axislayer"],path:Cr,transFn:ka})}}var fr=[];if(fr.push(function(){return A.drawLabels(et,K,{vals:$e,layer:Me,plotinfo:Bt,transFn:Va,labelFns:A.makeLabelFns(K,je)})}),K.type==="multicategory"){var jr={x:2,y:10}[ee];fr.push(function(){var za={x:"height",y:"width"}[ee],Xa=Ca()[za]+jr+(K._tickAngles[Xt+"tick"]?K.tickfont.size*yt:0);return A.drawLabels(et,K,{vals:oe(K,$e),layer:Me,cls:Xt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:ka,labelFns:A.makeLabelFns(K,je+Xa*Pa[4])})}),fr.push(function(){return K._depth=Pa[4]*(Ca("tick2")[K.side]-je),Ye(et,K,{vals:qa,layer:Me,path:A.makeTickPath(K,je,Pa[4],{len:K._depth}),transFn:ka})})}else K.title.hasOwnProperty("standoff")&&fr.push(function(){K._depth=Pa[4]*(Ca()[K.side]-je)});var Zr=l.getComponentMethod("rangeslider","isVisible")(K);return!St.skipTitle&&!(Zr&&K.side==="bottom")&&fr.push(function(){return we(et,K)}),fr.push(function(){var za=K.side.charAt(0),Xa=H[K.side].charAt(0),ir=A.getPxPosition(et,K),Mr=Ra?K.ticklen:0,nr,Ba,Tr,bn;(K.automargin||Zr||K._shiftPusher)&&(K.type==="multicategory"?nr=Ca("tick2"):(nr=Ca(),ee==="x"&&za==="b"&&(K._depth=Math.max(nr.width>0?nr.bottom-ir:0,Mr))));var ln=0,Wn=0;if(K._shiftPusher&&(ln=Math.max(Mr,nr.height>0?za==="l"?ir-nr.left:nr.right-ir:0),K.title.text!==Nt._dfltTitle[ee]&&(Wn=(K._titleStandoff||0)+(K._titleScoot||0),za==="l"&&(Wn+=Se(K))),K._fullDepth=Math.max(ln,Wn)),K.automargin){Ba={x:0,y:0,r:0,l:0,t:0,b:0};var sn=[0,1],yi=typeof K._shift=="number"?K._shift:0;if(ee==="x"){if(za==="b"?Ba[za]=K._depth:(Ba[za]=K._depth=Math.max(nr.width>0?ir-nr.top:0,Mr),sn.reverse()),nr.width>0){var xi=nr.right-(K._offset+K._length);xi>0&&(Ba.xr=1,Ba.r=xi);var bi=K._offset-nr.left;bi>0&&(Ba.xl=0,Ba.l=bi)}}else if(za==="l"?(K._depth=Math.max(nr.height>0?ir-nr.left:0,Mr),Ba[za]=K._depth-yi):(K._depth=Math.max(nr.height>0?nr.right-ir:0,Mr),Ba[za]=K._depth+yi,sn.reverse()),nr.height>0){var Xn=nr.bottom-(K._offset+K._length);Xn>0&&(Ba.yb=0,Ba.b=Xn);var _n=K._offset-nr.top;_n>0&&(Ba.yt=1,Ba.t=_n)}Ba[he]=K.anchor==="free"?K.position:K._anchorAxis.domain[sn[0]],K.title.text!==Nt._dfltTitle[ee]&&(Ba[za]+=Se(K)+(K.title.standoff||0)),K.mirror&&K.anchor!=="free"&&(Tr={x:0,y:0,r:0,l:0,t:0,b:0},Tr[Xa]=K.linewidth,K.mirror&&K.mirror!==!0&&(Tr[Xa]+=Mr),K.mirror===!0||K.mirror==="ticks"?Tr[he]=K._anchorAxis.domain[sn[1]]:(K.mirror==="all"||K.mirror==="allticks")&&(Tr[he]=[K._counterDomainMin,K._counterDomainMax][sn[1]]))}Zr&&(bn=l.getComponentMethod("rangeslider","autoMarginOpts")(et,K)),typeof K.automargin=="string"&&(Yt(Ba,K.automargin),Yt(Tr,K.automargin)),a.autoMargin(et,Ie(K),Ba),a.autoMargin(et,Le(K),Tr),a.autoMargin(et,Xe(K),bn)}),n.syncOrAsync(fr)}};function Yt(et,K){if(et){var St=Object.keys(at).reduce(function(It,jt){return K.indexOf(jt)!==-1&&at[jt].forEach(function(Lt){It[Lt]=1}),It},{});Object.keys(et).forEach(function(It){St[It]||(It.length===1?et[It]=0:delete et[It])})}}function ie(et,K){var St=[],It,jt=function(Lt,Ot){var Bt=Lt.xbnd[Ot];Bt!==null&&St.push(n.extendFlat({},Lt,{x:Bt}))};if(K.length){for(It=0;It<K.length;It++)jt(K[It],0);jt(K[It-1],1)}return St}function oe(et,K){for(var St=[],It={},jt=0;jt<K.length;jt++){var Lt=K[jt];It[Lt.text2]?It[Lt.text2].push(Lt.x):It[Lt.text2]=[Lt.x]}for(var Ot in It)St.push(ve(et,n.interp(It[Ot],.5),Ot));return St}function le(et,K){var St=[],It,jt,Lt=K.length&&K[K.length-1].x<K[0].x,Ot=function(Nt,Xt){var ee=Nt.xbnd[Xt];ee!==null&&St.push(n.extendFlat({},Nt,{x:ee}))};if(et.showdividers&&K.length){for(It=0;It<K.length;It++){var Bt=K[It];Bt.text2!==jt&&Ot(Bt,Lt?1:0),jt=Bt.text2}Ot(K[It-1],Lt?0:1)}return St}function be(et,K,St){var It,jt,Lt,Ot;if(et._selections[K].size())It=1/0,jt=-1/0,Lt=1/0,Ot=-1/0,et._selections[K].each(function(){var Nt=De(this);if(Nt.node().style.display!=="none"){var Xt=p.bBox(Nt.node().parentNode);It=Math.min(It,Xt.top),jt=Math.max(jt,Xt.bottom),Lt=Math.min(Lt,Xt.left),Ot=Math.max(Ot,Xt.right)}});else{var Bt=A.makeLabelFns(et,St);It=jt=Bt.yFn({dx:0,dy:0,fontSize:0}),Lt=Ot=Bt.xFn({dx:0,dy:0,fontSize:0})}return{top:It,bottom:jt,left:Lt,right:Ot,height:jt-It,width:Ot-Lt}}A.getTickSigns=function(et,K){var St=et._id.charAt(0),It={x:"top",y:"right"}[St],jt=et.side===It?1:-1,Lt=[-1,1,jt,-jt],Ot=K?(et.minor||{}).ticks:et.ticks;return Ot!=="inside"==(St==="x")&&(Lt=Lt.map(function(Bt){return-Bt})),et.side&&Lt.push({l:-1,t:-1,r:1,b:1}[et.side.charAt(0)]),Lt},A.makeTransTickFn=function(et){return et._id.charAt(0)==="x"?function(K){return o(et._offset+et.l2p(K.x),0)}:function(K){return o(0,et._offset+et.l2p(K.x))}},A.makeTransTickLabelFn=function(et){var K=Re(et),St=et.ticklabelshift||0,It=et.ticklabelstandoff||0,jt=K[0],Lt=K[1],Ot=et.range[0]>et.range[1],Bt=et.ticklabelposition&&et.ticklabelposition.indexOf("inside")!==-1,Nt=!Bt;if(St){var Xt=Ot?-1:1;St=St*Xt}if(It){var ee=et.side,he=Bt&&(ee==="top"||ee==="left")||Nt&&(ee==="bottom"||ee==="right")?1:-1;It=It*he}return et._id.charAt(0)==="x"?function(ke){return o(jt+et._offset+et.l2p(Ae(ke))+St,Lt+It)}:function(ke){return o(Lt+It,jt+et._offset+et.l2p(Ae(ke))+St)}};function Ae(et){return et.periodX!==void 0?et.periodX:et.x}function Re(et){var K=et.ticklabelposition||"",St=et.tickson||"",It=function(Pe){return K.indexOf(Pe)!==-1},jt=It("top"),Lt=It("left"),Ot=It("right"),Bt=It("bottom"),Nt=It("inside"),Xt=St!=="boundaries"&&(Bt||Lt||jt||Ot);if(!Xt&&!Nt)return[0,0];var ee=et.side,he=Xt?(et.tickwidth||0)/2:0,ke=q,Te=et.tickfont?et.tickfont.size:12;return(Bt||jt)&&(he+=Te*pt,ke+=(et.linewidth||0)/2),(Lt||Ot)&&(he+=(et.linewidth||0)/2,ke+=q),Nt&&ee==="top"&&(ke-=Te*(1-pt)),(Lt||jt)&&(he=-he),(ee==="bottom"||ee==="right")&&(ke=-ke),[Xt?he:0,Nt?ke:0]}A.makeTickPath=function(et,K,St,It){It||(It={});var jt=It.minor;if(jt&&!et.minor)return"";var Lt=It.len!==void 0?It.len:jt?et.minor.ticklen:et.ticklen,Ot=et._id.charAt(0),Bt=(et.linewidth||1)/2;return Ot==="x"?"M0,"+(K+Bt*St)+"v"+Lt*St:"M"+(K+Bt*St)+",0h"+Lt*St},A.makeLabelFns=function(et,K,St){var It=et.ticklabelposition||"",jt=et.tickson||"",Lt=function(fa){return It.indexOf(fa)!==-1},Ot=Lt("top"),Bt=Lt("left"),Nt=Lt("right"),Xt=Lt("bottom"),ee=jt!=="boundaries"&&(Xt||Bt||Ot||Nt),he=Lt("inside"),ke=It==="inside"&&et.ticks==="inside"||!he&&et.ticks==="outside"&&jt!=="boundaries",Te=0,Pe=0,Me=ke?et.ticklen:0;if(he?Me*=-1:ee&&(Me=0),ke&&(Te+=Me,St)){var ze=n.deg2rad(St);Te=Me*Math.cos(ze)+1,Pe=Me*Math.sin(ze)}et.showticklabels&&(ke||et.showline)&&(Te+=.2*et.tickfont.size),Te+=(et.linewidth||1)/2*(he?-1:1);var je={labelStandoff:Te,labelShift:Pe},pa,$e,Aa,ia,Ca=0,ka=et.side,Va=et._id.charAt(0),Na=et.tickangle,la;if(Va==="x")la=!he&&ka==="bottom"||he&&ka==="top",ia=la?1:-1,he&&(ia*=-1),pa=Pe*ia,$e=K+Te*ia,Aa=la?1:-.2,Math.abs(Na)===90&&(he?Aa+=ht:Na===-90&&ka==="bottom"?Aa=pt:Na===90&&ka==="top"?Aa=ht:Aa=.5,Ca=ht/2*(Na/90)),je.xFn=function(fa){return fa.dx+pa+Ca*fa.fontSize},je.yFn=function(fa){return fa.dy+$e+fa.fontSize*Aa},je.anchorFn=function(fa,ja){if(ee){if(Bt)return"end";if(Nt)return"start"}return!t(ja)||ja===0||ja===180?"middle":ja*ia<0!==he?"end":"start"},je.heightFn=function(fa,ja,qa){return ja<-60||ja>60?-.5*qa:et.side==="top"!==he?-qa:0};else if(Va==="y"){if(la=!he&&ka==="left"||he&&ka==="right",ia=la?1:-1,he&&(ia*=-1),pa=Te,$e=Pe*ia,Aa=0,!he&&Math.abs(Na)===90&&(Na===-90&&ka==="left"||Na===90&&ka==="right"?Aa=pt:Aa=.5),he){var Ja=t(Na)?+Na:0;if(Ja!==0){var Ra=n.deg2rad(Ja);Ca=Math.abs(Math.sin(Ra))*pt*ia,Aa=0}}je.xFn=function(fa){return fa.dx+K-(pa+fa.fontSize*Aa)*ia+Ca*fa.fontSize},je.yFn=function(fa){return fa.dy+$e+fa.fontSize*ht},je.anchorFn=function(fa,ja){return t(ja)&&Math.abs(ja)===90?"middle":la?"end":"start"},je.heightFn=function(fa,ja,qa){return et.side==="right"&&(ja*=-1),ja<-30?-qa:ja<30?-.5*qa:0}}return je};function Ve(et){return[et.text,et.x,et.axInfo,et.font,et.fontSize,et.fontColor].join("_")}A.drawTicks=function(et,K,St){St=St||{};var It=K._id+"tick",jt=[].concat(K.minor&&K.minor.ticks?St.vals.filter(function(Ot){return Ot.minor&&!Ot.noTick}):[]).concat(K.ticks?St.vals.filter(function(Ot){return!Ot.minor&&!Ot.noTick}):[]),Lt=St.layer.selectAll("path."+It).data(jt,Ve);Lt.exit().remove(),Lt.enter().append("path").classed(It,1).classed("ticks",1).classed("crisp",St.crisp!==!1).each(function(Ot){return e.stroke(i.select(this),Ot.minor?K.minor.tickcolor:K.tickcolor)}).style("stroke-width",function(Ot){return p.crispRound(et,Ot.minor?K.minor.tickwidth:K.tickwidth,1)+"px"}).attr("d",St.path).style("display",null),ha(K,[X]),Lt.attr("transform",St.transFn)},A.drawGrid=function(et,K,St){if(St=St||{},K.tickmode!=="sync"){var It=K._id+"grid",jt=K.minor&&K.minor.showgrid,Lt=jt?St.vals.filter(function(je){return je.minor}):[],Ot=K.showgrid?St.vals.filter(function(je){return!je.minor}):[],Bt=St.counterAxis;if(Bt&&A.shouldShowZeroLine(et,K,Bt))for(var Nt=K.tickmode==="array",Xt=0;Xt<Ot.length;Xt++){var ee=Ot[Xt].x;if(Nt?!ee:Math.abs(ee)<K.dtick/100)if(Ot=Ot.slice(0,Xt).concat(Ot.slice(Xt+1)),Nt)Xt--;else break}K._gw=p.crispRound(et,K.gridwidth,1);for(var he=jt?p.crispRound(et,K.minor.gridwidth,1):0,ke=St.layer,Te=St.minorLayer,Pe=1;Pe>=0;Pe--){var Me=Pe?ke:Te;if(Me){var ze=Me.selectAll("path."+It).data(Pe?Ot:Lt,Ve);ze.exit().remove(),ze.enter().append("path").classed(It,1).classed("crisp",St.crisp!==!1),ze.attr("transform",St.transFn).attr("d",St.path).each(function(je){return e.stroke(i.select(this),je.minor?K.minor.gridcolor:K.gridcolor||"#ddd")}).style("stroke-dasharray",function(je){return p.dashStyle(je.minor?K.minor.griddash:K.griddash,je.minor?K.minor.gridwidth:K.gridwidth)}).style("stroke-width",function(je){return(je.minor?he:K._gw)+"px"}).style("display",null),typeof St.path=="function"&&ze.attr("d",St.path)}}ha(K,[O,J])}},A.drawZeroLine=function(et,K,St){St=St||St;var It=K._id+"zl",jt=A.shouldShowZeroLine(et,K,St.counterAxis),Lt=St.layer.selectAll("path."+It).data(jt?[{x:0,id:K._id}]:[]);Lt.exit().remove(),Lt.enter().append("path").classed(It,1).classed("zl",1).classed("crisp",St.crisp!==!1).each(function(){St.layer.selectAll("path").sort(function(Ot,Bt){return I(Ot.id,Bt.id)})}),Lt.attr("transform",St.transFn).attr("d",St.path).call(e.stroke,K.zerolinecolor||e.defaultLine).style("stroke-width",p.crispRound(et,K.zerolinewidth,K._gw||1)+"px").style("display",null),ha(K,[G])},A.drawLabels=function(et,K,St){St=St||{};var It=et._fullLayout,jt=K._id,Lt=K.zerolinelayer==="above traces",Ot=St.cls||jt+"tick",Bt=St.vals.filter(function(_a){return _a.text}),Nt=St.labelFns,Xt=St.secondary?0:K.tickangle,ee=(K._prevTickAngles||{})[Ot],he=St.layer.selectAll("g."+Ot).data(K.showticklabels?Bt:[],Ve),ke=[];he.enter().append("g").classed(Ot,1).append("text").attr("text-anchor","middle").each(function(_a){var Da=i.select(this),La=et._promises.length;Da.call(s.positionText,Nt.xFn(_a),Nt.yFn(_a)).call(p.font,{family:_a.font,size:_a.fontSize,color:_a.fontColor,weight:_a.fontWeight,style:_a.fontStyle,variant:_a.fontVariant,textcase:_a.fontTextcase,lineposition:_a.fontLineposition,shadow:_a.fontShadow}).text(_a.text).call(s.convertToTspans,et),et._promises[La]?ke.push(et._promises.pop().then(function(){Te(Da,Xt)})):Te(Da,Xt)}),ha(K,[it]),he.exit().remove(),St.repositionOnUpdate&&he.each(function(_a){i.select(this).select("text").call(s.positionText,Nt.xFn(_a),Nt.yFn(_a))});function Te(_a,Da){_a.each(function(La){var Pa=i.select(this),Wa=Pa.select(".text-math-group"),er=Nt.anchorFn(La,Da),sr=St.transFn.call(Pa.node(),La)+(t(Da)&&+Da!=0?" rotate("+Da+","+Nt.xFn(La)+","+(Nt.yFn(La)-La.fontSize/2)+")":""),ar=s.lineCount(Pa),pr=yt*La.fontSize,rr=Nt.heightFn(La,t(Da)?+Da:0,(ar-1)*pr);if(rr&&(sr+=o(0,rr)),Wa.empty()){var Sa=Pa.select("text");Sa.attr({transform:sr,"text-anchor":er}),Sa.style("display",null),K._adjustTickLabelsOverflow&&K._adjustTickLabelsOverflow()}else{var Er=p.bBox(Wa.node()).width,ur=Er*{end:-.5,start:.5}[er];Wa.attr("transform",sr+o(ur,0))}})}K._adjustTickLabelsOverflow=function(){var _a=K.ticklabeloverflow;if(!(!_a||_a==="allow")){var Da=_a.indexOf("hide")!==-1,La=K._id.charAt(0)==="x",Pa=0,Wa=La?et._fullLayout.width:et._fullLayout.height;if(_a.indexOf("domain")!==-1){var er=n.simpleMap(K.range,K.r2l);Pa=K.l2p(er[0])+K._offset,Wa=K.l2p(er[1])+K._offset}var sr=Math.min(Pa,Wa),ar=Math.max(Pa,Wa),pr=K.side,rr=1/0,Sa=-1/0;he.each(function(vr){var cr=i.select(this),Br=cr.select(".text-math-group");if(Br.empty()){var Cr=p.bBox(cr.node()),fr=0;La?(Cr.right>ar||Cr.left<sr)&&(fr=1):(Cr.bottom>ar||Cr.top+(K.tickangle?0:vr.fontSize/4)<sr)&&(fr=1);var jr=cr.select("text");fr?Da&&jr.style("display","none"):jr.node().style.display!=="none"&&(jr.style("display",null),pr==="bottom"||pr==="right"?rr=Math.min(rr,La?Cr.top:Cr.left):rr=-1/0,pr==="top"||pr==="left"?Sa=Math.max(Sa,La?Cr.bottom:Cr.right):Sa=1/0)}});for(var Er in It._plots){var ur=It._plots[Er];if(!(K._id!==ur.xaxis._id&&K._id!==ur.yaxis._id)){var wr=La?ur.yaxis:ur.xaxis;wr&&(wr["_visibleLabelMin_"+K._id]=rr,wr["_visibleLabelMax_"+K._id]=Sa)}}}},K._hideCounterAxisInsideTickLabels=function(_a){var Da=K._id.charAt(0)==="x",La=[];for(var Pa in It._plots){var Wa=It._plots[Pa];K._id!==Wa.xaxis._id&&K._id!==Wa.yaxis._id||La.push(Da?Wa.yaxis:Wa.xaxis)}La.forEach(function(er,sr){er&&Qe(er)&&(_a||[G,J,O,X,it]).forEach(function(ar){var pr=ar.K==="tick"&&ar.L==="text"&&K.ticklabelmode==="period",rr=It._plots[K._mainSubplot],Sa;if(ar.K===G.K){var Er=Lt?rr.zerolinelayerAbove:rr.zerolinelayer;Sa=Er.selectAll("."+K._id+"zl")}else ar.K===J.K?Sa=rr.minorGridlayer.selectAll("."+K._id):ar.K===O.K?Sa=rr.gridlayer.selectAll("."+K._id):Sa=rr[K._id.charAt(0)+"axislayer"];Sa.each(function(){var ur=i.select(this);ar.L&&(ur=ur.selectAll(ar.L)),ur.each(function(wr){var vr=K.l2p(pr?Ae(wr):wr.x)+K._offset,cr=i.select(this);vr<K["_visibleLabelMax_"+er._id]&&vr>K["_visibleLabelMin_"+er._id]?cr.style("display","none"):ar.K==="tick"&&!sr&&cr.node().style.display!=="none"&&cr.style("display",null)})})})})},Te(he,ee+1?ee:Xt);function Pe(){return ke.length&&Promise.all(ke)}var Me=null;function ze(){if(Te(he,Xt),Bt.length&&K.autotickangles&&(K.type!=="log"||String(K.dtick).charAt(0)!=="D")){Me=K.autotickangles[0];var _a=0,Da=[],La,Pa=1;he.each(function(Ba){_a=Math.max(_a,Ba.fontSize);var Tr=K.l2p(Ba.x),bn=De(this),ln=p.bBox(bn.node());Pa=Math.max(Pa,s.lineCount(bn)),Da.push({top:0,bottom:10,height:10,left:Tr-ln.width/2,right:Tr+ln.width/2+2,width:ln.width+2})});var Wa=(K.tickson==="boundaries"||K.showdividers)&&!St.secondary,er=Bt.length,sr=Math.abs((Bt[er-1].x-Bt[0].x)*K._m)/(er-1),ar=Wa?sr/2:sr,pr=Wa?K.ticklen:_a*1.25*Pa,rr=Math.sqrt(Math.pow(ar,2)+Math.pow(pr,2)),Sa=ar/rr,Er=K.autotickangles.map(function(Ba){return Ba*Math.PI/180}),ur=Er.find(function(Ba){return Math.abs(Math.cos(Ba))<=Sa});ur===void 0&&(ur=Er.reduce(function(Ba,Tr){return Math.abs(Math.cos(Ba))<Math.abs(Math.cos(Tr))?Ba:Tr},Er[0]));var wr=ur*(180/Math.PI);if(Wa){var vr=2;for(K.ticks&&(vr+=K.tickwidth/2),La=0;La<Da.length;La++){var cr=Bt[La].xbnd,Br=Da[La];if(cr[0]!==null&&Br.left-K.l2p(cr[0])<vr||cr[1]!==null&&K.l2p(cr[1])-Br.right<vr){Me=wr;break}}}else{var Cr=K.ticklabelposition||"",fr=K.tickson||"",jr=function(Ba){return Cr.indexOf(Ba)!==-1},Zr=jr("top"),za=jr("left"),Xa=jr("right"),ir=jr("bottom"),Mr=fr!=="boundaries"&&(ir||za||Zr||Xa),nr=Mr?(K.tickwidth||0)+2*q:0;for(La=0;La<Da.length-1;La++)if(n.bBoxIntersect(Da[La],Da[La+1],nr)){Me=wr;break}}Me&&Te(he,Me)}}K._selections&&(K._selections[Ot]=he);var je=[Pe];K.automargin&&It._redrawFromAutoMarginCount&&ee===90?(Me=ee,je.push(function(){Te(he,ee)})):je.push(ze),K._tickAngles&&je.push(function(){K._tickAngles[Ot]=Me===null?t(Xt)?Xt:0:Me});var pa=function(){var _a=0,Da=0;return he.each(function(La,Pa){var Wa=De(this),er=Wa.select(".text-math-group");if(er.empty()){var sr;K._vals[Pa]&&(sr=K._vals[Pa].bb||p.bBox(Wa.node()),K._vals[Pa].bb=sr),_a=Math.max(_a,sr.width),Da=Math.max(Da,sr.height)}}),{labelsMaxW:_a,labelsMaxH:Da}},$e=K._anchorAxis;if($e&&($e.autorange||$e.insiderange)&&Qe(K)&&!M(It,K._id)&&(It._insideTickLabelsUpdaterange||(It._insideTickLabelsUpdaterange={}),$e.autorange&&(It._insideTickLabelsUpdaterange[$e._name+".autorange"]=$e.autorange,je.push(pa)),$e.insiderange)){var Aa=pa(),ia=K._id.charAt(0)==="y"?Aa.labelsMaxW:Aa.labelsMaxH;ia+=2*q,K.ticklabelposition==="inside"&&(ia+=K.ticklen||0);var Ca=K.side==="right"||K.side==="top"?1:-1,ka=Ca===1?1:0,Va=Ca===1?0:1,Na=[];Na[Va]=$e.range[Va];var la=$e.range,Ja=$e.r2p(la[ka]),Ra=$e.r2p(la[Va]),fa=It._insideTickLabelsUpdaterange[$e._name+".range"];if(fa){var ja=$e.r2p(fa[ka]),qa=$e.r2p(fa[Va]),Ha=Ca*(K._id.charAt(0)==="y"?1:-1);Ha*Ja<Ha*ja&&(Ja=ja,Na[ka]=la[ka]=fa[ka]),Ha*Ra>Ha*qa&&(Ra=qa,Na[Va]=la[Va]=fa[Va])}var tr=Math.abs(Ra-Ja);tr-ia>0?(tr-=ia,ia*=1+ia/tr):ia=0,K._id.charAt(0)!=="y"&&(ia=-ia),Na[ka]=$e.p2r($e.r2p(la[ka])+Ca*ia),$e.autorange==="min"||$e.autorange==="max reversed"?(Na[0]=null,$e._rangeInitial0=void 0,$e._rangeInitial1=void 0):($e.autorange==="max"||$e.autorange==="min reversed")&&(Na[1]=null,$e._rangeInitial0=void 0,$e._rangeInitial1=void 0),It._insideTickLabelsUpdaterange[$e._name+".range"]=Na}var br=n.syncOrAsync(je);return br&&br.then&&et._promises.push(br),br};function Ye(et,K,St){var It=K._id+"divider",jt=St.vals,Lt=St.layer.selectAll("path."+It).data(jt,Ve);Lt.exit().remove(),Lt.enter().insert("path",":first-child").classed(It,1).classed("crisp",1).call(e.stroke,K.dividercolor).style("stroke-width",p.crispRound(et,K.dividerwidth,1)+"px"),Lt.attr("transform",St.transFn).attr("d",St.path)}A.getPxPosition=function(et,K){var St=et._fullLayout._size,It=K._id.charAt(0),jt=K.side,Lt;if(K.anchor!=="free"?Lt=K._anchorAxis:It==="x"?Lt={_offset:St.t+(1-(K.position||0))*St.h,_length:0}:It==="y"&&(Lt={_offset:St.l+(K.position||0)*St.w+K._shift,_length:0}),jt==="top"||jt==="left")return Lt._offset;if(jt==="bottom"||jt==="right")return Lt._offset+Lt._length};function Se(et){var K=et.title.font.size,St=(et.title.text.match(s.BR_TAG_ALL)||[]).length;return et.title.hasOwnProperty("standoff")?K*(pt+St*yt):St?K*(St+1)*yt:K}function we(et,K){var St=et._fullLayout,It=K._id,jt=It.charAt(0),Lt=K.title.font.size,Ot,Bt=(K.title.text.match(s.BR_TAG_ALL)||[]).length;if(K.title.hasOwnProperty("standoff"))K.side==="bottom"||K.side==="right"?Ot=K._depth+K.title.standoff+Lt*pt:(K.side==="top"||K.side==="left")&&(Ot=K._depth+K.title.standoff+Lt*(ht+Bt*yt));else{var Nt=Qe(K);if(K.type==="multicategory")Ot=K._depth;else{var Xt=1.5*Lt;Nt&&(Xt=.5*Lt,K.ticks==="outside"&&(Xt+=K.ticklen)),Ot=10+Xt+(K.linewidth?K.linewidth-1:0)}Nt||(jt==="x"?Ot+=K.side==="top"?Lt*(K.showticklabels?1:0):Lt*(K.showticklabels?1.5:.5):Ot+=K.side==="right"?Lt*(K.showticklabels?1:.5):Lt*(K.showticklabels?.5:0))}var ee=A.getPxPosition(et,K),he,ke,Te;jt==="x"?(ke=K._offset+K._length/2,Te=K.side==="top"?ee-Ot:ee+Ot):(Te=K._offset+K._length/2,ke=K.side==="right"?ee+Ot:ee-Ot,he={rotate:"-90",offset:0});var Pe;if(K.type!=="multicategory"){var Me=K._selections[K._id+"tick"];if(Pe={selection:Me,side:K.side},Me&&Me.node()&&Me.node().parentNode){var ze=p.getTranslate(Me.node().parentNode);Pe.offsetLeft=ze.x,Pe.offsetTop=ze.y}K.title.hasOwnProperty("standoff")&&(Pe.pad=0)}return K._titleStandoff=Ot,f.draw(et,It+"title",{propContainer:K,propName:K._name+".title.text",placeholder:St._dfltTitle[jt],avoid:Pe,transform:he,attributes:{x:ke,y:Te,"text-anchor":"middle"}})}A.shouldShowZeroLine=function(et,K,St){var It=n.simpleMap(K.range,K.r2l);return It[0]*It[1]<=0&&K.zeroline&&(K.type==="linear"||K.type==="-")&&!(K.rangebreaks&&K.maskBreaks(0)===Z)&&(Ne(K,0)||!qe(et,K,St,It)||Fe(et,K))},A.clipEnds=function(et,K){return K.filter(function(St){return Ne(et,St.x)})};function Ne(et,K){var St=et.l2p(K);return St>1&&St<et._length-1}function qe(et,K,St,It){var jt=St._mainAxis;if(!jt)return;var Lt=et._fullLayout,Ot=K._id.charAt(0),Bt=A.counterLetter(K._id),Nt=K._offset+(Math.abs(It[0])<Math.abs(It[1])==(Ot==="x")?0:K._length);function Xt(Pe){if(!Pe.showline||!Pe.linewidth)return!1;var Me=Math.max((Pe.linewidth+K.zerolinewidth)/2,1);function ze($e){return typeof $e=="number"&&Math.abs($e-Nt)<Me}if(ze(Pe._mainLinePosition)||ze(Pe._mainMirrorPosition))return!0;var je=Pe._linepositions||{};for(var pa in je)if(ze(je[pa][0])||ze(je[pa][1]))return!0}var ee=Lt._plots[St._mainSubplot];if(!(ee.mainplotinfo||ee).overlays.length)return Xt(St);for(var he=A.list(et,Bt),ke=0;ke<he.length;ke++){var Te=he[ke];if(Te._mainAxis===jt&&Xt(Te))return!0}}function Fe(et,K){for(var St=et._fullData,It=K._mainSubplot,jt=K._id.charAt(0),Lt=0;Lt<St.length;Lt++){var Ot=St[Lt];if(Ot.visible===!0&&Ot.xaxis+Ot.yaxis===It&&(l.traceIs(Ot,"bar-like")&&Ot.orientation==={x:"h",y:"v"}[jt]||Ot.fill&&Ot.fill.charAt(Ot.fill.length-1)===jt))return!0}return!1}function De(et){var K=i.select(et),St=K.select(".text-math-group");return St.empty()?K.select("text"):St}A.allowAutoMargin=function(et){for(var K=A.list(et,"",!0),St=0;St<K.length;St++){var It=K[St];It.automargin&&(a.allowAutoMargin(et,Ie(It)),It.mirror&&a.allowAutoMargin(et,Le(It))),l.getComponentMethod("rangeslider","isVisible")(It)&&a.allowAutoMargin(et,Xe(It))}};function Ie(et){return et._id+".automargin"}function Le(et){return Ie(et)+".mirror"}function Xe(et){return et._id+".rangeslider"}A.swap=function(et,K){for(var St=aa(et,K),It=0;It<St.length;It++)ra(et,St[It].x,St[It].y)};function aa(et,K){var St=[],It,jt;for(It=0;It<K.length;It++){var Lt=[],Ot=et._fullData[K[It]].xaxis,Bt=et._fullData[K[It]].yaxis;if(!(!Ot||!Bt)){for(jt=0;jt<St.length;jt++)(St[jt].x.indexOf(Ot)!==-1||St[jt].y.indexOf(Bt)!==-1)&&Lt.push(jt);if(!Lt.length){St.push({x:[Ot],y:[Bt]});continue}var Nt=St[Lt[0]],Xt;if(Lt.length>1)for(jt=1;jt<Lt.length;jt++)Xt=St[Lt[jt]],He(Nt.x,Xt.x),He(Nt.y,Xt.y);He(Nt.x,[Ot]),He(Nt.y,[Bt])}}return St}function He(et,K){for(var St=0;St<K.length;St++)et.indexOf(K[St])===-1&&et.push(K[St])}function ra(et,K,St){var It=[],jt=[],Lt=et.layout,Ot,Bt;for(Ot=0;Ot<K.length;Ot++)It.push(A.getFromId(et,K[Ot]));for(Ot=0;Ot<St.length;Ot++)jt.push(A.getFromId(et,St[Ot]));var Nt=Object.keys(c),Xt=["anchor","domain","overlaying","position","side","tickangle","editType"],ee=["linear","log"];for(Ot=0;Ot<Nt.length;Ot++){var he=Nt[Ot],ke=It[0][he],Te=jt[0][he],Pe=!0,Me=!1,ze=!1;if(!(he.charAt(0)==="_"||typeof ke=="function"||Xt.indexOf(he)!==-1)){for(Bt=1;Bt<It.length&&Pe;Bt++){var je=It[Bt][he];he==="type"&&ee.indexOf(ke)!==-1&&ee.indexOf(je)!==-1&&ke!==je?Me=!0:je!==ke&&(Pe=!1)}for(Bt=1;Bt<jt.length&&Pe;Bt++){var pa=jt[Bt][he];he==="type"&&ee.indexOf(Te)!==-1&&ee.indexOf(pa)!==-1&&Te!==pa?ze=!0:jt[Bt][he]!==Te&&(Pe=!1)}Pe&&(Me&&(Lt[It[0]._name].type="linear"),ze&&(Lt[jt[0]._name].type="linear"),sa(Lt,he,It,jt,et._fullLayout._dfltTitle))}}for(Ot=0;Ot<et._fullLayout.annotations.length;Ot++){var $e=et._fullLayout.annotations[Ot];K.indexOf($e.xref)!==-1&&St.indexOf($e.yref)!==-1&&n.swapAttrs(Lt.annotations[Ot],["?"])}}function sa(et,K,St,It,jt){var Lt=n.nestedProperty,Ot=Lt(et[St[0]._name],K).get(),Bt=Lt(et[It[0]._name],K).get(),Nt;for(K==="title"&&(Ot&&Ot.text===jt.x&&(Ot.text=jt.y),Bt&&Bt.text===jt.y&&(Bt.text=jt.x)),Nt=0;Nt<St.length;Nt++)Lt(et,St[Nt]._name+"."+K).set(Bt);for(Nt=0;Nt<It.length;Nt++)Lt(et,It[Nt]._name+"."+K).set(Ot)}function ma(et){return et._id==="angularaxis"}function ya(et,K){for(var St=K._rangebreaks.length,It=0;It<St;It++){var jt=K._rangebreaks[It];if(et>=jt.min&&et<jt.max)return jt.max}return et}function Qe(et){return(et.ticklabelposition||"").indexOf("inside")!==-1}function ha(et,K){Qe(et._anchorAxis||{})&&et._hideCounterAxisInsideTickLabels&&et._hideCounterAxisInsideTickLabels(K)}function oa(et,K,St,It){var jt=et.anchor!=="free"&&(et.overlaying===void 0||et.overlaying===!1)?et._id:et.overlaying,Lt;It?Lt=et.side==="right"?K:-K:Lt=K,jt in St||(St[jt]={}),et.side in St[jt]||(St[jt][et.side]=0),St[jt][et.side]+=Lt}function Ce(et,K){return et.autoshift?K[et.overlaying][et.side]:et.shift||0}function Ma(et,K){return/%f/.test(K)?et>=F:/%L/.test(K)?et>=j:/%[SX]/.test(K)?et>=z:/%M/.test(K)?et>=Y:/%[HI]/.test(K)?et>=T:/%p/.test(K)?et>=C:/%[Aadejuwx]/.test(K)?et>=D:/%[UVW]/.test(K)?et>=U:/%[Bbm]/.test(K)?et>=k:/%[q]/.test(K)?et>=d:/%[Yy]/.test(K)?et>=g:!0}}),yc=Mt((E,P)=>{P.exports=function(i,t,a){var l,n;if(a){var o=t==="reversed"||t==="min reversed"||t==="max reversed";l=a[o?1:0],n=a[o?0:1]}var s=i("autorangeoptions.minallowed",n===null?l:void 0),f=i("autorangeoptions.maxallowed",l===null?n:void 0);s===void 0&&i("autorangeoptions.clipmin"),f===void 0&&i("autorangeoptions.clipmax"),i("autorangeoptions.include")}}),gl=Mt((E,P)=>{var i=yc();P.exports=function(t,a,l,n){var o=a._template||{},s=a.type||o.type||"-";l("minallowed"),l("maxallowed");var f=l("range");if(!f){var e;!n.noInsiderange&&s!=="log"&&(e=l("insiderange"),e&&(e[0]===null||e[1]===null)&&(a.insiderange=!1,e=void 0),e&&(f=l("range",e)))}var p=a.getAutorangeDflt(f,n),c=l("autorange",p),h;f&&(f[0]===null&&f[1]===null||(f[0]===null||f[1]===null)&&(c==="reversed"||c===!0)||f[0]!==null&&(c==="min"||c==="max reversed")||f[1]!==null&&(c==="max"||c==="min reversed"))&&(f=void 0,delete a.range,a.autorange=!0,h=!0),h||(p=a.getAutorangeDflt(f,n),c=l("autorange",p)),c&&(i(l,c,f),(s==="linear"||s==="-")&&l("rangemode")),a.cleanRange()}}),xc=Mt((E,P)=>{var i={left:0,top:0};P.exports=t;function t(l,n,o){n=n||l.currentTarget||l.srcElement,Array.isArray(o)||(o=[0,0]);var s=l.clientX||0,f=l.clientY||0,e=a(n);return o[0]=s-e.left,o[1]=f-e.top,o}function a(l){return l===window||l===document||l===document.body?i:l.getBoundingClientRect()}}),ml=Mt((E,P)=>{var i=tl();function t(){var a=!1;try{var l=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,l),window.removeEventListener("test",null,l)}catch{a=!1}return a}P.exports=i&&t()}),bc=Mt((E,P)=>{P.exports=function(i,t,a,l,n){var o=(i-a)/(l-a),s=o+t/(l-a),f=(o+s)/2;return n==="left"||n==="bottom"?o:n==="center"||n==="middle"?f:n==="right"||n==="top"?s:o<2/3-f?o:s>4/3-f?s:f}}),_c=Mt((E,P)=>{var i=Oe(),t=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];P.exports=function(a,l,n,o){return n==="left"?a=0:n==="center"?a=1:n==="right"?a=2:a=i.constrain(Math.floor(a*3),0,2),o==="bottom"?l=0:o==="middle"?l=1:o==="top"?l=2:l=i.constrain(Math.floor(l*3),0,2),t[l][a]}}),wc=Mt((E,P)=>{var i=oi(),t=qi(),a=ni().getGraphDiv,l=ri(),n=P.exports={};n.wrapped=function(o,s,f){o=a(o),o._fullLayout&&t.clear(o._fullLayout._uid+l.HOVERID),n.raw(o,s,f)},n.raw=function(o,s){var f=o._fullLayout,e=o._hoverdata;s||(s={}),!(s.target&&!o._dragged&&i.triggerHandler(o,"plotly_beforehover",s)===!1)&&(f._hoverlayer.selectAll("g").remove(),f._hoverlayer.selectAll("line").remove(),f._hoverlayer.selectAll("circle").remove(),o._hoverdata=void 0,s.target&&e&&o.emit("plotly_unhover",{event:s,points:e}))}}),on=Mt((E,P)=>{var i=xc(),t=el(),a=ml(),l=Oe().removeElement,n=Sr(),o=P.exports={};o.align=bc(),o.getCursor=_c();var s=wc();o.unhover=s.wrapped,o.unhoverRaw=s.raw,o.init=function(p){var c=p.gd,h=1,_=c._context.doubleClickDelay,y=p.element,v,g,x,u,d,m,w,k;c._mouseDownTime||(c._mouseDownTime=0),y.style.pointerEvents="all",y.onmousedown=C,a?(y._ontouchstart&&y.removeEventListener("touchstart",y._ontouchstart),y._ontouchstart=C,y.addEventListener("touchstart",C,{passive:!1})):y.ontouchstart=C;function U(z,j,F){return Math.abs(z)<F&&(z=0),Math.abs(j)<F&&(j=0),[z,j]}var D=p.clampFn||U;function C(z){c._dragged=!1,c._dragging=!0;var j=e(z);v=j[0],g=j[1],w=z.target,m=z,k=z.buttons===2||z.ctrlKey,typeof z.clientX>"u"&&typeof z.clientY>"u"&&(z.clientX=v,z.clientY=g),x=new Date().getTime(),x-c._mouseDownTime<_?h+=1:(h=1,c._mouseDownTime=x),p.prepFn&&p.prepFn(z,v,g),t&&!k?(d=f(),d.style.cursor=window.getComputedStyle(y).cursor):t||(d=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(y).cursor),document.addEventListener("mouseup",Y),document.addEventListener("touchend",Y),p.dragmode!==!1&&(z.preventDefault(),document.addEventListener("mousemove",T),document.addEventListener("touchmove",T,{passive:!1}))}function T(z){z.preventDefault();var j=e(z),F=p.minDrag||n.MINDRAG,R=D(j[0]-v,j[1]-g,F),Z=R[0],G=R[1];(Z||G)&&(c._dragged=!0,o.unhover(c,z)),c._dragged&&p.moveFn&&!k&&(c._dragdata={element:y,dx:Z,dy:G},p.moveFn(Z,G))}function Y(z){if(delete c._dragdata,p.dragmode!==!1&&(z.preventDefault(),document.removeEventListener("mousemove",T),document.removeEventListener("touchmove",T)),document.removeEventListener("mouseup",Y),document.removeEventListener("touchend",Y),t?l(d):u&&(d.documentElement.style.cursor=u,u=null),!c._dragging){c._dragged=!1;return}if(c._dragging=!1,new Date().getTime()-c._mouseDownTime>_&&(h=Math.max(h-1,1)),c._dragged)p.doneFn&&p.doneFn();else{var j;m.target===w?j=m:(j={target:w,srcElement:w,toElement:w},Object.keys(m).concat(Object.keys(m.__proto__)).forEach(F=>{var R=m[F];!j[F]&&typeof R!="function"&&(j[F]=R)})),p.clickFn&&p.clickFn(h,j),k||w.dispatchEvent(new MouseEvent("click",z))}c._dragging=!1,c._dragged=!1}};function f(){var p=document.createElement("div");p.className="dragcover";var c=p.style;return c.position="fixed",c.left=0,c.right=0,c.top=0,c.bottom=0,c.zIndex=999999999,c.background="none",document.body.appendChild(p),p}o.coverSlip=f;function e(p){return i(p.changedTouches?p.changedTouches[0]:p,document.body)}}),kn=Mt((E,P)=>{P.exports=function(i,t){(i.attr("class")||"").split(" ").forEach(function(a){a.indexOf("cursor-")===0&&i.classed(a,!1)}),t&&i.classed("cursor-"+t,!0)}}),Mc=Mt((E,P)=>{var i=kn(),t="data-savedcursor",a="!!";P.exports=function(l,n){var o=l.attr(t);if(n){if(!o){for(var s=(l.attr("class")||"").split(" "),f=0;f<s.length;f++){var e=s[f];e.indexOf("cursor-")===0&&l.attr(t,e.substr(7)).classed(e,!1)}l.attr(t)||l.attr(t,a)}i(l,n)}else o&&(l.attr(t,null),o===a?i(l):i(l,o))}}),yl=Mt((E,P)=>{var i=Lr(),t=dn();P.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"legend"},maxheight:{valType:"number",min:0,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:i({editType:"legend"}),grouptitlefont:i({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:i({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}}),Xi=Mt(E=>{E.isGrouped=function(P){return(P.traceorder||"").indexOf("grouped")!==-1},E.isVertical=function(P){return P.orientation!=="h"},E.isReversed=function(P){return(P.traceorder||"").indexOf("reversed")!==-1}}),xl=Mt((E,P)=>{var i=da(),t=Oe(),a=$a(),l=an(),n=yl(),o=qn(),s=Xi();function f(e,p,c,h){var _=p[e]||{},y=a.newContainer(c,e);function v(yt,H){return t.coerce(_,y,n,yt,H)}var g=t.coerceFont(v,"font",c.font);v("bgcolor",c.paper_bgcolor),v("bordercolor");var x=v("visible");if(x){for(var u,d=function(yt,H){var q=u._input,A=u;return t.coerce(q,A,l,yt,H)},m=c.font||{},w=t.coerceFont(v,"grouptitlefont",m,{overrideDflt:{size:Math.round(m.size*1.1)}}),k=0,U=!1,D="normal",C=(c.shapes||[]).filter(function(yt){return yt.showlegend}),T=h.concat(C).filter(function(yt){return e===(yt.legend||"legend")}),Y=0;Y<T.length;Y++)if(u=T[Y],!!u.visible){var z=u._isShape;(u.showlegend||u._dfltShowLegend&&!(u._module&&u._module.attributes&&u._module.attributes.showlegend&&u._module.attributes.showlegend.dflt===!1))&&(k++,u.showlegend&&(U=!0,(!z&&i.traceIs(u,"pie-like")||u._input.showlegend===!0)&&k++),t.coerceFont(d,"legendgrouptitle.font",w)),(!z&&i.traceIs(u,"bar")&&c.barmode==="stack"||["tonextx","tonexty"].indexOf(u.fill)!==-1)&&(D=s.isGrouped({traceorder:D})?"grouped+reversed":"reversed"),u.legendgroup!==void 0&&u.legendgroup!==""&&(D=s.isReversed({traceorder:D})?"reversed+grouped":"grouped")}var j=t.coerce(p,c,o,"showlegend",U&&k>(e==="legend"?1:0));if(j===!1&&(c[e]=void 0),!(j===!1&&!_.uirevision)&&(v("uirevision",c.uirevision),j!==!1)){v("borderwidth");var F=v("orientation"),R=v("yref"),Z=v("xref"),G=F==="h",O=R==="paper",J=Z==="paper",X,it,at,ot="left";G?(X=0,i.getComponentMethod("rangeslider","isVisible")(p.xaxis)?O?(it=1.1,at="bottom"):(it=1,at="top"):O?(it=-.1,at="top"):(it=0,at="bottom")):(it=1,at="auto",J?X=1.02:(X=1,ot="right")),t.coerce(_,y,{x:{valType:"number",editType:"legend",min:J?-2:0,max:J?3:1,dflt:X}},"x"),t.coerce(_,y,{y:{valType:"number",editType:"legend",min:O?-2:0,max:O?3:1,dflt:it}},"y"),v("traceorder",D),s.isGrouped(c[e])&&v("tracegroupgap"),v("entrywidth"),v("entrywidthmode"),v("indentation"),v("itemsizing"),v("itemwidth"),v("itemclick"),v("itemdoubleclick"),v("groupclick"),v("xanchor",ot),v("yanchor",at),v("maxheight"),v("valign"),t.noneOrAll(_,y,["x","y"]);var ht=v("title.text");if(ht){v("title.side",G?"left":"top");var pt=t.extendFlat({},g,{size:t.bigFont(g.size)});t.coerceFont(v,"title.font",pt)}}}}P.exports=function(e,p,c){var h,_=c.slice(),y=p.shapes;if(y)for(h=0;h<y.length;h++){var v=y[h];if(v.showlegend){var g={_input:v._input,visible:v.visible,showlegend:v.showlegend,legend:v.legend};_.push(g)}}var x=["legend"];for(h=0;h<_.length;h++)t.pushUnique(x,_[h].legend);for(p._legends=[],h=0;h<x.length;h++){var u=x[h];f(u,e,p,_),p[u]&&(p[u]._id=u),p._legends.push(u)}}}),Tc=Mt((E,P)=>{var i=da(),t=Oe(),a=t.pushUnique,l=!0;P.exports=function(n,o,s){var f=o._fullLayout;if(o._dragged||o._editing)return;var e=f.legend.itemclick,p=f.legend.itemdoubleclick,c=f.legend.groupclick;s===1&&e==="toggle"&&p==="toggleothers"&&l&&o.data&&o._context.showTips&&t.notifier(t._(o,"Double-click on legend to isolate one trace"),"long"),l=!1;var h;if(s===1?h=e:s===2&&(h=p),!h)return;var _=c==="togglegroup",y=f.hiddenlabels?f.hiddenlabels.slice():[],v=n.data()[0][0];if(v.groupTitle&&v.noClick)return;var g=o._fullData,x=(f.shapes||[]).filter(function(Ht){return Ht.showlegend}),u=g.concat(x),d=v.trace;d._isShape&&(d=d._fullInput);var m=d.legendgroup,w,k,U,D,C,T,Y={},z=[],j=[],F=[];function R(Ht,vt){var xt=z.indexOf(Ht),lt=Y.visible;return lt||(lt=Y.visible=[]),z.indexOf(Ht)===-1&&(z.push(Ht),xt=z.length-1),lt[xt]=vt,xt}var Z=(f.shapes||[]).map(function(Ht){return Ht._input}),G=!1;function O(Ht,vt){Z[Ht].visible=vt,G=!0}function J(Ht,vt){if(!(v.groupTitle&&!_)){var xt=Ht._fullInput||Ht,lt=xt._isShape,At=xt.index;At===void 0&&(At=xt._index);var Rt=xt.visible===!1?!1:vt;lt?O(At,Rt):R(At,Rt)}}var X=d.legend,it=d._fullInput,at=it&&it._isShape;if(!at&&i.traceIs(d,"pie-like")){var ot=v.label,ht=y.indexOf(ot);if(h==="toggle")ht===-1?y.push(ot):y.splice(ht,1);else if(h==="toggleothers"){var pt=ht!==-1,yt=[];for(w=0;w<o.calcdata.length;w++){var H=o.calcdata[w];for(k=0;k<H.length;k++){var q=H[k],A=q.label;X===H[0].trace.legend&&ot!==A&&(y.indexOf(A)===-1&&(pt=!0),a(y,A),yt.push(A))}}if(!pt)for(var W=0;W<yt.length;W++){var rt=y.indexOf(yt[W]);rt!==-1&&y.splice(rt,1)}}i.call("_guiRelayout",o,"hiddenlabels",y)}else{var I=m&&m.length,M=[],S;if(I)for(w=0;w<u.length;w++)S=u[w],S.visible&&S.legendgroup===m&&M.push(w);if(h==="toggle"){var N;switch(d.visible){case!0:N="legendonly";break;case!1:N=!1;break;case"legendonly":N=!0;break}if(I)if(_)for(w=0;w<u.length;w++){var V=u[w];V.visible!==!1&&V.legendgroup===m&&J(V,N)}else J(d,N);else J(d,N)}else if(h==="toggleothers"){var nt,ut,ct,bt,kt,Et=!0;for(w=0;w<u.length;w++)if(kt=u[w],nt=kt===d,ct=kt.showlegend!==!0,!(nt||ct)&&(ut=I&&kt.legendgroup===m,!ut&&kt.legend===X&&kt.visible===!0&&!i.traceIs(kt,"notLegendIsolatable"))){Et=!1;break}for(w=0;w<u.length;w++)if(kt=u[w],!(kt.visible===!1||kt.legend!==X)&&!i.traceIs(kt,"notLegendIsolatable"))switch(d.visible){case"legendonly":J(kt,!0);break;case!0:bt=Et?!0:"legendonly",nt=kt===d,ct=kt.showlegend!==!0&&!kt.legendgroup,ut=nt||I&&kt.legendgroup===m,J(kt,ut||ct?!0:bt);break}}for(w=0;w<j.length;w++)if(U=j[w],!!U){var Gt=U.constructUpdate(),Vt=Object.keys(Gt);for(k=0;k<Vt.length;k++)D=Vt[k],T=Y[D]=Y[D]||[],T[F[w]]=Gt[D]}for(C=Object.keys(Y),w=0;w<C.length;w++)for(D=C[w],k=0;k<z.length;k++)Y[D].hasOwnProperty(k)||(Y[D][k]=void 0);G?i.call("_guiUpdate",o,Y,{shapes:Z},z):i.call("_guiRestyle",o,Y,z)}}}),bl=Mt((E,P)=>{P.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}}),kc=Mt((E,P)=>{var i=da(),t=Xi();P.exports=function(a,l,n){var o=l._inHover,s=t.isGrouped(l),f=t.isReversed(l),e={},p=[],c=!1,h={},_=0,y=0,v,g;function x(J,X,it){if(l.visible!==!1&&!(n&&J!==l._id))if(X===""||!t.isGrouped(l)){var at="~~i"+_;p.push(at),e[at]=[it],_++}else p.indexOf(X)===-1?(p.push(X),c=!0,e[X]=[it]):e[X].push(it)}for(v=0;v<a.length;v++){var u=a[v],d=u[0],m=d.trace,w=m.legend,k=m.legendgroup;if(!(!o&&(!m.visible||!m.showlegend)))if(i.traceIs(m,"pie-like"))for(h[k]||(h[k]={}),g=0;g<u.length;g++){var U=u[g].label;h[k][U]||(x(w,k,{label:U,color:u[g].color,i:u[g].i,trace:m,pts:u[g].pts}),h[k][U]=!0,y=Math.max(y,(U||"").length))}else x(w,k,d),y=Math.max(y,(m.name||"").length)}if(!p.length)return[];var D=!c||!s,C=[];for(v=0;v<p.length;v++){var T=e[p[v]];D?C.push(T[0]):C.push(T)}for(D&&(C=[C]),v=0;v<C.length;v++){var Y=1/0;for(g=0;g<C[v].length;g++){var z=C[v][g].trace.legendrank;Y>z&&(Y=z)}C[v][0]._groupMinRank=Y,C[v][0]._preGroupSort=v}var j=function(J,X){return J[0]._groupMinRank-X[0]._groupMinRank||J[0]._preGroupSort-X[0]._preGroupSort},F=function(J,X){return J.trace.legendrank-X.trace.legendrank||J._preSort-X._preSort};for(C.forEach(function(J,X){J[0]._preGroupSort=X}),C.sort(j),v=0;v<C.length;v++){C[v].forEach(function(J,X){J._preSort=X}),C[v].sort(F);var R=C[v][0].trace,Z=null;for(g=0;g<C[v].length;g++){var G=C[v][g].trace.legendgrouptitle;if(G&&G.text){Z=G,o&&(G.font=l._groupTitleFont);break}}if(f&&C[v].reverse(),Z){var O=!1;for(g=0;g<C[v].length;g++)if(i.traceIs(C[v][g].trace,"pie-like")){O=!0;break}C[v].unshift({i:-1,groupTitle:Z,noClick:O,trace:{showlegend:R.showlegend,legendgroup:R.legendgroup,visible:l.groupclick==="toggleitem"?!0:R.visible}})}for(g=0;g<C[v].length;g++)C[v][g]=[C[v][g]]}return l._lgroupsLength=C.length,l._maxNameLength=y,C}}),$i=Mt(E=>{var P=Oe();function i(t){return t.indexOf("e")!==-1?t.replace(/[.]?0+e/,"e"):t.indexOf(".")!==-1?t.replace(/[.]?0+$/,""):t}E.formatPiePercent=function(t,a){var l=i((t*100).toPrecision(3));return P.numSeparate(l,a)+"%"},E.formatPieValue=function(t,a){var l=i(t.toPrecision(10));return P.numSeparate(l,a)},E.getFirstFilled=function(t,a){if(P.isArrayOrTypedArray(t))for(var l=0;l<a.length;l++){var n=t[a[l]];if(n||n===0||n==="")return n}},E.castOption=function(t,a){if(P.isArrayOrTypedArray(t))return E.getFirstFilled(t,a);if(t)return t},E.getRotationAngle=function(t){return(t==="auto"?0:t)*Math.PI/180}}),Ac=Mt((E,P)=>{var i=Ga(),t=Ta();P.exports=function(a,l,n,o){var s=n.marker.pattern;s&&s.shape?i.pointStyle(a,n,o,l):t.fill(a,l.color)}}),Qi=Mt((E,P)=>{var i=Ta(),t=$i().castOption,a=Ac();P.exports=function(l,n,o,s){var f=o.marker.line,e=t(f.color,n.pts)||i.defaultLine,p=t(f.width,n.pts)||0;l.call(a,n,o,s).style("stroke-width",p).call(i.stroke,e)}}),_l=Mt((E,P)=>{var i=Ke(),t=da(),a=Oe(),l=a.strTranslate,n=Ga(),o=Ta(),s=$r().extractOpts,f=Gr(),e=Qi(),p=$i().castOption,c=bl(),h=12,_=5,y=2,v=10,g=5;P.exports=function(m,w,k){var U=w._fullLayout;k||(k=U.legend);var D=k.itemsizing==="constant",C=k.itemwidth,T=(C+c.itemGap*2)/2,Y=l(T,0),z=function(yt,H,q,A){var W;if(yt+1)W=yt;else if(H&&H.width>0)W=H.width;else return 0;return D?A:Math.min(W,q)};m.each(function(yt){var H=i.select(this),q=a.ensureSingle(H,"g","layers");q.style("opacity",yt[0].trace.opacity);var A=k.indentation,W=k.valign,rt=yt[0].lineHeight,I=yt[0].height;if(W==="middle"&&A===0||!rt||!I)q.attr("transform",null);else{var M={top:1,bottom:-1}[W],S=M*(.5*(rt-I+3))||0,N=k.indentation;q.attr("transform",l(N,S))}var V=q.selectAll("g.legendfill").data([yt]);V.enter().append("g").classed("legendfill",!0);var nt=q.selectAll("g.legendlines").data([yt]);nt.enter().append("g").classed("legendlines",!0);var ut=q.selectAll("g.legendsymbols").data([yt]);ut.enter().append("g").classed("legendsymbols",!0),ut.selectAll("g.legendpoints").data([yt]).enter().append("g").classed("legendpoints",!0)}).each(pt).each(R).each(G).each(Z).each(J).each(ot).each(at).each(j).each(F).each(X).each(it);function j(yt){var H=u(yt),q=H.showFill,A=H.showLine,W=H.showGradientLine,rt=H.showGradientFill,I=H.anyFill,M=H.anyLine,S=yt[0],N=S.trace,V,nt,ut=s(N),ct=ut.colorscale,bt=ut.reversescale,kt=function(lt){if(lt.size())if(q)n.fillGroupStyle(lt,w,!0);else{var At="legendfill-"+N.uid;n.gradient(lt,w,At,x(bt),ct,"fill")}},Et=function(lt){if(lt.size()){var At="legendline-"+N.uid;n.lineGroupStyle(lt),n.gradient(lt,w,At,x(bt),ct,"stroke")}},Gt=f.hasMarkers(N)||!I?"M5,0":M?"M5,-2":"M5,-3",Vt=i.select(this),Ht=Vt.select(".legendfill").selectAll("path").data(q||rt?[yt]:[]);if(Ht.enter().append("path").classed("js-fill",!0),Ht.exit().remove(),Ht.attr("d",Gt+"h"+C+"v6h-"+C+"z").call(kt),A||W){var vt=z(void 0,N.line,v,_);nt=a.minExtend(N,{line:{width:vt}}),V=[a.minExtend(S,{trace:nt})]}var xt=Vt.select(".legendlines").selectAll("path").data(A||W?[V]:[]);xt.enter().append("path").classed("js-line",!0),xt.exit().remove(),xt.attr("d",Gt+(W?"l"+C+",0.0001":"h"+C)).call(A?n.lineGroupStyle:Et)}function F(yt){var H=u(yt),q=H.anyFill,A=H.anyLine,W=H.showLine,rt=H.showMarker,I=yt[0],M=I.trace,S=!rt&&!A&&!q&&f.hasText(M),N,V;function nt(Ht,vt,xt,lt){var At=a.nestedProperty(M,Ht).get(),Rt=a.isArrayOrTypedArray(At)&&vt?vt(At):At;if(D&&Rt&&lt!==void 0&&(Rt=lt),xt){if(Rt<xt[0])return xt[0];if(Rt>xt[1])return xt[1]}return Rt}function ut(Ht){return I._distinct&&I.index&&Ht[I.index]?Ht[I.index]:Ht[0]}if(rt||S||W){var ct={},bt={};if(rt){ct.mc=nt("marker.color",ut),ct.mx=nt("marker.symbol",ut),ct.mo=nt("marker.opacity",a.mean,[.2,1]),ct.mlc=nt("marker.line.color",ut),ct.mlw=nt("marker.line.width",a.mean,[0,5],y),bt.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var kt=nt("marker.size",a.mean,[2,16],h);ct.ms=kt,bt.marker.size=kt}W&&(bt.line={width:nt("line.width",ut,[0,10],_)}),S&&(ct.tx="Aa",ct.tp=nt("textposition",ut),ct.ts=10,ct.tc=nt("textfont.color",ut),ct.tf=nt("textfont.family",ut),ct.tw=nt("textfont.weight",ut),ct.ty=nt("textfont.style",ut),ct.tv=nt("textfont.variant",ut),ct.tC=nt("textfont.textcase",ut),ct.tE=nt("textfont.lineposition",ut),ct.tS=nt("textfont.shadow",ut)),N=[a.minExtend(I,ct)],V=a.minExtend(M,bt),V.selectedpoints=null,V.texttemplate=null}var Et=i.select(this).select("g.legendpoints"),Gt=Et.selectAll("path.scatterpts").data(rt?N:[]);Gt.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",Y),Gt.exit().remove(),Gt.call(n.pointStyle,V,w),rt&&(N[0].mrc=3);var Vt=Et.selectAll("g.pointtext").data(S?N:[]);Vt.enter().append("g").classed("pointtext",!0).append("text").attr("transform",Y),Vt.exit().remove(),Vt.selectAll("text").call(n.textPointStyle,V,w)}function R(yt){var H=yt[0].trace,q=H.type==="waterfall";if(yt[0]._distinct&&q){var A=yt[0].trace[yt[0].dir].marker;return yt[0].mc=A.color,yt[0].mlw=A.line.width,yt[0].mlc=A.line.color,O(yt,this,"waterfall")}var W=[];H.visible&&q&&(W=yt[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var rt=i.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(W);rt.enter().append("path").classed("legendwaterfall",!0).attr("transform",Y).style("stroke-miterlimit",1),rt.exit().remove(),rt.each(function(I){var M=i.select(this),S=H[I[0]].marker,N=z(void 0,S.line,g,y);M.attr("d",I[1]).style("stroke-width",N+"px").call(o.fill,S.color),N&&M.call(o.stroke,S.line.color)})}function Z(yt){O(yt,this)}function G(yt){O(yt,this,"funnel")}function O(yt,H,q){var A=yt[0].trace,W=A.marker||{},rt=W.line||{},I=W.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",M=q?A.visible&&A.type===q:t.traceIs(A,"bar"),S=i.select(H).select("g.legendpoints").selectAll("path.legend"+q).data(M?[yt]:[]);S.enter().append("path").classed("legend"+q,!0).attr("d",I).attr("transform",Y),S.exit().remove(),S.each(function(N){var V=i.select(this),nt=N[0],ut=z(nt.mlw,W.line,g,y);V.style("stroke-width",ut+"px");var ct=nt.mcc;if(!k._inHover&&"mc"in nt){var bt=s(W),kt=bt.mid;kt===void 0&&(kt=(bt.max+bt.min)/2),ct=n.tryColorscale(W,"")(kt)}var Et=ct||nt.mc||W.color,Gt=W.pattern,Vt=n.getPatternAttr,Ht=Gt&&(Vt(Gt.shape,0,"")||Vt(Gt.path,0,""));if(Ht){var vt=Vt(Gt.bgcolor,0,null),xt=Vt(Gt.fgcolor,0,null),lt=Gt.fgopacity,At=d(Gt.size,8,10),Rt=d(Gt.solidity,.5,1),Ut="legend-"+A.uid;V.call(n.pattern,"legend",w,Ut,Ht,At,Rt,ct,Gt.fillmode,vt,xt,lt)}else V.call(o.fill,Et);ut&&o.stroke(V,nt.mlc||rt.color)})}function J(yt){var H=yt[0].trace,q=i.select(this).select("g.legendpoints").selectAll("path.legendbox").data(H.visible&&t.traceIs(H,"box-violin")?[yt]:[]);q.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",Y),q.exit().remove(),q.each(function(){var A=i.select(this);if((H.boxpoints==="all"||H.points==="all")&&o.opacity(H.fillcolor)===0&&o.opacity((H.line||{}).color)===0){var W=a.minExtend(H,{marker:{size:D?h:a.constrain(H.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});q.call(n.pointStyle,W,w)}else{var rt=z(void 0,H.line,g,y);A.style("stroke-width",rt+"px").call(o.fill,H.fillcolor),rt&&o.stroke(A,H.line.color)}})}function X(yt){var H=yt[0].trace,q=i.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(H.visible&&H.type==="candlestick"?[yt,yt]:[]);q.enter().append("path").classed("legendcandle",!0).attr("d",function(A,W){return W?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",Y).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(A,W){var rt=i.select(this),I=H[W?"increasing":"decreasing"],M=z(void 0,I.line,g,y);rt.style("stroke-width",M+"px").call(o.fill,I.fillcolor),M&&o.stroke(rt,I.line.color)})}function it(yt){var H=yt[0].trace,q=i.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(H.visible&&H.type==="ohlc"?[yt,yt]:[]);q.enter().append("path").classed("legendohlc",!0).attr("d",function(A,W){return W?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",Y).style("stroke-miterlimit",1),q.exit().remove(),q.each(function(A,W){var rt=i.select(this),I=H[W?"increasing":"decreasing"],M=z(void 0,I.line,g,y);rt.style("fill","none").call(n.dashLine,I.line.dash,M),M&&o.stroke(rt,I.line.color)})}function at(yt){ht(yt,this,"pie")}function ot(yt){ht(yt,this,"funnelarea")}function ht(yt,H,q){var A=yt[0],W=A.trace,rt=q?W.visible&&W.type===q:t.traceIs(W,q),I=i.select(H).select("g.legendpoints").selectAll("path.legend"+q).data(rt?[yt]:[]);if(I.enter().append("path").classed("legend"+q,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",Y),I.exit().remove(),I.size()){var M=W.marker||{},S=z(p(M.line.width,A.pts),M.line,g,y),N="pieLike",V=a.minExtend(W,{marker:{line:{width:S}}},N),nt=a.minExtend(A,{trace:V},N);e(I,nt,V,w)}}function pt(yt){var H=yt[0].trace,q,A=[];if(H.visible)switch(H.type){case"histogram2d":case"heatmap":A=[["M-15,-2V4H15V-2Z"]],q=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":A=[["M-6,-6V6H6V-6Z"]],q=!0;break;case"densitymapbox":case"densitymap":A=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],q="radial";break;case"cone":A=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],q=!1;break;case"streamtube":A=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],q=!1;break;case"surface":A=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],q=!0;break;case"mesh3d":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],q=!1;break;case"volume":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],q=!0;break;case"isosurface":A=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],q=!1;break}var W=i.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(A);W.enter().append("path").classed("legend3dandfriends",!0).attr("transform",Y).style("stroke-miterlimit",1),W.exit().remove(),W.each(function(rt,I){var M=i.select(this),S=s(H),N=S.colorscale,V=S.reversescale,nt=function(kt){if(kt.size()){var Et="legendfill-"+H.uid;n.gradient(kt,w,Et,x(V,q==="radial"),N,"fill")}},ut;if(N){if(!q){var ct=N.length;ut=I===0?N[V?ct-1:0][1]:I===1?N[V?0:ct-1][1]:N[Math.floor((ct-1)/2)][1]}}else{var bt=H.vertexcolor||H.facecolor||H.color;ut=a.isArrayOrTypedArray(bt)?bt[I]||bt[0]:bt}M.attr("d",rt[0]),ut?M.call(o.fill,ut):M.call(nt)})}};function x(m,w){var k=w?"radial":"horizontal";return k+(m?"":"reversed")}function u(m){var w=m[0].trace,k=w.contours,U=f.hasLines(w),D=f.hasMarkers(w),C=w.visible&&w.fill&&w.fill!=="none",T=!1,Y=!1;if(k){var z=k.coloring;z==="lines"?T=!0:U=z==="none"||z==="heatmap"||k.showlines,k.type==="constraint"?C=k._operation!=="=":(z==="fill"||z==="heatmap")&&(Y=!0)}return{showMarker:D,showLine:U,showFill:C,showGradientLine:T,showGradientFill:Y,anyLine:U||T,anyFill:C||Y}}function d(m,w,k){return m&&a.isArrayOrTypedArray(m)?w:m>k?k:m}}),wl=Mt((E,P)=>{var i=Ke(),t=Oe(),a=hr(),l=da(),n=oi(),o=on(),s=Ga(),f=Ta(),e=Pr(),p=Tc(),c=bl(),h=Rr(),_=h.LINE_SPACING,y=h.FROM_TL,v=h.FROM_BR,g=kc(),x=_l(),u=Xi(),d=1,m=/^legend[0-9]*$/;P.exports=function(X,it){if(it)k(X,it);else{var at=X._fullLayout,ot=at._legends,ht=at._infolayer.selectAll('[class^="legend"]');ht.each(function(){var q=i.select(this),A=q.attr("class"),W=A.split(" ")[0];W.match(m)&&ot.indexOf(W)===-1&&q.remove()});for(var pt=0;pt<ot.length;pt++){var yt=ot[pt],H=X._fullLayout[yt];k(X,H)}}};function w(X,it,at){if(!(it.title.side!=="top center"&&it.title.side!=="top right")){var ot=it.title.font,ht=ot.size*_,pt=0,yt=X.node(),H=s.bBox(yt).width;it.title.side==="top center"?pt=.5*(it._width-2*at-2*c.titlePad-H):it.title.side==="top right"&&(pt=it._width-2*at-2*c.titlePad-H),e.positionText(X,at+c.titlePad+pt,at+ht)}}function k(X,it){var at=it||{},ot=X._fullLayout,ht=J(at),pt,yt,H=at._inHover;if(H?(yt=at.layer,pt="hover"):(yt=ot._infolayer,pt=ht),!!yt){pt+=ot._uid,X._legendMouseDownTime||(X._legendMouseDownTime=0);var q;if(H){if(!at.entries)return;q=g(at.entries,at)}else{for(var A=(X.calcdata||[]).slice(),W=ot.shapes,rt=0;rt<W.length;rt++){var I=W[rt];if(I.showlegend){var M={_isShape:!0,_fullInput:I,index:I._index,name:I.name||I.label.text||"shape "+I._index,legend:I.legend,legendgroup:I.legendgroup,legendgrouptitle:I.legendgrouptitle,legendrank:I.legendrank,legendwidth:I.legendwidth,showlegend:I.showlegend,visible:I.visible,opacity:I.opacity,mode:I.type==="line"?"lines":"markers",line:I.line,marker:{line:I.line,color:I.fillcolor,size:12,symbol:I.type==="rect"?"square":I.type==="circle"?"circle":"hexagon2"}};A.push([{trace:M}])}}q=ot.showlegend&&g(A,at,ot._legends.length>1)}var S=ot.hiddenlabels||[];if(!H&&(!ot.showlegend||!q.length))return yt.selectAll("."+ht).remove(),ot._topdefs.select("#"+pt).remove(),a.autoMargin(X,ht);var N=t.ensureSingle(yt,"g",ht,function(Vt){H||Vt.attr("pointer-events","all")}),V=t.ensureSingleById(ot._topdefs,"clipPath",pt,function(Vt){Vt.append("rect")}),nt=t.ensureSingle(N,"rect","bg",function(Vt){Vt.attr("shape-rendering","crispEdges")});nt.call(f.stroke,at.bordercolor).call(f.fill,at.bgcolor).style("stroke-width",at.borderwidth+"px");var ut=t.ensureSingle(N,"g","scrollbox"),ct=at.title;at._titleWidth=0,at._titleHeight=0;var bt;ct.text?(bt=t.ensureSingle(ut,"text",ht+"titletext"),bt.attr("text-anchor","start").call(s.font,ct.font).text(ct.text),z(bt,ut,X,at,d)):ut.selectAll("."+ht+"titletext").remove();var kt=t.ensureSingle(N,"rect","scrollbar",function(Vt){Vt.attr(c.scrollBarEnterAttrs).call(f.fill,c.scrollBarColor)}),Et=ut.selectAll("g.groups").data(q);Et.enter().append("g").attr("class","groups"),Et.exit().remove();var Gt=Et.selectAll("g.traces").data(t.identity);Gt.enter().append("g").attr("class","traces"),Gt.exit().remove(),Gt.style("opacity",function(Vt){var Ht=Vt[0].trace;return l.traceIs(Ht,"pie-like")?S.indexOf(Vt[0].label)!==-1?.5:1:Ht.visible==="legendonly"?.5:1}).each(function(){i.select(this).call(C,X,at)}).call(x,X,at).each(function(){H||i.select(this).call(Y,X,ht)}),t.syncOrAsync([a.previousPromises,function(){return R(X,Et,Gt,at)},function(){var Vt=ot._size,Ht=at.borderwidth,vt=at.xref==="paper",xt=at.yref==="paper";if(ct.text&&w(bt,at,Ht),!H){var lt,At;vt?lt=Vt.l+Vt.w*at.x-y[G(at)]*at._width:lt=ot.width*at.x-y[G(at)]*at._width,xt?At=Vt.t+Vt.h*(1-at.y)-y[O(at)]*at._effHeight:At=ot.height*(1-at.y)-y[O(at)]*at._effHeight;var Rt=Z(X,ht,lt,At);if(Rt)return;if(ot.margin.autoexpand){var Ut=lt,te=At;lt=vt?t.constrain(lt,0,ot.width-at._width):Ut,At=xt?t.constrain(At,0,ot.height-at._effHeight):te,lt!==Ut&&t.log("Constrain "+ht+".x to make legend fit inside graph"),At!==te&&t.log("Constrain "+ht+".y to make legend fit inside graph")}s.setTranslate(N,lt,At)}if(kt.on(".drag",null),N.on("wheel",null),H||at._height<=at._maxHeight||X._context.staticPlot){var Wt=at._effHeight;H&&(Wt=at._height),nt.attr({width:at._width-Ht,height:Wt-Ht,x:Ht/2,y:Ht/2}),s.setTranslate(ut,0,0),V.select("rect").attr({width:at._width-2*Ht,height:Wt-2*Ht,x:Ht,y:Ht}),s.setClipUrl(ut,pt,X),s.setRect(kt,0,0,0,0),delete at._scrollY}else{var ae=Math.max(c.scrollBarMinHeight,at._effHeight*at._effHeight/at._height),ne=at._effHeight-ae-2*c.scrollBarMargin,re=at._height-at._effHeight,de=ne/re,$t=Math.min(at._scrollY||0,re);nt.attr({width:at._width-2*Ht+c.scrollBarWidth+c.scrollBarMargin,height:at._effHeight-Ht,x:Ht/2,y:Ht/2}),V.select("rect").attr({width:at._width-2*Ht+c.scrollBarWidth+c.scrollBarMargin,height:at._effHeight-2*Ht,x:Ht,y:Ht+$t}),s.setClipUrl(ut,pt,X),st($t,ae,de),N.on("wheel",function(){$t=t.constrain(at._scrollY+i.event.deltaY/ne*re,0,re),st($t,ae,de),$t!==0&&$t!==re&&i.event.preventDefault()});var ve,xe,pe,_e=function(Ft,Zt,qt){var Yt=(qt-Zt)/de+Ft;return t.constrain(Yt,0,re)},mt=function(Ft,Zt,qt){var Yt=(Zt-qt)/de+Ft;return t.constrain(Yt,0,re)},Ct=i.behavior.drag().on("dragstart",function(){var Ft=i.event.sourceEvent;Ft.type==="touchstart"?ve=Ft.changedTouches[0].clientY:ve=Ft.clientY,pe=$t}).on("drag",function(){var Ft=i.event.sourceEvent;Ft.buttons===2||Ft.ctrlKey||(Ft.type==="touchmove"?xe=Ft.changedTouches[0].clientY:xe=Ft.clientY,$t=_e(pe,ve,xe),st($t,ae,de))});kt.call(Ct);var Q=i.behavior.drag().on("dragstart",function(){var Ft=i.event.sourceEvent;Ft.type==="touchstart"&&(ve=Ft.changedTouches[0].clientY,pe=$t)}).on("drag",function(){var Ft=i.event.sourceEvent;Ft.type==="touchmove"&&(xe=Ft.changedTouches[0].clientY,$t=mt(pe,ve,xe),st($t,ae,de))});ut.call(Q)}function st(Ft,Zt,qt){at._scrollY=X._fullLayout[ht]._scrollY=Ft,s.setTranslate(ut,0,-Ft),s.setRect(kt,at._width,c.scrollBarMargin+Ft*qt,c.scrollBarWidth,Zt),V.select("rect").attr("y",Ht+Ft)}if(X._context.edits.legendPosition){var ft,_t,Tt,zt;N.classed("cursor-move",!0),o.init({element:N.node(),gd:X,prepFn:function(Ft){if(Ft.target!==kt.node()){var Zt=s.getTranslate(N);Tt=Zt.x,zt=Zt.y}},moveFn:function(Ft,Zt){if(Tt!==void 0&&zt!==void 0){var qt=Tt+Ft,Yt=zt+Zt;s.setTranslate(N,qt,Yt),ft=o.align(qt,at._width,Vt.l,Vt.l+Vt.w,at.xanchor),_t=o.align(Yt+at._height,-at._height,Vt.t+Vt.h,Vt.t,at.yanchor)}},doneFn:function(){if(ft!==void 0&&_t!==void 0){var Ft={};Ft[ht+".x"]=ft,Ft[ht+".y"]=_t,l.call("_guiRelayout",X,Ft)}},clickFn:function(Ft,Zt){var qt=yt.selectAll("g.traces").filter(function(){var Yt=this.getBoundingClientRect();return Zt.clientX>=Yt.left&&Zt.clientX<=Yt.right&&Zt.clientY>=Yt.top&&Zt.clientY<=Yt.bottom});qt.size()>0&&D(X,N,qt,Ft,Zt)}})}}],X)}}function U(X,it,at){var ot=X[0],ht=ot.width,pt=it.entrywidthmode,yt=ot.trace.legendwidth||it.entrywidth;return pt==="fraction"?it._maxWidth*yt:at+(yt||ht)}function D(X,it,at,ot,ht){var pt=at.data()[0][0].trace,yt={event:ht,node:at.node(),curveNumber:pt.index,expandedIndex:pt.index,data:X.data,layout:X.layout,frames:X._transitionData._frames,config:X._context,fullData:X._fullData,fullLayout:X._fullLayout};pt._group&&(yt.group=pt._group),l.traceIs(pt,"pie-like")&&(yt.label=at.datum()[0].label);var H=n.triggerHandler(X,"plotly_legendclick",yt);if(ot===1){if(H===!1)return;it._clickTimeout=setTimeout(function(){X._fullLayout&&p(at,X,ot)},X._context.doubleClickDelay)}else if(ot===2){it._clickTimeout&&clearTimeout(it._clickTimeout),X._legendMouseDownTime=0;var q=n.triggerHandler(X,"plotly_legenddoubleclick",yt);q!==!1&&H!==!1&&p(at,X,ot)}}function C(X,it,at){var ot=J(at),ht=X.data()[0][0],pt=ht.trace,yt=l.traceIs(pt,"pie-like"),H=!at._inHover&&it._context.edits.legendText&&!yt,q=at._maxNameLength,A,W;ht.groupTitle?(A=ht.groupTitle.text,W=ht.groupTitle.font):(W=at.font,at.entries?A=ht.text:(A=yt?ht.label:pt.name,pt._meta&&(A=t.templateString(A,pt._meta))));var rt=t.ensureSingle(X,"text",ot+"text");rt.attr("text-anchor","start").call(s.font,W).text(H?T(A,q):A);var I=at.indentation+at.itemwidth+c.itemGap*2;e.positionText(rt,I,0),H?rt.call(e.makeEditable,{gd:it,text:A}).call(z,X,it,at).on("edit",function(M){this.text(T(M,q)).call(z,X,it,at);var S=ht.trace._fullInput||{},N={};return N.name=M,S._isShape?l.call("_guiRelayout",it,"shapes["+pt.index+"].name",N.name):l.call("_guiRestyle",it,N,pt.index)}):z(rt,X,it,at)}function T(X,it){var at=Math.max(4,it);if(X&&X.trim().length>=at/2)return X;X=X||"";for(var ot=at-X.length;ot>0;ot--)X+=" ";return X}function Y(X,it,at){var ot=it._context.doubleClickDelay,ht,pt=1,yt=t.ensureSingle(X,"rect",at+"toggle",function(H){it._context.staticPlot||H.style("cursor","pointer").attr("pointer-events","all"),H.call(f.fill,"rgba(0,0,0,0)")});it._context.staticPlot||(yt.on("mousedown",function(){ht=new Date().getTime(),ht-it._legendMouseDownTime<ot?pt+=1:(pt=1,it._legendMouseDownTime=ht)}),yt.on("mouseup",function(){if(!(it._dragged||it._editing)){var H=it._fullLayout[at];new Date().getTime()-it._legendMouseDownTime>ot&&(pt=Math.max(pt-1,1)),D(it,H,X,pt,i.event)}}))}function z(X,it,at,ot,ht){ot._inHover&&X.attr("data-notex",!0),e.convertToTspans(X,at,function(){j(it,at,ot,ht)})}function j(X,it,at,ot){var ht=X.data()[0][0];if(!at._inHover&&ht&&!ht.trace.showlegend){X.remove();return}var pt=X.select("g[class*=math-group]"),yt=pt.node(),H=J(at);at||(at=it._fullLayout[H]);var q=at.borderwidth,A;ot===d?A=at.title.font:ht.groupTitle?A=ht.groupTitle.font:A=at.font;var W=A.size*_,rt,I;if(yt){var M=s.bBox(yt);rt=M.height,I=M.width,ot===d?s.setTranslate(pt,q,q+rt*.75):s.setTranslate(pt,0,rt*.25)}else{var S="."+H+(ot===d?"title":"")+"text",N=X.select(S),V=e.lineCount(N),nt=N.node();if(rt=W*V,I=nt?s.bBox(nt).width:0,ot===d)at.title.side==="left"&&(I+=c.itemGap*2),e.positionText(N,q+c.titlePad,q+W);else{var ut=c.itemGap*2+at.indentation+at.itemwidth;ht.groupTitle&&(ut=c.itemGap,I-=at.indentation+at.itemwidth),e.positionText(N,ut,-W*((V-1)/2-.3))}}ot===d?(at._titleWidth=I,at._titleHeight=rt):(ht.lineHeight=W,ht.height=Math.max(rt,16)+3,ht.width=I)}function F(X){var it=0,at=0,ot=X.title.side;return ot&&(ot.indexOf("left")!==-1&&(it=X._titleWidth),ot.indexOf("top")!==-1&&(at=X._titleHeight)),[it,at]}function R(X,it,at,ot){var ht=X._fullLayout,pt=J(ot);ot||(ot=ht[pt]);var yt=ht._size,H=u.isVertical(ot),q=u.isGrouped(ot),A=ot.entrywidthmode==="fraction",W=ot.borderwidth,rt=2*W,I=c.itemGap,M=ot.indentation+ot.itemwidth+I*2,S=2*(W+I),N=O(ot),V=ot.y<0||ot.y===0&&N==="top",nt=ot.y>1||ot.y===1&&N==="bottom",ut=ot.tracegroupgap,ct={};let{orientation:bt,yref:kt}=ot,{maxheight:Et}=ot,Gt=V||nt||bt!=="v"||kt!=="paper";Et||(Et=Gt?.5:1);let Vt=Gt?ht.height:yt.h;ot._maxHeight=Math.max(Et>1?Et:Et*Vt,30);var Ht=0;ot._width=0,ot._height=0;var vt=F(ot);if(H)at.each(function(st){var ft=st[0].height;s.setTranslate(this,W+vt[0],W+vt[1]+ot._height+ft/2+I),ot._height+=ft,ot._width=Math.max(ot._width,st[0].width)}),Ht=M+ot._width,ot._width+=I+M+rt,ot._height+=S,q&&(it.each(function(st,ft){s.setTranslate(this,0,ft*ot.tracegroupgap)}),ot._height+=(ot._lgroupsLength-1)*ot.tracegroupgap);else{var xt=G(ot),lt=ot.x<0||ot.x===0&&xt==="right",At=ot.x>1||ot.x===1&&xt==="left",Rt=nt||V,Ut=ht.width/2;ot._maxWidth=Math.max(lt?Rt&&xt==="left"?yt.l+yt.w:Ut:At?Rt&&xt==="right"?yt.r+yt.w:Ut:yt.w,2*M);var te=0,Wt=0;at.each(function(st){var ft=U(st,ot,M);te=Math.max(te,ft),Wt+=ft}),Ht=null;var ae=0;if(q){var ne=0,re=0,de=0;it.each(function(){var st=0,ft=0;i.select(this).selectAll("g.traces").each(function(Tt){var zt=U(Tt,ot,M),Ft=Tt[0].height;s.setTranslate(this,vt[0],vt[1]+W+I+Ft/2+ft),ft+=Ft,st=Math.max(st,zt),ct[Tt[0].trace.legendgroup]=st});var _t=st+I;re>0&&_t+W+re>ot._maxWidth?(ae=Math.max(ae,re),re=0,de+=ne+ut,ne=ft):ne=Math.max(ne,ft),s.setTranslate(this,re,de),re+=_t}),ot._width=Math.max(ae,re)+W,ot._height=de+ne+S}else{var $t=at.size(),ve=Wt+rt+($t-1)*I<ot._maxWidth,xe=0,pe=0,_e=0,mt=0;at.each(function(st){var ft=st[0].height,_t=U(st,ot,M),Tt=ve?_t:te;A||(Tt+=I),Tt+W+pe-I>=ot._maxWidth&&(ae=Math.max(ae,mt),pe=0,_e+=xe,ot._height+=xe,xe=0),s.setTranslate(this,vt[0]+W+pe,vt[1]+W+_e+ft/2+I),mt=pe+_t+I,pe+=Tt,xe=Math.max(xe,ft)}),ve?(ot._width=pe+rt,ot._height=xe+S):(ot._width=Math.max(ae,mt)+rt,ot._height+=xe+S)}}ot._width=Math.ceil(Math.max(ot._width+vt[0],ot._titleWidth+2*(W+c.titlePad))),ot._height=Math.ceil(Math.max(ot._height+vt[1],ot._titleHeight+2*(W+c.itemGap))),ot._effHeight=Math.min(ot._height,ot._maxHeight);var Ct=X._context.edits,Q=Ct.legendText||Ct.legendPosition;at.each(function(st){var ft=i.select(this).select("."+pt+"toggle"),_t=st[0].height,Tt=st[0].trace.legendgroup,zt=U(st,ot,M);q&&Tt!==""&&(zt=ct[Tt]);var Ft=Q?M:Ht||zt;!H&&!A&&(Ft+=I/2),s.setRect(ft,0,-_t/2,Ft,_t)})}function Z(X,it,at,ot){var ht=X._fullLayout,pt=ht[it],yt=G(pt),H=O(pt),q=pt.xref==="paper",A=pt.yref==="paper";X._fullLayout._reservedMargin[it]={};var W=pt.y<.5?"b":"t",rt=pt.x<.5?"l":"r",I={r:ht.width-at,l:at+pt._width,b:ht.height-ot,t:ot+pt._effHeight};if(q&&A)return a.autoMargin(X,it,{x:pt.x,y:pt.y,l:pt._width*y[yt],r:pt._width*v[yt],b:pt._effHeight*v[H],t:pt._effHeight*y[H]});q?X._fullLayout._reservedMargin[it][W]=I[W]:A||pt.orientation==="v"?X._fullLayout._reservedMargin[it][rt]=I[rt]:X._fullLayout._reservedMargin[it][W]=I[W]}function G(X){return t.isRightAnchor(X)?"right":t.isCenterAnchor(X)?"center":"left"}function O(X){return t.isBottomAnchor(X)?"bottom":t.isMiddleAnchor(X)?"middle":"top"}function J(X){return X._id||"legend"}}),Ml=Mt(E=>{var P=Ke(),i=ua(),t=Yr(),a=Oe(),l=a.pushUnique,n=a.strTranslate,o=a.strRotate,s=oi(),f=Pr(),e=Mc(),p=Ga(),c=Ta(),h=on(),_=Ka(),y=Sr().zindexSeparator,v=da(),g=gn(),x=ri(),u=xl(),d=wl(),m=x.YANGLE,w=Math.PI*m/180,k=1/Math.sin(w),U=Math.cos(w),D=Math.sin(w),C=x.HOVERARROWSIZE,T=x.HOVERTEXTPAD,Y={box:!0,ohlc:!0,violin:!0,candlestick:!0},z={scatter:!0,scattergl:!0,splom:!0};function j(M,S){return M.distance-S.distance}E.hover=function(M,S,N,V){M=a.getGraphDiv(M);var nt=S.target;a.throttle(M._fullLayout._uid+x.HOVERID,x.HOVERMINTIME,function(){F(M,S,N,V,nt)})},E.loneHover=function(M,S){var N=!0;Array.isArray(M)||(N=!1,M=[M]);var V=S.gd,nt=W(V),ut=rt(V),ct=M.map(function(lt){var At=lt._x0||lt.x0||lt.x||0,Rt=lt._x1||lt.x1||lt.x||0,Ut=lt._y0||lt.y0||lt.y||0,te=lt._y1||lt.y1||lt.y||0,Wt=lt.eventData;if(Wt){var ae=Math.min(At,Rt),ne=Math.max(At,Rt),re=Math.min(Ut,te),de=Math.max(Ut,te),$t=lt.trace;if(v.traceIs($t,"gl3d")){var ve=V._fullLayout[$t.scene]._scene.container,xe=ve.offsetLeft,pe=ve.offsetTop;ae+=xe,ne+=xe,re+=pe,de+=pe}Wt.bbox={x0:ae+ut,x1:ne+ut,y0:re+nt,y1:de+nt},S.inOut_bbox&&S.inOut_bbox.push(Wt.bbox)}else Wt=!1;return{color:lt.color||c.defaultLine,x0:lt.x0||lt.x||0,x1:lt.x1||lt.x||0,y0:lt.y0||lt.y||0,y1:lt.y1||lt.y||0,xLabel:lt.xLabel,yLabel:lt.yLabel,zLabel:lt.zLabel,text:lt.text,name:lt.name,idealAlign:lt.idealAlign,borderColor:lt.borderColor,fontFamily:lt.fontFamily,fontSize:lt.fontSize,fontColor:lt.fontColor,fontWeight:lt.fontWeight,fontStyle:lt.fontStyle,fontVariant:lt.fontVariant,nameLength:lt.nameLength,textAlign:lt.textAlign,trace:lt.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:lt.hovertemplate||!1,hovertemplateLabels:lt.hovertemplateLabels||!1,eventData:Wt}}),bt=!1,kt=G(ct,{gd:V,hovermode:"closest",rotateLabels:bt,bgColor:S.bgColor||c.background,container:P.select(S.container),outerContainer:S.outerContainer||S.container}),Et=kt.hoverLabels,Gt=5,Vt=0,Ht=0;Et.sort(function(lt,At){return lt.y0-At.y0}).each(function(lt,At){var Rt=lt.y0-lt.by/2;Rt-Gt<Vt?lt.offset=Vt-Rt+Gt:lt.offset=0,Vt=Rt+lt.by+lt.offset,At===S.anchorIndex&&(Ht=lt.offset)}).each(function(lt){lt.offset-=Ht});var vt=V._fullLayout._invScaleX,xt=V._fullLayout._invScaleY;return at(Et,bt,vt,xt),N?Et:Et.node()};function F(M,S,N,V,nt){N||(N="xy"),typeof N=="string"&&(N=N.split(y)[0]);var ut=Array.isArray(N)?N:[N],ct,bt=M._fullLayout,kt=bt.hoversubplots,Et=bt._plots||[],Gt=Et[N],Vt=bt._has("cartesian"),Ht=S.hovermode||bt.hovermode,vt=(Ht||"").charAt(0)==="x",xt=(Ht||"").charAt(0)==="y",lt,At;if(Vt&&(vt||xt)&&kt==="axis"){for(var Rt=ut.length,Ut=0;Ut<Rt;Ut++)if(ct=ut[Ut],Et[ct]){lt=_.getFromId(M,ct,"x"),At=_.getFromId(M,ct,"y");var te=(vt?lt:At)._subplotsWith;if(te&&te.length)for(var Wt=0;Wt<te.length;Wt++)l(ut,te[Wt])}}if(Gt&&kt!=="single"){var ae=Gt.overlays.map(function(la){return la.id});ut=ut.concat(ae)}for(var ne=ut.length,re=new Array(ne),de=new Array(ne),$t=!1,ve=0;ve<ne;ve++)if(ct=ut[ve],Et[ct])$t=!0,re[ve]=Et[ct].xaxis,de[ve]=Et[ct].yaxis;else if(bt[ct]&&bt[ct]._subplot){var xe=bt[ct]._subplot;re[ve]=xe.xaxis,de[ve]=xe.yaxis}else{a.warn("Unrecognized subplot: "+ct);return}if(Ht&&!$t&&(Ht="closest"),["x","y","closest","x unified","y unified"].indexOf(Ht)===-1||!M.calcdata||M.querySelector(".zoombox")||M._dragging)return h.unhoverRaw(M,S);var pe=bt.hoverdistance;pe===-1&&(pe=1/0);var _e=bt.spikedistance;_e===-1&&(_e=1/0);var mt=[],Ct=[],Q,st,ft,_t,Tt,zt,Ft,Zt,qt,Yt,ie,oe,le,be={hLinePoint:null,vLinePoint:null},Ae=!1;if(Array.isArray(S))for(Ht="array",ft=0;ft<S.length;ft++)Tt=M.calcdata[S[ft].curveNumber||0],Tt&&(zt=Tt[0].trace,Tt[0].trace.hoverinfo!=="skip"&&(Ct.push(Tt),zt.orientation==="h"&&(Ae=!0)));else{var Re=M.calcdata.slice();for(Re.sort(function(la,Ja){var Ra=la[0].trace.zorder||0,fa=Ja[0].trace.zorder||0;return Ra-fa}),_t=0;_t<Re.length;_t++)Tt=Re[_t],zt=Tt[0].trace,zt.hoverinfo!=="skip"&&g.isTraceInSubplots(zt,ut)&&(Ct.push(Tt),zt.orientation==="h"&&(Ae=!0));var Ve=!nt,Ye,Se;if(Ve)"xpx"in S?Ye=S.xpx:Ye=re[0]._length/2,"ypx"in S?Se=S.ypx:Se=de[0]._length/2;else{if(s.triggerHandler(M,"plotly_beforehover",S)===!1)return;var we=nt.getBoundingClientRect();Ye=S.clientX-we.left,Se=S.clientY-we.top,bt._calcInverseTransform(M);var Ne=a.apply3DTransform(bt._invTransform)(Ye,Se);if(Ye=Ne[0],Se=Ne[1],Ye<0||Ye>re[0]._length||Se<0||Se>de[0]._length)return h.unhoverRaw(M,S)}if(S.pointerX=Ye+re[0]._offset,S.pointerY=Se+de[0]._offset,"xval"in S?Q=g.flat(ut,S.xval):Q=g.p2c(re,Ye),"yval"in S?st=g.flat(ut,S.yval):st=g.p2c(de,Se),!i(Q[0])||!i(st[0]))return a.warn("Fx.hover failed",S,M),h.unhoverRaw(M,S)}var qe=1/0;function Fe(la,Ja){for(_t=0;_t<Ct.length;_t++)if(Tt=Ct[_t],!(!Tt||!Tt[0]||!Tt[0].trace)&&(zt=Tt[0].trace,!(zt.visible!==!0||zt._length===0)&&["carpet","contourcarpet"].indexOf(zt._module.name)===-1)){if(qt=Ht,g.isUnifiedHover(qt)&&(qt=qt.charAt(0)),zt.type==="splom"?(Zt=0,Ft=ut[Zt]):(Ft=g.getSubplot(zt),Zt=ut.indexOf(Ft)),oe={cd:Tt,trace:zt,xa:re[Zt],ya:de[Zt],maxHoverDistance:pe,maxSpikeDistance:_e,index:!1,distance:Math.min(qe,pe),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:c.defaultLine,name:zt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},bt[Ft]&&(oe.subplot=bt[Ft]._subplot),bt._splomScenes&&bt._splomScenes[zt.uid]&&(oe.scene=bt._splomScenes[zt.uid]),qt==="array"){var Ra=S[_t];"pointNumber"in Ra?(oe.index=Ra.pointNumber,qt="closest"):(qt="","xval"in Ra&&(Yt=Ra.xval,qt="x"),"yval"in Ra&&(ie=Ra.yval,qt=qt?"closest":"y"))}else la!==void 0&&Ja!==void 0?(Yt=la,ie=Ja):(Yt=Q[Zt],ie=st[Zt]);if(le=mt.length,pe!==0)if(zt._module&&zt._module.hoverPoints){var fa=zt._module.hoverPoints(oe,Yt,ie,qt,{finiteRange:!0,hoverLayer:bt._hoverlayer,hoversubplots:kt,gd:M});if(fa)for(var ja,qa=0;qa<fa.length;qa++)ja=fa[qa],i(ja.x0)&&i(ja.y0)&&mt.push(ot(ja,Ht))}else a.log("Unrecognized trace type in hover:",zt);if(Ht==="closest"&&mt.length>le&&(mt.splice(0,le),qe=mt[0].distance),Vt&&_e!==0&&mt.length===0){oe.distance=_e,oe.index=!1;var Ha=zt._module.hoverPoints(oe,Yt,ie,"closest",{hoverLayer:bt._hoverlayer});if(Ha&&(Ha=Ha.filter(function(Pa){return Pa.spikeDistance<=_e})),Ha&&Ha.length){var tr,br=Ha.filter(function(Pa){return Pa.xa.showspikes&&Pa.xa.spikesnap!=="hovered data"});if(br.length){var _a=br[0];i(_a.x0)&&i(_a.y0)&&(tr=Ie(_a),(!be.vLinePoint||be.vLinePoint.spikeDistance>tr.spikeDistance)&&(be.vLinePoint=tr))}var Da=Ha.filter(function(Pa){return Pa.ya.showspikes&&Pa.ya.spikesnap!=="hovered data"});if(Da.length){var La=Da[0];i(La.x0)&&i(La.y0)&&(tr=Ie(La),(!be.hLinePoint||be.hLinePoint.spikeDistance>tr.spikeDistance)&&(be.hLinePoint=tr))}}}}}Fe();function De(la,Ja,Ra){for(var fa=null,ja=1/0,qa,Ha=0;Ha<la.length;Ha++)lt&&lt._id!==la[Ha].xa._id||At&&At._id!==la[Ha].ya._id||(qa=la[Ha].spikeDistance,Ra&&Ha===0&&(qa=-1/0),qa<=ja&&qa<=Ja&&(fa=la[Ha],ja=qa));return fa}function Ie(la){return la?{xa:la.xa,ya:la.ya,x:la.xSpike!==void 0?la.xSpike:(la.x0+la.x1)/2,y:la.ySpike!==void 0?la.ySpike:(la.y0+la.y1)/2,distance:la.distance,spikeDistance:la.spikeDistance,curveNumber:la.trace.index,color:la.color,pointNumber:la.index}:null}var Le={fullLayout:bt,container:bt._hoverlayer,event:S};M._spikepoints;var Xe={vLinePoint:be.vLinePoint,hLinePoint:be.hLinePoint};M._spikepoints=Xe;var aa=function(){var la=mt.filter(function(Ra){return lt&&lt._id===Ra.xa._id&&At&&At._id===Ra.ya._id}),Ja=mt.filter(function(Ra){return!(lt&&lt._id===Ra.xa._id&&At&&At._id===Ra.ya._id)});la.sort(j),Ja.sort(j),mt=la.concat(Ja),mt=q(mt,Ht)};aa();var He=Ht.charAt(0),ra=(He==="x"||He==="y")&&mt[0]&&z[mt[0].trace.type];if(Vt&&_e!==0&&mt.length!==0){var sa=mt.filter(function(la){return la.ya.showspikes}),ma=De(sa,_e,ra);be.hLinePoint=Ie(ma);var ya=mt.filter(function(la){return la.xa.showspikes}),Qe=De(ya,_e,ra);be.vLinePoint=Ie(Qe)}if(mt.length===0){var ha=h.unhoverRaw(M,S);return Vt&&(be.hLinePoint!==null||be.vLinePoint!==null)&&yt()&&ht(M,be,Le),ha}if(Vt&&yt()&&ht(M,be,Le),g.isXYhover(qt)&&mt[0].length!==0&&mt[0].trace.type!=="splom"){var oa=mt[0];Y[oa.trace.type]?mt=mt.filter(function(la){return la.trace.index===oa.trace.index}):mt=[oa];var Ce=mt.length,Ma=A("x",oa,bt),et=A("y",oa,bt);Fe(Ma,et);var K=[],St={},It=0,jt=function(la){var Ja=Y[la.trace.type]?R(la):la.trace.index;if(!St[Ja])It++,St[Ja]=It,K.push(la);else{var Ra=St[Ja]-1,fa=K[Ra];Ra>0&&Math.abs(la.distance)<Math.abs(fa.distance)&&(K[Ra]=la)}},Lt;for(Lt=0;Lt<Ce;Lt++)jt(mt[Lt]);for(Lt=mt.length-1;Lt>Ce-1;Lt--)jt(mt[Lt]);mt=K,aa()}var Ot=M._hoverdata,Bt=[],Nt=W(M),Xt=rt(M);for(ft=0;ft<mt.length;ft++){var ee=mt[ft],he=g.makeEventData(ee,ee.trace,ee.cd);if(ee.hovertemplate!==!1){var ke=!1;ee.cd[ee.index]&&ee.cd[ee.index].ht&&(ke=ee.cd[ee.index].ht),ee.hovertemplate=ke||ee.trace.hovertemplate||!1}if(ee.xa&&ee.ya){var Te=ee.x0+ee.xa._offset,Pe=ee.x1+ee.xa._offset,Me=ee.y0+ee.ya._offset,ze=ee.y1+ee.ya._offset,je=Math.min(Te,Pe),pa=Math.max(Te,Pe),$e=Math.min(Me,ze),Aa=Math.max(Me,ze);he.bbox={x0:je+Xt,x1:pa+Xt,y0:$e+Nt,y1:Aa+Nt}}ee.eventData=[he],Bt.push(he)}M._hoverdata=Bt;var ia=Ht==="y"&&(Ct.length>1||mt.length>1)||Ht==="closest"&&Ae&&mt.length>1,Ca=c.combine(bt.plot_bgcolor||c.background,bt.paper_bgcolor),ka=G(mt,{gd:M,hovermode:Ht,rotateLabels:ia,bgColor:Ca,container:bt._hoverlayer,outerContainer:bt._paper.node(),commonLabelOpts:bt.hoverlabel,hoverdistance:bt.hoverdistance}),Va=ka.hoverLabels;if(g.isUnifiedHover(Ht)||(J(Va,ia,bt,ka.commonLabelBoundingBox),at(Va,ia,bt._invScaleX,bt._invScaleY)),nt&&nt.tagName){var Na=v.getComponentMethod("annotations","hasClickToShow")(M,Bt);e(P.select(nt),Na?"pointer":"")}!nt||V||!pt(M,S,Ot)||(Ot&&M.emit("plotly_unhover",{event:S,points:Ot}),M.emit("plotly_hover",{event:S,points:M._hoverdata,xaxes:re,yaxes:de,xvals:Q,yvals:st}))}function R(M){return[M.trace.index,M.index,M.x0,M.y0,M.name,M.attr,M.xa?M.xa._id:"",M.ya?M.ya._id:""].join(",")}var Z=/<extra>([\s\S]*)<\/extra>/;function G(M,S){var N=S.gd,V=N._fullLayout,nt=S.hovermode,ut=S.rotateLabels,ct=S.bgColor,bt=S.container,kt=S.outerContainer,Et=S.commonLabelOpts||{};if(M.length===0)return[[]];var Gt=S.fontFamily||x.HOVERFONT,Vt=S.fontSize||x.HOVERFONTSIZE,Ht=S.fontWeight||V.font.weight,vt=S.fontStyle||V.font.style,xt=S.fontVariant||V.font.variant,lt=S.fontTextcase||V.font.textcase,At=S.fontLineposition||V.font.lineposition,Rt=S.fontShadow||V.font.shadow,Ut=M[0],te=Ut.xa,Wt=Ut.ya,ae=nt.charAt(0),ne=ae+"Label",re=Ut[ne];if(re===void 0&&te.type==="multicategory")for(var de=0;de<M.length&&(re=M[de][ne],re===void 0);de++);var $t=I(N,kt),ve=$t.top,xe=$t.width,pe=$t.height,_e=re!==void 0&&Ut.distance<=S.hoverdistance&&(nt==="x"||nt==="y");if(_e){var mt=!0,Ct,Q;for(Ct=0;Ct<M.length;Ct++)if(mt&&M[Ct].zLabel===void 0&&(mt=!1),Q=M[Ct].hoverinfo||M[Ct].trace.hoverinfo,Q){var st=Array.isArray(Q)?Q:Q.split("+");if(st.indexOf("all")===-1&&st.indexOf(nt)===-1){_e=!1;break}}mt&&(_e=!1)}var ft=bt.selectAll("g.axistext").data(_e?[0]:[]);ft.enter().append("g").classed("axistext",!0),ft.exit().remove();var _t={minX:0,maxX:0,minY:0,maxY:0};if(ft.each(function(){var Ce=P.select(this),Ma=a.ensureSingle(Ce,"path","",function(ia){ia.style({"stroke-width":"1px"})}),et=a.ensureSingle(Ce,"text","",function(ia){ia.attr("data-notex",1)}),K=Et.bgcolor||c.defaultLine,St=Et.bordercolor||c.contrast(K),It=c.contrast(K),jt=Et.font,Lt={weight:jt.weight||Ht,style:jt.style||vt,variant:jt.variant||xt,textcase:jt.textcase||lt,lineposition:jt.lineposition||At,shadow:jt.shadow||Rt,family:jt.family||Gt,size:jt.size||Vt,color:jt.color||It};Ma.style({fill:K,stroke:St}),et.text(re).call(p.font,Lt).call(f.positionText,0,0).call(f.convertToTspans,N),Ce.attr("transform","");var Ot=I(N,et.node()),Bt,Nt;if(nt==="x"){var Xt=te.side==="top"?"-":"";et.attr("text-anchor","middle").call(f.positionText,0,te.side==="top"?ve-Ot.bottom-C-T:ve-Ot.top+C+T),Bt=te._offset+(Ut.x0+Ut.x1)/2,Nt=Wt._offset+(te.side==="top"?0:Wt._length);var ee=Ot.width/2+T,he=Bt;Bt<ee?he=ee:Bt>V.width-ee&&(he=V.width-ee),Ma.attr("d","M"+(Bt-he)+",0L"+(Bt-he+C)+","+Xt+C+"H"+ee+"v"+Xt+(T*2+Ot.height)+"H"+-ee+"V"+Xt+C+"H"+(Bt-he-C)+"Z"),Bt=he,_t.minX=Bt-ee,_t.maxX=Bt+ee,te.side==="top"?(_t.minY=Nt-(T*2+Ot.height),_t.maxY=Nt-T):(_t.minY=Nt+T,_t.maxY=Nt+(T*2+Ot.height))}else{var ke,Te,Pe;Wt.side==="right"?(ke="start",Te=1,Pe="",Bt=te._offset+te._length):(ke="end",Te=-1,Pe="-",Bt=te._offset),Nt=Wt._offset+(Ut.y0+Ut.y1)/2,et.attr("text-anchor",ke),Ma.attr("d","M0,0L"+Pe+C+","+C+"V"+(T+Ot.height/2)+"h"+Pe+(T*2+Ot.width)+"V-"+(T+Ot.height/2)+"H"+Pe+C+"V-"+C+"Z"),_t.minY=Nt-(T+Ot.height/2),_t.maxY=Nt+(T+Ot.height/2),Wt.side==="right"?(_t.minX=Bt+C,_t.maxX=Bt+C+(T*2+Ot.width)):(_t.minX=Bt-C-(T*2+Ot.width),_t.maxX=Bt-C);var Me=Ot.height/2,ze=ve-Ot.top-Me,je="clip"+V._uid+"commonlabel"+Wt._id,pa;if(Bt<Ot.width+2*T+C){pa="M-"+(C+T)+"-"+Me+"h-"+(Ot.width-T)+"V"+Me+"h"+(Ot.width-T)+"Z";var $e=Ot.width-Bt+T;f.positionText(et,$e,ze),ke==="end"&&et.selectAll("tspan").each(function(){var ia=P.select(this),Ca=p.tester.append("text").text(ia.text()).call(p.font,Lt),ka=I(N,Ca.node());Math.round(ka.width)<Math.round(Ot.width)&&ia.attr("x",$e-ka.width),Ca.remove()})}else f.positionText(et,Te*(T+C),ze),pa=null;var Aa=V._topclips.selectAll("#"+je).data(pa?[0]:[]);Aa.enter().append("clipPath").attr("id",je).append("path"),Aa.exit().remove(),Aa.select("path").attr("d",pa),p.setClipUrl(et,pa?je:null,N)}Ce.attr("transform",n(Bt,Nt))}),g.isUnifiedHover(nt)){bt.selectAll("g.hovertext").remove();var Tt=M.filter(function(Ce){return Ce.hoverinfo!=="none"});if(Tt.length===0)return[];var zt=V.hoverlabel,Ft=zt.font,Zt=Tt[0],qt=((nt==="x unified"?Zt.xa:Zt.ya).unifiedhovertitle||{}).text,Yt=qt?a.hovertemplateString(qt,{},V._d3locale,nt==="x unified"?{xa:Zt.xa,x:Zt.xVal}:{ya:Zt.ya,y:Zt.yVal}):re,ie={showlegend:!0,legend:{title:{text:Yt,font:Ft},font:Ft,bgcolor:zt.bgcolor,bordercolor:zt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:V.legend?V.legend.traceorder:void 0,orientation:"v"}},oe={font:Ft};u(ie,oe,N._fullData);var le=oe.legend;le.entries=[];for(var be=0;be<Tt.length;be++){var Ae=Tt[be];if(Ae.hoverinfo!=="none"){var Re=O(Ae,!0,nt,V,re),Ve=Re[0],Ye=Re[1];Ae.name=Ye,Ye!==""?Ae.text=Ye+" : "+Ve:Ae.text=Ve;var Se=Ae.cd[Ae.index];Se&&(Se.mc&&(Ae.mc=Se.mc),Se.mcc&&(Ae.mc=Se.mcc),Se.mlc&&(Ae.mlc=Se.mlc),Se.mlcc&&(Ae.mlc=Se.mlcc),Se.mlw&&(Ae.mlw=Se.mlw),Se.mrc&&(Ae.mrc=Se.mrc),Se.dir&&(Ae.dir=Se.dir)),Ae._distinct=!0,le.entries.push([Ae])}}le.entries.sort(function(Ce,Ma){return Ce[0].trace.index-Ma[0].trace.index}),le.layer=bt,le._inHover=!0,le._groupTitleFont=zt.grouptitlefont,d(N,le);var we=bt.select("g.legend"),Ne=I(N,we.node()),qe=Ne.width+2*T,Fe=Ne.height+2*T,De=Tt[0],Ie=(De.x0+De.x1)/2,Le=(De.y0+De.y1)/2,Xe=!(v.traceIs(De.trace,"bar-like")||v.traceIs(De.trace,"box-violin")),aa,He;ae==="y"?Xe?(He=Le-T,aa=Le+T):(He=Math.min.apply(null,Tt.map(function(Ce){return Math.min(Ce.y0,Ce.y1)})),aa=Math.max.apply(null,Tt.map(function(Ce){return Math.max(Ce.y0,Ce.y1)}))):He=aa=a.mean(Tt.map(function(Ce){return(Ce.y0+Ce.y1)/2}))-Fe/2;var ra,sa;ae==="x"?Xe?(ra=Ie+T,sa=Ie-T):(ra=Math.max.apply(null,Tt.map(function(Ce){return Math.max(Ce.x0,Ce.x1)})),sa=Math.min.apply(null,Tt.map(function(Ce){return Math.min(Ce.x0,Ce.x1)}))):ra=sa=a.mean(Tt.map(function(Ce){return(Ce.x0+Ce.x1)/2}))-qe/2;var ma=te._offset,ya=Wt._offset;aa+=ya,ra+=ma,sa+=ma-qe,He+=ya-Fe;var Qe,ha;return ra+qe<xe&&ra>=0?Qe=ra:sa+qe<xe&&sa>=0?Qe=sa:ma+qe<xe?Qe=ma:ra-Ie<Ie-sa+qe?Qe=xe-qe:Qe=0,Qe+=T,aa+Fe<pe&&aa>=0?ha=aa:He+Fe<pe&&He>=0?ha=He:ya+Fe<pe?ha=ya:aa-Le<Le-He+Fe?ha=pe-Fe:ha=0,ha+=T,we.attr("transform",n(Qe-1,ha-1)),we}var oa=bt.selectAll("g.hovertext").data(M,function(Ce){return R(Ce)});return oa.enter().append("g").classed("hovertext",!0).each(function(){var Ce=P.select(this);Ce.append("rect").call(c.fill,c.addOpacity(ct,.8)),Ce.append("text").classed("name",!0),Ce.append("path").style("stroke-width","1px"),Ce.append("text").classed("nums",!0).call(p.font,{weight:Ht,style:vt,variant:xt,textcase:lt,lineposition:At,shadow:Rt,family:Gt,size:Vt})}),oa.exit().remove(),oa.each(function(Ce){var Ma=P.select(this).attr("transform",""),et=Ce.color;Array.isArray(et)&&(et=et[Ce.eventData[0].pointNumber]);var K=Ce.bgcolor||et,St=c.combine(c.opacity(K)?K:c.defaultLine,ct),It=c.combine(c.opacity(et)?et:c.defaultLine,ct),jt=Ce.borderColor||c.contrast(St),Lt=O(Ce,_e,nt,V,re,Ma),Ot=Lt[0],Bt=Lt[1],Nt=Ma.select("text.nums").call(p.font,{family:Ce.fontFamily||Gt,size:Ce.fontSize||Vt,color:Ce.fontColor||jt,weight:Ce.fontWeight||Ht,style:Ce.fontStyle||vt,variant:Ce.fontVariant||xt,textcase:Ce.fontTextcase||lt,lineposition:Ce.fontLineposition||At,shadow:Ce.fontShadow||Rt}).text(Ot).attr("data-notex",1).call(f.positionText,0,0).call(f.convertToTspans,N),Xt=Ma.select("text.name"),ee=0,he=0;if(Bt&&Bt!==Ot){Xt.call(p.font,{family:Ce.fontFamily||Gt,size:Ce.fontSize||Vt,color:It,weight:Ce.fontWeight||Ht,style:Ce.fontStyle||vt,variant:Ce.fontVariant||xt,textcase:Ce.fontTextcase||lt,lineposition:Ce.fontLineposition||At,shadow:Ce.fontShadow||Rt}).text(Bt).attr("data-notex",1).call(f.positionText,0,0).call(f.convertToTspans,N);var ke=I(N,Xt.node());ee=ke.width+2*T,he=ke.height+2*T}else Xt.remove(),Ma.select("rect").remove();Ma.select("path").style({fill:St,stroke:jt});var Te=Ce.xa._offset+(Ce.x0+Ce.x1)/2,Pe=Ce.ya._offset+(Ce.y0+Ce.y1)/2,Me=Math.abs(Ce.x1-Ce.x0),ze=Math.abs(Ce.y1-Ce.y0),je=I(N,Nt.node()),pa=je.width/V._invScaleX,$e=je.height/V._invScaleY;Ce.ty0=(ve-je.top)/V._invScaleY,Ce.bx=pa+2*T,Ce.by=Math.max($e+2*T,he),Ce.anchor="start",Ce.txwidth=pa,Ce.tx2width=ee,Ce.offset=0;var Aa=(pa+C+T+ee)*V._invScaleX,ia,Ca;if(ut)Ce.pos=Te,ia=Pe+ze/2+Aa<=pe,Ca=Pe-ze/2-Aa>=0,(Ce.idealAlign==="top"||!ia)&&Ca?(Pe-=ze/2,Ce.anchor="end"):ia?(Pe+=ze/2,Ce.anchor="start"):Ce.anchor="middle",Ce.crossPos=Pe;else{if(Ce.pos=Pe,ia=Te+Me/2+Aa<=xe,Ca=Te-Me/2-Aa>=0,(Ce.idealAlign==="left"||!ia)&&Ca)Te-=Me/2,Ce.anchor="end";else if(ia)Te+=Me/2,Ce.anchor="start";else{Ce.anchor="middle";var ka=Aa/2,Va=Te+ka-xe,Na=Te-ka;Va>0&&(Te-=Va),Na<0&&(Te+=-Na)}Ce.crossPos=Te}Nt.attr("text-anchor",Ce.anchor),ee&&Xt.attr("text-anchor",Ce.anchor),Ma.attr("transform",n(Te,Pe)+(ut?o(m):""))}),{hoverLabels:oa,commonLabelBoundingBox:_t}}function O(M,S,N,V,nt,ut){var ct="",bt="";M.nameOverride!==void 0&&(M.name=M.nameOverride),M.name&&(M.trace._meta&&(M.name=a.templateString(M.name,M.trace._meta)),ct=H(M.name,M.nameLength));var kt=N.charAt(0),Et=kt==="x"?"y":"x";M.zLabel!==void 0?(M.xLabel!==void 0&&(bt+="x: "+M.xLabel+"<br>"),M.yLabel!==void 0&&(bt+="y: "+M.yLabel+"<br>"),M.trace.type!=="choropleth"&&M.trace.type!=="choroplethmapbox"&&M.trace.type!=="choroplethmap"&&(bt+=(bt?"z: ":"")+M.zLabel)):S&&M[kt+"Label"]===nt?bt=M[Et+"Label"]||"":M.xLabel===void 0?M.yLabel!==void 0&&M.trace.type!=="scattercarpet"&&(bt=M.yLabel):M.yLabel===void 0?bt=M.xLabel:bt="("+M.xLabel+", "+M.yLabel+")",(M.text||M.text===0)&&!Array.isArray(M.text)&&(bt+=(bt?"<br>":"")+M.text),M.extraText!==void 0&&(bt+=(bt?"<br>":"")+M.extraText),ut&&bt===""&&!M.hovertemplate&&(ct===""&&ut.remove(),bt=ct);var Gt=M.hovertemplate||!1;if(Gt){var Vt=M.hovertemplateLabels||M;M[kt+"Label"]!==nt&&(Vt[kt+"other"]=Vt[kt+"Val"],Vt[kt+"otherLabel"]=Vt[kt+"Label"]),bt=a.hovertemplateString(Gt,Vt,V._d3locale,M.eventData[0]||{},M.trace._meta),bt=bt.replace(Z,function(Ht,vt){return ct=H(vt,M.nameLength),""})}return[bt,ct]}function J(M,S,N,V){var nt=S?"xa":"ya",ut=S?"ya":"xa",ct=0,bt=1,kt=M.size(),Et=new Array(kt),Gt=0,Vt=V.minX,Ht=V.maxX,vt=V.minY,xt=V.maxY,lt=function(Q){return Q*N._invScaleX},At=function(Q){return Q*N._invScaleY};M.each(function(Q){var st=Q[nt],ft=Q[ut],_t=st._id.charAt(0)==="x",Tt=st.range;Gt===0&&Tt&&Tt[0]>Tt[1]!==_t&&(bt=-1);var zt=0,Ft=_t?N.width:N.height;if(N.hovermode==="x"||N.hovermode==="y"){var Zt=X(Q,S),qt=Q.anchor,Yt=qt==="end"?-1:1,ie,oe;if(qt==="middle")ie=Q.crossPos+(_t?At(Zt.y-Q.by/2):lt(Q.bx/2+Q.tx2width/2)),oe=ie+(_t?At(Q.by):lt(Q.bx));else if(_t)ie=Q.crossPos+At(C+Zt.y)-At(Q.by/2-C),oe=ie+At(Q.by);else{var le=lt(Yt*C+Zt.x),be=le+lt(Yt*Q.bx);ie=Q.crossPos+Math.min(le,be),oe=Q.crossPos+Math.max(le,be)}_t?vt!==void 0&&xt!==void 0&&Math.min(oe,xt)-Math.max(ie,vt)>1&&(ft.side==="left"?(zt=ft._mainLinePosition,Ft=N.width):Ft=ft._mainLinePosition):Vt!==void 0&&Ht!==void 0&&Math.min(oe,Ht)-Math.max(ie,Vt)>1&&(ft.side==="top"?(zt=ft._mainLinePosition,Ft=N.height):Ft=ft._mainLinePosition)}Et[Gt++]=[{datum:Q,traceIndex:Q.trace.index,dp:0,pos:Q.pos,posref:Q.posref,size:Q.by*(_t?k:1)/2,pmin:zt,pmax:Ft}]}),Et.sort(function(Q,st){return Q[0].posref-st[0].posref||bt*(st[0].traceIndex-Q[0].traceIndex)});var Rt,Ut,te,Wt,ae,ne,re;function de(Q){var st=Q[0],ft=Q[Q.length-1];if(Ut=st.pmin-st.pos-st.dp+st.size,te=ft.pos+ft.dp+ft.size-st.pmax,Ut>.01){for(ae=Q.length-1;ae>=0;ae--)Q[ae].dp+=Ut;Rt=!1}if(!(te<.01)){if(Ut<-.01){for(ae=Q.length-1;ae>=0;ae--)Q[ae].dp-=te;Rt=!1}if(Rt){var _t=0;for(Wt=0;Wt<Q.length;Wt++)ne=Q[Wt],ne.pos+ne.dp+ne.size>st.pmax&&_t++;for(Wt=Q.length-1;Wt>=0&&!(_t<=0);Wt--)ne=Q[Wt],ne.pos>st.pmax-1&&(ne.del=!0,_t--);for(Wt=0;Wt<Q.length&&!(_t<=0);Wt++)if(ne=Q[Wt],ne.pos<st.pmin+1)for(ne.del=!0,_t--,te=ne.size*2,ae=Q.length-1;ae>=0;ae--)Q[ae].dp-=te;for(Wt=Q.length-1;Wt>=0&&!(_t<=0);Wt--)ne=Q[Wt],ne.pos+ne.dp+ne.size>st.pmax&&(ne.del=!0,_t--)}}}for(;!Rt&&ct<=kt;){for(ct++,Rt=!0,Wt=0;Wt<Et.length-1;){var $t=Et[Wt],ve=Et[Wt+1],xe=$t[$t.length-1],pe=ve[0];if(Ut=xe.pos+xe.dp+xe.size-pe.pos-pe.dp+pe.size,Ut>.01){for(ae=ve.length-1;ae>=0;ae--)ve[ae].dp+=Ut;for($t.push.apply($t,ve),Et.splice(Wt+1,1),re=0,ae=$t.length-1;ae>=0;ae--)re+=$t[ae].dp;for(te=re/$t.length,ae=$t.length-1;ae>=0;ae--)$t[ae].dp-=te;Rt=!1}else Wt++}Et.forEach(de)}for(Wt=Et.length-1;Wt>=0;Wt--){var _e=Et[Wt];for(ae=_e.length-1;ae>=0;ae--){var mt=_e[ae],Ct=mt.datum;Ct.offset=mt.dp,Ct.del=mt.del}}}function X(M,S){var N=0,V=M.offset;return S&&(V*=-D,N=M.offset*U),{x:N,y:V}}function it(M){var S={start:1,end:-1,middle:0}[M.anchor],N=S*(C+T),V=N+S*(M.txwidth+T),nt=M.anchor==="middle";return nt&&(N-=M.tx2width/2,V+=M.txwidth/2+T),{alignShift:S,textShiftX:N,text2ShiftX:V}}function at(M,S,N,V){var nt=function(ct){return ct*N},ut=function(ct){return ct*V};M.each(function(ct){var bt=P.select(this);if(ct.del)return bt.remove();var kt=bt.select("text.nums"),Et=ct.anchor,Gt=Et==="end"?-1:1,Vt=it(ct),Ht=X(ct,S),vt=Ht.x,xt=Ht.y,lt=Et==="middle",At="hoverlabel"in ct.trace?ct.trace.hoverlabel.showarrow:!0,Rt;lt?Rt="M-"+nt(ct.bx/2+ct.tx2width/2)+","+ut(xt-ct.by/2)+"h"+nt(ct.bx)+"v"+ut(ct.by)+"h-"+nt(ct.bx)+"Z":At?Rt="M0,0L"+nt(Gt*C+vt)+","+ut(C+xt)+"v"+ut(ct.by/2-C)+"h"+nt(Gt*ct.bx)+"v-"+ut(ct.by)+"H"+nt(Gt*C+vt)+"V"+ut(xt-C)+"Z":Rt="M"+nt(Gt*C+vt)+","+ut(xt-ct.by/2)+"h"+nt(Gt*ct.bx)+"v"+ut(ct.by)+"h"+nt(-Gt*ct.bx)+"Z",bt.select("path").attr("d",Rt);var Ut=vt+Vt.textShiftX,te=xt+ct.ty0-ct.by/2+T,Wt=ct.textAlign||"auto";Wt!=="auto"&&(Wt==="left"&&Et!=="start"?(kt.attr("text-anchor","start"),Ut=lt?-ct.bx/2-ct.tx2width/2+T:-ct.bx-T):Wt==="right"&&Et!=="end"&&(kt.attr("text-anchor","end"),Ut=lt?ct.bx/2-ct.tx2width/2-T:ct.bx+T)),kt.call(f.positionText,nt(Ut),ut(te)),ct.tx2width&&(bt.select("text.name").call(f.positionText,nt(Vt.text2ShiftX+Vt.alignShift*T+vt),ut(xt+ct.ty0-ct.by/2+T)),bt.select("rect").call(p.setRect,nt(Vt.text2ShiftX+(Vt.alignShift-1)*ct.tx2width/2+vt),ut(xt-ct.by/2-1),nt(ct.tx2width),ut(ct.by+2)))})}function ot(M,S){var N=M.index,V=M.trace||{},nt=M.cd[0],ut=M.cd[N]||{};function ct(Ht){return Ht||i(Ht)&&Ht===0}var bt=Array.isArray(N)?function(Ht,vt){var xt=a.castOption(nt,N,Ht);return ct(xt)?xt:a.extractOption({},V,"",vt)}:function(Ht,vt){return a.extractOption(ut,V,Ht,vt)};function kt(Ht,vt,xt){var lt=bt(vt,xt);ct(lt)&&(M[Ht]=lt)}if(kt("hoverinfo","hi","hoverinfo"),kt("bgcolor","hbg","hoverlabel.bgcolor"),kt("borderColor","hbc","hoverlabel.bordercolor"),kt("fontFamily","htf","hoverlabel.font.family"),kt("fontSize","hts","hoverlabel.font.size"),kt("fontColor","htc","hoverlabel.font.color"),kt("fontWeight","htw","hoverlabel.font.weight"),kt("fontStyle","hty","hoverlabel.font.style"),kt("fontVariant","htv","hoverlabel.font.variant"),kt("nameLength","hnl","hoverlabel.namelength"),kt("textAlign","hta","hoverlabel.align"),M.posref=S==="y"||S==="closest"&&V.orientation==="h"?M.xa._offset+(M.x0+M.x1)/2:M.ya._offset+(M.y0+M.y1)/2,M.x0=a.constrain(M.x0,0,M.xa._length),M.x1=a.constrain(M.x1,0,M.xa._length),M.y0=a.constrain(M.y0,0,M.ya._length),M.y1=a.constrain(M.y1,0,M.ya._length),M.xLabelVal!==void 0&&(M.xLabel="xLabel"in M?M.xLabel:_.hoverLabelText(M.xa,M.xLabelVal,V.xhoverformat),M.xVal=M.xa.c2d(M.xLabelVal)),M.yLabelVal!==void 0&&(M.yLabel="yLabel"in M?M.yLabel:_.hoverLabelText(M.ya,M.yLabelVal,V.yhoverformat),M.yVal=M.ya.c2d(M.yLabelVal)),M.zLabelVal!==void 0&&M.zLabel===void 0&&(M.zLabel=String(M.zLabelVal)),!isNaN(M.xerr)&&!(M.xa.type==="log"&&M.xerr<=0)){var Et=_.tickText(M.xa,M.xa.c2l(M.xerr),"hover").text;M.xerrneg!==void 0?M.xLabel+=" +"+Et+" / -"+_.tickText(M.xa,M.xa.c2l(M.xerrneg),"hover").text:M.xLabel+=" ± "+Et,S==="x"&&(M.distance+=1)}if(!isNaN(M.yerr)&&!(M.ya.type==="log"&&M.yerr<=0)){var Gt=_.tickText(M.ya,M.ya.c2l(M.yerr),"hover").text;M.yerrneg!==void 0?M.yLabel+=" +"+Gt+" / -"+_.tickText(M.ya,M.ya.c2l(M.yerrneg),"hover").text:M.yLabel+=" ± "+Gt,S==="y"&&(M.distance+=1)}var Vt=M.hoverinfo||M.trace.hoverinfo;return Vt&&Vt!=="all"&&(Vt=Array.isArray(Vt)?Vt:Vt.split("+"),Vt.indexOf("x")===-1&&(M.xLabel=void 0),Vt.indexOf("y")===-1&&(M.yLabel=void 0),Vt.indexOf("z")===-1&&(M.zLabel=void 0),Vt.indexOf("text")===-1&&(M.text=void 0),Vt.indexOf("name")===-1&&(M.name=void 0)),M}function ht(M,S,N){var V=N.container,nt=N.fullLayout,ut=nt._size,ct=N.event,bt=!!S.hLinePoint,kt=!!S.vLinePoint,Et,Gt;if(V.selectAll(".spikeline").remove(),!!(kt||bt)){var Vt=c.combine(nt.plot_bgcolor,nt.paper_bgcolor);if(bt){var Ht=S.hLinePoint,vt,xt;Et=Ht&&Ht.xa,Gt=Ht&&Ht.ya;var lt=Gt.spikesnap;lt==="cursor"?(vt=ct.pointerX,xt=ct.pointerY):(vt=Et._offset+Ht.x,xt=Gt._offset+Ht.y);var At=t.readability(Ht.color,Vt)<1.5?c.contrast(Vt):Ht.color,Rt=Gt.spikemode,Ut=Gt.spikethickness,te=Gt.spikecolor||At,Wt=_.getPxPosition(M,Gt),ae,ne;if(Rt.indexOf("toaxis")!==-1||Rt.indexOf("across")!==-1){if(Rt.indexOf("toaxis")!==-1&&(ae=Wt,ne=vt),Rt.indexOf("across")!==-1){var re=Gt._counterDomainMin,de=Gt._counterDomainMax;Gt.anchor==="free"&&(re=Math.min(re,Gt.position),de=Math.max(de,Gt.position)),ae=ut.l+re*ut.w,ne=ut.l+de*ut.w}V.insert("line",":first-child").attr({x1:ae,x2:ne,y1:xt,y2:xt,"stroke-width":Ut,stroke:te,"stroke-dasharray":p.dashStyle(Gt.spikedash,Ut)}).classed("spikeline",!0).classed("crisp",!0),V.insert("line",":first-child").attr({x1:ae,x2:ne,y1:xt,y2:xt,"stroke-width":Ut+2,stroke:Vt}).classed("spikeline",!0).classed("crisp",!0)}Rt.indexOf("marker")!==-1&&V.insert("circle",":first-child").attr({cx:Wt+(Gt.side!=="right"?Ut:-Ut),cy:xt,r:Ut,fill:te}).classed("spikeline",!0)}if(kt){var $t=S.vLinePoint,ve,xe;Et=$t&&$t.xa,Gt=$t&&$t.ya;var pe=Et.spikesnap;pe==="cursor"?(ve=ct.pointerX,xe=ct.pointerY):(ve=Et._offset+$t.x,xe=Gt._offset+$t.y);var _e=t.readability($t.color,Vt)<1.5?c.contrast(Vt):$t.color,mt=Et.spikemode,Ct=Et.spikethickness,Q=Et.spikecolor||_e,st=_.getPxPosition(M,Et),ft,_t;if(mt.indexOf("toaxis")!==-1||mt.indexOf("across")!==-1){if(mt.indexOf("toaxis")!==-1&&(ft=st,_t=xe),mt.indexOf("across")!==-1){var Tt=Et._counterDomainMin,zt=Et._counterDomainMax;Et.anchor==="free"&&(Tt=Math.min(Tt,Et.position),zt=Math.max(zt,Et.position)),ft=ut.t+(1-zt)*ut.h,_t=ut.t+(1-Tt)*ut.h}V.insert("line",":first-child").attr({x1:ve,x2:ve,y1:ft,y2:_t,"stroke-width":Ct,stroke:Q,"stroke-dasharray":p.dashStyle(Et.spikedash,Ct)}).classed("spikeline",!0).classed("crisp",!0),V.insert("line",":first-child").attr({x1:ve,x2:ve,y1:ft,y2:_t,"stroke-width":Ct+2,stroke:Vt}).classed("spikeline",!0).classed("crisp",!0)}mt.indexOf("marker")!==-1&&V.insert("circle",":first-child").attr({cx:ve,cy:st-(Et.side!=="top"?Ct:-Ct),r:Ct,fill:Q}).classed("spikeline",!0)}}}function pt(M,S,N){if(!N||N.length!==M._hoverdata.length)return!0;for(var V=N.length-1;V>=0;V--){var nt=N[V],ut=M._hoverdata[V];if(nt.curveNumber!==ut.curveNumber||String(nt.pointNumber)!==String(ut.pointNumber)||String(nt.pointNumbers)!==String(ut.pointNumbers)||nt.binNumber!==ut.binNumber)return!0}return!1}function yt(M,S){return!0}function H(M,S){return f.plainText(M||"",{len:S,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function q(M,S){for(var N=S.charAt(0),V=[],nt=[],ut=[],ct=0;ct<M.length;ct++){var bt=M[ct];v.traceIs(bt.trace,"bar-like")||v.traceIs(bt.trace,"box-violin")?ut.push(bt):bt.trace[N+"period"]?nt.push(bt):V.push(bt)}return V.concat(nt).concat(ut)}function A(M,S,N){var V=S[M+"a"],nt=S[M+"Val"],ut=S.cd[0];if(V.type==="category"||V.type==="multicategory")nt=V._categoriesMap[nt];else if(V.type==="date"){var ct=S.trace[M+"periodalignment"];if(ct){var bt=S.cd[S.index],kt=bt[M+"Start"];kt===void 0&&(kt=bt[M]);var Et=bt[M+"End"];Et===void 0&&(Et=bt[M]);var Gt=Et-kt;ct==="end"?nt+=Gt:ct==="middle"&&(nt+=Gt/2)}nt=V.d2c(nt)}return ut&&ut.t&&ut.t.posLetter===V._id&&(N.boxmode==="group"||N.violinmode==="group")&&(nt+=ut.t.dPos),nt}function W(M){return M.offsetTop+M.clientTop}function rt(M){return M.offsetLeft+M.clientLeft}function I(M,S){var N=M._fullLayout,V=S.getBoundingClientRect(),nt=V.left,ut=V.top,ct=nt+V.width,bt=ut+V.height,kt=a.apply3DTransform(N._invTransform)(nt,ut),Et=a.apply3DTransform(N._invTransform)(ct,bt),Gt=kt[0],Vt=kt[1],Ht=Et[0],vt=Et[1];return{x:Gt,y:Vt,width:Ht-Gt,height:vt-Vt,top:Math.min(Vt,vt),left:Math.min(Gt,Ht),right:Math.max(Gt,Ht),bottom:Math.max(Vt,vt)}}}),Ki=Mt((E,P)=>{var i=Oe(),t=Ta(),a=gn().isUnifiedHover;P.exports=function(l,n,o,s){s=s||{};var f=n.legend;function e(p){s.font[p]||(s.font[p]=f?n.legend.font[p]:n.font[p])}n&&a(n.hovermode)&&(s.font||(s.font={}),e("size"),e("family"),e("color"),e("weight"),e("style"),e("variant"),f?(s.bgcolor||(s.bgcolor=t.combine(n.legend.bgcolor,n.paper_bgcolor)),s.bordercolor||(s.bordercolor=n.legend.bordercolor)):s.bgcolor||(s.bgcolor=n.paper_bgcolor)),o("hoverlabel.bgcolor",s.bgcolor),o("hoverlabel.bordercolor",s.bordercolor),o("hoverlabel.namelength",s.namelength),o("hoverlabel.showarrow",s.showarrow),i.coerceFont(o,"hoverlabel.font",s.font),o("hoverlabel.align",s.align)}}),Lc=Mt((E,P)=>{var i=Oe(),t=Ki(),a=Bn();P.exports=function(l,n){function o(s,f){return i.coerce(l,n,a,s,f)}t(l,n,o)}}),Sc=Mt((E,P)=>{var i=Oe(),t=Ni(),a=Ki();P.exports=function(l,n,o,s){function f(p,c){return i.coerce(l,n,t,p,c)}var e=i.extendFlat({},s.hoverlabel);n.hovertemplate&&(e.namelength=-1),a(l,n,f,e)}}),Tl=Mt((E,P)=>{var i=Oe(),t=Bn();P.exports=function(a,l){function n(o,s){return l[o]!==void 0?l[o]:i.coerce(a,l,t,o,s)}return n("clickmode"),n("hoversubplots"),n("hovermode")}}),Cc=Mt((E,P)=>{var i=Oe(),t=Bn(),a=Tl(),l=Ki();P.exports=function(n,o){function s(y,v){return i.coerce(n,o,t,y,v)}var f=a(n,o);f&&(s("hoverdistance"),s("spikedistance"));var e=s("dragmode");e==="select"&&s("selectdirection");var p=o._has("mapbox"),c=o._has("map"),h=o._has("geo"),_=o._basePlotModules.length;o.dragmode==="zoom"&&((p||c||h)&&_===1||(p||c)&&h&&_===2)&&(o.dragmode="pan"),l(n,o,s),i.coerceFont(s,"hoverlabel.grouptitlefont",o.hoverlabel.font)}}),Oc=Mt((E,P)=>{var i=Oe(),t=da();P.exports=function(l){var n=l.calcdata,o=l._fullLayout;function s(h){return function(_){return i.coerceHoverinfo({hoverinfo:_},{_module:h._module},o)}}for(var f=0;f<n.length;f++){var e=n[f],p=e[0].trace;if(!t.traceIs(p,"pie-like")){var c=t.traceIs(p,"2dMap")?a:i.fillArray;c(p.hoverinfo,e,"hi",s(p)),p.hovertemplate&&c(p.hovertemplate,e,"ht"),p.hoverlabel&&(c(p.hoverlabel.bgcolor,e,"hbg"),c(p.hoverlabel.bordercolor,e,"hbc"),c(p.hoverlabel.font.size,e,"hts"),c(p.hoverlabel.font.color,e,"htc"),c(p.hoverlabel.font.family,e,"htf"),c(p.hoverlabel.font.weight,e,"htw"),c(p.hoverlabel.font.style,e,"hty"),c(p.hoverlabel.font.variant,e,"htv"),c(p.hoverlabel.namelength,e,"hnl"),c(p.hoverlabel.align,e,"hta"),c(p.hoverlabel.showarrow,e,"htsa"))}}};function a(l,n,o,s){s=s||i.identity,Array.isArray(l)&&(n[0][o]=s(l))}}),Dc=Mt((E,P)=>{var i=da(),t=Ml().hover;P.exports=function(a,l,n){var o=i.getComponentMethod("annotations","onClick")(a,a._hoverdata);n!==void 0&&t(a,l,n,!0);function s(){a.emit("plotly_click",{points:a._hoverdata,event:l})}a._hoverdata&&l&&l.target&&(o&&o.then?o.then(s):s(),l.stopImmediatePropagation&&l.stopImmediatePropagation())}}),mn=Mt((E,P)=>{var i=Ke(),t=Oe(),a=on(),l=gn(),n=Bn(),o=Ml();P.exports={moduleType:"component",name:"fx",constants:ri(),schema:{layout:n},attributes:Ni(),layoutAttributes:n,supplyLayoutGlobalDefaults:Lc(),supplyDefaults:Sc(),supplyLayoutDefaults:Cc(),calc:Oc(),getDistanceFunction:l.getDistanceFunction,getClosest:l.getClosest,inbox:l.inbox,quadrature:l.quadrature,appendArrayPointValue:l.appendArrayPointValue,castHoverOption:f,castHoverinfo:e,hover:o.hover,unhover:a.unhover,loneHover:o.loneHover,loneUnhover:s,click:Dc()};function s(p){var c=t.isD3Selection(p)?p:i.select(p);c.selectAll("g.hovertext").remove(),c.selectAll(".spikeline").remove()}function f(p,c,h){return t.castOption(p,c,"hoverlabel."+h)}function e(p,c,h){function _(y){return t.coerceHoverinfo({hoverinfo:y},{_module:p._module},c)}return t.castOption(p,h,"hoverinfo",_)}}),Zn=Mt(E=>{E.selectMode=function(P){return P==="lasso"||P==="select"},E.drawMode=function(P){return P==="drawclosedpath"||P==="drawopenpath"||P==="drawline"||P==="drawrect"||P==="drawcircle"},E.openMode=function(P){return P==="drawline"||P==="drawopenpath"},E.rectMode=function(P){return P==="select"||P==="drawline"||P==="drawrect"||P==="drawcircle"},E.freeMode=function(P){return P==="lasso"||P==="drawclosedpath"||P==="drawopenpath"},E.selectingOrDrawing=function(P){return E.freeMode(P)||E.rectMode(P)}}),to=Mt((E,P)=>{P.exports=function(i){var t=i._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(a){a.regl&&a.regl.clear({color:!0,depth:!0})})}}),eo=Mt((E,P)=>{P.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}}),ao=Mt((E,P)=>{var i=32;P.exports={CIRCLE_SIDES:i,i000:0,i090:i/4,i180:i/2,i270:i/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}}),ro=Mt((E,P)=>{var i=Oe().strTranslate;function t(o,s){switch(o.type){case"log":return o.p2d(s);case"date":return o.p2r(s,0,o.calendar);default:return o.p2r(s)}}function a(o,s){switch(o.type){case"log":return o.d2p(s);case"date":return o.r2p(s,0,o.calendar);default:return o.r2p(s)}}function l(o){var s=o._id.charAt(0)==="y"?1:0;return function(f){return t(o,f[s])}}function n(o){return i(o.xaxis._offset,o.yaxis._offset)}P.exports={p2r:t,r2p:a,axValue:l,getTransform:n}}),An=Mt(E=>{var P=pl(),i=ao(),t=i.CIRCLE_SIDES,a=i.SQRT2,l=ro(),n=l.p2r,o=l.r2p,s=[0,3,4,5,6,1,2],f=[0,3,4,1,2];E.writePaths=function(c){var h=c.length;if(!h)return"M0,0Z";for(var _="",y=0;y<h;y++)for(var v=c[y].length,g=0;g<v;g++){var x=c[y][g][0];if(x==="Z")_+="Z";else for(var u=c[y][g].length,d=0;d<u;d++){var m=d;x==="Q"||x==="S"?m=f[d]:x==="C"&&(m=s[d]),_+=c[y][g][m],d>0&&d<u-1&&(_+=",")}}return _},E.readPaths=function(c,h,_,y){var v=P(c),g=[],x=-1,u=function(){x++,g[x]=[]},d,m=0,w=0,k,U,D=function(){k=m,U=w};D();for(var C=0;C<v.length;C++){var T=[],Y,z,j,F,R=v[C][0],Z=R;switch(R){case"M":u(),m=+v[C][1],w=+v[C][2],T.push([Z,m,w]),D();break;case"Q":case"S":Y=+v[C][1],j=+v[C][2],m=+v[C][3],w=+v[C][4],T.push([Z,m,w,Y,j]);break;case"C":Y=+v[C][1],j=+v[C][2],z=+v[C][3],F=+v[C][4],m=+v[C][5],w=+v[C][6],T.push([Z,m,w,Y,j,z,F]);break;case"T":case"L":m=+v[C][1],w=+v[C][2],T.push([Z,m,w]);break;case"H":Z="L",m=+v[C][1],T.push([Z,m,w]);break;case"V":Z="L",w=+v[C][1],T.push([Z,m,w]);break;case"A":Z="L";var G=+v[C][1],O=+v[C][2];+v[C][4]||(G=-G,O=-O);var J=m-G,X=w;for(d=1;d<=t/2;d++){var it=2*Math.PI*d/t;T.push([Z,J+G*Math.cos(it),X+O*Math.sin(it)])}break;case"Z":(m!==k||w!==U)&&(m=k,w=U,T.push([Z,m,w]));break}for(var at=(_||{}).domain,ot=h._fullLayout._size,ht=_&&_.xsizemode==="pixel",pt=_&&_.ysizemode==="pixel",yt=y===!1,H=0;H<T.length;H++){for(d=0;d+2<7;d+=2){var q=T[H][d+1],A=T[H][d+2];q===void 0||A===void 0||(m=q,w=A,_&&(_.xaxis&&_.xaxis.p2r?(yt&&(q-=_.xaxis._offset),ht?q=o(_.xaxis,_.xanchor)+q:q=n(_.xaxis,q)):(yt&&(q-=ot.l),at?q=at.x[0]+q/ot.w:q=q/ot.w),_.yaxis&&_.yaxis.p2r?(yt&&(A-=_.yaxis._offset),pt?A=o(_.yaxis,_.yanchor)-A:A=n(_.yaxis,A)):(yt&&(A-=ot.t),at?A=at.y[1]-A/ot.h:A=1-A/ot.h)),T[H][d+1]=q,T[H][d+2]=A)}g[x].push(T[H].slice())}}return g};function e(c,h){return Math.abs(c-h)<=1e-6}function p(c,h){var _=h[1]-c[1],y=h[2]-c[2];return Math.sqrt(_*_+y*y)}E.pointsOnRectangle=function(c){var h=c.length;if(h!==5)return!1;for(var _=1;_<3;_++){var y=c[0][_]-c[1][_],v=c[3][_]-c[2][_];if(!e(y,v))return!1;var g=c[0][_]-c[3][_],x=c[1][_]-c[2][_];if(!e(g,x))return!1}return!e(c[0][1],c[1][1])&&!e(c[0][1],c[3][1])?!1:!!(p(c[0],c[1])*p(c[0],c[3]))},E.pointsOnEllipse=function(c){var h=c.length;if(h!==t+1)return!1;h=t;for(var _=0;_<h;_++){var y=(h*2-_)%h,v=(h/2+y)%h,g=(h/2+_)%h;if(!e(p(c[_],c[g]),p(c[y],c[v])))return!1}return!0},E.handleEllipse=function(c,h,_){if(!c)return[h,_];var y=E.ellipseOver({x0:h[0],y0:h[1],x1:_[0],y1:_[1]}),v=(y.x1+y.x0)/2,g=(y.y1+y.y0)/2,x=(y.x1-y.x0)/2,u=(y.y1-y.y0)/2;x||(x=u=u/a),u||(u=x=x/a);for(var d=[],m=0;m<t;m++){var w=m*2*Math.PI/t;d.push([v+x*Math.cos(w),g+u*Math.sin(w)])}return d},E.ellipseOver=function(c){var h=c.x0,_=c.y0,y=c.x1,v=c.y1,g=y-h,x=v-_;h-=g,_-=x;var u=(h+y)/2,d=(_+v)/2,m=a;return g*=m,x*=m,{x0:u-g,y0:d-x,x1:u+g,y1:d+x}},E.fixDatesForPaths=function(c,h,_){var y=h.type==="date",v=_.type==="date";if(!y&&!v)return c;for(var g=0;g<c.length;g++)for(var x=0;x<c[g].length;x++)for(var u=0;u+2<c[g][x].length;u+=2)y&&(c[g][x][u+1]=c[g][x][u+1].replace(" ","_")),v&&(c[g][x][u+2]=c[g][x][u+2].replace(" ","_"));return c}}),no=Mt((E,P)=>{var i=xr(),t=Zn(),a=t.drawMode,l=t.openMode,n=ao(),o=n.i000,s=n.i090,f=n.i180,e=n.i270,p=n.cos45,c=n.sin45,h=ro(),_=h.p2r,y=h.r2p,v=Tn(),g=v.clearOutline,x=An(),u=x.readPaths,d=x.writePaths,m=x.ellipseOver,w=x.fixDatesForPaths;function k(D,C){if(D.length){var T=D[0][0];if(T){var Y=C.gd,z=C.isActiveShape,j=C.dragmode,F=(Y.layout||{}).shapes||[];if(!a(j)&&z!==void 0){var R=Y._fullLayout._activeShapeIndex;if(R<F.length)switch(Y._fullLayout.shapes[R].type){case"rect":j="drawrect";break;case"circle":j="drawcircle";break;case"line":j="drawline";break;case"path":var Z=F[R].path||"";Z[Z.length-1]==="Z"?j="drawclosedpath":j="drawopenpath";break}}var G=U(D,C,j);g(Y);for(var O=C.editHelpers,J=(O||{}).modifyItem,X=[],it=0;it<F.length;it++){var at=Y._fullLayout.shapes[it];if(X[it]=at._input,z!==void 0&&it===Y._fullLayout._activeShapeIndex){var ot=G;switch(at.type){case"line":case"rect":case"circle":var ht=i.getFromId(Y,at.xref);at.xref.charAt(0)==="x"&&ht.type.includes("category")?(J("x0",ot.x0-(at.x0shift||0)),J("x1",ot.x1-(at.x1shift||0))):(J("x0",ot.x0),J("x1",ot.x1));var pt=i.getFromId(Y,at.yref);at.yref.charAt(0)==="y"&&pt.type.includes("category")?(J("y0",ot.y0-(at.y0shift||0)),J("y1",ot.y1-(at.y1shift||0))):(J("y0",ot.y0),J("y1",ot.y1));break;case"path":J("path",ot.path);break}}}return z===void 0?(X.push(G),X):O?O.getUpdateObj():{}}}}function U(D,C,T){var Y=D[0][0],z=C.gd,j=Y.getAttribute("d"),F=z._fullLayout.newshape,R=C.plotinfo,Z=C.isActiveShape,G=R.xaxis,O=R.yaxis,J=!!R.domain||!R.xaxis,X=!!R.domain||!R.yaxis,it=l(T),at=u(j,z,R,Z),ot={editable:!0,visible:F.visible,name:F.name,showlegend:F.showlegend,legend:F.legend,legendwidth:F.legendwidth,legendgroup:F.legendgroup,legendgrouptitle:{text:F.legendgrouptitle.text,font:F.legendgrouptitle.font},legendrank:F.legendrank,label:F.label,xref:J?"paper":G._id,yref:X?"paper":O._id,layer:F.layer,opacity:F.opacity,line:{color:F.line.color,width:F.line.width,dash:F.line.dash}};it||(ot.fillcolor=F.fillcolor,ot.fillrule=F.fillrule);var ht;if(at.length===1&&(ht=at[0]),ht&&ht.length===5&&T==="drawrect")ot.type="rect",ot.x0=ht[0][1],ot.y0=ht[0][2],ot.x1=ht[2][1],ot.y1=ht[2][2];else if(ht&&T==="drawline")ot.type="line",ot.x0=ht[0][1],ot.y0=ht[0][2],ot.x1=ht[1][1],ot.y1=ht[1][2];else if(ht&&T==="drawcircle"){ot.type="circle";var pt=ht[o][1],yt=ht[s][1],H=ht[f][1],q=ht[e][1],A=ht[o][2],W=ht[s][2],rt=ht[f][2],I=ht[e][2],M=R.xaxis&&(R.xaxis.type==="date"||R.xaxis.type==="log"),S=R.yaxis&&(R.yaxis.type==="date"||R.yaxis.type==="log");M&&(pt=y(R.xaxis,pt),yt=y(R.xaxis,yt),H=y(R.xaxis,H),q=y(R.xaxis,q)),S&&(A=y(R.yaxis,A),W=y(R.yaxis,W),rt=y(R.yaxis,rt),I=y(R.yaxis,I));var N=(yt+q)/2,V=(A+rt)/2,nt=(q-yt+H-pt)/2,ut=(I-W+rt-A)/2,ct=m({x0:N,y0:V,x1:N+nt*p,y1:V+ut*c});M&&(ct.x0=_(R.xaxis,ct.x0),ct.x1=_(R.xaxis,ct.x1)),S&&(ct.y0=_(R.yaxis,ct.y0),ct.y1=_(R.yaxis,ct.y1)),ot.x0=ct.x0,ot.y0=ct.y0,ot.x1=ct.x1,ot.y1=ct.y1}else ot.type="path",G&&O&&w(at,G,O),ot.path=d(at),ht=null;return ot}P.exports={newShapes:k,createShapeObj:U}}),kl=Mt((E,P)=>{var i=Zn(),t=i.selectMode,a=Tn(),l=a.clearOutline,n=An(),o=n.readPaths,s=n.writePaths,f=n.fixDatesForPaths;P.exports=function(e,p){if(e.length){var c=e[0][0];if(c){var h=c.getAttribute("d"),_=p.gd,y=_._fullLayout.newselection,v=p.plotinfo,g=v.xaxis,x=v.yaxis,u=p.isActiveSelection,d=p.dragmode,m=(_.layout||{}).selections||[];if(!t(d)&&u!==void 0){var w=_._fullLayout._activeSelectionIndex;if(w<m.length)switch(_._fullLayout.selections[w].type){case"rect":d="select";break;case"path":d="lasso";break}}var k=o(h,_,v,u),U={xref:g._id,yref:x._id,opacity:y.opacity,line:{color:y.line.color,width:y.line.width,dash:y.line.dash}},D;k.length===1&&(D=k[0]),D&&D.length===5&&d==="select"?(U.type="rect",U.x0=D[0][1],U.y0=D[0][2],U.x1=D[2][1],U.y1=D[2][2]):(U.type="path",g&&x&&f(k,g,x),U.path=s(k),D=null),l(_);for(var C=p.editHelpers,T=(C||{}).modifyItem,Y=[],z=0;z<m.length;z++){var j=_._fullLayout.selections[z];if(!j){Y[z]=j;continue}if(Y[z]=j._input,u!==void 0&&z===_._fullLayout._activeSelectionIndex){var F=U;switch(j.type){case"rect":T("x0",F.x0),T("x1",F.x1),T("y0",F.y0),T("y1",F.y1);break;case"path":T("path",F.path);break}}}return u===void 0?(Y.push(U),Y):C?C.getUpdateObj():{}}}}}),ci=Mt((E,P)=>{P.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}}),Ln=Mt(E=>{var P=ci(),i=Oe(),t=Ka();E.rangeToShapePosition=function(n){return n.type==="log"?n.r2d:function(o){return o}},E.shapePositionToRange=function(n){return n.type==="log"?n.d2r:function(o){return o}},E.decodeDate=function(n){return function(o){return o.replace&&(o=o.replace("_"," ")),n(o)}},E.encodeDate=function(n){return function(o){return n(o).replace(" ","_")}},E.extractPathCoords=function(n,o,s){var f=[],e=n.match(P.segmentRE);return e.forEach(function(p){var c=o[p.charAt(0)].drawn;if(c!==void 0){var h=p.substr(1).match(P.paramRE);if(!(!h||h.length<c)){var _=h[c],y=s?_:i.cleanNumber(_);f.push(y)}}}),f},E.getDataToPixel=function(n,o,s,f,e){var p=n._fullLayout._size,c;if(o)if(e==="domain")c=function(_){return o._length*(f?1-_:_)+o._offset};else{var h=E.shapePositionToRange(o);c=function(_){var y=l(o,s);return o._offset+o.r2p(h(_,!0))+y},o.type==="date"&&(c=E.decodeDate(c))}else f?c=function(_){return p.t+p.h*(1-_)}:c=function(_){return p.l+p.w*_};return c},E.getPixelToData=function(n,o,s,f){var e=n._fullLayout._size,p;if(o)if(f==="domain")p=function(h){var _=(h-o._offset)/o._length;return s?1-_:_};else{var c=E.rangeToShapePosition(o);p=function(h){return c(o.p2r(h-o._offset))}}else s?p=function(h){return 1-(h-e.t)/e.h}:p=function(h){return(h-e.l)/e.w};return p},E.roundPositionForSharpStrokeRendering=function(n,o){var s=Math.round(o%2)===1,f=Math.round(n);return s?f+.5:f},E.makeShapesOptionsAndPlotinfo=function(n,o){var s=n._fullLayout.shapes[o]||{},f=n._fullLayout._plots[s.xref+s.yref],e=!!f;return e?f._hadPlotinfo=!0:(f={},s.xref&&s.xref!=="paper"&&(f.xaxis=n._fullLayout[s.xref+"axis"]),s.yref&&s.yref!=="paper"&&(f.yaxis=n._fullLayout[s.yref+"axis"])),f.xsizemode=s.xsizemode,f.ysizemode=s.ysizemode,f.xanchor=s.xanchor,f.yanchor=s.yanchor,{options:s,plotinfo:f}},E.makeSelectionsOptionsAndPlotinfo=function(n,o){var s=n._fullLayout.selections[o]||{},f=n._fullLayout._plots[s.xref+s.yref],e=!!f;return e?f._hadPlotinfo=!0:(f={},s.xref&&(f.xaxis=n._fullLayout[s.xref+"axis"]),s.yref&&(f.yaxis=n._fullLayout[s.yref+"axis"])),{options:s,plotinfo:f}},E.getPathString=function(n,o){var s=o.type,f=t.getRefType(o.xref),e=t.getRefType(o.yref),p=t.getFromId(n,o.xref),c=t.getFromId(n,o.yref),h=n._fullLayout._size,_,y,v,g,x=l(p,o.x0shift),u=l(p,o.x1shift),d=l(c,o.y0shift),m=l(c,o.y1shift),w,k,U,D;if(p?f==="domain"?y=function(O){return p._offset+p._length*O}:(_=E.shapePositionToRange(p),y=function(O){return p._offset+p.r2p(_(O,!0))}):y=function(O){return h.l+h.w*O},c?e==="domain"?g=function(O){return c._offset+c._length*(1-O)}:(v=E.shapePositionToRange(c),g=function(O){return c._offset+c.r2p(v(O,!0))}):g=function(O){return h.t+h.h*(1-O)},s==="path")return p&&p.type==="date"&&(y=E.decodeDate(y)),c&&c.type==="date"&&(g=E.decodeDate(g)),a(o,y,g);if(o.xsizemode==="pixel"){var C=y(o.xanchor);w=C+o.x0+x,k=C+o.x1+u}else w=y(o.x0)+x,k=y(o.x1)+u;if(o.ysizemode==="pixel"){var T=g(o.yanchor);U=T-o.y0+d,D=T-o.y1+m}else U=g(o.y0)+d,D=g(o.y1)+m;if(s==="line")return"M"+w+","+U+"L"+k+","+D;if(s==="rect")return"M"+w+","+U+"H"+k+"V"+D+"H"+w+"Z";var Y=(w+k)/2,z=(U+D)/2,j=Math.abs(Y-w),F=Math.abs(z-U),R="A"+j+","+F,Z=Y+j+","+z,G=Y+","+(z-F);return"M"+Z+R+" 0 1,1 "+G+R+" 0 0,1 "+Z+"Z"};function a(n,o,s){var f=n.path,e=n.xsizemode,p=n.ysizemode,c=n.xanchor,h=n.yanchor;return f.replace(P.segmentRE,function(_){var y=0,v=_.charAt(0),g=P.paramIsX[v],x=P.paramIsY[v],u=P.numParams[v],d=_.substr(1).replace(P.paramRE,function(m){return g[y]?e==="pixel"?m=o(c)+Number(m):m=o(m):x[y]&&(p==="pixel"?m=s(h)-Number(m):m=s(m)),y++,y>u&&(m="X"),m});return y>u&&(d=d.replace(/[\s,]*X.*/,""),i.log("Ignoring extra params in segment "+_)),v+d})}function l(n,o){o=o||0;var s=0;return o&&n&&(n.type==="category"||n.type==="multicategory")&&(s=(n.r2p(1)-n.r2p(0))*o),s}}),Al=Mt((E,P)=>{var i=Oe(),t=Ka(),a=Pr(),l=Ga(),n=An().readPaths,o=Ln(),s=o.getPathString,f=Bi(),e=Rr().FROM_TL;P.exports=function(h,_,y,v){if(v.selectAll(".shape-label").remove(),!!(y.label.text||y.label.texttemplate)){var g;if(y.label.texttemplate){var x={};if(y.type!=="path"){var u=t.getFromId(h,y.xref),d=t.getFromId(h,y.yref);for(var m in f){var w=f[m](y,u,d);w!==void 0&&(x[m]=w)}}g=i.texttemplateStringForShapes(y.label.texttemplate,{},h._fullLayout._d3locale,x)}else g=y.label.text;var k={"data-index":_},U=y.label.font,D={"data-notex":1},C=v.append("g").attr(k).classed("shape-label",!0),T=C.append("text").attr(D).classed("shape-label-text",!0).text(g),Y,z,j,F;if(y.path){var R=s(h,y),Z=n(R,h);Y=1/0,j=1/0,z=-1/0,F=-1/0;for(var G=0;G<Z.length;G++)for(var O=0;O<Z[G].length;O++)for(var J=Z[G][O],X=1;X<J.length;X+=2){var it=J[X],at=J[X+1];Y=Math.min(Y,it),z=Math.max(z,it),j=Math.min(j,at),F=Math.max(F,at)}}else{var ot=t.getFromId(h,y.xref),ht=y.x0shift,pt=y.x1shift,yt=t.getRefType(y.xref),H=t.getFromId(h,y.yref),q=y.y0shift,A=y.y1shift,W=t.getRefType(y.yref),rt=function(ct,bt){var kt=o.getDataToPixel(h,ot,bt,!1,yt);return kt(ct)},I=function(ct,bt){var kt=o.getDataToPixel(h,H,bt,!0,W);return kt(ct)};Y=rt(y.x0,ht),z=rt(y.x1,pt),j=I(y.y0,q),F=I(y.y1,A)}var M=y.label.textangle;M==="auto"&&(y.type==="line"?M=p(Y,j,z,F):M=0),T.call(function(ct){return ct.call(l.font,U).attr({}),a.convertToTspans(ct,h),ct});var S=l.bBox(T.node()),N=c(Y,j,z,F,y,M,S),V=N.textx,nt=N.texty,ut=N.xanchor;T.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ut],y:nt,x:V,transform:"rotate("+M+","+V+","+nt+")"}).call(a.positionText,V,nt)}};function p(h,_,y,v){var g,x;return x=Math.abs(y-h),y>=h?g=_-v:g=v-_,-180/Math.PI*Math.atan2(g,x)}function c(h,_,y,v,g,x,u){var d=g.label.textposition,m=g.label.textangle,w=g.label.padding,k=g.type,U=Math.PI/180*x,D=Math.sin(U),C=Math.cos(U),T=g.label.xanchor,Y=g.label.yanchor,z,j,F,R;if(k==="line"){d==="start"?(z=h,j=_):d==="end"?(z=y,j=v):(z=(h+y)/2,j=(_+v)/2),T==="auto"&&(d==="start"?m==="auto"?y>h?T="left":y<h?T="right":T="center":y>h?T="right":y<h?T="left":T="center":d==="end"?m==="auto"?y>h?T="right":y<h?T="left":T="center":y>h?T="left":y<h?T="right":T="center":T="center");var Z={left:1,center:0,right:-1},G={bottom:-1,middle:0,top:1};if(m==="auto"){var O=G[Y];F=-w*D*O,R=w*C*O}else{var J=Z[T],X=G[Y];F=w*J,R=w*X}z=z+F,j=j+R}else F=w+3,d.indexOf("right")!==-1?(z=Math.max(h,y)-F,T==="auto"&&(T="right")):d.indexOf("left")!==-1?(z=Math.min(h,y)+F,T==="auto"&&(T="left")):(z=(h+y)/2,T==="auto"&&(T="center")),d.indexOf("top")!==-1?j=Math.min(_,v):d.indexOf("bottom")!==-1?j=Math.max(_,v):j=(_+v)/2,R=w,Y==="bottom"?j=j-R:Y==="top"&&(j=j+R);var it=e[Y],at=g.label.font.size,ot=u.height,ht=(ot*it-at)*D,pt=-(ot*it-at)*C;return{textx:z+ht,texty:j+pt,xanchor:T}}}),io=Mt((E,P)=>{var i=Oe(),t=i.strTranslate,a=on(),l=Zn(),n=l.drawMode,o=l.selectMode,s=da(),f=Ta(),e=ao(),p=e.i000,c=e.i090,h=e.i180,_=e.i270,y=Tn(),v=y.clearOutlineControllers,g=An(),x=g.pointsOnRectangle,u=g.pointsOnEllipse,d=g.writePaths,m=no().newShapes,w=no().createShapeObj,k=kl(),U=Al();P.exports=function Y(z,j,F,R){R||(R=0);var Z=F.gd;function G(){Y(z,j,F,R++),(u(z[0])||F.hasText)&&O({redrawing:!0})}function O(Vt){var Ht={};F.isActiveShape!==void 0&&(F.isActiveShape=!1,Ht=m(j,F)),F.isActiveSelection!==void 0&&(F.isActiveSelection=!1,Ht=k(j,F),Z._fullLayout._reselect=!0),Object.keys(Ht).length&&s.call((Vt||{}).redrawing?"relayout":"_guiRelayout",Z,Ht)}var J=Z._fullLayout,X=J._zoomlayer,it=F.dragmode,at=n(it),ot=o(it);(at||ot)&&(Z._fullLayout._outlining=!0),v(Z),j.attr("d",d(z));var ht,pt,yt,H,q;if(!R&&(F.isActiveShape||F.isActiveSelection)){q=D([],z);var A=X.append("g").attr("class","outline-controllers");nt(A),Gt()}if(at&&F.hasText){var W=X.select(".label-temp"),rt=w(j,F,F.dragmode);U(Z,"label-temp",rt,W)}function I(Vt){yt=+Vt.srcElement.getAttribute("data-i"),H=+Vt.srcElement.getAttribute("data-j"),ht[yt][H].moveFn=M}function M(Vt,Ht){if(z.length){var vt=q[yt][H][1],xt=q[yt][H][2],lt=z[yt],At=lt.length;if(x(lt)){var Rt=Vt,Ut=Ht;if(F.isActiveSelection){var te=C(lt,H);te[1]===lt[H][1]?Ut=0:Rt=0}for(var Wt=0;Wt<At;Wt++)if(Wt!==H){var ae=lt[Wt];ae[1]===lt[H][1]&&(ae[1]=vt+Rt),ae[2]===lt[H][2]&&(ae[2]=xt+Ut)}if(lt[H][1]=vt+Rt,lt[H][2]=xt+Ut,!x(lt))for(var ne=0;ne<At;ne++)for(var re=0;re<lt[ne].length;re++)lt[ne][re]=q[yt][ne][re]}else lt[H][1]=vt+Vt,lt[H][2]=xt+Ht;G()}}function S(){O()}function N(){if(z.length&&z[yt]&&z[yt].length){for(var Vt=[],Ht=0;Ht<z[yt].length;Ht++)Ht!==H&&Vt.push(z[yt][Ht]);Vt.length>1&&!(Vt.length===2&&Vt[1][0]==="Z")&&(H===0&&(Vt[0][0]="M"),z[yt]=Vt,G(),O())}}function V(Vt,Ht){if(Vt===2){yt=+Ht.srcElement.getAttribute("data-i"),H=+Ht.srcElement.getAttribute("data-j");var vt=z[yt];!x(vt)&&!u(vt)&&N()}}function nt(Vt){ht=[];for(var Ht=0;Ht<z.length;Ht++){var vt=z[Ht],xt=x(vt),lt=!xt&&u(vt);ht[Ht]=[];for(var At=vt.length,Rt=0;Rt<At;Rt++)if(vt[Rt][0]!=="Z"&&!(lt&&Rt!==p&&Rt!==c&&Rt!==h&&Rt!==_)){var Ut=xt&&F.isActiveSelection,te;Ut&&(te=C(vt,Rt));var Wt=vt[Rt][1],ae=vt[Rt][2],ne=Vt.append(Ut?"rect":"circle").attr("data-i",Ht).attr("data-j",Rt).style({fill:f.background,stroke:f.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(Ut){var re=te[1]-Wt,de=te[2]-ae,$t=de?5:Math.max(Math.min(25,Math.abs(re)-5),5),ve=re?5:Math.max(Math.min(25,Math.abs(de)-5),5);ne.classed(de?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",$t).attr("height",ve).attr("x",Wt-$t/2).attr("y",ae-ve/2).attr("transform",t(re/2,de/2))}else ne.classed("cursor-grab",!0).attr("r",5).attr("cx",Wt).attr("cy",ae);ht[Ht][Rt]={element:ne.node(),gd:Z,prepFn:I,doneFn:S,clickFn:V},a.init(ht[Ht][Rt])}}}function ut(Vt,Ht){if(z.length)for(var vt=0;vt<z.length;vt++)for(var xt=0;xt<z[vt].length;xt++)for(var lt=0;lt+2<z[vt][xt].length;lt+=2)z[vt][xt][lt+1]=q[vt][xt][lt+1]+Vt,z[vt][xt][lt+2]=q[vt][xt][lt+2]+Ht}function ct(Vt,Ht){ut(Vt,Ht),G()}function bt(Vt){yt=+Vt.srcElement.getAttribute("data-i"),yt||(yt=0),pt[yt].moveFn=ct}function kt(){O()}function Et(Vt){Vt===2&&T(Z)}function Gt(){if(pt=[],!!z.length){var Vt=0;pt[Vt]={element:j[0][0],gd:Z,prepFn:bt,doneFn:kt,clickFn:Et},a.init(pt[Vt])}}};function D(Y,z){for(var j=0;j<z.length;j++){var F=z[j];Y[j]=[];for(var R=0;R<F.length;R++){Y[j][R]=[];for(var Z=0;Z<F[R].length;Z++)Y[j][R][Z]=F[R][Z]}}return Y}function C(Y,z){var j=Y[z][1],F=Y[z][2],R=Y.length,Z,G,O;return Z=(z+1)%R,G=Y[Z][1],O=Y[Z][2],G===j&&O===F&&(Z=(z+2)%R,G=Y[Z][1],O=Y[Z][2]),[Z,G,O]}function T(Y){if(o(Y._fullLayout.dragmode)){v(Y);var z=Y._fullLayout._activeSelectionIndex,j=(Y.layout||{}).selections||[];if(z<j.length){for(var F=[],R=0;R<j.length;R++)R!==z&&F.push(j[R]);delete Y._fullLayout._activeSelectionIndex;var Z=Y._fullLayout.selections[z];Y._fullLayout._deselect={xref:Z.xref,yref:Z.yref},s.call("_guiRelayout",Y,{selections:F})}}}}),oo=Mt((E,P)=>{var i=Ke(),t=da(),a=Oe(),l=Ka(),n=An().readPaths,o=io(),s=Al(),f=Tn().clearOutlineControllers,e=Ta(),p=Ga(),c=$a().arrayEditor,h=on(),_=kn(),y=ci(),v=Ln(),g=v.getPathString;P.exports={draw:x,drawOne:m,eraseActiveShape:T,drawLabel:s};function x(Y){var z=Y._fullLayout;z._shapeUpperLayer.selectAll("path").remove(),z._shapeLowerLayer.selectAll("path").remove(),z._shapeUpperLayer.selectAll("text").remove(),z._shapeLowerLayer.selectAll("text").remove();for(var j in z._plots){var F=z._plots[j].shapelayer;F&&(F.selectAll("path").remove(),F.selectAll("text").remove())}for(var R=0;R<z.shapes.length;R++)z.shapes[R].visible===!0&&m(Y,R)}function u(Y){return!!Y._fullLayout._outlining}function d(Y){return!Y._context.edits.shapePosition}function m(Y,z){Y._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+z+'"]').remove();var j=v.makeShapesOptionsAndPlotinfo(Y,z),F=j.options,R=j.plotinfo;if(!F._input||F.visible!==!0)return;if(F.layer==="above")G(Y._fullLayout._shapeUpperLayer);else if(F.xref==="paper"||F.yref==="paper")G(Y._fullLayout._shapeLowerLayer);else if(F.layer==="between")G(R.shapelayerBetween);else if(R._hadPlotinfo){var Z=R.mainplotinfo||R;G(Z.shapelayer)}else G(Y._fullLayout._shapeLowerLayer);function G(O){var J=g(Y,F),X={"data-index":z,"fill-rule":F.fillrule,d:J},it=F.opacity,at=F.fillcolor,ot=F.line.width?F.line.color:"rgba(0,0,0,0)",ht=F.line.width,pt=F.line.dash;!ht&&F.editable===!0&&(ht=5,pt="solid");var yt=J[J.length-1]!=="Z",H=d(Y)&&F.editable&&Y._fullLayout._activeShapeIndex===z;H&&(at=yt?"rgba(0,0,0,0)":Y._fullLayout.activeshape.fillcolor,it=Y._fullLayout.activeshape.opacity);var q=O.append("g").classed("shape-group",!0).attr({"data-index":z}),A=q.append("path").attr(X).style("opacity",it).call(e.stroke,ot).call(e.fill,at).call(p.dashLine,pt,ht);w(q,Y,F),s(Y,z,F,q);var W;if((H||Y._context.edits.shapePosition)&&(W=c(Y.layout,"shapes",F)),H){A.style({cursor:"move"});var rt={element:A.node(),plotinfo:R,gd:Y,editHelpers:W,hasText:F.label.text||F.label.texttemplate,isActiveShape:!0},I=n(J,Y);o(I,A,rt)}else Y._context.edits.shapePosition?k(Y,A,F,z,O,W):F.editable===!0&&A.style("pointer-events",yt||e.opacity(at)*it<=.5?"stroke":"all");A.node().addEventListener("click",function(){return D(Y,A)})}}function w(Y,z,j){var F=(j.xref+j.yref).replace(/paper/g,"").replace(/[xyz][0-9]* *domain/g,"");p.setClipUrl(Y,F?"clip"+z._fullLayout._uid+F:null,z)}function k(Y,z,j,F,R,Z){var G=10,O=10,J=j.xsizemode==="pixel",X=j.ysizemode==="pixel",it=j.type==="line",at=j.type==="path",ot=Z.modifyItem,ht,pt,yt,H,q,A,W,rt,I,M,S,N,V,nt,ut,ct=i.select(z.node().parentNode),bt=l.getFromId(Y,j.xref),kt=l.getRefType(j.xref),Et=l.getFromId(Y,j.yref),Gt=l.getRefType(j.yref),Vt=j.x0shift,Ht=j.x1shift,vt=j.y0shift,xt=j.y1shift,lt=function(st,ft){var _t=v.getDataToPixel(Y,bt,ft,!1,kt);return _t(st)},At=function(st,ft){var _t=v.getDataToPixel(Y,Et,ft,!0,Gt);return _t(st)},Rt=v.getPixelToData(Y,bt,!1,kt),Ut=v.getPixelToData(Y,Et,!0,Gt),te=ne(),Wt={element:te.node(),gd:Y,prepFn:$t,doneFn:ve,clickFn:xe},ae;h.init(Wt),te.node().onmousemove=de;function ne(){return it?re():z}function re(){var st=10,ft=Math.max(j.line.width,st),_t=R.append("g").attr("data-index",F).attr("drag-helper",!0);_t.append("path").attr("d",z.attr("d")).style({cursor:"move","stroke-width":ft,"stroke-opacity":"0"});var Tt={"fill-opacity":"0"},zt=Math.max(ft/2,st);return _t.append("circle").attr({"data-line-point":"start-point",cx:J?lt(j.xanchor)+j.x0:lt(j.x0,Vt),cy:X?At(j.yanchor)-j.y0:At(j.y0,vt),r:zt}).style(Tt).classed("cursor-grab",!0),_t.append("circle").attr({"data-line-point":"end-point",cx:J?lt(j.xanchor)+j.x1:lt(j.x1,Ht),cy:X?At(j.yanchor)-j.y1:At(j.y1,xt),r:zt}).style(Tt).classed("cursor-grab",!0),_t}function de(st){if(u(Y)){ae=null;return}if(it)st.target.tagName==="path"?ae="move":ae=st.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var ft=Wt.element.getBoundingClientRect(),_t=ft.right-ft.left,Tt=ft.bottom-ft.top,zt=st.clientX-ft.left,Ft=st.clientY-ft.top,Zt=!at&&_t>G&&Tt>O&&!st.shiftKey?h.getCursor(zt/_t,1-Ft/Tt):"move";_(z,Zt),ae=Zt.split("-")[0]}}function $t(st){u(Y)||(J&&(q=lt(j.xanchor)),X&&(A=At(j.yanchor)),j.type==="path"?ut=j.path:(ht=J?j.x0:lt(j.x0),pt=X?j.y0:At(j.y0),yt=J?j.x1:lt(j.x1),H=X?j.y1:At(j.y1)),ht<yt?(I=ht,V="x0",M=yt,nt="x1"):(I=yt,V="x1",M=ht,nt="x0"),!X&&pt<H||X&&pt>H?(W=pt,S="y0",rt=H,N="y1"):(W=H,S="y1",rt=pt,N="y0"),de(st),mt(R,j),Q(z,j,Y),Wt.moveFn=ae==="move"?pe:_e,Wt.altKey=st.altKey)}function ve(){u(Y)||(_(z),Ct(R),w(z,Y,j),t.call("_guiRelayout",Y,Z.getUpdateObj()))}function xe(){u(Y)||Ct(R)}function pe(st,ft){if(j.type==="path"){var _t=function(Ft){return Ft},Tt=_t,zt=_t;J?ot("xanchor",j.xanchor=Rt(q+st)):(Tt=function(Ft){return Rt(lt(Ft)+st)},bt&&bt.type==="date"&&(Tt=v.encodeDate(Tt))),X?ot("yanchor",j.yanchor=Ut(A+ft)):(zt=function(Ft){return Ut(At(Ft)+ft)},Et&&Et.type==="date"&&(zt=v.encodeDate(zt))),ot("path",j.path=U(ut,Tt,zt))}else J?ot("xanchor",j.xanchor=Rt(q+st)):(ot("x0",j.x0=Rt(ht+st)),ot("x1",j.x1=Rt(yt+st))),X?ot("yanchor",j.yanchor=Ut(A+ft)):(ot("y0",j.y0=Ut(pt+ft)),ot("y1",j.y1=Ut(H+ft)));z.attr("d",g(Y,j)),mt(R,j),s(Y,F,j,ct)}function _e(st,ft){if(at){var _t=function(we){return we},Tt=_t,zt=_t;J?ot("xanchor",j.xanchor=Rt(q+st)):(Tt=function(we){return Rt(lt(we)+st)},bt&&bt.type==="date"&&(Tt=v.encodeDate(Tt))),X?ot("yanchor",j.yanchor=Ut(A+ft)):(zt=function(we){return Ut(At(we)+ft)},Et&&Et.type==="date"&&(zt=v.encodeDate(zt))),ot("path",j.path=U(ut,Tt,zt))}else if(it){if(ae==="resize-over-start-point"){var Ft=ht+st,Zt=X?pt-ft:pt+ft;ot("x0",j.x0=J?Ft:Rt(Ft)),ot("y0",j.y0=X?Zt:Ut(Zt))}else if(ae==="resize-over-end-point"){var qt=yt+st,Yt=X?H-ft:H+ft;ot("x1",j.x1=J?qt:Rt(qt)),ot("y1",j.y1=X?Yt:Ut(Yt))}}else{var ie=function(we){return ae.indexOf(we)!==-1},oe=ie("n"),le=ie("s"),be=ie("w"),Ae=ie("e"),Re=oe?W+ft:W,Ve=le?rt+ft:rt,Ye=be?I+st:I,Se=Ae?M+st:M;X&&(oe&&(Re=W-ft),le&&(Ve=rt-ft)),(!X&&Ve-Re>O||X&&Re-Ve>O)&&(ot(S,j[S]=X?Re:Ut(Re)),ot(N,j[N]=X?Ve:Ut(Ve))),Se-Ye>G&&(ot(V,j[V]=J?Ye:Rt(Ye)),ot(nt,j[nt]=J?Se:Rt(Se)))}z.attr("d",g(Y,j)),mt(R,j),s(Y,F,j,ct)}function mt(st,ft){(J||X)&&_t();function _t(){var Tt=ft.type!=="path",zt=st.selectAll(".visual-cue").data([0]),Ft=1;zt.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Ft}).classed("visual-cue",!0);var Zt=lt(J?ft.xanchor:a.midRange(Tt?[ft.x0,ft.x1]:v.extractPathCoords(ft.path,y.paramIsX))),qt=At(X?ft.yanchor:a.midRange(Tt?[ft.y0,ft.y1]:v.extractPathCoords(ft.path,y.paramIsY)));if(Zt=v.roundPositionForSharpStrokeRendering(Zt,Ft),qt=v.roundPositionForSharpStrokeRendering(qt,Ft),J&&X){var Yt="M"+(Zt-1-Ft)+","+(qt-1-Ft)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";zt.attr("d",Yt)}else if(J){var ie="M"+(Zt-1-Ft)+","+(qt-9-Ft)+"v18 h2 v-18 Z";zt.attr("d",ie)}else{var oe="M"+(Zt-9-Ft)+","+(qt-1-Ft)+"h18 v2 h-18 Z";zt.attr("d",oe)}}}function Ct(st){st.selectAll(".visual-cue").remove()}function Q(st,ft,_t){var Tt=ft.xref,zt=ft.yref,Ft=l.getFromId(_t,Tt),Zt=l.getFromId(_t,zt),qt="";Tt!=="paper"&&!Ft.autorange&&(qt+=Tt),zt!=="paper"&&!Zt.autorange&&(qt+=zt),p.setClipUrl(st,qt?"clip"+_t._fullLayout._uid+qt:null,_t)}}function U(Y,z,j){return Y.replace(y.segmentRE,function(F){var R=0,Z=F.charAt(0),G=y.paramIsX[Z],O=y.paramIsY[Z],J=y.numParams[Z],X=F.substr(1).replace(y.paramRE,function(it){return R>=J||(G[R]?it=z(it):O[R]&&(it=j(it)),R++),it});return Z+X})}function D(Y,z){if(d(Y)){var j=z.node(),F=+j.getAttribute("data-index");if(F>=0){if(F===Y._fullLayout._activeShapeIndex){C(Y);return}Y._fullLayout._activeShapeIndex=F,Y._fullLayout._deactivateShape=C,x(Y)}}}function C(Y){if(d(Y)){var z=Y._fullLayout._activeShapeIndex;z>=0&&(f(Y),delete Y._fullLayout._activeShapeIndex,x(Y))}}function T(Y){if(d(Y)){f(Y);var z=Y._fullLayout._activeShapeIndex,j=(Y.layout||{}).shapes||[];if(z<j.length){for(var F=[],R=0;R<j.length;R++)R!==z&&F.push(j[R]);return delete Y._fullLayout._activeShapeIndex,t.call("_guiRelayout",Y,{shapes:F})}}}}),Ll=Mt((E,P)=>{var i=da(),t=hr(),a=xr(),l=eo(),n=oo().eraseActiveShape,o=Oe(),s=o._,f=P.exports={};f.toImage={name:"toImage",title:function(k){var U=k._context.toImageButtonOptions||{},D=U.format||"png";return D==="png"?s(k,"Download plot as a PNG"):s(k,"Download plot")},icon:l.camera,click:function(k){var U=k._context.toImageButtonOptions,D={format:U.format||"png"};o.notifier(s(k,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(C){C in U&&(D[C]=U[C])}),i.call("downloadImage",k,D).then(function(C){o.notifier(s(k,"Snapshot succeeded")+" - "+C,"long")}).catch(function(){o.notifier(s(k,"Sorry, there was a problem downloading your snapshot!"),"long")})}},f.sendDataToCloud={name:"sendDataToCloud",title:function(k){return s(k,"Edit in Chart Studio")},icon:l.disk,click:function(k){t.sendDataToCloud(k)}},f.editInChartStudio={name:"editInChartStudio",title:function(k){return s(k,"Edit in Chart Studio")},icon:l.pencil,click:function(k){t.sendDataToCloud(k)}},f.zoom2d={name:"zoom2d",_cat:"zoom",title:function(k){return s(k,"Zoom")},attr:"dragmode",val:"zoom",icon:l.zoombox,click:e},f.pan2d={name:"pan2d",_cat:"pan",title:function(k){return s(k,"Pan")},attr:"dragmode",val:"pan",icon:l.pan,click:e},f.select2d={name:"select2d",_cat:"select",title:function(k){return s(k,"Box Select")},attr:"dragmode",val:"select",icon:l.selectbox,click:e},f.lasso2d={name:"lasso2d",_cat:"lasso",title:function(k){return s(k,"Lasso Select")},attr:"dragmode",val:"lasso",icon:l.lasso,click:e},f.drawclosedpath={name:"drawclosedpath",title:function(k){return s(k,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:l.drawclosedpath,click:e},f.drawopenpath={name:"drawopenpath",title:function(k){return s(k,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:l.drawopenpath,click:e},f.drawline={name:"drawline",title:function(k){return s(k,"Draw line")},attr:"dragmode",val:"drawline",icon:l.drawline,click:e},f.drawrect={name:"drawrect",title:function(k){return s(k,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:l.drawrect,click:e},f.drawcircle={name:"drawcircle",title:function(k){return s(k,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:l.drawcircle,click:e},f.eraseshape={name:"eraseshape",title:function(k){return s(k,"Erase active shape")},icon:l.eraseshape,click:n},f.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:e},f.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:e},f.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(k){return s(k,"Autoscale")},attr:"zoom",val:"auto",icon:l.autoscale,click:e},f.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(k){return s(k,"Reset axes")},attr:"zoom",val:"reset",icon:l.home,click:e},f.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(k){return s(k,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:e},f.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(k){return s(k,"Compare data on hover")},attr:"hovermode",val:function(k){return k._fullLayout._isHoriz?"y":"x"},icon:l.tooltip_compare,gravity:"ne",click:e};function e(k,U){var D=U.currentTarget,C=D.getAttribute("data-attr"),T=D.getAttribute("data-val")||!0,Y=k._fullLayout,z={},j=a.list(k,null,!0),F=Y._cartesianSpikesEnabled,R,Z;if(C==="zoom"){var G=T==="in"?.5:2,O=(1+G)/2,J=(1-G)/2,X,it;for(Z=0;Z<j.length;Z++)if(R=j[Z],it=R.modebardisable==="none"||R.modebardisable.indexOf(T==="auto"||T==="reset"?"autoscale":"zoominout")===-1,it&&!R.fixedrange)if(X=R._name,T==="auto")z[X+".autorange"]=!0;else if(T==="reset")R._rangeInitial0===void 0&&R._rangeInitial1===void 0?z[X+".autorange"]=!0:R._rangeInitial0===void 0?(z[X+".autorange"]=R._autorangeInitial,z[X+".range"]=[null,R._rangeInitial1]):R._rangeInitial1===void 0?(z[X+".range"]=[R._rangeInitial0,null],z[X+".autorange"]=R._autorangeInitial):z[X+".range"]=[R._rangeInitial0,R._rangeInitial1],R._showSpikeInitial!==void 0&&(z[X+".showspikes"]=R._showSpikeInitial,F==="on"&&!R._showSpikeInitial&&(F="off"));else{var at=[R.r2l(R.range[0]),R.r2l(R.range[1])],ot=[O*at[0]+J*at[1],O*at[1]+J*at[0]];z[X+".range[0]"]=R.l2r(ot[0]),z[X+".range[1]"]=R.l2r(ot[1])}}else C==="hovermode"&&(T==="x"||T==="y")&&(T=Y._isHoriz?"y":"x",D.setAttribute("data-val",T)),z[C]=T;Y._cartesianSpikesEnabled=F,i.call("_guiRelayout",k,z)}f.zoom3d={name:"zoom3d",_cat:"zoom",title:function(k){return s(k,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:l.zoombox,click:p},f.pan3d={name:"pan3d",_cat:"pan",title:function(k){return s(k,"Pan")},attr:"scene.dragmode",val:"pan",icon:l.pan,click:p},f.orbitRotation={name:"orbitRotation",title:function(k){return s(k,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:l["3d_rotate"],click:p},f.tableRotation={name:"tableRotation",title:function(k){return s(k,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:l["z-axis"],click:p};function p(k,U){for(var D=U.currentTarget,C=D.getAttribute("data-attr"),T=D.getAttribute("data-val")||!0,Y=k._fullLayout._subplots.gl3d||[],z={},j=C.split("."),F=0;F<Y.length;F++)z[Y[F]+"."+j[1]]=T;var R=T==="pan"?T:"zoom";z.dragmode=R,i.call("_guiRelayout",k,z)}f.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(k){return s(k,"Reset camera to default")},attr:"resetDefault",icon:l.home,click:c},f.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(k){return s(k,"Reset camera to last save")},attr:"resetLastSave",icon:l.movie,click:c};function c(k,U){for(var D=U.currentTarget,C=D.getAttribute("data-attr"),T=C==="resetLastSave",Y=C==="resetDefault",z=k._fullLayout,j=z._subplots.gl3d||[],F={},R=0;R<j.length;R++){var Z=j[R],G=Z+".camera",O=Z+".aspectratio",J=Z+".aspectmode",X=z[Z]._scene,it;T?(F[G+".up"]=X.viewInitial.up,F[G+".eye"]=X.viewInitial.eye,F[G+".center"]=X.viewInitial.center,it=!0):Y&&(F[G+".up"]=null,F[G+".eye"]=null,F[G+".center"]=null,it=!0),it&&(F[O+".x"]=X.viewInitial.aspectratio.x,F[O+".y"]=X.viewInitial.aspectratio.y,F[O+".z"]=X.viewInitial.aspectratio.z,F[J]=X.viewInitial.aspectmode)}i.call("_guiRelayout",k,F)}f.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:_};function h(k,U){var D=U.currentTarget,C=D._previousVal,T=k._fullLayout,Y=T._subplots.gl3d||[],z=["xaxis","yaxis","zaxis"],j={},F={};if(C)F=C,D._previousVal=null;else{for(var R=0;R<Y.length;R++){var Z=Y[R],G=T[Z],O=Z+".hovermode";j[O]=G.hovermode,F[O]=!1;for(var J=0;J<3;J++){var X=z[J],it=Z+"."+X+".showspikes";F[it]=!1,j[it]=G[X].showspikes}}D._previousVal=j}return F}function _(k,U){var D=h(k,U);i.call("_guiRelayout",k,D)}f.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:y},f.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:y},f.resetGeo={name:"resetGeo",_cat:"reset",title:function(k){return s(k,"Reset")},attr:"reset",val:null,icon:l.autoscale,click:y},f.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:g};function y(k,U){for(var D=U.currentTarget,C=D.getAttribute("data-attr"),T=D.getAttribute("data-val")||!0,Y=k._fullLayout,z=Y._subplots.geo||[],j=0;j<z.length;j++){var F=z[j],R=Y[F];if(C==="zoom"){var Z=R.projection.scale,G=T==="in"?2*Z:.5*Z;i.call("_guiRelayout",k,F+".projection.scale",G)}}C==="reset"&&w(k,"geo")}f.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:l.tooltip_basic,gravity:"ne",click:g};function v(k){var U=k._fullLayout;return U.hovermode?!1:U._has("cartesian")?U._isHoriz?"y":"x":"closest"}function g(k){var U=v(k);i.call("_guiRelayout",k,"hovermode",U)}f.resetViewSankey={name:"resetSankeyGroup",title:function(k){return s(k,"Reset view")},icon:l.home,click:function(k){for(var U={"node.groups":[],"node.x":[],"node.y":[]},D=0;D<k._fullData.length;D++){var C=k._fullData[D]._viewInitial;U["node.groups"].push(C.node.groups.slice()),U["node.x"].push(C.node.x.slice()),U["node.y"].push(C.node.y.slice())}i.call("restyle",k,U)}},f.toggleHover={name:"toggleHover",title:function(k){return s(k,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:l.tooltip_basic,gravity:"ne",click:function(k,U){var D=h(k,U);D.hovermode=v(k),i.call("_guiRelayout",k,D)}},f.resetViews={name:"resetViews",title:function(k){return s(k,"Reset views")},icon:l.home,click:function(k,U){var D=U.currentTarget;D.setAttribute("data-attr","zoom"),D.setAttribute("data-val","reset"),e(k,U),D.setAttribute("data-attr","resetLastSave"),c(k,U),w(k,"geo"),w(k,"mapbox"),w(k,"map")}},f.toggleSpikelines={name:"toggleSpikelines",title:function(k){return s(k,"Toggle Spike Lines")},icon:l.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(k){var U=k._fullLayout,D=U._cartesianSpikesEnabled;U._cartesianSpikesEnabled=D==="on"?"off":"on",i.call("_guiRelayout",k,x(k))}};function x(k){for(var U=k._fullLayout,D=U._cartesianSpikesEnabled==="on",C=a.list(k,null,!0),T={},Y=0;Y<C.length;Y++){var z=C[Y];T[z._name+".showspikes"]=D?!0:z._showSpikeInitial}return T}f.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(k){return s(k,"Reset view")},attr:"reset",icon:l.home,click:function(k){w(k,"mapbox")}},f.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(k){return s(k,"Reset view")},attr:"reset",icon:l.home,click:function(k){w(k,"map")}},f.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:u},f.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(k){return s(k,"Zoom in")},attr:"zoom",val:"in",icon:l.zoom_plus,click:d},f.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:u},f.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(k){return s(k,"Zoom out")},attr:"zoom",val:"out",icon:l.zoom_minus,click:d};function u(k,U){m(k,U,"mapbox")}function d(k,U){m(k,U,"map")}function m(k,U,D){for(var C=U.currentTarget,T=C.getAttribute("data-val"),Y=k._fullLayout,z=Y._subplots[D]||[],j=1.05,F={},R=0;R<z.length;R++){var Z=z[R],G=Y[Z].zoom,O=T==="in"?j*G:G/j;F[Z+".zoom"]=O}i.call("_guiRelayout",k,F)}function w(k,U){for(var D=k._fullLayout,C=D._subplots[U]||[],T={},Y=0;Y<C.length;Y++)for(var z=C[Y],j=D[z]._subplot,F=j.viewInitial,R=Object.keys(F),Z=0;Z<R.length;Z++){var G=R[Z];T[z+"."+G]=F[G]}i.call("_guiRelayout",k,T)}}),Sl=Mt((E,P)=>{var i=Ll(),t=Object.keys(i),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],l=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),n=[],o=function(s){if(l.indexOf(s._cat||s.name)===-1){var f=s.name,e=(s._cat||s.name).toLowerCase();n.indexOf(f)===-1&&n.push(f),n.indexOf(e)===-1&&n.push(e)}};t.forEach(function(s){o(i[s])}),n.sort(),P.exports={DRAW_MODES:a,backButtons:l,foreButtons:n}}),Cl=Mt((E,P)=>{Sl(),P.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}}),Pc=Mt((E,P)=>{var i=Oe(),t=Ta(),a=$a(),l=Cl();P.exports=function(n,o){var s=n.modebar||{},f=a.newContainer(o,"modebar");function e(c,h){return i.coerce(s,f,l,c,h)}e("orientation"),e("bgcolor",t.addOpacity(o.paper_bgcolor,.5));var p=t.contrast(t.rgb(o.modebar.bgcolor));e("color",t.addOpacity(p,.3)),e("activecolor",t.addOpacity(p,.7)),e("uirevision",o.uirevision),e("add"),e("remove")}}),zc=Mt((E,P)=>{var i=Ke(),t=ua(),a=Oe(),l=eo(),n=ca().version,o=new DOMParser;function s(c){this.container=c.container,this.element=document.createElement("div"),this.update(c.graphInfo,c.buttons),this.container.appendChild(this.element)}var f=s.prototype;f.update=function(c,h){this.graphInfo=c;var _=this.graphInfo._context,y=this.graphInfo._fullLayout,v="modebar-"+y._uid;this.element.setAttribute("id",v),this.element.setAttribute("role","toolbar"),this._uid=v,this.element.className="modebar modebar--custom",_.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),y.modebar.orientation==="v"&&(this.element.className+=" vertical",h=h.reverse());var g=y.modebar,x="#"+v+" .modebar-group";document.querySelectorAll(x).forEach(function(k){k.style.backgroundColor=g.bgcolor});var u=!this.hasButtons(h),d=this.hasLogo!==_.displaylogo,m=this.locale!==_.locale;if(this.locale=_.locale,(u||d||m)&&(this.removeAllButtons(),this.updateButtons(h),_.watermark||_.displaylogo)){var w=this.getLogo();_.watermark&&(w.className=w.className+" watermark"),y.modebar.orientation==="v"?this.element.insertBefore(w,this.element.childNodes[0]):this.element.appendChild(w),this.hasLogo=!0}this.updateActiveButton(),a.setStyleOnHover("#"+v+" .modebar-btn",".active",".icon path","fill: "+g.activecolor,"fill: "+g.color,this.element)},f.updateButtons=function(c){var h=this;this.buttons=c,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(_){var y=h.createGroup();_.forEach(function(v){var g=v.name;if(!g)throw new Error("must provide button 'name' in button config");if(h.buttonsNames.indexOf(g)!==-1)throw new Error("button name '"+g+"' is taken");h.buttonsNames.push(g);var x=h.createButton(v);h.buttonElements.push(x),y.appendChild(x)}),h.element.appendChild(y)})},f.createGroup=function(){var c=document.createElement("div");c.className="modebar-group";var h=this.graphInfo._fullLayout.modebar;return c.style.backgroundColor=h.bgcolor,c},f.createButton=function(c){var h=this,_=document.createElement("button");_.setAttribute("type","button"),_.setAttribute("rel","tooltip"),_.className="modebar-btn";var y=c.title;y===void 0?y=c.name:typeof y=="function"&&(y=y(this.graphInfo)),(y||y===0)&&(_.setAttribute("data-title",y),_.setAttribute("aria-label",y)),c.attr!==void 0&&_.setAttribute("data-attr",c.attr);var v=c.val;v!==void 0&&(typeof v=="function"&&(v=v(this.graphInfo)),_.setAttribute("data-val",v));var g=c.click;if(typeof g!="function")throw new Error("must provide button 'click' function in button config");_.addEventListener("click",function(u){c.click(h.graphInfo,u),h.updateActiveButton(u.currentTarget)}),_.setAttribute("data-toggle",c.toggle||!1),c.toggle&&i.select(_).classed("active",!0);var x=c.icon;return typeof x=="function"?_.appendChild(x()):_.appendChild(this.createIcon(x||l.question)),_.setAttribute("data-gravity",c.gravity||"n"),_},f.createIcon=function(c){var h=t(c.height)?Number(c.height):c.ascent-c.descent,_="http://www.w3.org/2000/svg",y;if(c.path){y=document.createElementNS(_,"svg"),y.setAttribute("viewBox",[0,0,c.width,h].join(" ")),y.setAttribute("class","icon");var v=document.createElementNS(_,"path");v.setAttribute("d",c.path),c.transform?v.setAttribute("transform",c.transform):c.ascent!==void 0&&v.setAttribute("transform","matrix(1 0 0 -1 0 "+c.ascent+")"),y.appendChild(v)}if(c.svg){var g=o.parseFromString(c.svg,"application/xml");y=g.childNodes[0]}return y.setAttribute("height","1em"),y.setAttribute("width","1em"),y},f.updateActiveButton=function(c){var h=this.graphInfo._fullLayout,_=c!==void 0?c.getAttribute("data-attr"):null;this.buttonElements.forEach(function(y){var v=y.getAttribute("data-val")||!0,g=y.getAttribute("data-attr"),x=y.getAttribute("data-toggle")==="true",u=i.select(y),d=function(k,U){var D=h.modebar,C=k.querySelector(".icon path");C&&(U||k.matches(":hover")?C.style.fill=D.activecolor:C.style.fill=D.color)};if(x){if(g===_){var m=!u.classed("active");u.classed("active",m),d(y,m)}}else{var w=g===null?g:a.nestedProperty(h,g).get();u.classed("active",w===v),d(y,w===v)}})},f.hasButtons=function(c){var h=this.buttons;if(!h||c.length!==h.length)return!1;for(var _=0;_<c.length;++_){if(c[_].length!==h[_].length)return!1;for(var y=0;y<c[_].length;y++)if(c[_][y].name!==h[_][y].name)return!1}return!0};function e(c){return c+" (v"+n+")"}f.getLogo=function(){var c=this.createGroup(),h=document.createElement("a");return h.href="https://plotly.com/",h.target="_blank",h.setAttribute("data-title",e(a._(this.graphInfo,"Produced with Plotly.js"))),h.className="modebar-btn plotlyjsicon modebar-btn--logo",h.appendChild(this.createIcon(l.newplotlylogo)),c.appendChild(h),c},f.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},f.destroy=function(){a.removeElement(this.container.querySelector(".modebar"))};function p(c,h){var _=c._fullLayout,y=new s({graphInfo:c,container:_._modebardiv.node(),buttons:h});return _._privateplot&&i.select(y.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),y}P.exports=p}),Ic=Mt((E,P)=>{var i=xr(),t=Gr(),a=da(),l=gn().isUnifiedHover,n=zc(),o=Ll(),s=Sl().DRAW_MODES,f=Oe().extendDeep;P.exports=function(v){var g=v._fullLayout,x=v._context,u=g._modeBar;if(!x.displayModeBar&&!x.watermark){u&&(u.destroy(),delete g._modeBar);return}if(!Array.isArray(x.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(x.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var d=x.modeBarButtons,m;Array.isArray(d)&&d.length?m=y(d):!x.displayModeBar&&x.watermark?m=[]:m=e(v),u?u.update(v,m):g._modeBar=n(v,m)};function e(v){var g=v._fullLayout,x=v._fullData,u=v._context;function d(M,S){if(typeof S=="string"){if(S.toLowerCase()===M.toLowerCase())return!0}else{var N=S.name,V=S._cat||S.name;if(N===M||V===M.toLowerCase())return!0}return!1}var m=g.modebar.add;typeof m=="string"&&(m=[m]);var w=g.modebar.remove;typeof w=="string"&&(w=[w]);var k=u.modeBarButtonsToAdd.concat(m.filter(function(M){for(var S=0;S<u.modeBarButtonsToRemove.length;S++)if(d(M,u.modeBarButtonsToRemove[S]))return!1;return!0})),U=u.modeBarButtonsToRemove.concat(w.filter(function(M){for(var S=0;S<u.modeBarButtonsToAdd.length;S++)if(d(M,u.modeBarButtonsToAdd[S]))return!1;return!0})),D=g._has("cartesian"),C=g._has("gl3d"),T=g._has("geo"),Y=g._has("pie"),z=g._has("funnelarea"),j=g._has("ternary"),F=g._has("mapbox"),R=g._has("map"),Z=g._has("polar"),G=g._has("smith"),O=g._has("sankey"),J=p(g),X=l(g.hovermode),it=[];function at(M){if(M.length){for(var S=[],N=0;N<M.length;N++){for(var V=M[N],nt=o[V],ut=nt.name.toLowerCase(),ct=(nt._cat||nt.name).toLowerCase(),bt=!1,kt=0;kt<U.length;kt++){var Et=U[kt].toLowerCase();if(Et===ut||Et===ct){bt=!0;break}}bt||S.push(o[V])}it.push(S)}}var ot=["toImage"];u.showEditInChartStudio?ot.push("editInChartStudio"):u.showSendToCloud&&ot.push("sendDataToCloud"),at(ot);var ht=[],pt=[],yt=[],H=[];(D||Y||z||j)+T+C+F+R+Z+G>1?(pt=["toggleHover"],yt=["resetViews"]):T?(ht=["zoomInGeo","zoomOutGeo"],pt=["hoverClosestGeo"],yt=["resetGeo"]):C?(pt=["hoverClosest3d"],yt=["resetCameraDefault3d","resetCameraLastSave3d"]):F?(ht=["zoomInMapbox","zoomOutMapbox"],pt=["toggleHover"],yt=["resetViewMapbox"]):R?(ht=["zoomInMap","zoomOutMap"],pt=["toggleHover"],yt=["resetViewMap"]):Y?pt=["hoverClosestPie"]:O?(pt=["hoverClosestCartesian","hoverCompareCartesian"],yt=["resetViewSankey"]):pt=["toggleHover"],D&&pt.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(h(x)||X)&&(pt=[]),D&&!J&&(ht=["zoomIn2d","zoomOut2d","autoScale2d"],yt[0]!=="resetViews"&&(yt=["resetScale2d"])),C?H=["zoom3d","pan3d","orbitRotation","tableRotation"]:D&&!J||j?H=["zoom2d","pan2d"]:F||R||T?H=["pan2d"]:Z&&(H=["zoom2d"]),c(x)&&H.push("select2d","lasso2d");var q=[],A=function(M){q.indexOf(M)===-1&&pt.indexOf(M)!==-1&&q.push(M)};if(Array.isArray(k)){for(var W=[],rt=0;rt<k.length;rt++){var I=k[rt];typeof I=="string"?(I=I.toLowerCase(),s.indexOf(I)!==-1?(g._has("mapbox")||g._has("map")||g._has("cartesian"))&&H.push(I):I==="togglespikelines"?A("toggleSpikelines"):I==="togglehover"?A("toggleHover"):I==="hovercompare"?A("hoverCompareCartesian"):I==="hoverclosest"?(A("hoverClosestCartesian"),A("hoverClosestGeo"),A("hoverClosest3d"),A("hoverClosestPie")):I==="v1hovermode"&&(A("hoverClosestCartesian"),A("hoverCompareCartesian"),A("hoverClosestGeo"),A("hoverClosest3d"),A("hoverClosestPie"))):W.push(I)}k=W}return at(H),at(ht.concat(yt)),at(q),_(it,k)}function p(v){for(var g=i.list({_fullLayout:v},null,!0),x=0;x<g.length;x++){var u=g[x].modebardisable;if(!g[x].fixedrange&&u!=="autoscale+zoominout"&&u!=="zoominout+autoscale")return!1}return!0}function c(v){for(var g=!1,x=0;x<v.length&&!g;x++){var u=v[x];!u._module||!u._module.selectPoints||(a.traceIs(u,"scatter-like")?(t.hasMarkers(u)||t.hasText(u))&&(g=!0):a.traceIs(u,"box-violin")?(u.boxpoints==="all"||u.points==="all")&&(g=!0):g=!0)}return g}function h(v){for(var g=0;g<v.length;g++)if(!a.traceIs(v[g],"noHover"))return!1;return!0}function _(v,g){if(g.length)if(Array.isArray(g[0]))for(var x=0;x<g.length;x++)v.push(g[x]);else v.push(g);return v}function y(v){for(var g=f([],v),x=0;x<g.length;x++)for(var u=g[x],d=0;d<u.length;d++){var m=u[d];if(typeof m=="string")if(o[m]!==void 0)g[x][d]=o[m];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return g}}),Ol=Mt((E,P)=>{P.exports={moduleType:"component",name:"modebar",layoutAttributes:Cl(),supplyLayoutDefaults:Pc(),manage:Ic()}}),Dl=Mt((E,P)=>{var i=Rr().FROM_BL;P.exports=function(t,a,l){l===void 0&&(l=i[t.constraintoward||"center"]);var n=[t.r2l(t.range[0]),t.r2l(t.range[1])],o=n[0]+(n[1]-n[0])*l;t.range=t._input.range=[t.l2r(o+(n[0]-o)*a),t.l2r(o+(n[1]-o)*a)],t.setScale()}}),fi=Mt(E=>{var P=Oe(),i=ui(),t=xr().id2name,a=rn(),l=Dl(),n=Wi(),o=Fa().ALMOST_EQUAL,s=Rr().FROM_BL;E.handleDefaults=function(v,g,x){var u=x.axIds,d=x.axHasImage,m=g._axisConstraintGroups=[],w=g._axisMatchGroups=[],k,U,D,C,T,Y,z,j;for(k=0;k<u.length;k++)C=t(u[k]),T=v[C],Y=g[C],f(T,Y,{axIds:u,layoutOut:g,hasImage:d[C]});function F(ot,ht){for(k=0;k<ot.length;k++){U=ot[k];for(D in U)g[t(D)][ht]=U}}for(F(w,"_matchGroup"),k=0;k<m.length;k++){U=m[k];for(D in U)if(Y=g[t(D)],Y.fixedrange){for(var R in U){var Z=t(R);(v[Z]||{}).fixedrange===!1&&P.warn("fixedrange was specified as false for axis "+Z+" but was overridden because another axis in its constraint group has fixedrange true"),g[Z].fixedrange=!0}break}}for(k=0;k<m.length;){U=m[k];for(D in U){Y=g[t(D)],Y._matchGroup&&Object.keys(Y._matchGroup).length===Object.keys(U).length&&(m.splice(k,1),k--);break}k++}F(m,"_constraintGroup");var G=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],O=!1,J=!1;function X(){j=Y[z],z==="rangebreaks"&&(J=Y._hasDayOfWeekBreaks)}for(k=0;k<w.length;k++){U=w[k];for(var it=0;it<G.length;it++){z=G[it],j=null;var at;for(D in U)if(C=t(D),T=v[C],Y=g[C],z in Y){if(!Y.matches&&(at=Y,z in T)){X();break}j===null&&z in T&&X()}if(z==="range"&&j&&T.range&&T.range.length===2&&T.range[0]!==null&&T.range[1]!==null&&(O=!0),z==="autorange"&&j===null&&O&&(j=!1),j===null&&z in at&&(j=at[z]),j!==null)for(D in U)Y=g[t(D)],Y[z]=z==="range"?j.slice():j,z==="rangebreaks"&&(Y._hasDayOfWeekBreaks=J,n(Y,g))}}};function f(v,g,x){var u=x.axIds,d=x.layoutOut,m=x.hasImage,w=d._axisConstraintGroups,k=d._axisMatchGroups,U=g._id,D=U.charAt(0),C=((d._splomAxes||{})[D]||{})[U]||{},T=g._id,Y=T.charAt(0)==="x";g._matchGroup=null,g._constraintGroup=null;function z(H,q){return P.coerce(v,g,a,H,q)}z("constrain",m?"domain":"range"),P.coerce(v,g,{constraintoward:{valType:"enumerated",values:Y?["left","center","right"]:["bottom","middle","top"],dflt:Y?"center":"middle"}},"constraintoward");var j=g.type,F,R,Z=[];for(F=0;F<u.length;F++)if(R=u[F],R!==T){var G=d[t(R)];G.type===j&&Z.push(R)}var O=p(w,T);if(O){var J=[];for(F=0;F<Z.length;F++)R=Z[F],O[R]||J.push(R);Z=J}var X=Z.length,it,at;X&&(v.matches||C.matches)&&(it=P.coerce(v,g,{matches:{valType:"enumerated",values:Z,dflt:Z.indexOf(C.matches)!==-1?C.matches:void 0}},"matches"));var ot=m&&!Y?g.anchor:void 0;if(X&&!it&&(v.scaleanchor||ot)&&(at=P.coerce(v,g,{scaleanchor:{valType:"enumerated",values:Z.concat([!1])}},"scaleanchor",ot)),it){g._matchGroup=c(k,T,it,1);var ht=d[t(it)],pt=e(d,g)/e(d,ht);Y!==(it.charAt(0)==="x")&&(pt=(Y?"x":"y")+pt),c(w,T,it,pt)}else v.matches&&u.indexOf(v.matches)!==-1&&P.warn("ignored "+g._name+'.matches: "'+v.matches+'" to avoid an infinite loop');if(at){var yt=z("scaleratio");yt||(yt=g.scaleratio=1),c(w,T,at,yt)}else v.scaleanchor&&u.indexOf(v.scaleanchor)!==-1&&P.warn("ignored "+g._name+'.scaleanchor: "'+v.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function e(v,g){var x=g.domain;return x||(x=v[t(g.overlaying)].domain),x[1]-x[0]}function p(v,g){for(var x=0;x<v.length;x++)if(v[x][g])return v[x];return null}function c(v,g,x,u){var d,m,w,k,U,D=p(v,g);D===null?(D={},D[g]=1,U=v.length,v.push(D)):U=v.indexOf(D);var C=Object.keys(D);for(d=0;d<v.length;d++)if(w=v[d],d!==U&&w[x]){var T=w[x];for(m=0;m<C.length;m++)k=C[m],w[k]=h(T,h(u,D[k]));v.splice(U,1);return}if(u!==1)for(m=0;m<C.length;m++){var Y=C[m];D[Y]=h(u,D[Y])}D[x]=1}function h(v,g){var x="",u="",d,m;typeof v=="string"&&(x=v.match(/^[xy]*/)[0],d=x.length,v=+v.substr(d)),typeof g=="string"&&(u=g.match(/^[xy]*/)[0],m=u.length,g=+g.substr(m));var w=v*g;return!d&&!m?w:!d||!m||x.charAt(0)===u.charAt(0)?x+u+v*g:d===m?w:(d>m?x.substr(m):u.substr(d))+w}function _(v,g){for(var x=g._size,u=x.h/x.w,d={},m=Object.keys(v),w=0;w<m.length;w++){var k=m[w],U=v[k];if(typeof U=="string"){var D=U.match(/^[xy]*/)[0],C=D.length;U=+U.substr(C);for(var T=D.charAt(0)==="y"?u:1/u,Y=0;Y<C;Y++)U*=T}d[k]=U}return d}E.enforce=function(v){var g=v._fullLayout,x=g._axisConstraintGroups||[],u,d,m,w,k,U,D,C;for(u=0;u<x.length;u++){m=_(x[u],g);var T=Object.keys(m),Y=1/0,z=0,j=1/0,F={},R={},Z=!1;for(d=0;d<T.length;d++)w=T[d],R[w]=k=g[t(w)],k._inputDomain?k.domain=k._inputDomain.slice():k._inputDomain=k.domain.slice(),k._inputRange||(k._inputRange=k.range.slice()),k.setScale(),F[w]=U=Math.abs(k._m)/m[w],Y=Math.min(Y,U),(k.constrain==="domain"||!k._constraintShrinkable)&&(j=Math.min(j,U)),delete k._constraintShrinkable,z=Math.max(z,U),k.constrain==="domain"&&(Z=!0);if(!(Y>o*z&&!Z)){for(d=0;d<T.length;d++)if(w=T[d],U=F[w],k=R[w],D=k.constrain,U!==j||D==="domain")if(C=U/j,D==="range")l(k,C);else{var G=k._inputDomain,O=(k.domain[1]-k.domain[0])/(G[1]-G[0]),J=(k.r2l(k.range[1])-k.r2l(k.range[0]))/(k.r2l(k._inputRange[1])-k.r2l(k._inputRange[0]));if(C/=O,C*J<1){k.domain=k._input.domain=G.slice(),l(k,C);continue}if(J<1&&(k.range=k._input.range=k._inputRange.slice(),C*=J),k.autorange){var X=k.r2l(k.range[0]),it=k.r2l(k.range[1]),at=(X+it)/2,ot=at,ht=at,pt=Math.abs(it-at),yt=at-pt*C*1.0001,H=at+pt*C*1.0001,q=i.makePadFn(g,k,0),A=i.makePadFn(g,k,1);y(k,C);var W=Math.abs(k._m),rt=i.concatExtremes(v,k),I=rt.min,M=rt.max,S,N;for(N=0;N<I.length;N++)S=I[N].val-q(I[N])/W,S>yt&&S<ot&&(ot=S);for(N=0;N<M.length;N++)S=M[N].val+A(M[N])/W,S<H&&S>ht&&(ht=S);var V=(ht-ot)/(2*pt);C/=V,ot=k.l2r(ot),ht=k.l2r(ht),k.range=k._input.range=X<it?[ot,ht]:[ht,ot]}y(k,C)}}}},E.getAxisGroup=function(v,g){for(var x=v._axisMatchGroups,u=0;u<x.length;u++){var d=x[u];if(d[g])return"g"+u}return g},E.clean=function(v,g){if(g._inputDomain){for(var x=!1,u=g._id,d=v._fullLayout._axisConstraintGroups,m=0;m<d.length;m++)if(d[m][u]){x=!0;break}(!x||g.constrain!=="domain")&&(g._input.domain=g.domain=g._inputDomain,delete g._inputDomain)}};function y(v,g){var x=v._inputDomain,u=s[v.constraintoward],d=x[0]+(x[1]-x[0])*u;v.domain=v._input.domain=[d+(x[0]-d)/g,d+(x[1]-d)/g],v.setScale()}}),lo=Mt(E=>{var P=Ke(),i=da(),t=hr(),a=Oe(),l=Pr(),n=to(),o=Ta(),s=Ga(),f=si(),e=Ol(),p=Ka(),c=Rr(),h=fi(),_=h.enforce,y=h.clean,v=ui().doAutoRange,g="start",x="middle",u="end",d=Sr().zindexSeparator;E.layoutStyles=function(O){return a.syncOrAsync([t.doAutoMargin,w],O)};function m(O,J,X){for(var it=0;it<X.length;it++){var at=X[it][0],ot=X[it][1];if(!(at[0]>=O[1]||at[1]<=O[0])&&ot[0]<J[1]&&ot[1]>J[0])return!0}return!1}function w(O){var J=O._fullLayout,X=J._size,it=X.p,at=p.list(O,"",!0),ot,ht,pt,yt,H,q;if(J._paperdiv.style({width:O._context.responsive&&J.autosize&&!O._context._hasZeroWidth&&!O.layout.width?"100%":J.width+"px",height:O._context.responsive&&J.autosize&&!O._context._hasZeroHeight&&!O.layout.height?"100%":J.height+"px"}).selectAll(".main-svg").call(s.setSize,J.width,J.height),O._context.setBackground(O,J.paper_bgcolor),E.drawMainTitle(O),e.manage(O),!J._has("cartesian"))return t.previousPromises(O);function A(Q,st,ft){var _t=Q._lw/2;if(Q._id.charAt(0)==="x"){if(st){if(ft==="top")return st._offset-it-_t}else return X.t+X.h*(1-(Q.position||0))+_t%1;return st._offset+st._length+it+_t}if(st){if(ft==="right")return st._offset+st._length+it+_t}else return X.l+X.w*(Q.position||0)+_t%1;return st._offset-it-_t}for(ot=0;ot<at.length;ot++){yt=at[ot];var W=yt._anchorAxis;yt._linepositions={},yt._lw=s.crispRound(O,yt.linewidth,1),yt._mainLinePosition=A(yt,W,yt.side),yt._mainMirrorPosition=yt.mirror&&W?A(yt,W,c.OPPOSITE_SIDE[yt.side]):null}var rt=[],I=[],M=[],S=o.opacity(J.paper_bgcolor)===1&&o.opacity(J.plot_bgcolor)===1&&J.paper_bgcolor===J.plot_bgcolor;for(ht in J._plots)if(pt=J._plots[ht],pt.mainplot)pt.bg&&pt.bg.remove(),pt.bg=void 0;else{var N=pt.xaxis.domain,V=pt.yaxis.domain,nt=pt.plotgroup;if(m(N,V,M)&&ht.indexOf(d)===-1){var ut=nt.node(),ct=pt.bg=a.ensureSingle(nt,"rect","bg");ut.insertBefore(ct.node(),ut.childNodes[0]),I.push(ht)}else nt.select("rect.bg").remove(),M.push([N,V]),S||(rt.push(ht),I.push(ht))}var bt=J._bgLayer.selectAll(".bg").data(rt);for(bt.enter().append("rect").classed("bg",!0),bt.exit().remove(),bt.each(function(Q){J._plots[Q].bg=P.select(this)}),ot=0;ot<I.length;ot++)pt=J._plots[I[ot]],H=pt.xaxis,q=pt.yaxis,pt.bg&&H._offset!==void 0&&q._offset!==void 0&&pt.bg.call(s.setRect,H._offset-it,q._offset-it,H._length+2*it,q._length+2*it).call(o.fill,J.plot_bgcolor).style("stroke-width",0);if(!J._hasOnlyLargeSploms)for(ht in J._plots){pt=J._plots[ht],H=pt.xaxis,q=pt.yaxis;var kt=pt.clipId="clip"+J._uid+ht+"plot",Et=a.ensureSingleById(J._clips,"clipPath",kt,function(Q){Q.classed("plotclip",!0).append("rect")});pt.clipRect=Et.select("rect").attr({width:H._length,height:q._length}),s.setTranslate(pt.plot,H._offset,q._offset);var Gt,Vt;pt._hasClipOnAxisFalse?(Gt=null,Vt=kt):(Gt=kt,Vt=null),s.setClipUrl(pt.plot,Gt,O),pt.layerClipId=Vt}var Ht,vt,xt,lt,At,Rt,Ut,te,Wt,ae,ne,re,de;function $t(Q){return"M"+Ht+","+Q+"H"+vt}function ve(Q){return"M"+H._offset+","+Q+"h"+H._length}function xe(Q){return"M"+Q+","+te+"V"+Ut}function pe(Q){return q._shift!==void 0&&(Q+=q._shift),"M"+Q+","+q._offset+"v"+q._length}function _e(Q,st,ft){if(!Q.showline||ht!==Q._mainSubplot)return"";if(!Q._anchorAxis)return ft(Q._mainLinePosition);var _t=st(Q._mainLinePosition);return Q.mirror&&(_t+=st(Q._mainMirrorPosition)),_t}for(ht in J._plots){pt=J._plots[ht],H=pt.xaxis,q=pt.yaxis;var mt="M0,0";k(H,ht)&&(At=D(H,"left",q,at),Ht=H._offset-(At?it+At:0),Rt=D(H,"right",q,at),vt=H._offset+H._length+(Rt?it+Rt:0),xt=A(H,q,"bottom"),lt=A(H,q,"top"),de=!H._anchorAxis||ht!==H._mainSubplot,de&&(H.mirror==="allticks"||H.mirror==="all")&&(H._linepositions[ht]=[xt,lt]),mt=_e(H,$t,ve),de&&H.showline&&(H.mirror==="all"||H.mirror==="allticks")&&(mt+=$t(xt)+$t(lt)),pt.xlines.style("stroke-width",H._lw+"px").call(o.stroke,H.showline?H.linecolor:"rgba(0,0,0,0)")),pt.xlines.attr("d",mt);var Ct="M0,0";k(q,ht)&&(ne=D(q,"bottom",H,at),Ut=q._offset+q._length+(ne?it:0),re=D(q,"top",H,at),te=q._offset-(re?it:0),Wt=A(q,H,"left"),ae=A(q,H,"right"),de=!q._anchorAxis||ht!==q._mainSubplot,de&&(q.mirror==="allticks"||q.mirror==="all")&&(q._linepositions[ht]=[Wt,ae]),Ct=_e(q,xe,pe),de&&q.showline&&(q.mirror==="all"||q.mirror==="allticks")&&(Ct+=xe(Wt)+xe(ae)),pt.ylines.style("stroke-width",q._lw+"px").call(o.stroke,q.showline?q.linecolor:"rgba(0,0,0,0)")),pt.ylines.attr("d",Ct)}return p.makeClipPaths(O),t.previousPromises(O)}function k(O,J){return(O.ticks||O.showline)&&(J===O._mainSubplot||O.mirror==="all"||O.mirror==="allticks")}function U(O,J,X){if(!X.showline||!X._lw)return!1;if(X.mirror==="all"||X.mirror==="allticks")return!0;var it=X._anchorAxis;if(!it)return!1;var at=c.FROM_BL[J];return X.side===J?it.domain[at]===O.domain[at]:X.mirror&&it.domain[1-at]===O.domain[1-at]}function D(O,J,X,it){if(U(O,J,X))return X._lw;for(var at=0;at<it.length;at++){var ot=it[at];if(ot._mainAxis===X._mainAxis&&U(O,J,ot))return ot._lw}return 0}E.drawMainTitle=function(O){var J=O._fullLayout.title,X=O._fullLayout,it=Z(X),at=G(X),ot=F(X,at),ht=j(X,it);if(f.draw(O,"gtitle",{propContainer:X,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:X._dfltTitle.plot,subtitlePlaceholder:X._dfltTitle.subtitle,attributes:{x:ht,y:ot,"text-anchor":it,dy:at}}),J.text&&J.automargin){var pt=P.select(O).selectAll(".gtitle"),yt=s.bBox(P.select(O).selectAll(".g-gtitle").node()).height,H=Y(O,J,yt);if(H>0){z(O,ot,H,yt),pt.attr({x:ht,y:ot,"text-anchor":it,dy:R(J.yanchor)}).call(l.positionText,ht,ot);var q=(J.text.match(l.BR_TAG_ALL)||[]).length;if(q){var A=c.LINE_SPACING*q+c.MID_SHIFT;J.y===0&&(A=-A),pt.selectAll(".line").each(function(){var S=+this.getAttribute("dy").slice(0,-2)-A+"em";this.setAttribute("dy",S)})}var W=P.select(O).selectAll(".gtitle-subtitle");if(W.node()){var rt=pt.node().getBBox(),I=rt.y+rt.height,M=I+f.SUBTITLE_PADDING_EM*J.subtitle.font.size;W.attr({x:ht,y:M,"text-anchor":it,dy:R(J.yanchor)}).call(l.positionText,ht,M)}}}};function C(O,J,X,it,at){var ot=J.yref==="paper"?O._fullLayout._size.h:O._fullLayout.height,ht=a.isTopAnchor(J)?it:it-at,pt=X==="b"?ot-ht:ht;return a.isTopAnchor(J)&&X==="t"||a.isBottomAnchor(J)&&X==="b"?!1:pt<at}function T(O,J,X,it,at){var ot=0;return X==="middle"&&(ot+=at/2),O==="t"?(X==="top"&&(ot+=at),ot+=it-J*it):(X==="bottom"&&(ot+=at),ot+=J*it),ot}function Y(O,J,X){var it=J.y,at=J.yanchor,ot=it>.5?"t":"b",ht=O._fullLayout.margin[ot],pt=0;return J.yref==="paper"?pt=X+J.pad.t+J.pad.b:J.yref==="container"&&(pt=T(ot,it,at,O._fullLayout.height,X)+J.pad.t+J.pad.b),pt>ht?pt:0}function z(O,J,X,it){var at="title.automargin",ot=O._fullLayout.title,ht=ot.y>.5?"t":"b",pt={x:ot.x,y:ot.y,t:0,b:0},yt={};ot.yref==="paper"&&C(O,ot,ht,J,it)?pt[ht]=X:ot.yref==="container"&&(yt[ht]=X,O._fullLayout._reservedMargin[at]=yt),t.allowAutoMargin(O,at),t.autoMargin(O,at,pt)}function j(O,J){var X=O.title,it=O._size,at=0;switch(J===g?at=X.pad.l:J===u&&(at=-X.pad.r),X.xref){case"paper":return it.l+it.w*X.x+at;case"container":default:return O.width*X.x+at}}function F(O,J){var X=O.title,it=O._size,at=0;if(J==="0em"||!J?at=-X.pad.b:J===c.CAP_SHIFT+"em"&&(at=X.pad.t),X.y==="auto")return it.t/2;switch(X.yref){case"paper":return it.t+it.h-it.h*X.y+at;case"container":default:return O.height-O.height*X.y+at}}function R(O){return O==="top"?c.CAP_SHIFT+.3+"em":O==="bottom"?"-0.3em":c.MID_SHIFT+"em"}function Z(O){var J=O.title,X=x;return a.isRightAnchor(J)?X=u:a.isLeftAnchor(J)&&(X=g),X}function G(O){var J=O.title,X="0em";return a.isTopAnchor(J)?X=c.CAP_SHIFT+"em":a.isMiddleAnchor(J)&&(X=c.MID_SHIFT+"em"),X}E.doTraceStyle=function(O){var J=O.calcdata,X=[],it;for(it=0;it<J.length;it++){var at=J[it],ot=at[0]||{},ht=ot.trace||{},pt=ht._module||{},yt=pt.arraysToCalcdata;yt&&yt(at,ht);var H=pt.editStyle;H&&X.push({fn:H,cd0:ot})}if(X.length){for(it=0;it<X.length;it++){var q=X[it];q.fn(O,q.cd0)}n(O),E.redrawReglTraces(O)}return t.style(O),i.getComponentMethod("legend","draw")(O),t.previousPromises(O)},E.doColorBars=function(O){return i.getComponentMethod("colorbar","draw")(O),t.previousPromises(O)},E.layoutReplot=function(O){var J=O.layout;return O.layout=void 0,i.call("_doPlot",O,"",J)},E.doLegend=function(O){return i.getComponentMethod("legend","draw")(O),t.previousPromises(O)},E.doTicksRelayout=function(O){return p.draw(O,"redraw"),O._fullLayout._hasOnlyLargeSploms&&(i.subplotsRegistry.splom.updateGrid(O),n(O),E.redrawReglTraces(O)),E.drawMainTitle(O),t.previousPromises(O)},E.doModeBar=function(O){var J=O._fullLayout;e.manage(O);for(var X=0;X<J._basePlotModules.length;X++){var it=J._basePlotModules[X].updateFx;it&&it(O)}return t.previousPromises(O)},E.doCamera=function(O){for(var J=O._fullLayout,X=J._subplots.gl3d,it=0;it<X.length;it++){var at=J[X[it]],ot=at._scene;ot.setViewport(at)}},E.drawData=function(O){var J=O._fullLayout;n(O);for(var X=J._basePlotModules,it=0;it<X.length;it++)X[it].plot(O);return E.redrawReglTraces(O),t.style(O),i.getComponentMethod("selections","draw")(O),i.getComponentMethod("shapes","draw")(O),i.getComponentMethod("annotations","draw")(O),i.getComponentMethod("images","draw")(O),J._replotting=!1,t.previousPromises(O)},E.redrawReglTraces=function(O){var J=O._fullLayout;if(J._has("regl")){var X=O._fullData,it=[],at=[],ot,ht;for(J._hasOnlyLargeSploms&&J._splomGrid.draw(),ot=0;ot<X.length;ot++){var pt=X[ot];pt.visible===!0&&pt._length!==0&&(pt.type==="splom"?J._splomScenes[pt.uid].draw():pt.type==="scattergl"?a.pushUnique(it,pt.xaxis+pt.yaxis):pt.type==="scatterpolargl"&&a.pushUnique(at,pt.subplot))}for(ot=0;ot<it.length;ot++)ht=J._plots[it[ot]],ht._scene&&ht._scene.draw();for(ot=0;ot<at.length;ot++)ht=J[at[ot]]._subplot,ht._scene&&ht._scene.draw()}},E.doAutoRangeAndConstraints=function(O){for(var J=p.list(O,"",!0),X,it={},at=0;at<J.length;at++)if(X=J[at],!it[X._id]){it[X._id]=1,y(O,X),v(O,X);var ot=X._matchGroup;if(ot)for(var ht in ot){var pt=p.getFromId(O,ht);v(O,pt,X.range),it[ht]=1}}_(O)},E.finalDraw=function(O){i.getComponentMethod("rangeslider","draw")(O),i.getComponentMethod("rangeselector","draw")(O)},E.drawMarginPushers=function(O){i.getComponentMethod("legend","draw")(O),i.getComponentMethod("rangeselector","draw")(O),i.getComponentMethod("sliders","draw")(O),i.getComponentMethod("updatemenus","draw")(O),i.getComponentMethod("colorbar","draw")(O)}}),Pl=Mt((E,P)=>{var i=An().readPaths,t=io(),a=Tn().clearOutlineControllers,l=Ta(),n=Ga(),o=$a().arrayEditor,s=Ln(),f=s.getPathString;P.exports={draw:e,drawOne:c,activateLastSelection:y};function e(g){var x=g._fullLayout;a(g),x._selectionLayer.selectAll("path").remove();for(var u in x._plots){var d=x._plots[u].selectionLayer;d&&d.selectAll("path").remove()}for(var m=0;m<x.selections.length;m++)c(g,m)}function p(g){return g._context.editSelection}function c(g,x){g._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+x+'"]').remove();var u=s.makeSelectionsOptionsAndPlotinfo(g,x),d=u.options,m=u.plotinfo;if(!d._input)return;w(g._fullLayout._selectionLayer);function w(k){var U=f(g,d),D={"data-index":x,"fill-rule":"evenodd",d:U},C=d.opacity,T="rgba(0,0,0,0)",Y=d.line.color||l.contrast(g._fullLayout.plot_bgcolor),z=d.line.width,j=d.line.dash;z||(z=5,j="solid");var F=p(g)&&g._fullLayout._activeSelectionIndex===x;F&&(T=g._fullLayout.activeselection.fillcolor,C=g._fullLayout.activeselection.opacity);for(var R=[],Z=1;Z>=0;Z--){var G=k.append("path").attr(D).style("opacity",Z?.1:C).call(l.stroke,Y).call(l.fill,T).call(n.dashLine,Z?"solid":j,Z?4+z:z);if(h(G,g,d),F){var O=o(g.layout,"selections",d);G.style({cursor:"move"});var J={element:G.node(),plotinfo:m,gd:g,editHelpers:O,isActiveSelection:!0},X=i(U,g);t(X,G,J)}else G.style("pointer-events",Z?"all":"none");R[Z]=G}var it=R[0],at=R[1];at.node().addEventListener("click",function(){return _(g,it)})}}function h(g,x,u){var d=u.xref+u.yref;n.setClipUrl(g,"clip"+x._fullLayout._uid+d,x)}function _(g,x){if(p(g)){var u=x.node(),d=+u.getAttribute("data-index");if(d>=0){if(d===g._fullLayout._activeSelectionIndex){v(g);return}g._fullLayout._activeSelectionIndex=d,g._fullLayout._deactivateSelection=v,e(g)}}}function y(g){if(p(g)){var x=g._fullLayout.selections.length-1;g._fullLayout._activeSelectionIndex=x,g._fullLayout._deactivateSelection=v,e(g)}}function v(g){if(p(g)){var x=g._fullLayout._activeSelectionIndex;x>=0&&(a(g),delete g._fullLayout._activeSelectionIndex,e(g))}}}),Ec=Mt((E,P)=>{function i(){var t,a=0,l=!1;function n(o,s){return t.list.push({type:o,data:s?JSON.parse(JSON.stringify(s)):void 0}),t}return t={list:[],segmentId:function(){return a++},checkIntersection:function(o,s){return n("check",{seg1:o,seg2:s})},segmentChop:function(o,s){return n("div_seg",{seg:o,pt:s}),n("chop",{seg:o,pt:s})},statusRemove:function(o){return n("pop_seg",{seg:o})},segmentUpdate:function(o){return n("seg_update",{seg:o})},segmentNew:function(o,s){return n("new_seg",{seg:o,primary:s})},segmentRemove:function(o){return n("rem_seg",{seg:o})},tempStatus:function(o,s,f){return n("temp_status",{seg:o,above:s,below:f})},rewind:function(o){return n("rewind",{seg:o})},status:function(o,s,f){return n("status",{seg:o,above:s,below:f})},vert:function(o){return o===l?t:(l=o,n("vert",{x:o}))},log:function(o){return typeof o!="string"&&(o=JSON.stringify(o,!1,"  ")),n("log",{txt:o})},reset:function(){return n("reset")},selected:function(o){return n("selected",{segs:o})},chainStart:function(o){return n("chain_start",{seg:o})},chainRemoveHead:function(o,s){return n("chain_rem_head",{index:o,pt:s})},chainRemoveTail:function(o,s){return n("chain_rem_tail",{index:o,pt:s})},chainNew:function(o,s){return n("chain_new",{pt1:o,pt2:s})},chainMatch:function(o){return n("chain_match",{index:o})},chainClose:function(o){return n("chain_close",{index:o})},chainAddHead:function(o,s){return n("chain_add_head",{index:o,pt:s})},chainAddTail:function(o,s){return n("chain_add_tail",{index:o,pt:s})},chainConnect:function(o,s){return n("chain_con",{index1:o,index2:s})},chainReverse:function(o){return n("chain_rev",{index:o})},chainJoin:function(o,s){return n("chain_join",{index1:o,index2:s})},done:function(){return n("done")}},t}P.exports=i}),Fc=Mt((E,P)=>{function i(t){typeof t!="number"&&(t=1e-10);var a={epsilon:function(l){return typeof l=="number"&&(t=l),t},pointAboveOrOnLine:function(l,n,o){var s=n[0],f=n[1],e=o[0],p=o[1],c=l[0],h=l[1];return(e-s)*(h-f)-(p-f)*(c-s)>=-t},pointBetween:function(l,n,o){var s=l[1]-n[1],f=o[0]-n[0],e=l[0]-n[0],p=o[1]-n[1],c=e*f+s*p;if(c<t)return!1;var h=f*f+p*p;return!(c-h>-t)},pointsSameX:function(l,n){return Math.abs(l[0]-n[0])<t},pointsSameY:function(l,n){return Math.abs(l[1]-n[1])<t},pointsSame:function(l,n){return a.pointsSameX(l,n)&&a.pointsSameY(l,n)},pointsCompare:function(l,n){return a.pointsSameX(l,n)?a.pointsSameY(l,n)?0:l[1]<n[1]?-1:1:l[0]<n[0]?-1:1},pointsCollinear:function(l,n,o){var s=l[0]-n[0],f=l[1]-n[1],e=n[0]-o[0],p=n[1]-o[1];return Math.abs(s*p-e*f)<t},linesIntersect:function(l,n,o,s){var f=n[0]-l[0],e=n[1]-l[1],p=s[0]-o[0],c=s[1]-o[1],h=f*c-e*p;if(Math.abs(h)<t)return!1;var _=l[0]-o[0],y=l[1]-o[1],v=(p*y-c*_)/h,g=(f*y-e*_)/h,x={alongA:0,alongB:0,pt:[l[0]+v*f,l[1]+v*e]};return v<=-t?x.alongA=-2:v<t?x.alongA=-1:v-1<=-t?x.alongA=0:v-1<t?x.alongA=1:x.alongA=2,g<=-t?x.alongB=-2:g<t?x.alongB=-1:g-1<=-t?x.alongB=0:g-1<t?x.alongB=1:x.alongB=2,x},pointInsideRegion:function(l,n){for(var o=l[0],s=l[1],f=n[n.length-1][0],e=n[n.length-1][1],p=!1,c=0;c<n.length;c++){var h=n[c][0],_=n[c][1];_-s>t!=e-s>t&&(f-h)*(s-_)/(e-_)+h-o>t&&(p=!p),f=h,e=_}return p}};return a}P.exports=i}),Nc=Mt((E,P)=>{var i={create:function(){var t={root:{root:!0,next:null},exists:function(a){return!(a===null||a===t.root)},isEmpty:function(){return t.root.next===null},getHead:function(){return t.root.next},insertBefore:function(a,l){for(var n=t.root,o=t.root.next;o!==null;){if(l(o)){a.prev=o.prev,a.next=o,o.prev.next=a,o.prev=a;return}n=o,o=o.next}n.next=a,a.prev=n,a.next=null},findTransition:function(a){for(var l=t.root,n=t.root.next;n!==null&&!a(n);)l=n,n=n.next;return{before:l===t.root?null:l,after:n,insert:function(o){return o.prev=l,o.next=n,l.next=o,n!==null&&(n.prev=o),o}}}};return t},node:function(t){return t.prev=null,t.next=null,t.remove=function(){t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.prev=null,t.next=null},t}};P.exports=i}),Rc=Mt((E,P)=>{var i=Nc();function t(a,l,n){function o(x,u){return{id:n?n.segmentId():-1,start:x,end:u,myFill:{above:null,below:null},otherFill:null}}function s(x,u,d){return{id:n?n.segmentId():-1,start:x,end:u,myFill:{above:d.myFill.above,below:d.myFill.below},otherFill:null}}var f=i.create();function e(x,u,d,m,w,k){var U=l.pointsCompare(u,w);return U!==0?U:l.pointsSame(d,k)?0:x!==m?x?1:-1:l.pointAboveOrOnLine(d,m?w:k,m?k:w)?1:-1}function p(x,u){f.insertBefore(x,function(d){var m=e(x.isStart,x.pt,u,d.isStart,d.pt,d.other.pt);return m<0})}function c(x,u){var d=i.node({isStart:!0,pt:x.start,seg:x,primary:u,other:null,status:null});return p(d,x.end),d}function h(x,u,d){var m=i.node({isStart:!1,pt:u.end,seg:u,primary:d,other:x,status:null});x.other=m,p(m,x.pt)}function _(x,u){var d=c(x,u);return h(d,x,u),d}function y(x,u){n&&n.segmentChop(x.seg,u),x.other.remove(),x.seg.end=u,x.other.pt=u,p(x.other,x.pt)}function v(x,u){var d=s(u,x.seg.end,x.seg);return y(x,u),_(d,x.primary)}function g(x,u){var d=i.create();function m(G,O){var J=G.seg.start,X=G.seg.end,it=O.seg.start,at=O.seg.end;return l.pointsCollinear(J,it,at)?l.pointsCollinear(X,it,at)||l.pointAboveOrOnLine(X,it,at)?1:-1:l.pointAboveOrOnLine(J,it,at)?1:-1}function w(G){return d.findTransition(function(O){var J=m(G,O.ev);return J>0})}function k(G,O){var J=G.seg,X=O.seg,it=J.start,at=J.end,ot=X.start,ht=X.end;n&&n.checkIntersection(J,X);var pt=l.linesIntersect(it,at,ot,ht);if(pt===!1){if(!l.pointsCollinear(it,at,ot)||l.pointsSame(it,ht)||l.pointsSame(at,ot))return!1;var yt=l.pointsSame(it,ot),H=l.pointsSame(at,ht);if(yt&&H)return O;var q=!yt&&l.pointBetween(it,ot,ht),A=!H&&l.pointBetween(at,ot,ht);if(yt)return A?v(O,at):v(G,ht),O;q&&(H||(A?v(O,at):v(G,ht)),v(O,it))}else pt.alongA===0&&(pt.alongB===-1?v(G,ot):pt.alongB===0?v(G,pt.pt):pt.alongB===1&&v(G,ht)),pt.alongB===0&&(pt.alongA===-1?v(O,it):pt.alongA===0?v(O,pt.pt):pt.alongA===1&&v(O,at));return!1}for(var U=[];!f.isEmpty();){var D=f.getHead();if(n&&n.vert(D.pt[0]),D.isStart){let G=function(){if(T){var O=k(D,T);if(O)return O}return Y?k(D,Y):!1};n&&n.segmentNew(D.seg,D.primary);var C=w(D),T=C.before?C.before.ev:null,Y=C.after?C.after.ev:null;n&&n.tempStatus(D.seg,T?T.seg:!1,Y?Y.seg:!1);var z=G();if(z){if(a){var j;D.seg.myFill.below===null?j=!0:j=D.seg.myFill.above!==D.seg.myFill.below,j&&(z.seg.myFill.above=!z.seg.myFill.above)}else z.seg.otherFill=D.seg.myFill;n&&n.segmentUpdate(z.seg),D.other.remove(),D.remove()}if(f.getHead()!==D){n&&n.rewind(D.seg);continue}if(a){var j;D.seg.myFill.below===null?j=!0:j=D.seg.myFill.above!==D.seg.myFill.below,Y?D.seg.myFill.below=Y.seg.myFill.above:D.seg.myFill.below=x,j?D.seg.myFill.above=!D.seg.myFill.below:D.seg.myFill.above=D.seg.myFill.below}else if(D.seg.otherFill===null){var F;Y?D.primary===Y.primary?F=Y.seg.otherFill.above:F=Y.seg.myFill.above:F=D.primary?u:x,D.seg.otherFill={above:F,below:F}}n&&n.status(D.seg,T?T.seg:!1,Y?Y.seg:!1),D.other.status=C.insert(i.node({ev:D}))}else{var R=D.status;if(R===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(d.exists(R.prev)&&d.exists(R.next)&&k(R.prev.ev,R.next.ev),n&&n.statusRemove(R.ev.seg),R.remove(),!D.primary){var Z=D.seg.myFill;D.seg.myFill=D.seg.otherFill,D.seg.otherFill=Z}U.push(D.seg)}f.getHead().remove()}return n&&n.done(),U}return a?{addRegion:function(x){for(var u,d=x[x.length-1],m=0;m<x.length;m++){u=d,d=x[m];var w=l.pointsCompare(u,d);w!==0&&_(o(w<0?u:d,w<0?d:u),!0)}},calculate:function(x){return g(x,!1)}}:{calculate:function(x,u,d,m){return x.forEach(function(w){_(s(w.start,w.end,w),!0)}),d.forEach(function(w){_(s(w.start,w.end,w),!1)}),g(u,m)}}}P.exports=t}),jc=Mt((E,P)=>{function i(t,a,l){var n=[],o=[];return t.forEach(function(s){var f=s.start,e=s.end;if(a.pointsSame(f,e)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}l&&l.chainStart(s);var p={index:0,matches_head:!1,matches_pt1:!1},c={index:0,matches_head:!1,matches_pt1:!1},h=p;function _(F,R,Z){return h.index=F,h.matches_head=R,h.matches_pt1=Z,h===p?(h=c,!1):(h=null,!0)}for(var y=0;y<n.length;y++){var v=n[y],g=v[0];v[1];var x=v[v.length-1];if(v[v.length-2],a.pointsSame(g,f)){if(_(y,!0,!0))break}else if(a.pointsSame(g,e)){if(_(y,!0,!1))break}else if(a.pointsSame(x,f)){if(_(y,!1,!0))break}else if(a.pointsSame(x,e)&&_(y,!1,!1))break}if(h===p){n.push([f,e]),l&&l.chainNew(f,e);return}if(h===c){l&&l.chainMatch(p.index);var u=p.index,d=p.matches_pt1?e:f,m=p.matches_head,v=n[u],w=m?v[0]:v[v.length-1],k=m?v[1]:v[v.length-2],U=m?v[v.length-1]:v[0],D=m?v[v.length-2]:v[1];if(a.pointsCollinear(k,w,d)&&(m?(l&&l.chainRemoveHead(p.index,d),v.shift()):(l&&l.chainRemoveTail(p.index,d),v.pop()),w=k),a.pointsSame(U,d)){n.splice(u,1),a.pointsCollinear(D,U,w)&&(m?(l&&l.chainRemoveTail(p.index,w),v.pop()):(l&&l.chainRemoveHead(p.index,w),v.shift())),l&&l.chainClose(p.index),o.push(v);return}m?(l&&l.chainAddHead(p.index,d),v.unshift(d)):(l&&l.chainAddTail(p.index,d),v.push(d));return}function C(F){l&&l.chainReverse(F),n[F].reverse()}function T(F,R){var Z=n[F],G=n[R],O=Z[Z.length-1],J=Z[Z.length-2],X=G[0],it=G[1];a.pointsCollinear(J,O,X)&&(l&&l.chainRemoveTail(F,O),Z.pop(),O=J),a.pointsCollinear(O,X,it)&&(l&&l.chainRemoveHead(R,X),G.shift()),l&&l.chainJoin(F,R),n[F]=Z.concat(G),n.splice(R,1)}var Y=p.index,z=c.index;l&&l.chainConnect(Y,z);var j=n[Y].length<n[z].length;p.matches_head?c.matches_head?j?(C(Y),T(Y,z)):(C(z),T(z,Y)):T(z,Y):c.matches_head?T(Y,z):j?(C(Y),T(z,Y)):(C(z),T(Y,z))}),o}P.exports=i}),Hc=Mt((E,P)=>{function i(a,l,n){var o=[];return a.forEach(function(s){var f=(s.myFill.above?8:0)+(s.myFill.below?4:0)+(s.otherFill&&s.otherFill.above?2:0)+(s.otherFill&&s.otherFill.below?1:0);l[f]!==0&&o.push({id:n?n.segmentId():-1,start:s.start,end:s.end,myFill:{above:l[f]===1,below:l[f]===2},otherFill:null})}),n&&n.selected(o),o}var t={union:function(a,l){return i(a,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],l)},intersect:function(a,l){return i(a,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],l)},difference:function(a,l){return i(a,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],l)},differenceRev:function(a,l){return i(a,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],l)},xor:function(a,l){return i(a,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],l)}};P.exports=t}),Bc=Mt((E,P)=>{var i={toPolygon:function(t,a){function l(s){if(s.length<=0)return t.segments({inverted:!1,regions:[]});function f(c){var h=c.slice(0,c.length-1);return t.segments({inverted:!1,regions:[h]})}for(var e=f(s[0]),p=1;p<s.length;p++)e=t.selectDifference(t.combine(e,f(s[p])));return e}if(a.type==="Polygon")return t.polygon(l(a.coordinates));if(a.type==="MultiPolygon"){for(var n=t.segments({inverted:!1,regions:[]}),o=0;o<a.coordinates.length;o++)n=t.selectUnion(t.combine(n,l(a.coordinates[o])));return t.polygon(n)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,a,l){l=t.polygon(t.segments(l));function n(v,g){return a.pointInsideRegion([(v[0][0]+v[1][0])*.5,(v[0][1]+v[1][1])*.5],g)}function o(v){return{region:v,children:[]}}var s=o(null);function f(v,g){for(var x=0;x<v.children.length;x++){var u=v.children[x];if(n(g,u.region)){f(u,g);return}}for(var d=o(g),x=0;x<v.children.length;x++){var u=v.children[x];n(u.region,g)&&(d.children.push(u),v.children.splice(x,1),x--)}v.children.push(d)}for(var e=0;e<l.regions.length;e++){var p=l.regions[e];p.length<3||f(s,p)}function c(v,g){for(var x=0,u=v[v.length-1][0],d=v[v.length-1][1],m=[],w=0;w<v.length;w++){var k=v[w][0],U=v[w][1];m.push([k,U]),x+=U*u-k*d,u=k,d=U}var D=x<0;return D!==g&&m.reverse(),m.push([m[0][0],m[0][1]]),m}var h=[];function _(v){var g=[c(v.region,!1)];h.push(g);for(var x=0;x<v.children.length;x++)g.push(y(v.children[x]))}function y(v){for(var g=0;g<v.children.length;g++)_(v.children[g]);return c(v.region,!0)}for(var e=0;e<s.children.length;e++)_(s.children[e]);return h.length<=0?{type:"Polygon",coordinates:[]}:h.length==1?{type:"Polygon",coordinates:h[0]}:{type:"MultiPolygon",coordinates:h}}};P.exports=i}),Vc=Mt((E,P)=>{var i=Ec(),t=Fc(),a=Rc(),l=jc(),n=Hc(),o=Bc(),s=!1,f=t(),e;e={buildLog:function(c){return c===!0?s=i():c===!1&&(s=!1),s===!1?!1:s.list},epsilon:function(c){return f.epsilon(c)},segments:function(c){var h=a(!0,f,s);return c.regions.forEach(h.addRegion),{segments:h.calculate(c.inverted),inverted:c.inverted}},combine:function(c,h){var _=a(!1,f,s);return{combined:_.calculate(c.segments,c.inverted,h.segments,h.inverted),inverted1:c.inverted,inverted2:h.inverted}},selectUnion:function(c){return{segments:n.union(c.combined,s),inverted:c.inverted1||c.inverted2}},selectIntersect:function(c){return{segments:n.intersect(c.combined,s),inverted:c.inverted1&&c.inverted2}},selectDifference:function(c){return{segments:n.difference(c.combined,s),inverted:c.inverted1&&!c.inverted2}},selectDifferenceRev:function(c){return{segments:n.differenceRev(c.combined,s),inverted:!c.inverted1&&c.inverted2}},selectXor:function(c){return{segments:n.xor(c.combined,s),inverted:c.inverted1!==c.inverted2}},polygon:function(c){return{regions:l(c.segments,f,s),inverted:c.inverted}},polygonFromGeoJSON:function(c){return o.toPolygon(e,c)},polygonToGeoJSON:function(c){return o.fromPolygon(e,f,c)},union:function(c,h){return p(c,h,e.selectUnion)},intersect:function(c,h){return p(c,h,e.selectIntersect)},difference:function(c,h){return p(c,h,e.selectDifference)},differenceRev:function(c,h){return p(c,h,e.selectDifferenceRev)},xor:function(c,h){return p(c,h,e.selectXor)}};function p(c,h,_){var y=e.segments(c),v=e.segments(h),g=e.combine(y,v),x=_(g);return e.polygon(x)}typeof window=="object"&&(window.PolyBool=e),P.exports=e}),qc=Mt((E,P)=>{P.exports=function(i,t,a,l){var n=i[0],o=i[1],s=!1;a===void 0&&(a=0),l===void 0&&(l=t.length);for(var f=l-a,e=0,p=f-1;e<f;p=e++){var c=t[e+a][0],h=t[e+a][1],_=t[p+a][0],y=t[p+a][1],v=h>o!=y>o&&n<(_-c)*(o-h)/(y-h)+c;v&&(s=!s)}return s}}),zl=Mt((E,P)=>{var i=Hi().dot,t=Fa().BADNUM,a=P.exports={};a.tester=function(l){var n=l.slice(),o=n[0][0],s=o,f=n[0][1],e=f,p;for((n[n.length-1][0]!==n[0][0]||n[n.length-1][1]!==n[0][1])&&n.push(n[0]),p=1;p<n.length;p++)o=Math.min(o,n[p][0]),s=Math.max(s,n[p][0]),f=Math.min(f,n[p][1]),e=Math.max(e,n[p][1]);var c=!1,h;n.length===5&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(c=!0,h=function(x){return x[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(c=!0,h=function(x){return x[1]===n[0][1]}));function _(x,u){var d=x[0],m=x[1];return!(d===t||d<o||d>s||m===t||m<f||m>e||u&&h(x))}function y(x,u){var d=x[0],m=x[1];if(d===t||d<o||d>s||m===t||m<f||m>e)return!1;var w=n.length,k=n[0][0],U=n[0][1],D=0,C,T,Y,z,j;for(C=1;C<w;C++)if(T=k,Y=U,k=n[C][0],U=n[C][1],z=Math.min(T,k),!(d<z||d>Math.max(T,k)||m>Math.max(Y,U)))if(m<Math.min(Y,U))d!==z&&D++;else{if(k===T?j=m:j=Y+(d-T)*(U-Y)/(k-T),m===j)return!(C===1&&u);m<=j&&d!==z&&D++}return D%2===1}var v=!0,g=n[0];for(p=1;p<n.length;p++)if(g[0]!==n[p][0]||g[1]!==n[p][1]){v=!1;break}return{xmin:o,xmax:s,ymin:f,ymax:e,pts:n,contains:c?_:y,isRect:c,degenerate:v}},a.isSegmentBent=function(l,n,o,s){var f=l[n],e=[l[o][0]-f[0],l[o][1]-f[1]],p=i(e,e),c=Math.sqrt(p),h=[-e[1]/c,e[0]/c],_,y,v;for(_=n+1;_<o;_++)if(y=[l[_][0]-f[0],l[_][1]-f[1]],v=i(y,e),v<0||v>p||Math.abs(i(y,h))>s)return!0;return!1},a.filter=function(l,n){var o=[l[0]],s=0,f=0;function e(c){l.push(c);var h=o.length,_=s;o.splice(f+1);for(var y=_+1;y<l.length;y++)(y===l.length-1||a.isSegmentBent(l,_,y+1,n))&&(o.push(l[y]),o.length<h-2&&(s=y,f=o.length-1),_=y)}if(l.length>1){var p=l.pop();e(p)}return{addPt:e,raw:l,filtered:o}}}),Uc=Mt((E,P)=>{P.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}}),Yc=Mt((E,P)=>{var i=Vc(),t=qc(),a=da(),l=Ga().dashStyle,n=Ta(),o=mn(),s=gn().makeEventData,f=Zn(),e=f.freeMode,p=f.rectMode,c=f.drawMode,h=f.openMode,_=f.selectMode,y=Ln(),v=ci(),g=io(),x=Tn().clearOutline,u=An(),d=u.handleEllipse,m=u.readPaths,w=no().newShapes,k=kl(),U=Pl().activateLastSelection,D=Oe(),C=D.sorterAsc,T=zl(),Y=qi(),z=xr().getFromId,j=to(),F=lo().redrawReglTraces,R=Uc(),Z=R.MINSELECT,G=T.filter,O=T.tester,J=ro(),X=J.p2r,it=J.axValue,at=J.getTransform;function ot(mt){return mt.subplot!==void 0}function ht(mt,Ct,Q,st,ft){var _t=!ot(st),Tt=e(ft),zt=p(ft),Ft=h(ft),Zt=c(ft),qt=_(ft),Yt=ft==="drawline",ie=ft==="drawcircle",oe=Yt||ie,le=st.gd,be=le._fullLayout,Ae=qt&&be.newselection.mode==="immediate"&&_t,Re=be._zoomlayer,Ve=st.element.getBoundingClientRect(),Ye=st.plotinfo,Se=at(Ye),we=Ct-Ve.left,Ne=Q-Ve.top;be._calcInverseTransform(le);var qe=D.apply3DTransform(be._invTransform)(we,Ne);we=qe[0],Ne=qe[1];var Fe=be._invScaleX,De=be._invScaleY,Ie=we,Le=Ne,Xe="M"+we+","+Ne,aa=st.xaxes[0],He=st.yaxes[0],ra=aa._length,sa=He._length,ma=mt.altKey&&!(c(ft)&&Ft),ya,Qe,ha,oa,Ce,Ma,et;W(mt,le,st),Tt&&(ya=G([[we,Ne]],R.BENDPX));var K=Re.selectAll("path.select-outline-"+Ye.id).data([1]),St=Zt?be.newshape:be.newselection;Zt&&(st.hasText=St.label.text||St.label.texttemplate);var It=Zt&&!Ft?St.fillcolor:"rgba(0,0,0,0)",jt=St.line.color||(_t?n.contrast(le._fullLayout.plot_bgcolor):"#7f7f7f");K.enter().append("path").attr("class","select-outline select-outline-"+Ye.id).style({opacity:Zt?St.opacity/2:1,"stroke-dasharray":l(St.line.dash,St.line.width),"stroke-width":St.line.width+"px","shape-rendering":"crispEdges"}).call(n.stroke,jt).call(n.fill,It).attr("fill-rule","evenodd").classed("cursor-move",!!Zt).attr("transform",Se).attr("d",Xe+"Z");var Lt=Re.append("path").attr("class","zoombox-corners").style({fill:n.background,stroke:n.defaultLine,"stroke-width":1}).attr("transform",Se).attr("d","M0,0Z");if(Zt&&st.hasText){var Ot=Re.select(".label-temp");Ot.empty()&&(Ot=Re.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var Bt=be._uid+R.SELECTID,Nt=[],Xt=N(le,st.xaxes,st.yaxes,st.subplot);Ae&&!mt.shiftKey&&(st._clearSubplotSelections=function(){if(_t){var he=aa._id,ke=He._id;Ut(le,he,ke,Xt);for(var Te=(le.layout||{}).selections||[],Pe=[],Me=!1,ze=0;ze<Te.length;ze++){var je=be.selections[ze];!je||je.xref!==he||je.yref!==ke?Pe.push(Te[ze]):Me=!0}Me&&(le._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",le,{selections:Pe}))}});var ee=ve(st);st.moveFn=function(he,ke){st._clearSubplotSelections&&(st._clearSubplotSelections(),st._clearSubplotSelections=void 0),Ie=Math.max(0,Math.min(ra,Fe*he+we)),Le=Math.max(0,Math.min(sa,De*ke+Ne));var Te=Math.abs(Ie-we),Pe=Math.abs(Le-Ne);if(zt){var Me,ze,je;if(qt){var pa=be.selectdirection;switch(pa==="any"?Pe<Math.min(Te*.6,Z)?Me="h":Te<Math.min(Pe*.6,Z)?Me="v":Me="d":Me=pa,Me){case"h":ze=ie?sa/2:0,je=sa;break;case"v":ze=ie?ra/2:0,je=ra;break}}if(Zt)switch(be.newshape.drawdirection){case"vertical":Me="h",ze=ie?sa/2:0,je=sa;break;case"horizontal":Me="v",ze=ie?ra/2:0,je=ra;break;case"ortho":Te<Pe?(Me="h",ze=Ne,je=Le):(Me="v",ze=we,je=Ie);break;default:Me="d"}Me==="h"?(oa=oe?d(ie,[Ie,ze],[Ie,je]):[[we,ze],[we,je],[Ie,je],[Ie,ze]],oa.xmin=oe?Ie:Math.min(we,Ie),oa.xmax=oe?Ie:Math.max(we,Ie),oa.ymin=Math.min(ze,je),oa.ymax=Math.max(ze,je),Lt.attr("d","M"+oa.xmin+","+(Ne-Z)+"h-4v"+2*Z+"h4ZM"+(oa.xmax-1)+","+(Ne-Z)+"h4v"+2*Z+"h-4Z")):Me==="v"?(oa=oe?d(ie,[ze,Le],[je,Le]):[[ze,Ne],[ze,Le],[je,Le],[je,Ne]],oa.xmin=Math.min(ze,je),oa.xmax=Math.max(ze,je),oa.ymin=oe?Le:Math.min(Ne,Le),oa.ymax=oe?Le:Math.max(Ne,Le),Lt.attr("d","M"+(we-Z)+","+oa.ymin+"v-4h"+2*Z+"v4ZM"+(we-Z)+","+(oa.ymax-1)+"v4h"+2*Z+"v-4Z")):Me==="d"&&(oa=oe?d(ie,[we,Ne],[Ie,Le]):[[we,Ne],[we,Le],[Ie,Le],[Ie,Ne]],oa.xmin=Math.min(we,Ie),oa.xmax=Math.max(we,Ie),oa.ymin=Math.min(Ne,Le),oa.ymax=Math.max(Ne,Le),Lt.attr("d","M0,0Z"))}else Tt&&(ya.addPt([Ie,Le]),oa=ya.filtered);if(st.selectionDefs&&st.selectionDefs.length?(ha=Vt(st.mergedPolygons,oa,ma),oa.subtract=ma,Qe=A(st.selectionDefs.concat([oa]))):(ha=[oa],Qe=O(oa)),g(vt(ha,Ft),K,st),qt){var $e=lt(le,!1),Aa=$e.eventData?$e.eventData.points.slice():[];$e=lt(le,!1,Qe,Xt,st),Qe=$e.selectionTesters,et=$e.eventData;var ia;ya?ia=ya.filtered:ia=re(ha),Y.throttle(Bt,R.SELECTDELAY,function(){Nt=xt(Qe,Xt);for(var Ca=Nt.slice(),ka=0;ka<Aa.length;ka++){for(var Va=Aa[ka],Na=!1,la=0;la<Ca.length;la++)if(Ca[la].curveNumber===Va.curveNumber&&Ca[la].pointNumber===Va.pointNumber){Na=!0;break}Na||Ca.push(Va)}Ca.length&&(et||(et={}),et.points=Ca),ee(et,ia),xe(le,et)})}},st.clickFn=function(he,ke){if(Lt.remove(),le._fullLayout._activeShapeIndex>=0){le._fullLayout._deactivateShape(le);return}if(!Zt){var Te=be.clickmode;Y.done(Bt).then(function(){if(Y.clear(Bt),he===2){for(K.remove(),Ce=0;Ce<Xt.length;Ce++)Ma=Xt[Ce],Ma._module.selectPoints(Ma,!1);if(Et(le,Xt),M(st),_e(le),Xt.length){var Pe=Xt[0].xaxis,Me=Xt[0].yaxis;if(Pe&&Me){for(var ze=[],je=le._fullLayout.selections,pa=0;pa<je.length;pa++){var $e=je[pa];$e&&($e.xref!==Pe._id||$e.yref!==Me._id)&&ze.push($e)}ze.length<je.length&&(le._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",le,{selections:ze}))}}}else Te.indexOf("select")>-1&&pt(ke,le,st.xaxes,st.yaxes,st.subplot,st,K),Te==="event"&&pe(le,void 0);o.click(le,ke,Ye.id)}).catch(D.error)}},st.doneFn=function(){Lt.remove(),Y.done(Bt).then(function(){Y.clear(Bt),!Ae&&oa&&st.selectionDefs&&(oa.subtract=ma,st.selectionDefs.push(oa),st.mergedPolygons.length=0,[].push.apply(st.mergedPolygons,ha)),(Ae||Zt)&&M(st,Ae),st.doneFnCompleted&&st.doneFnCompleted(Nt),qt&&pe(le,et)}).catch(D.error)}}function pt(mt,Ct,Q,st,ft,_t,Tt){var zt=Ct._hoverdata,Ft=Ct._fullLayout,Zt=Ft.clickmode,qt=Zt.indexOf("event")>-1,Yt=[],ie,oe,le,be,Ae,Re,Ve,Ye,Se,we;if(nt(zt)){W(mt,Ct,_t),ie=N(Ct,Q,st,ft);var Ne=ut(zt,ie),qe=Ne.pointNumbers.length>0;if(qe?bt(ie,Ne):kt(ie)&&(Ve=ct(Ne))){for(Tt&&Tt.remove(),we=0;we<ie.length;we++)oe=ie[we],oe._module.selectPoints(oe,!1);Et(Ct,ie),M(_t),qt&&_e(Ct)}else{Ye=mt.shiftKey&&(Ve!==void 0?Ve:ct(Ne)),le=yt(Ne.pointNumber,Ne.searchInfo,Ye);var Fe=_t.selectionDefs.concat([le]);for(be=A(Fe),we=0;we<ie.length;we++)if(Ae=ie[we]._module.selectPoints(ie[we],be),Re=Ht(Ae,ie[we]),Yt.length)for(var De=0;De<Re.length;De++)Yt.push(Re[De]);else Yt=Re;if(Se={points:Yt},Et(Ct,ie,Se),le&&_t&&_t.selectionDefs.push(le),Tt){var Ie=_t.mergedPolygons,Le=h(_t.dragmode);g(vt(Ie,Le),Tt,_t)}qt&&pe(Ct,Se)}}}function yt(mt,Ct,Q){return{pointNumber:mt,searchInfo:Ct,subtract:!!Q}}function H(mt){return"pointNumber"in mt&&"searchInfo"in mt}function q(mt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Ct,Q,st,ft){var _t=mt.searchInfo.cd[0].trace.index,Tt=ft.cd[0].trace.index;return Tt===_t&&st===mt.pointNumber},isRect:!1,degenerate:!1,subtract:!!mt.subtract}}function A(mt){if(!mt.length)return;for(var Ct=[],Q=H(mt[0])?0:mt[0][0][0],st=Q,ft=H(mt[0])?0:mt[0][0][1],_t=ft,Tt=0;Tt<mt.length;Tt++)if(H(mt[Tt]))Ct.push(q(mt[Tt]));else{var zt=O(mt[Tt]);zt.subtract=!!mt[Tt].subtract,Ct.push(zt),Q=Math.min(Q,zt.xmin),st=Math.max(st,zt.xmax),ft=Math.min(ft,zt.ymin),_t=Math.max(_t,zt.ymax)}function Ft(Zt,qt,Yt,ie){for(var oe=!1,le=0;le<Ct.length;le++)Ct[le].contains(Zt,qt,Yt,ie)&&(oe=!Ct[le].subtract);return oe}return{xmin:Q,xmax:st,ymin:ft,ymax:_t,pts:[],contains:Ft,isRect:!1,degenerate:!1}}function W(mt,Ct,Q){var st=Ct._fullLayout,ft=Q.plotinfo,_t=Q.dragmode,Tt=st._lastSelectedSubplot&&st._lastSelectedSubplot===ft.id,zt=(mt.shiftKey||mt.altKey)&&!(c(_t)&&h(_t));Tt&&zt&&ft.selection&&ft.selection.selectionDefs&&!Q.selectionDefs?(Q.selectionDefs=ft.selection.selectionDefs,Q.mergedPolygons=ft.selection.mergedPolygons):(!zt||!ft.selection)&&M(Q),Tt||(x(Ct),st._lastSelectedSubplot=ft.id)}function rt(mt){return mt._fullLayout._activeShapeIndex>=0}function I(mt){return mt._fullLayout._activeSelectionIndex>=0}function M(mt,Ct){var Q=mt.dragmode,st=mt.plotinfo,ft=mt.gd;rt(ft)&&ft._fullLayout._deactivateShape(ft),I(ft)&&ft._fullLayout._deactivateSelection(ft);var _t=ft._fullLayout,Tt=_t._zoomlayer,zt=c(Q),Ft=_(Q);if(zt||Ft){var Zt=Tt.selectAll(".select-outline-"+st.id);if(Zt&&ft._fullLayout._outlining){var qt;zt&&(qt=w(Zt,mt)),qt&&a.call("_guiRelayout",ft,{shapes:qt});var Yt;Ft&&!ot(mt)&&(Yt=k(Zt,mt)),Yt&&(ft._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",ft,{selections:Yt}).then(function(){Ct&&U(ft)})),ft._fullLayout._outlining=!1}}st.selection={},st.selection.selectionDefs=mt.selectionDefs=[],st.selection.mergedPolygons=mt.mergedPolygons=[]}function S(mt){return mt._id}function N(mt,Ct,Q,st){if(!mt.calcdata)return[];var ft=[],_t=Ct.map(S),Tt=Q.map(S),zt,Ft,Zt;for(Zt=0;Zt<mt.calcdata.length;Zt++)if(zt=mt.calcdata[Zt],Ft=zt[0].trace,!(Ft.visible!==!0||!Ft._module||!Ft._module.selectPoints))if(ot({subplot:st})&&(Ft.subplot===st||Ft.geo===st))ft.push(V(Ft._module,zt,Ct[0],Q[0]));else if(Ft.type==="splom"){if(Ft._xaxes[_t[0]]&&Ft._yaxes[Tt[0]]){var qt=V(Ft._module,zt,Ct[0],Q[0]);qt.scene=mt._fullLayout._splomScenes[Ft.uid],ft.push(qt)}}else if(Ft.type==="sankey"){var Yt=V(Ft._module,zt,Ct[0],Q[0]);ft.push(Yt)}else{if(_t.indexOf(Ft.xaxis)===-1&&(!Ft._xA||!Ft._xA.overlaying)||Tt.indexOf(Ft.yaxis)===-1&&(!Ft._yA||!Ft._yA.overlaying))continue;ft.push(V(Ft._module,zt,z(mt,Ft.xaxis),z(mt,Ft.yaxis)))}return ft}function V(mt,Ct,Q,st){return{_module:mt,cd:Ct,xaxis:Q,yaxis:st}}function nt(mt){return mt&&Array.isArray(mt)&&mt[0].hoverOnBox!==!0}function ut(mt,Ct){var Q=mt[0],st=-1,ft=[],_t,Tt;for(Tt=0;Tt<Ct.length;Tt++)if(_t=Ct[Tt],Q.fullData.index===_t.cd[0].trace.index){if(Q.hoverOnBox===!0)break;Q.pointNumber!==void 0?st=Q.pointNumber:Q.binNumber!==void 0&&(st=Q.binNumber,ft=Q.pointNumbers);break}return{pointNumber:st,pointNumbers:ft,searchInfo:_t}}function ct(mt){var Ct=mt.searchInfo.cd[0].trace,Q=mt.pointNumber,st=mt.pointNumbers,ft=st.length>0,_t=ft?st[0]:Q;return Ct.selectedpoints?Ct.selectedpoints.indexOf(_t)>-1:!1}function bt(mt,Ct){var Q=[],st,ft,_t,Tt;for(Tt=0;Tt<mt.length;Tt++)st=mt[Tt],st.cd[0].trace.selectedpoints&&st.cd[0].trace.selectedpoints.length>0&&Q.push(st);if(Q.length===1&&(_t=Q[0]===Ct.searchInfo,_t&&(ft=Ct.searchInfo.cd[0].trace,ft.selectedpoints.length===Ct.pointNumbers.length))){for(Tt=0;Tt<Ct.pointNumbers.length;Tt++)if(ft.selectedpoints.indexOf(Ct.pointNumbers[Tt])<0)return!1;return!0}return!1}function kt(mt){var Ct=0,Q,st,ft;for(ft=0;ft<mt.length;ft++)if(Q=mt[ft],st=Q.cd[0].trace,st.selectedpoints&&(st.selectedpoints.length>1||(Ct+=st.selectedpoints.length,Ct>1)))return!1;return Ct===1}function Et(mt,Ct,Q){var st;for(st=0;st<Ct.length;st++){var ft=Ct[st].cd[0].trace._fullInput,_t=mt._fullLayout._tracePreGUI[ft.uid]||{};_t.selectedpoints===void 0&&(_t.selectedpoints=ft._input.selectedpoints||null)}var Tt;if(Q){var zt=Q.points||[];for(st=0;st<Ct.length;st++)Tt=Ct[st].cd[0].trace,Tt._input.selectedpoints=Tt._fullInput.selectedpoints=[],Tt._fullInput!==Tt&&(Tt.selectedpoints=[]);for(var Ft=0;Ft<zt.length;Ft++){var Zt=zt[Ft],qt=Zt.data,Yt=Zt.fullData,ie=Zt.pointIndex,oe=Zt.pointIndices;oe?([].push.apply(qt.selectedpoints,oe),Tt._fullInput!==Tt&&[].push.apply(Yt.selectedpoints,oe)):(qt.selectedpoints.push(ie),Tt._fullInput!==Tt&&Yt.selectedpoints.push(ie))}}else for(st=0;st<Ct.length;st++)Tt=Ct[st].cd[0].trace,delete Tt.selectedpoints,delete Tt._input.selectedpoints,Tt._fullInput!==Tt&&delete Tt._fullInput.selectedpoints;Gt(mt,Ct)}function Gt(mt,Ct){for(var Q=!1,st=0;st<Ct.length;st++){var ft=Ct[st],_t=ft.cd;a.traceIs(_t[0].trace,"regl")&&(Q=!0);var Tt=ft._module,zt=Tt.styleOnSelect||Tt.style;zt&&(zt(mt,_t,_t[0].node3),_t[0].nodeRangePlot3&&zt(mt,_t,_t[0].nodeRangePlot3))}Q&&(j(mt),F(mt))}function Vt(mt,Ct,Q){for(var st=Q?i.difference:i.union,ft=st({regions:mt},{regions:[Ct]}),_t=ft.regions.reverse(),Tt=0;Tt<_t.length;Tt++){var zt=_t[Tt];zt.subtract=ae(zt,_t.slice(0,Tt))}return _t}function Ht(mt,Ct){if(Array.isArray(mt))for(var Q=Ct.cd,st=Ct.cd[0].trace,ft=0;ft<mt.length;ft++)mt[ft]=s(mt[ft],st,Q);return mt}function vt(mt,Ct){for(var Q=[],st=0;st<mt.length;st++){Q[st]=[];for(var ft=0;ft<mt[st].length;ft++){Q[st][ft]=[],Q[st][ft][0]=ft?"L":"M";for(var _t=0;_t<mt[st][ft].length;_t++)Q[st][ft].push(mt[st][ft][_t])}Ct||Q[st].push(["Z",Q[st][0][1],Q[st][0][2]])}return Q}function xt(mt,Ct){for(var Q=[],st,ft=[],_t,Tt=0;Tt<Ct.length;Tt++){var zt=Ct[Tt];_t=zt._module.selectPoints(zt,mt),ft.push(_t),st=Ht(_t,zt),Q=Q.concat(st)}return Q}function lt(mt,Ct,Q,st,ft){var _t=!!st,Tt,zt,Ft;ft&&(Tt=ft.plotinfo,zt=ft.xaxes[0]._id,Ft=ft.yaxes[0]._id);var Zt=[],qt=[],Yt=Wt(mt),ie=mt._fullLayout;if(Tt){var oe=ie._zoomlayer,le=ie.dragmode,be=c(le),Ae=_(le);if(be||Ae){var Re=z(mt,zt,"x"),Ve=z(mt,Ft,"y");if(Re&&Ve){var Ye=oe.selectAll(".select-outline-"+Tt.id);if(Ye&&mt._fullLayout._outlining&&Ye.length){for(var Se=Ye[0][0],we=Se.getAttribute("d"),Ne=m(we,mt,Tt),qe=[],Fe=0;Fe<Ne.length;Fe++){for(var De=Ne[Fe],Ie=[],Le=0;Le<De.length;Le++)Ie.push([ne(Re,De[Le][1]),ne(Ve,De[Le][2])]);Ie.xref=zt,Ie.yref=Ft,Ie.subtract=ae(Ie,qe),qe.push(Ie)}Yt=Yt.concat(qe)}}}}var Xe=zt&&Ft?[zt+Ft]:ie._subplots.cartesian;At(mt);for(var aa={},He=0;He<Xe.length;He++){var ra=Xe[He],sa=ra.indexOf("y"),ma=ra.slice(0,sa),ya=ra.slice(sa),Qe=zt&&Ft?Q:void 0;if(Qe=te(Yt,ma,ya,Qe),Qe){var ha=st;if(!_t){var oa=z(mt,ma,"x"),Ce=z(mt,ya,"y");ha=N(mt,[oa],[Ce],ra);for(var Ma=0;Ma<ha.length;Ma++){var et=ha[Ma],K=et.cd[0],St=K.trace;if(et._module.name==="scattergl"&&!K.t.xpx){var It=St.x,jt=St.y,Lt=St._length;K.t.xpx=[],K.t.ypx=[];for(var Ot=0;Ot<Lt;Ot++)K.t.xpx[Ot]=oa.c2p(It[Ot]),K.t.ypx[Ot]=Ce.c2p(jt[Ot])}et._module.name==="splom"&&(aa[St.uid]||(aa[St.uid]=!0))}}var Bt=xt(Qe,ha);Zt=Zt.concat(Bt),qt=qt.concat(ha)}}var Nt={points:Zt};Et(mt,qt,Nt);var Xt=ie.clickmode,ee=Xt.indexOf("event")>-1&&Ct;if(!Tt&&Ct){var he=Wt(mt,!0);if(he.length){var ke=he[0].xref,Te=he[0].yref;if(ke&&Te){var Pe=re(he),Me=$t([z(mt,ke,"x"),z(mt,Te,"y")]);Me(Nt,Pe)}}mt._fullLayout._noEmitSelectedAtStart?mt._fullLayout._noEmitSelectedAtStart=!1:ee&&pe(mt,Nt),ie._reselect=!1}if(!Tt&&ie._deselect){var ze=ie._deselect;zt=ze.xref,Ft=ze.yref,Rt(zt,Ft,qt)||Ut(mt,zt,Ft,st),ee&&(Nt.points.length?pe(mt,Nt):_e(mt)),ie._deselect=!1}return{eventData:Nt,selectionTesters:Q}}function At(mt){var Ct=mt.calcdata;if(Ct)for(var Q=0;Q<Ct.length;Q++){var st=Ct[Q][0],ft=st.trace,_t=mt._fullLayout._splomScenes;if(_t){var Tt=_t[ft.uid];Tt&&(Tt.selectBatch=[])}}}function Rt(mt,Ct,Q){for(var st=0;st<Q.length;st++){var ft=Q[st];if(ft.xaxis&&ft.xaxis._id===mt&&ft.yaxis&&ft.yaxis._id===Ct)return!0}return!1}function Ut(mt,Ct,Q,st){st=N(mt,[z(mt,Ct,"x")],[z(mt,Q,"y")],Ct+Q);for(var ft=0;ft<st.length;ft++){var _t=st[ft];_t._module.selectPoints(_t,!1)}Et(mt,st)}function te(mt,Ct,Q,st){for(var ft,_t=0;_t<mt.length;_t++){var Tt=mt[_t];if(!(Ct!==Tt.xref||Q!==Tt.yref))if(ft){var zt=!!Tt.subtract;ft=Vt(ft,Tt,zt),st=A(ft)}else ft=[Tt],st=O(Tt)}return st}function Wt(mt,Ct){for(var Q=[],st=mt._fullLayout,ft=st.selections,_t=ft.length,Tt=0;Tt<_t;Tt++)if(!(Ct&&Tt!==st._activeSelectionIndex)){var zt=ft[Tt];if(zt){var Ft=zt.xref,Zt=zt.yref,qt=z(mt,Ft,"x"),Yt=z(mt,Zt,"y"),ie,oe,le,be,Ae;if(zt.type==="rect"){Ae=[];var Re=ne(qt,zt.x0),Ve=ne(qt,zt.x1),Ye=ne(Yt,zt.y0),Se=ne(Yt,zt.y1);Ae=[[Re,Ye],[Re,Se],[Ve,Se],[Ve,Ye]],ie=Math.min(Re,Ve),oe=Math.max(Re,Ve),le=Math.min(Ye,Se),be=Math.max(Ye,Se),Ae.xmin=ie,Ae.xmax=oe,Ae.ymin=le,Ae.ymax=be,Ae.xref=Ft,Ae.yref=Zt,Ae.subtract=!1,Ae.isRect=!0,Q.push(Ae)}else if(zt.type==="path")for(var we=zt.path.split("Z"),Ne=[],qe=0;qe<we.length;qe++){var Fe=we[qe];if(Fe){Fe+="Z";var De=y.extractPathCoords(Fe,v.paramIsX,"raw"),Ie=y.extractPathCoords(Fe,v.paramIsY,"raw");ie=1/0,oe=-1/0,le=1/0,be=-1/0,Ae=[];for(var Le=0;Le<De.length;Le++){var Xe=ne(qt,De[Le]),aa=ne(Yt,Ie[Le]);Ae.push([Xe,aa]),ie=Math.min(Xe,ie),oe=Math.max(Xe,oe),le=Math.min(aa,le),be=Math.max(aa,be)}Ae.xmin=ie,Ae.xmax=oe,Ae.ymin=le,Ae.ymax=be,Ae.xref=Ft,Ae.yref=Zt,Ae.subtract=ae(Ae,Ne),Ne.push(Ae),Q.push(Ae)}}}}return Q}function ae(mt,Ct){for(var Q=!1,st=0;st<Ct.length;st++)for(var ft=Ct[st],_t=0;_t<mt.length;_t++)if(t(mt[_t],ft)){Q=!Q;break}return Q}function ne(mt,Ct){return mt.type==="date"&&(Ct=Ct.replace("_"," ")),mt.type==="log"?mt.c2p(Ct):mt.r2p(Ct,null,mt.calendar)}function re(mt){for(var Ct=mt.length,Q=[],st=0;st<Ct;st++){var ft=mt[st];Q=Q.concat(ft),Q=Q.concat([ft[0]])}return de(Q)}function de(mt){return mt.isRect=mt.length===5&&mt[0][0]===mt[4][0]&&mt[0][1]===mt[4][1]&&mt[0][0]===mt[1][0]&&mt[2][0]===mt[3][0]&&mt[0][1]===mt[3][1]&&mt[1][1]===mt[2][1]||mt[0][1]===mt[1][1]&&mt[2][1]===mt[3][1]&&mt[0][0]===mt[3][0]&&mt[1][0]===mt[2][0],mt.isRect&&(mt.xmin=Math.min(mt[0][0],mt[2][0]),mt.xmax=Math.max(mt[0][0],mt[2][0]),mt.ymin=Math.min(mt[0][1],mt[2][1]),mt.ymax=Math.max(mt[0][1],mt[2][1])),mt}function $t(mt){return function(Ct,Q){for(var st,ft,_t=0;_t<mt.length;_t++){var Tt=mt[_t],zt=Tt._id,Ft=zt.charAt(0);if(Q.isRect){st||(st={});var Zt=Q[Ft+"min"],qt=Q[Ft+"max"];Zt!==void 0&&qt!==void 0&&(st[zt]=[X(Tt,Zt),X(Tt,qt)].sort(C))}else ft||(ft={}),ft[zt]=Q.map(it(Tt))}st&&(Ct.range=st),ft&&(Ct.lassoPoints=ft)}}function ve(mt){var Ct=mt.plotinfo;return Ct.fillRangeItems||$t(mt.xaxes.concat(mt.yaxes))}function xe(mt,Ct){mt.emit("plotly_selecting",Ct)}function pe(mt,Ct){Ct&&(Ct.selections=(mt.layout||{}).selections||[]),mt.emit("plotly_selected",Ct)}function _e(mt){mt.emit("plotly_deselect",null)}P.exports={reselect:lt,prepSelect:ht,clearOutline:x,clearSelectionsCache:M,selectOnClick:pt}}),Il=Mt((E,P)=>{P.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]}),di=Mt((E,P)=>{P.exports={axisRefDescription:function(i,t,a){return["If set to a",i,"axis id (e.g. *"+i+"* or","*"+i+"2*), the `"+i+"` position refers to a",i,"coordinate. If set to *paper*, the `"+i+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+a+"). If set to a",i,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+i+"2 domain* refers to the domain of the second",i," axis and a",i,"position of 0.5 refers to the","point between the",t,"and the",a,"of the domain of the","second",i,"axis."].join(" ")}}}),Gn=Mt((E,P)=>{var i=Il(),t=Lr(),a=Sr(),l=$a().templatedArray;di(),P.exports=l("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:t({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:i.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:i.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:t({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})}),so=Mt((E,P)=>{P.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}}),Zc=Mt((E,P)=>{P.exports=function(i){return{valType:"color",editType:"style",anim:!0}}}),Fn=Mt((E,P)=>{var i=Zi().axisHoverFormat,t=vn().texttemplateAttrs,a=vn().hovertemplateAttrs,l=li(),n=Lr(),o=pn().dash,s=pn().pattern,f=Ga(),e=so(),p=yr().extendFlat,c=Zc();function h(v){return{valType:"any",dflt:0,editType:"calc"}}function _(v){return{valType:"any",editType:"calc"}}function y(v){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}P.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:h(),yperiod:h(),xperiod0:_(),yperiod0:_(),xperiodalignment:y(),yperiodalignment:y(),xhoverformat:i("x"),yhoverformat:i("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:t({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:e.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:p({},o,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:c(!0),fillgradient:p({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:s,marker:p({symbol:{valType:"enumerated",values:f.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:p({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},l("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},l("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:n({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}}),El=Mt((E,P)=>{var i=Gn(),t=Fn().line,a=pn().dash,l=yr().extendFlat,n=hn().overrideAll,o=$a().templatedArray;di(),P.exports=n(o("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:l({},i.xref,{}),yref:l({},i.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:t.color,width:l({},t.width,{min:1,dflt:1}),dash:l({},a,{dflt:"dot"})}}),"arraydraw","from-root")}),Gc=Mt((E,P)=>{var i=Oe(),t=Ka(),a=nn(),l=El(),n=Ln();P.exports=function(s,f){a(s,f,{name:"selections",handleItemDefaults:o});for(var e=f.selections,p=0;p<e.length;p++){var c=e[p];c&&c.path===void 0&&(c.x0===void 0||c.x1===void 0||c.y0===void 0||c.y1===void 0)&&(f.selections[p]=null)}};function o(s,f,e){function p(j,F){return i.coerce(s,f,l,j,F)}var c=p("path"),h=c?"path":"rect",_=p("type",h),y=_!=="path";y&&delete f.path,p("opacity"),p("line.color"),p("line.width"),p("line.dash");for(var v=["x","y"],g=0;g<2;g++){var x=v[g],u={_fullLayout:e},d,m,w,k=t.coerceRef(s,f,u,x);if(d=t.getFromId(u,k),d._selectionIndices.push(f._index),w=n.rangeToShapePosition(d),m=n.shapePositionToRange(d),y){var U=x+"0",D=x+"1",C=s[U],T=s[D];s[U]=m(s[U],!0),s[D]=m(s[D],!0),t.coercePosition(f,u,p,k,U),t.coercePosition(f,u,p,k,D);var Y=f[U],z=f[D];Y!==void 0&&z!==void 0&&(f[U]=w(Y),f[D]=w(z),s[U]=C,s[D]=T)}}y&&i.noneOrAll(s,f,["x0","x1","y0","y1"])}}),Jc=Mt((E,P)=>{P.exports=function(i,t,a){a("newselection.mode");var l=a("newselection.line.width");l&&(a("newselection.line.color"),a("newselection.line.dash")),a("activeselection.fillcolor"),a("activeselection.opacity")}}),hi=Mt((E,P)=>{var i=da(),t=Oe(),a=xr();P.exports=function(l){return function(n,o){var s=n[l];if(Array.isArray(s))for(var f=i.subplotsRegistry.cartesian,e=f.idRegex,p=o._subplots,c=p.xaxis,h=p.yaxis,_=p.cartesian,y=o._has("cartesian"),v=0;v<s.length;v++){var g=s[v];if(t.isPlainObject(g)){var x=a.cleanId(g.xref,"x",!1),u=a.cleanId(g.yref,"y",!1),d=e.x.test(x),m=e.y.test(u);if(d||m){y||t.pushUnique(o._basePlotModules,f);var w=!1;d&&c.indexOf(x)===-1&&(c.push(x),w=!0),m&&h.indexOf(u)===-1&&(h.push(u),w=!0),w&&d&&m&&_.push(x+u)}}}}}}),Jn=Mt((E,P)=>{var i=Pl(),t=Yc();P.exports={moduleType:"component",name:"selections",layoutAttributes:El(),supplyLayoutDefaults:Gc(),supplyDrawNewSelectionDefaults:Jc(),includeBasePlot:hi()("selections"),draw:i.draw,drawOne:i.drawOne,reselect:t.reselect,prepSelect:t.prepSelect,clearOutline:t.clearOutline,clearSelectionsCache:t.clearSelectionsCache,selectOnClick:t.selectOnClick}}),Wc=Mt((E,P)=>{var i=Ke(),t=Oe(),a=t.numberFormat,l=Yr(),n=ml(),o=da(),s=t.strTranslate,f=Pr(),e=Ta(),p=Ga(),c=mn(),h=Ka(),_=kn(),y=on(),v=Zn(),g=v.selectingOrDrawing,x=v.freeMode,u=Rr().FROM_TL,d=to(),m=lo().redrawReglTraces,w=hr(),k=xr().getFromId,U=Jn().prepSelect,D=Jn().clearOutline,C=Jn().selectOnClick,T=Dl(),Y=Sr(),z=Y.MINDRAG,j=Y.MINZOOM,F=!0;function R(V,nt,ut,ct,bt,kt,Et,Gt){var Vt=V._fullLayout._zoomlayer,Ht=Et+Gt==="nsew",vt=(Et+Gt).length===1,xt,lt,At,Rt,Ut,te,Wt,ae,ne,re,de,$t,ve,xe,pe,_e,mt,Ct,Q,st,ft,_t,Tt;ut+=nt.yaxis._shift;function zt(){if(xt=nt.xaxis,lt=nt.yaxis,ne=xt._length,re=lt._length,Wt=xt._offset,ae=lt._offset,At={},At[xt._id]=xt,Rt={},Rt[lt._id]=lt,Et&&Gt)for(var K=nt.overlays,St=0;St<K.length;St++){var It=K[St].xaxis;At[It._id]=It;var jt=K[St].yaxis;Rt[jt._id]=jt}Ut=N(At),te=N(Rt),ve=O(Ut,Gt),xe=O(te,Et),pe=!xe&&!ve,$t=M(V,V._fullLayout._axisMatchGroups,At,Rt),de=M(V,V._fullLayout._axisConstraintGroups,At,Rt,$t);var Lt=de.isSubplotConstrained||$t.isSubplotConstrained;_e=Gt||Lt,mt=Et||Lt;var Ot=V._fullLayout;Ct=Ot._has("scattergl"),Q=Ot._has("splom"),st=Ot._has("svg")}zt();var Ft=ot(xe+ve,V._fullLayout.dragmode,Ht),Zt=G(nt,Et+Gt+"drag",Ft,ut,ct,bt,kt);if(pe&&!Ht)return Zt.onmousedown=null,Zt.style.pointerEvents="none",Zt;var qt={element:Zt,gd:V,plotinfo:nt};qt.prepFn=function(K,St,It){var jt=qt.dragmode,Lt=V._fullLayout.dragmode;Lt!==jt&&(qt.dragmode=Lt),zt(),_t=V._fullLayout._invScaleX,Tt=V._fullLayout._invScaleY,pe||(Ht?K.shiftKey?Lt==="pan"?Lt="zoom":g(Lt)||(Lt="pan"):K.ctrlKey&&(Lt="pan"):Lt="pan"),x(Lt)?qt.minDrag=1:qt.minDrag=void 0,g(Lt)?(qt.xaxes=Ut,qt.yaxes=te,U(K,St,It,qt,Lt)):(qt.clickFn=ie,g(jt)&&Yt(),pe||(Lt==="zoom"?(qt.moveFn=Fe,qt.doneFn=Ie,qt.minDrag=1,qe(K,St,It)):Lt==="pan"&&(qt.moveFn=sa,qt.doneFn=ha))),V._fullLayout._redrag=function(){var Ot=V._dragdata;if(Ot&&Ot.element===Zt){var Bt=V._fullLayout.dragmode;g(Bt)||(zt(),oa([0,0,ne,re]),qt.moveFn(Ot.dx,Ot.dy))}}};function Yt(){qt.plotinfo.selection=!1,D(V)}function ie(K,St){var It=qt.gd;if(It._fullLayout._activeShapeIndex>=0){It._fullLayout._deactivateShape(It);return}var jt=It._fullLayout.clickmode;if(q(It),K===2&&!vt&&Qe(),Ht)jt.indexOf("select")>-1&&C(St,It,Ut,te,nt.id,qt),jt.indexOf("event")>-1&&c.click(It,St,nt.id);else if(K===1&&vt){var Lt=Et?lt:xt,Ot=Et==="s"||Gt==="w"?0:1,Bt=Lt._name+".range["+Ot+"]",Nt=J(Lt,Ot),Xt="left",ee="middle";if(Lt.fixedrange)return;Et?(ee=Et==="n"?"top":"bottom",Lt.side==="right"&&(Xt="right")):Gt==="e"&&(Xt="right"),It._context.showAxisRangeEntryBoxes&&i.select(Zt).call(f.makeEditable,{gd:It,immediate:!0,background:It._fullLayout.paper_bgcolor,text:String(Nt),fill:Lt.tickfont?Lt.tickfont.color:"#444",horizontalAlign:Xt,verticalAlign:ee}).on("edit",function(he){var ke=Lt.d2r(he);ke!==void 0&&o.call("_guiRelayout",It,Bt,ke)})}}y.init(qt);var oe,le,be,Ae,Re,Ve,Ye,Se,we,Ne;function qe(K,St,It){var jt=Zt.getBoundingClientRect();oe=St-jt.left,le=It-jt.top,V._fullLayout._calcInverseTransform(V);var Lt=t.apply3DTransform(V._fullLayout._invTransform)(oe,le);oe=Lt[0],le=Lt[1],be={l:oe,r:oe,w:0,t:le,b:le,h:0},Ae=V._hmpixcount?V._hmlumcount/V._hmpixcount:l(V._fullLayout.plot_bgcolor).getLuminance(),Re="M0,0H"+ne+"V"+re+"H0V0",Ve=!1,Ye="xy",Ne=!1,Se=ht(Vt,Ae,Wt,ae,Re),we=pt(Vt,Wt,ae)}function Fe(K,St){if(V._transitioningWithDuration)return!1;var It=Math.max(0,Math.min(ne,_t*K+oe)),jt=Math.max(0,Math.min(re,Tt*St+le)),Lt=Math.abs(It-oe),Ot=Math.abs(jt-le);be.l=Math.min(oe,It),be.r=Math.max(oe,It),be.t=Math.min(le,jt),be.b=Math.max(le,jt);function Bt(){Ye="",be.r=be.l,be.t=be.b,we.attr("d","M0,0Z")}if(de.isSubplotConstrained)Lt>j||Ot>j?(Ye="xy",Lt/ne>Ot/re?(Ot=Lt*re/ne,le>jt?be.t=le-Ot:be.b=le+Ot):(Lt=Ot*ne/re,oe>It?be.l=oe-Lt:be.r=oe+Lt),we.attr("d",I(be))):Bt();else if($t.isSubplotConstrained)if(Lt>j||Ot>j){Ye="xy";var Nt=Math.min(be.l/ne,(re-be.b)/re),Xt=Math.max(be.r/ne,(re-be.t)/re);be.l=Nt*ne,be.r=Xt*ne,be.b=(1-Nt)*re,be.t=(1-Xt)*re,we.attr("d",I(be))}else Bt();else!xe||Ot<Math.min(Math.max(Lt*.6,z),j)?Lt<z||!ve?Bt():(be.t=0,be.b=re,Ye="x",we.attr("d",W(be,le))):!ve||Lt<Math.min(Ot*.6,j)?(be.l=0,be.r=ne,Ye="y",we.attr("d",rt(be,oe))):(Ye="xy",we.attr("d",I(be)));be.w=be.r-be.l,be.h=be.b-be.t,Ye&&(Ne=!0),V._dragged=Ne,yt(Se,we,be,Re,Ve,Ae),De(),V.emit("plotly_relayouting",ft),Ve=!0}function De(){ft={},(Ye==="xy"||Ye==="x")&&(X(Ut,be.l/ne,be.r/ne,ft,de.xaxes),ma("x",ft)),(Ye==="xy"||Ye==="y")&&(X(te,(re-be.b)/re,(re-be.t)/re,ft,de.yaxes),ma("y",ft))}function Ie(){De(),q(V),ha(),A(V)}var Le=[0,0,ne,re],Xe=null,aa=Y.REDRAWDELAY,He=nt.mainplot?V._fullLayout._plots[nt.mainplot]:nt;function ra(K){if(!V._context._scrollZoom.cartesian&&!V._fullLayout._enablescrollzoom)return;if(Yt(),V._transitioningWithDuration){K.preventDefault(),K.stopPropagation();return}zt(),clearTimeout(Xe);var St=-K.deltaY;if(isFinite(St)||(St=K.wheelDelta/10),!isFinite(St)){t.log("Did not find wheel motion attributes: ",K);return}var It=Math.exp(-Math.min(Math.max(St,-20),20)/200),jt=He.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Lt=(K.clientX-jt.left)/jt.width,Ot=(jt.bottom-K.clientY)/jt.height,Bt;function Nt(Xt,ee,he){if(Xt.fixedrange)return;var ke=t.simpleMap(Xt.range,Xt.r2l),Te=ke[0]+(ke[1]-ke[0])*ee;function Pe(Me){return Xt.l2r(Te+(Me-Te)*he)}Xt.range=ke.map(Pe)}if(_e){for(Gt||(Lt=.5),Bt=0;Bt<Ut.length;Bt++)Nt(Ut[Bt],Lt,It);ma("x"),Le[2]*=It,Le[0]+=Le[2]*Lt*(1/It-1)}if(mt){for(Et||(Ot=.5),Bt=0;Bt<te.length;Bt++)Nt(te[Bt],Ot,It);ma("y"),Le[3]*=It,Le[1]+=Le[3]*(1-Ot)*(1/It-1)}oa(Le),ya(),V.emit("plotly_relayouting",ft),Xe=setTimeout(function(){V._fullLayout&&(Le=[0,0,ne,re],ha())},aa),K.preventDefault()}Et.length*Gt.length!==1&&S(Zt,ra);function sa(K,St){if(K=K*_t,St=St*Tt,V._transitioningWithDuration)return;if(V._fullLayout._replotting=!0,ve==="ew"||xe==="ns"){var It=ve?-K:0,jt=xe?-St:0;if($t.isSubplotConstrained){if(ve&&xe){var Lt=(K/ne-St/re)/2;K=Lt*ne,St=-Lt*re,It=-K,jt=-St}xe?It=-jt*ne/re:jt=-It*re/ne}ve&&(it(Ut,K),ma("x")),xe&&(it(te,St),ma("y")),oa([It,jt,ne,re]),ya(),V.emit("plotly_relayouting",ft);return}function Ot(Pe,Me,ze){for(var je=1-Me,pa,$e,Aa=0;Aa<Pe.length;Aa++){var ia=Pe[Aa];if(!ia.fixedrange){pa=ia,$e=ia._rl[je]+(ia._rl[Me]-ia._rl[je])/at(ze/ia._length);var Ca=ia.l2r($e);Ca!==!1&&Ca!==void 0&&(ia.range[Me]=Ca)}}return pa._length*(pa._rl[Me]-$e)/(pa._rl[Me]-pa._rl[je])}var Bt=ve==="w"==(xe==="n")?1:-1;if(ve&&xe&&(de.isSubplotConstrained||$t.isSubplotConstrained)){var Nt=(K/ne+Bt*St/re)/2;K=Nt*ne,St=Bt*Nt*re}var Xt,ee;if(ve==="w"?K=Ot(Ut,0,K):ve==="e"?K=Ot(Ut,1,-K):ve||(K=0),xe==="n"?St=Ot(te,1,St):xe==="s"?St=Ot(te,0,-St):xe||(St=0),Xt=ve==="w"?K:0,ee=xe==="n"?St:0,de.isSubplotConstrained&&!$t.isSubplotConstrained||$t.isSubplotConstrained&&ve&&xe&&Bt>0){var he;if($t.isSubplotConstrained||!ve&&xe.length===1){for(he=0;he<Ut.length;he++)Ut[he].range=Ut[he]._r.slice(),T(Ut[he],1-St/re);K=St*ne/re,Xt=K/2}if($t.isSubplotConstrained||!xe&&ve.length===1){for(he=0;he<te.length;he++)te[he].range=te[he]._r.slice(),T(te[he],1-K/ne);St=K*re/ne,ee=St/2}}(!$t.isSubplotConstrained||!xe)&&ma("x"),(!$t.isSubplotConstrained||!ve)&&ma("y");var ke=ne-K,Te=re-St;$t.isSubplotConstrained&&!(ve&&xe)&&(ve?(ee=Xt?0:K*re/ne,Te=ke*re/ne):(Xt=ee?0:St*ne/re,ke=Te*ne/re)),oa([Xt,ee,ke,Te]),ya(),V.emit("plotly_relayouting",ft)}function ma(K,St){for(var It=$t.isSubplotConstrained?{x:te,y:Ut}[K]:$t[K+"axes"],jt=$t.isSubplotConstrained?{x:Ut,y:te}[K]:[],Lt=0;Lt<It.length;Lt++){var Ot=It[Lt],Bt=Ot._id,Nt=$t.xLinks[Bt]||$t.yLinks[Bt],Xt=jt[0]||At[Nt]||Rt[Nt];Xt&&(St?(St[Ot._name+".range[0]"]=St[Xt._name+".range[0]"],St[Ot._name+".range[1]"]=St[Xt._name+".range[1]"]):Ot.range=Xt.range.slice())}}function ya(){var K=[],St;function It(Bt){for(St=0;St<Bt.length;St++)Bt[St].fixedrange||K.push(Bt[St]._id)}function jt(Bt,Nt){for(St=0;St<Bt.length;St++){var Xt=Bt[St],ee=Xt[Nt];!Xt.fixedrange&&ee.tickmode==="sync"&&K.push(ee._id)}}for(_e&&(It(Ut),It(de.xaxes),It($t.xaxes),jt(nt.overlays,"xaxis")),mt&&(It(te),It(de.yaxes),It($t.yaxes),jt(nt.overlays,"yaxis")),ft={},St=0;St<K.length;St++){var Lt=K[St],Ot=k(V,Lt);h.drawOne(V,Ot,{skipTitle:!0}),ft[Ot._name+".range[0]"]=Ot.range[0],ft[Ot._name+".range[1]"]=Ot.range[1]}h.redrawComponents(V,K)}function Qe(){if(!V._transitioningWithDuration){var K=V._context.doubleClick,St=[];ve&&(St=St.concat(Ut)),xe&&(St=St.concat(te)),$t.xaxes&&(St=St.concat($t.xaxes)),$t.yaxes&&(St=St.concat($t.yaxes));var It={},jt,Lt;if(K==="reset+autosize")for(K="autosize",Lt=0;Lt<St.length;Lt++){jt=St[Lt];var Ot=jt._rangeInitial0,Bt=jt._rangeInitial1,Nt=Ot!==void 0||Bt!==void 0;if(Nt&&(Ot!==void 0&&Ot!==jt.range[0]||Bt!==void 0&&Bt!==jt.range[1])||!Nt&&jt.autorange!==!0){K="reset";break}}if(K==="autosize")for(Lt=0;Lt<St.length;Lt++)jt=St[Lt],jt.fixedrange||(It[jt._name+".autorange"]=!0);else if(K==="reset"){for((ve||de.isSubplotConstrained)&&(St=St.concat(de.xaxes)),xe&&!de.isSubplotConstrained&&(St=St.concat(de.yaxes)),de.isSubplotConstrained&&(ve?xe||(St=St.concat(te)):St=St.concat(Ut)),Lt=0;Lt<St.length;Lt++)if(jt=St[Lt],!jt.fixedrange){var Xt=jt._name,ee=jt._autorangeInitial;jt._rangeInitial0===void 0&&jt._rangeInitial1===void 0?It[Xt+".autorange"]=!0:jt._rangeInitial0===void 0?(It[Xt+".autorange"]=ee,It[Xt+".range"]=[null,jt._rangeInitial1]):jt._rangeInitial1===void 0?(It[Xt+".range"]=[jt._rangeInitial0,null],It[Xt+".autorange"]=ee):It[Xt+".range"]=[jt._rangeInitial0,jt._rangeInitial1]}}V.emit("plotly_doubleclick",null),o.call("_guiRelayout",V,It)}}function ha(){oa([0,0,ne,re]),t.syncOrAsync([w.previousPromises,function(){V._fullLayout._replotting=!1,o.call("_guiRelayout",V,ft)}],V)}function oa(K){var St=V._fullLayout,It=St._plots,jt=St._subplots.cartesian,Lt,Ot,Bt,Nt;if(Q&&o.subplotsRegistry.splom.drag(V),Ct){for(Lt=0;Lt<jt.length;Lt++)if(Ot=It[jt[Lt]],Bt=Ot.xaxis,Nt=Ot.yaxis,Ot._scene){Bt.limitRange&&Bt.limitRange(),Nt.limitRange&&Nt.limitRange();var Xt=t.simpleMap(Bt.range,Bt.r2l),ee=t.simpleMap(Nt.range,Nt.r2l);Ot._scene.update({range:[Xt[0],ee[0],Xt[1],ee[1]]})}}if((Q||Ct)&&(d(V),m(V)),st){var he=K[2]/xt._length,ke=K[3]/lt._length;for(Lt=0;Lt<jt.length;Lt++){Ot=It[jt[Lt]],Bt=Ot.xaxis,Nt=Ot.yaxis;var Te=(_e||$t.isSubplotConstrained)&&!Bt.fixedrange&&At[Bt._id],Pe=(mt||$t.isSubplotConstrained)&&!Nt.fixedrange&&Rt[Nt._id],Me,ze,je,pa;if(Te?(Me=he,je=Gt||$t.isSubplotConstrained?K[0]:et(Bt,Me)):$t.xaHash[Bt._id]?(Me=he,je=K[0]*Bt._length/xt._length):$t.yaHash[Bt._id]?(Me=ke,je=xe==="ns"?-K[1]*Bt._length/lt._length:et(Bt,Me,{n:"top",s:"bottom"}[xe])):(Me=Ce(Bt,he,ke),je=Ma(Bt,Me)),Me>1&&(Bt.maxallowed!==void 0&&_e===(Bt.range[0]<Bt.range[1]?"e":"w")||Bt.minallowed!==void 0&&_e===(Bt.range[0]<Bt.range[1]?"w":"e"))&&(Me=1,je=0),Pe?(ze=ke,pa=Et||$t.isSubplotConstrained?K[1]:et(Nt,ze)):$t.yaHash[Nt._id]?(ze=ke,pa=K[1]*Nt._length/lt._length):$t.xaHash[Nt._id]?(ze=he,pa=ve==="ew"?-K[0]*Nt._length/xt._length:et(Nt,ze,{e:"right",w:"left"}[ve])):(ze=Ce(Nt,he,ke),pa=Ma(Nt,ze)),ze>1&&(Nt.maxallowed!==void 0&&mt===(Nt.range[0]<Nt.range[1]?"n":"s")||Nt.minallowed!==void 0&&mt===(Nt.range[0]<Nt.range[1]?"s":"n"))&&(ze=1,pa=0),!(!Me&&!ze)){Me||(Me=1),ze||(ze=1);var $e=Bt._offset-je/Me,Aa=Nt._offset-pa/ze;Ot.clipRect.call(p.setTranslate,je,pa).call(p.setScale,Me,ze),Ot.plot.call(p.setTranslate,$e,Aa).call(p.setScale,1/Me,1/ze),(Me!==Ot.xScaleFactor||ze!==Ot.yScaleFactor)&&(p.setPointGroupScale(Ot.zoomScalePts,Me,ze),p.setTextPointsScale(Ot.zoomScaleTxt,Me,ze)),p.hideOutsideRangePoints(Ot.clipOnAxisFalseTraces,Ot),Ot.xScaleFactor=Me,Ot.yScaleFactor=ze}}}}function Ce(K,St,It){return K.fixedrange?0:_e&&de.xaHash[K._id]?St:mt&&(de.isSubplotConstrained?de.xaHash:de.yaHash)[K._id]?It:0}function Ma(K,St){return St?(K.range=K._r.slice(),T(K,St),et(K,St)):0}function et(K,St,It){return K._length*(1-St)*u[It||K.constraintoward||"middle"]}return Zt}function Z(V,nt,ut,ct){var bt=t.ensureSingle(V.draglayer,nt,ut,function(kt){kt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",V.id)});return bt.call(_,ct),bt.node()}function G(V,nt,ut,ct,bt,kt,Et){var Gt=Z(V,"rect",nt,ut);return i.select(Gt).call(p.setRect,ct,bt,kt,Et),Gt}function O(V,nt){for(var ut=0;ut<V.length;ut++)if(!V[ut].fixedrange)return nt;return""}function J(V,nt){var ut=V.range[nt],ct=Math.abs(ut-V.range[1-nt]),bt;return V.type==="date"?ut:V.type==="log"?(bt=Math.ceil(Math.max(0,-Math.log(ct)/Math.LN10))+3,a("."+bt+"g")(Math.pow(10,ut))):(bt=Math.floor(Math.log(Math.abs(ut))/Math.LN10)-Math.floor(Math.log(ct)/Math.LN10)+4,a("."+String(bt)+"g")(ut))}function X(V,nt,ut,ct,bt){for(var kt=0;kt<V.length;kt++){var Et=V[kt];if(!Et.fixedrange)if(Et.rangebreaks){var Gt=Et._id.charAt(0)==="y",Vt=Gt?1-nt:nt,Ht=Gt?1-ut:ut;ct[Et._name+".range[0]"]=Et.l2r(Et.p2l(Vt*Et._length)),ct[Et._name+".range[1]"]=Et.l2r(Et.p2l(Ht*Et._length))}else{var vt=Et._rl[0],xt=Et._rl[1]-vt;ct[Et._name+".range[0]"]=Et.l2r(vt+xt*nt),ct[Et._name+".range[1]"]=Et.l2r(vt+xt*ut)}}if(bt&&bt.length){var lt=(nt+(1-ut))/2;X(bt,lt,1-lt,ct,[])}}function it(V,nt){for(var ut=0;ut<V.length;ut++){var ct=V[ut];if(!ct.fixedrange){if(ct.rangebreaks){var bt=0,kt=ct._length,Et=ct.p2l(bt+nt)-ct.p2l(bt),Gt=ct.p2l(kt+nt)-ct.p2l(kt),Vt=(Et+Gt)/2;ct.range=[ct.l2r(ct._rl[0]-Vt),ct.l2r(ct._rl[1]-Vt)]}else ct.range=[ct.l2r(ct._rl[0]-nt/ct._m),ct.l2r(ct._rl[1]-nt/ct._m)];ct.limitRange&&ct.limitRange()}}}function at(V){return 1-(V>=0?Math.min(V,.9):1/(1/Math.max(V,-.3)+3.222))}function ot(V,nt,ut){return V?V==="nsew"?ut?"":nt==="pan"?"move":"crosshair":V.toLowerCase()+"-resize":"pointer"}function ht(V,nt,ut,ct,bt){return V.append("path").attr("class","zoombox").style({fill:nt>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(ut,ct)).attr("d",bt+"Z")}function pt(V,nt,ut){return V.append("path").attr("class","zoombox-corners").style({fill:e.background,stroke:e.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(nt,ut)).attr("d","M0,0Z")}function yt(V,nt,ut,ct,bt,kt){V.attr("d",ct+"M"+ut.l+","+ut.t+"v"+ut.h+"h"+ut.w+"v-"+ut.h+"h-"+ut.w+"Z"),H(V,nt,bt,kt)}function H(V,nt,ut,ct){ut||(V.transition().style("fill",ct>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),nt.transition().style("opacity",1).duration(200))}function q(V){i.select(V).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function A(V){F&&V.data&&V._context.showTips&&(t.notifier(t._(V,"Double-click to zoom back out"),"long"),F=!1)}function W(V,nt){return"M"+(V.l-.5)+","+(nt-j-.5)+"h-3v"+(2*j+1)+"h3ZM"+(V.r+.5)+","+(nt-j-.5)+"h3v"+(2*j+1)+"h-3Z"}function rt(V,nt){return"M"+(nt-j-.5)+","+(V.t-.5)+"v-3h"+(2*j+1)+"v3ZM"+(nt-j-.5)+","+(V.b+.5)+"v3h"+(2*j+1)+"v-3Z"}function I(V){var nt=Math.floor(Math.min(V.b-V.t,V.r-V.l,j)/2);return"M"+(V.l-3.5)+","+(V.t-.5+nt)+"h3v"+-nt+"h"+nt+"v-3h-"+(nt+3)+"ZM"+(V.r+3.5)+","+(V.t-.5+nt)+"h-3v"+-nt+"h"+-nt+"v-3h"+(nt+3)+"ZM"+(V.r+3.5)+","+(V.b+.5-nt)+"h-3v"+nt+"h"+-nt+"v3h"+(nt+3)+"ZM"+(V.l-3.5)+","+(V.b+.5-nt)+"h3v"+nt+"h"+nt+"v3h-"+(nt+3)+"Z"}function M(V,nt,ut,ct,bt){for(var kt=!1,Et={},Gt={},Vt,Ht,vt,xt,lt=(bt||{}).xaHash,At=(bt||{}).yaHash,Rt=0;Rt<nt.length;Rt++){var Ut=nt[Rt];for(Vt in ut)if(Ut[Vt]){for(vt in Ut)!(bt&&(lt[vt]||At[vt]))&&!(vt.charAt(0)==="x"?ut:ct)[vt]&&(Et[vt]=Vt);for(Ht in ct)!(bt&&(lt[Ht]||At[Ht]))&&Ut[Ht]&&(kt=!0)}for(Ht in ct)if(Ut[Ht])for(xt in Ut)!(bt&&(lt[xt]||At[xt]))&&!(xt.charAt(0)==="x"?ut:ct)[xt]&&(Gt[xt]=Ht)}kt&&(t.extendFlat(Et,Gt),Gt={});var te={},Wt=[];for(vt in Et){var ae=k(V,vt);Wt.push(ae),te[ae._id]=ae}var ne={},re=[];for(xt in Gt){var de=k(V,xt);re.push(de),ne[de._id]=de}return{xaHash:te,yaHash:ne,xaxes:Wt,yaxes:re,xLinks:Et,yLinks:Gt,isSubplotConstrained:kt}}function S(V,nt){if(!n)V.onwheel!==void 0?V.onwheel=nt:V.onmousewheel!==void 0?V.onmousewheel=nt:V.isAddedWheelEvent||(V.isAddedWheelEvent=!0,V.addEventListener("wheel",nt,{passive:!1}));else{var ut=V.onwheel!==void 0?"wheel":"mousewheel";V._onwheel&&V.removeEventListener(ut,V._onwheel),V._onwheel=nt,V.addEventListener(ut,nt,{passive:!1})}}function N(V){var nt=[];for(var ut in V)nt.push(V[ut]);return nt}P.exports={makeDragBox:R,makeDragger:Z,makeRectDragger:G,makeZoombox:ht,makeCorners:pt,updateZoombox:yt,xyCorners:I,transitionZoombox:H,removeZoombox:q,showDoubleClickNotifier:A,attachWheelEventHandler:S}}),Fl=Mt(E=>{var P=Ke(),i=mn(),t=on(),a=kn(),l=Wc().makeDragBox,n=Sr().DRAGGERSIZE;E.initInteractions=function(o){var s=o._fullLayout;if(o._context.staticPlot){P.select(o).selectAll(".drag").remove();return}if(!(!s._has("cartesian")&&!s._has("splom"))){var f=Object.keys(s._plots||{}).sort(function(p,c){if((s._plots[p].mainplot&&!0)===(s._plots[c].mainplot&&!0)){var h=p.split("y"),_=c.split("y");return h[0]===_[0]?Number(h[1]||1)-Number(_[1]||1):Number(h[0]||1)-Number(_[0]||1)}return s._plots[p].mainplot?1:-1});f.forEach(function(p){var c=s._plots[p],h=c.xaxis,_=c.yaxis;if(!c.mainplot){var y=l(o,c,h._offset,_._offset,h._length,_._length,"ns","ew");y.onmousemove=function(x){o._fullLayout._rehover=function(){o._fullLayout._hoversubplot===p&&o._fullLayout._plots[p]&&i.hover(o,x,p)},i.hover(o,x,p),o._fullLayout._lasthover=y,o._fullLayout._hoversubplot=p},y.onmouseout=function(x){o._dragging||(o._fullLayout._hoversubplot=null,t.unhover(o,x))},o._context.showAxisDragHandles&&(l(o,c,h._offset-n,_._offset-n,n,n,"n","w"),l(o,c,h._offset+h._length,_._offset-n,n,n,"n","e"),l(o,c,h._offset-n,_._offset+_._length,n,n,"s","w"),l(o,c,h._offset+h._length,_._offset+_._length,n,n,"s","e"))}if(o._context.showAxisDragHandles){if(p===h._mainSubplot){var v=h._mainLinePosition;h.side==="top"&&(v-=n),l(o,c,h._offset+h._length*.1,v,h._length*.8,n,"","ew"),l(o,c,h._offset,v,h._length*.1,n,"","w"),l(o,c,h._offset+h._length*.9,v,h._length*.1,n,"","e")}if(p===_._mainSubplot){var g=_._mainLinePosition;_.side!=="right"&&(g-=n),l(o,c,g,_._offset+_._length*.1,n,_._length*.8,"ns",""),l(o,c,g,_._offset+_._length*.9,n,_._length*.1,"s",""),l(o,c,g,_._offset,n,_._length*.1,"n","")}}});var e=s._hoverlayer.node();e.onmousemove=function(p){p.target=o._fullLayout._lasthover,i.hover(o,p,s._hoversubplot)},e.onclick=function(p){p.target=o._fullLayout._lasthover,i.click(o,p)},e.onmousedown=function(p){o._fullLayout._lasthover.onmousedown(p)},E.updateFx(o)}},E.updateFx=function(o){var s=o._fullLayout,f=s.dragmode==="pan"?"move":"crosshair";a(s._draggers,f)}}),Xc=Mt((E,P)=>{var i=da();P.exports=function(t){for(var a=i.layoutArrayContainers,l=i.layoutArrayRegexes,n=t.split("[")[0],o,s,f=0;f<l.length;f++)if(s=t.match(l[f]),s&&s.index===0){o=s[0];break}if(o||(o=a[a.indexOf(n)]),!o)return!1;var e=t.substr(o.length);return e?(s=e.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),s?{array:o,index:Number(s[1]),property:s[3]||""}:!1):{array:o,index:"",property:""}}}),$c=Mt(E=>{var P=_r(),i=ji(),t=In(),a=Qo().sorterAsc,l=da();E.containerArrayMatch=Xc();var n=E.isAddVal=function(s){return s==="add"||P(s)},o=E.isRemoveVal=function(s){return s===null||s==="remove"};E.applyContainerArrayChanges=function(s,f,e,p,c){var h=f.astr,_=l.getComponentMethod(h,"supplyLayoutDefaults"),y=l.getComponentMethod(h,"draw"),v=l.getComponentMethod(h,"drawOne"),g=p.replot||p.recalc||_===i||y===i,x=s.layout,u=s._fullLayout;if(e[""]){Object.keys(e).length>1&&t.warn("Full array edits are incompatible with other edits",h);var d=e[""][""];if(o(d))f.set(null);else if(Array.isArray(d))f.set(d);else return t.warn("Unrecognized full array edit value",h,d),!0;return g?!1:(_(x,u),y(s),!0)}var m=Object.keys(e).map(Number).sort(a),w=f.get(),k=w||[],U=c(u,h).get(),D=[],C=-1,T=k.length,Y,z,j,F,R,Z,G,O;for(Y=0;Y<m.length;Y++){if(j=m[Y],F=e[j],R=Object.keys(F),Z=F[""],G=n(Z),j<0||j>k.length-(G?0:1)){t.warn("index out of range",h,j);continue}if(Z!==void 0)R.length>1&&t.warn("Insertion & removal are incompatible with edits to the same index.",h,j),o(Z)?D.push(j):G?(Z==="add"&&(Z={}),k.splice(j,0,Z),U&&U.splice(j,0,{})):t.warn("Unrecognized full object edit value",h,j,Z),C===-1&&(C=j);else for(z=0;z<R.length;z++)O=h+"["+j+"].",c(k[j],R[z],O).set(F[R[z]])}for(Y=D.length-1;Y>=0;Y--)k.splice(D[Y],1),U&&U.splice(D[Y],1);if(k.length?w||f.set(k):f.set(null),g)return!1;if(_(x,u),v!==i){var J;if(C===-1)J=m;else{for(T=Math.max(k.length,T),J=[],Y=0;Y<m.length&&(j=m[Y],!(j>=C));Y++)J.push(j);for(Y=C;Y<T;Y++)J.push(Y)}for(Y=0;Y<J.length;Y++)v(s,J[Y])}else y(s);return!0}}),Qc=Mt(E=>{var P=ua(),i=da(),t=Oe(),a=hr(),l=xr(),n=Ta(),o=l.cleanId,s=l.getFromTrace,f=i.traceIs,e=["x","y","z"];E.clearPromiseQueue=function(u){Array.isArray(u._promises)&&u._promises.length>0&&t.log("Clearing previous rejected promises from queue."),u._promises=[]},E.cleanLayout=function(u){var d;u||(u={}),u.xaxis1&&(u.xaxis||(u.xaxis=u.xaxis1),delete u.xaxis1),u.yaxis1&&(u.yaxis||(u.yaxis=u.yaxis1),delete u.yaxis1),u.scene1&&(u.scene||(u.scene=u.scene1),delete u.scene1);var m=(a.subplotsRegistry.cartesian||{}).attrRegex;(a.subplotsRegistry.polar||{}).attrRegex,(a.subplotsRegistry.ternary||{}).attrRegex,(a.subplotsRegistry.gl3d||{}).attrRegex;var w=Object.keys(u);for(d=0;d<w.length;d++){var k=w[d];if(m&&m.test(k)){var U=u[k];U.anchor&&U.anchor!=="free"&&(U.anchor=o(U.anchor)),U.overlaying&&(U.overlaying=o(U.overlaying)),U.type||(U.isdate?U.type="date":U.islog?U.type="log":U.isdate===!1&&U.islog===!1&&(U.type="linear")),(U.autorange==="withzero"||U.autorange==="tozero")&&(U.autorange=!0,U.rangemode="tozero"),U.insiderange&&delete U.range,delete U.islog,delete U.isdate,delete U.categories,y(U,"domain")&&delete U.domain}}var D=Array.isArray(u.annotations)?u.annotations.length:0;for(d=0;d<D;d++){var C=u.annotations[d];t.isPlainObject(C)&&(p(C,"xref"),p(C,"yref"))}var T=Array.isArray(u.shapes)?u.shapes.length:0;for(d=0;d<T;d++){var Y=u.shapes[d];t.isPlainObject(Y)&&(p(Y,"xref"),p(Y,"yref"))}var z=Array.isArray(u.images)?u.images.length:0;for(d=0;d<z;d++){var j=u.images[d];t.isPlainObject(j)&&(p(j,"xref"),p(j,"yref"))}var F=u.legend;return F&&(F.x>3?(F.x=1.02,F.xanchor="left"):F.x<-2&&(F.x=-.02,F.xanchor="right"),F.y>3?(F.y=1.02,F.yanchor="bottom"):F.y<-2&&(F.y=-.02,F.yanchor="top")),u.dragmode==="rotate"&&(u.dragmode="orbit"),n.clean(u),u.template&&u.template.layout&&E.cleanLayout(u.template.layout),u};function p(u,d){var m=u[d],w=d.charAt(0);m&&m!=="paper"&&(u[d]=o(m,w,!0))}E.cleanData=function(u){for(var d=0;d<u.length;d++){var m=u[d],w;if(m.type==="histogramy"&&"xbins"in m&&!("ybins"in m)&&(m.ybins=m.xbins,delete m.xbins),m.type==="histogramy"&&E.swapXYData(m),(m.type==="histogramx"||m.type==="histogramy")&&(m.type="histogram"),"scl"in m&&!("colorscale"in m)&&(m.colorscale=m.scl,delete m.scl),"reversescl"in m&&!("reversescale"in m)&&(m.reversescale=m.reversescl,delete m.reversescl),m.xaxis&&(m.xaxis=o(m.xaxis,"x")),m.yaxis&&(m.yaxis=o(m.yaxis,"y")),f(m,"gl3d")&&m.scene&&(m.scene=a.subplotsRegistry.gl3d.cleanId(m.scene)),!f(m,"pie-like")&&!f(m,"bar-like"))if(Array.isArray(m.textposition))for(w=0;w<m.textposition.length;w++)m.textposition[w]=_(m.textposition[w]);else m.textposition&&(m.textposition=_(m.textposition));var k=i.getModule(m);if(k&&k.colorbar){var U=k.colorbar.container,D=U?m[U]:m;D&&D.colorscale&&(D.colorscale==="YIGnBu"&&(D.colorscale="YlGnBu"),D.colorscale==="YIOrRd"&&(D.colorscale="YlOrRd"))}if(m.type==="surface"&&t.isPlainObject(m.contours)){var C=["x","y","z"];for(w=0;w<C.length;w++){var T=m.contours[C[w]];t.isPlainObject(T)&&(T.highlightColor&&(T.highlightcolor=T.highlightColor,delete T.highlightColor),T.highlightWidth&&(T.highlightwidth=T.highlightWidth,delete T.highlightWidth))}}if(m.type==="candlestick"||m.type==="ohlc"){var Y=(m.increasing||{}).showlegend!==!1,z=(m.decreasing||{}).showlegend!==!1,j=c(m.increasing),F=c(m.decreasing);if(j!==!1&&F!==!1){var R=h(j,F,Y,z);R&&(m.name=R)}else(j||F)&&!m.name&&(m.name=j||F)}y(m,"line")&&delete m.line,"marker"in m&&(y(m.marker,"line")&&delete m.marker.line,y(m,"marker")&&delete m.marker),n.clean(m),m.autobinx&&(delete m.autobinx,delete m.xbins),m.autobiny&&(delete m.autobiny,delete m.ybins)}};function c(u){if(!t.isPlainObject(u))return!1;var d=u.name;return delete u.name,delete u.showlegend,(typeof d=="string"||typeof d=="number")&&String(d)}function h(u,d,m,w){if(m&&!w)return u;if(w&&!m||!u.trim())return d;if(!d.trim())return u;var k=Math.min(u.length,d.length),U;for(U=0;U<k&&u.charAt(U)===d.charAt(U);U++);var D=u.substr(0,U);return D.trim()}function _(u){var d="middle",m="center";return typeof u=="string"&&(u.indexOf("top")!==-1?d="top":u.indexOf("bottom")!==-1&&(d="bottom"),u.indexOf("left")!==-1?m="left":u.indexOf("right")!==-1&&(m="right")),d+" "+m}function y(u,d){return d in u&&typeof u[d]=="object"&&Object.keys(u[d]).length===0}E.swapXYData=function(u){var d;if(t.swapAttrs(u,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(u.z)&&Array.isArray(u.z[0])&&(u.transpose?delete u.transpose:u.transpose=!0),u.error_x&&u.error_y){var m=u.error_y,w="copy_ystyle"in m?m.copy_ystyle:!(m.color||m.thickness||m.width);t.swapAttrs(u,["error_?.copy_ystyle"]),w&&t.swapAttrs(u,["error_?.color","error_?.thickness","error_?.width"])}if(typeof u.hoverinfo=="string"){var k=u.hoverinfo.split("+");for(d=0;d<k.length;d++)k[d]==="x"?k[d]="y":k[d]==="y"&&(k[d]="x");u.hoverinfo=k.join("+")}},E.coerceTraceIndices=function(u,d){if(P(d))return[d];if(!Array.isArray(d)||!d.length)return u.data.map(function(k,U){return U});if(Array.isArray(d)){for(var m=[],w=0;w<d.length;w++)t.isIndex(d[w],u.data.length)?m.push(d[w]):t.warn("trace index (",d[w],") is not a number or is out of bounds");return m}return d},E.manageArrayContainers=function(u,d,m){var w=u.obj,k=u.parts,U=k.length,D=k[U-1],C=P(D);if(C&&d===null){var T=k.slice(0,U-1).join("."),Y=t.nestedProperty(w,T).get();Y.splice(D,1)}else C&&u.get()===void 0&&u.get()===void 0&&(m[u.astr]=null),u.set(d)};var v=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function g(u){var d=u.search(v);if(d>0)return u.substr(0,d)}E.hasParent=function(u,d){for(var m=g(d);m;){if(m in u)return!0;m=g(m)}return!1},E.clearAxisTypes=function(u,d,m){for(var w=0;w<d.length;w++)for(var k=u._fullData[w],U=0;U<3;U++){var D=s(u,k,e[U]);if(D&&D.type!=="log"){var C=D._name,T=D._id.substr(1);if(T.substr(0,5)==="scene"){if(m[T]!==void 0)continue;C=T+"."+C}var Y=C+".type";m[C]===void 0&&m[Y]===void 0&&t.nestedProperty(u.layout,Y).set(null)}}};var x=(u,d)=>{let m=(...w)=>w.every(k=>t.isPlainObject(k))||w.every(k=>Array.isArray(k));if([u,d].every(w=>Array.isArray(w))){if(u.length!==d.length)return!1;for(let w=0;w<u.length;w++){let k=u[w],U=d[w];if(k!==U&&!(m(k,U)&&x(k,U)))return!1}return!0}else if([u,d].every(w=>t.isPlainObject(w))){if(Object.keys(u).length!==Object.keys(d).length)return!1;for(let w in u){if(w.startsWith("_"))continue;let k=u[w],U=d[w];if(k!==U&&!(m(k,U)&&x(k,U)))return!1}return!0}return!1};E.collectionsAreEqual=x}),Nl=Mt(E=>{var P=Ke(),i=ua(),t=el(),a=Oe(),l=a.nestedProperty,n=oi(),o=dc(),s=da(),f=Un(),e=hr(),p=Ka(),c=gl(),h=rn(),_=Ga(),y=Ta(),v=Fl().initInteractions,g=En(),x=Jn().clearOutline,u=zn().dfltConfig,d=$c(),m=Qc(),w=lo(),k=hn(),U=Sr().AX_NAME_PATTERN,D=0,C=5;function T(Q,st,ft,_t){var Tt;if(Q=a.getGraphDiv(Q),n.init(Q),a.isPlainObject(st)){var zt=st;st=zt.data,ft=zt.layout,_t=zt.config,Tt=zt.frames}var Ft=n.triggerHandler(Q,"plotly_beforeplot",[st,ft,_t]);if(Ft===!1)return Promise.reject();!st&&!ft&&!a.isPlotDiv(Q)&&a.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Q);function Zt(){if(Tt)return E.addFrames(Q,Tt)}R(Q,_t),ft||(ft={}),P.select(Q).classed("js-plotly-plot",!0),_.makeTester(),Array.isArray(Q._promises)||(Q._promises=[]);var qt=(Q.data||[]).length===0&&Array.isArray(st);Array.isArray(st)&&(m.cleanData(st),qt?Q.data=st:Q.data.push.apply(Q.data,st),Q.empty=!1),(!Q.layout||qt)&&(Q.layout=m.cleanLayout(ft)),e.supplyDefaults(Q);var Yt=Q._fullLayout,ie=Yt._has("cartesian");Yt._replotting=!0,(qt||Yt._shouldCreateBgLayer)&&(Ct(Q),Yt._shouldCreateBgLayer&&delete Yt._shouldCreateBgLayer),_.initGradients(Q),_.initPatterns(Q),qt&&p.saveShowSpikeInitial(Q);var oe=!Q.calcdata||Q.calcdata.length!==(Q._fullData||[]).length;oe&&e.doCalcdata(Q);for(var le=0;le<Q.calcdata.length;le++)Q.calcdata[le][0].trace=Q._fullData[le];Q._context.responsive?Q._responsiveChartHandler||(Q._responsiveChartHandler=function(){a.isHidden(Q)||e.resize(Q)},window.addEventListener("resize",Q._responsiveChartHandler)):a.clearResponsive(Q);var be=a.extendFlat({},Yt._size),Ae=0;function Re(){for(var De=Yt._basePlotModules,Ie=0;Ie<De.length;Ie++)De[Ie].drawFramework&&De[Ie].drawFramework(Q);!Yt._glcanvas&&Yt._has("gl")&&(Yt._glcanvas=Yt._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(He){return He.key}),Yt._glcanvas.enter().append("canvas").attr("class",function(He){return"gl-canvas gl-canvas-"+He.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Le=Q._context.plotGlPixelRatio;if(Yt._glcanvas){Yt._glcanvas.attr("width",Yt.width*Le).attr("height",Yt.height*Le).style("width",Yt.width+"px").style("height",Yt.height+"px");var Xe=Yt._glcanvas.data()[0].regl;if(Xe&&(Math.floor(Yt.width*Le)!==Xe._gl.drawingBufferWidth||Math.floor(Yt.height*Le)!==Xe._gl.drawingBufferHeight)){var aa="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Ae)a.error(aa);else return a.log(aa+" Clearing graph and plotting again."),e.cleanPlot([],{},Q._fullData,Yt),e.supplyDefaults(Q),Yt=Q._fullLayout,e.doCalcdata(Q),Ae++,Re()}}return Yt.modebar.orientation==="h"?Yt._modebardiv.style("height",null).style("width","100%"):Yt._modebardiv.style("width",null).style("height",Yt.height+"px"),e.previousPromises(Q)}function Ve(){if(e.clearAutoMarginIds(Q),w.drawMarginPushers(Q),p.allowAutoMargin(Q),Q._fullLayout.title.text&&Q._fullLayout.title.automargin&&e.allowAutoMargin(Q,"title.automargin"),Yt._has("pie"))for(var De=Q._fullData,Ie=0;Ie<De.length;Ie++){var Le=De[Ie];Le.type==="pie"&&Le.automargin&&e.allowAutoMargin(Q,"pie."+Le.uid+".automargin")}return e.doAutoMargin(Q),e.previousPromises(Q)}function Ye(){if(e.didMarginChange(be,Yt._size))return a.syncOrAsync([Ve,w.layoutStyles],Q)}function Se(){if(!oe){we();return}return a.syncOrAsync([s.getComponentMethod("shapes","calcAutorange"),s.getComponentMethod("annotations","calcAutorange"),we],Q)}function we(){Q._transitioning||(w.doAutoRangeAndConstraints(Q),qt&&p.saveRangeInitial(Q),s.getComponentMethod("rangeslider","calcAutorange")(Q))}function Ne(){return p.draw(Q,qt?"":"redraw")}var qe=[e.previousPromises,Zt,Re,Ve,Ye];ie&&qe.push(Se),qe.push(w.layoutStyles),ie&&qe.push(Ne,function(De){var Ie=De._fullLayout._insideTickLabelsUpdaterange;if(Ie)return De._fullLayout._insideTickLabelsUpdaterange=void 0,nt(De,Ie).then(function(){p.saveRangeInitial(De,!0)})}),qe.push(w.drawData,w.finalDraw,v,e.addLinks,e.rehover,e.redrag,e.reselect,e.doAutoMargin,e.previousPromises);var Fe=a.syncOrAsync(qe,Q);return(!Fe||!Fe.then)&&(Fe=Promise.resolve()),Fe.then(function(){return Y(Q),Q})}function Y(Q){var st=Q._fullLayout;st._redrawFromAutoMarginCount?st._redrawFromAutoMarginCount--:Q.emit("plotly_afterplot")}function z(Q){return a.extendFlat(u,Q)}function j(Q,st){try{Q._fullLayout._paper.style("background",st)}catch(ft){a.error(ft)}}function F(Q,st){var ft=y.combine(st,"white");j(Q,ft)}function R(Q,st){if(!Q._context){Q._context=a.extendDeep({},u);var ft=P.select("base");Q._context._baseUrl=ft.size()&&ft.attr("href")?window.location.href.split("#")[0]:""}var _t=Q._context,Tt,zt,Ft;if(st){for(zt=Object.keys(st),Tt=0;Tt<zt.length;Tt++)Ft=zt[Tt],!(Ft==="editable"||Ft==="edits")&&Ft in _t&&(Ft==="setBackground"&&st[Ft]==="opaque"?_t[Ft]=F:_t[Ft]=st[Ft]);var Zt=st.editable;if(Zt!==void 0)for(_t.editable=Zt,zt=Object.keys(_t.edits),Tt=0;Tt<zt.length;Tt++)_t.edits[zt[Tt]]=Zt;if(st.edits)for(zt=Object.keys(st.edits),Tt=0;Tt<zt.length;Tt++)Ft=zt[Tt],Ft in _t.edits&&(_t.edits[Ft]=st.edits[Ft]);_t._exportedPlot=st._exportedPlot}_t.staticPlot&&(_t.editable=!1,_t.edits={},_t.autosizable=!1,_t.scrollZoom=!1,_t.doubleClick=!1,_t.showTips=!1,_t.showLink=!1,_t.displayModeBar=!1),_t.displayModeBar==="hover"&&!t&&(_t.displayModeBar=!0),(_t.setBackground==="transparent"||typeof _t.setBackground!="function")&&(_t.setBackground=j),_t._hasZeroHeight=_t._hasZeroHeight||Q.clientHeight===0,_t._hasZeroWidth=_t._hasZeroWidth||Q.clientWidth===0;var qt=_t.scrollZoom,Yt=_t._scrollZoom={};if(qt===!0)Yt.cartesian=1,Yt.gl3d=1,Yt.geo=1,Yt.mapbox=1,Yt.map=1;else if(typeof qt=="string"){var ie=qt.split("+");for(Tt=0;Tt<ie.length;Tt++)Yt[ie[Tt]]=1}else qt!==!1&&(Yt.gl3d=1,Yt.geo=1,Yt.mapbox=1,Yt.map=1)}function Z(Q){if(Q=a.getGraphDiv(Q),!a.isPlotDiv(Q))throw new Error("This element is not a Plotly plot: "+Q);return m.cleanData(Q.data),m.cleanLayout(Q.layout),Q.calcdata=void 0,E._doPlot(Q).then(function(){return Q.emit("plotly_redraw"),Q})}function G(Q,st,ft,_t){return Q=a.getGraphDiv(Q),e.cleanPlot([],{},Q._fullData||[],Q._fullLayout||{}),e.purge(Q),E._doPlot(Q,st,ft,_t)}function O(Q,st){var ft=st+1,_t=[],Tt,zt;for(Tt=0;Tt<Q.length;Tt++)zt=Q[Tt],zt<0?_t.push(ft+zt):_t.push(zt);return _t}function J(Q,st,ft){var _t,Tt;for(_t=0;_t<st.length;_t++){if(Tt=st[_t],Tt!==parseInt(Tt,10))throw new Error("all values in "+ft+" must be integers");if(Tt>=Q.data.length||Tt<-Q.data.length)throw new Error(ft+" must be valid indices for gd.data.");if(st.indexOf(Tt,_t+1)>-1||Tt>=0&&st.indexOf(-Q.data.length+Tt)>-1||Tt<0&&st.indexOf(Q.data.length+Tt)>-1)throw new Error("each index in "+ft+" must be unique.")}}function X(Q,st,ft){if(!Array.isArray(Q.data))throw new Error("gd.data must be an array.");if(typeof st>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(st)||(st=[st]),J(Q,st,"currentIndices"),typeof ft<"u"&&!Array.isArray(ft)&&(ft=[ft]),typeof ft<"u"&&J(Q,ft,"newIndices"),typeof ft<"u"&&st.length!==ft.length)throw new Error("current and new indices must be of equal length.")}function it(Q,st,ft){var _t,Tt;if(!Array.isArray(Q.data))throw new Error("gd.data must be an array.");if(typeof st>"u")throw new Error("traces must be defined.");for(Array.isArray(st)||(st=[st]),_t=0;_t<st.length;_t++)if(Tt=st[_t],typeof Tt!="object"||Array.isArray(Tt)||Tt===null)throw new Error("all values in traces array must be non-array objects");if(typeof ft<"u"&&!Array.isArray(ft)&&(ft=[ft]),typeof ft<"u"&&ft.length!==st.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function at(Q,st,ft,_t){var Tt=a.isPlainObject(_t);if(!Array.isArray(Q.data))throw new Error("gd.data must be an array");if(!a.isPlainObject(st))throw new Error("update must be a key:value object");if(typeof ft>"u")throw new Error("indices must be an integer or array of integers");J(Q,ft,"indices");for(var zt in st){if(!Array.isArray(st[zt])||st[zt].length!==ft.length)throw new Error("attribute "+zt+" must be an array of length equal to indices array length");if(Tt&&(!(zt in _t)||!Array.isArray(_t[zt])||_t[zt].length!==st[zt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 correspondence with the keys and number of traces in the update object")}}function ot(Q,st,ft,_t){var Tt=a.isPlainObject(_t),zt=[],Ft,Zt,qt,Yt,ie;Array.isArray(ft)||(ft=[ft]),ft=O(ft,Q.data.length-1);for(var oe in st)for(var le=0;le<ft.length;le++){if(Ft=Q.data[ft[le]],qt=l(Ft,oe),Zt=qt.get(),Yt=st[oe][le],!a.isArrayOrTypedArray(Yt))throw new Error("attribute: "+oe+" index: "+le+" must be an array");if(!a.isArrayOrTypedArray(Zt))throw new Error("cannot extend missing or non-array attribute: "+oe);if(Zt.constructor!==Yt.constructor)throw new Error("cannot extend array with an array of a different type: "+oe);ie=Tt?_t[oe][le]:_t,i(ie)||(ie=-1),zt.push({prop:qt,target:Zt,insert:Yt,maxp:Math.floor(ie)})}return zt}function ht(Q,st,ft,_t,Tt){at(Q,st,ft,_t);for(var zt=ot(Q,st,ft,_t),Ft={},Zt={},qt=0;qt<zt.length;qt++){var Yt=zt[qt].prop,ie=zt[qt].maxp,oe=Tt(zt[qt].target,zt[qt].insert,ie);Yt.set(oe[0]),Array.isArray(Ft[Yt.astr])||(Ft[Yt.astr]=[]),Ft[Yt.astr].push(oe[1]),Array.isArray(Zt[Yt.astr])||(Zt[Yt.astr]=[]),Zt[Yt.astr].push(zt[qt].target.length)}return{update:Ft,maxPoints:Zt}}function pt(Q,st){var ft=new Q.constructor(Q.length+st.length);return ft.set(Q),ft.set(st,Q.length),ft}function yt(Q,st,ft,_t){Q=a.getGraphDiv(Q);function Tt(qt,Yt,ie){var oe,le;if(a.isTypedArray(qt))if(ie<0){var be=new qt.constructor(0),Ae=pt(qt,Yt);ie<0?(oe=Ae,le=be):(oe=be,le=Ae)}else if(oe=new qt.constructor(ie),le=new qt.constructor(qt.length+Yt.length-ie),ie===Yt.length)oe.set(Yt),le.set(qt);else if(ie<Yt.length){var Re=Yt.length-ie;oe.set(Yt.subarray(Re)),le.set(qt),le.set(Yt.subarray(0,Re),qt.length)}else{var Ve=ie-Yt.length,Ye=qt.length-Ve;oe.set(qt.subarray(Ye)),oe.set(Yt,Ve),le.set(qt.subarray(0,Ye))}else oe=qt.concat(Yt),le=ie>=0&&ie<oe.length?oe.splice(0,oe.length-ie):[];return[oe,le]}var zt=ht(Q,st,ft,_t,Tt),Ft=E.redraw(Q),Zt=[Q,zt.update,ft,zt.maxPoints];return o.add(Q,E.prependTraces,Zt,yt,arguments),Ft}function H(Q,st,ft,_t){Q=a.getGraphDiv(Q);function Tt(qt,Yt,ie){var oe,le;if(a.isTypedArray(qt))if(ie<=0){var be=new qt.constructor(0),Ae=pt(Yt,qt);ie<0?(oe=Ae,le=be):(oe=be,le=Ae)}else if(oe=new qt.constructor(ie),le=new qt.constructor(qt.length+Yt.length-ie),ie===Yt.length)oe.set(Yt),le.set(qt);else if(ie<Yt.length){var Re=Yt.length-ie;oe.set(Yt.subarray(0,Re)),le.set(Yt.subarray(Re)),le.set(qt,Re)}else{var Ve=ie-Yt.length;oe.set(Yt),oe.set(qt.subarray(0,Ve),Yt.length),le.set(qt.subarray(Ve))}else oe=Yt.concat(qt),le=ie>=0&&ie<oe.length?oe.splice(ie,oe.length):[];return[oe,le]}var zt=ht(Q,st,ft,_t,Tt),Ft=E.redraw(Q),Zt=[Q,zt.update,ft,zt.maxPoints];return o.add(Q,E.extendTraces,Zt,H,arguments),Ft}function q(Q,st,ft){Q=a.getGraphDiv(Q);var _t=[],Tt=E.deleteTraces,zt=q,Ft=[Q,_t],Zt=[Q,st],qt,Yt;for(it(Q,st,ft),Array.isArray(st)||(st=[st]),st=st.map(function(ie){return a.extendFlat({},ie)}),m.cleanData(st),qt=0;qt<st.length;qt++)Q.data.push(st[qt]);for(qt=0;qt<st.length;qt++)_t.push(-st.length+qt);if(typeof ft>"u")return Yt=E.redraw(Q),o.add(Q,Tt,Ft,zt,Zt),Yt;Array.isArray(ft)||(ft=[ft]);try{X(Q,_t,ft)}catch(ie){throw Q.data.splice(Q.data.length-st.length,st.length),ie}return o.startSequence(Q),o.add(Q,Tt,Ft,zt,Zt),Yt=E.moveTraces(Q,_t,ft),o.stopSequence(Q),Yt}function A(Q,st){Q=a.getGraphDiv(Q);var ft=[],_t=E.addTraces,Tt=A,zt=[Q,ft,st],Ft=[Q,st],Zt,qt;if(typeof st>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(st)||(st=[st]),J(Q,st,"indices"),st=O(st,Q.data.length-1),st.sort(a.sorterDes),Zt=0;Zt<st.length;Zt+=1)qt=Q.data.splice(st[Zt],1)[0],ft.push(qt);var Yt=E.redraw(Q);return o.add(Q,_t,zt,Tt,Ft),Yt}function W(Q,st,ft){Q=a.getGraphDiv(Q);var _t=[],Tt=[],zt=W,Ft=W,Zt=[Q,ft,st],qt=[Q,st,ft],Yt;if(X(Q,st,ft),st=Array.isArray(st)?st:[st],typeof ft>"u")for(ft=[],Yt=0;Yt<st.length;Yt++)ft.push(-st.length+Yt);for(ft=Array.isArray(ft)?ft:[ft],st=O(st,Q.data.length-1),ft=O(ft,Q.data.length-1),Yt=0;Yt<Q.data.length;Yt++)st.indexOf(Yt)===-1&&_t.push(Q.data[Yt]);for(Yt=0;Yt<st.length;Yt++)Tt.push({newIndex:ft[Yt],trace:Q.data[st[Yt]]});for(Tt.sort(function(oe,le){return oe.newIndex-le.newIndex}),Yt=0;Yt<Tt.length;Yt+=1)_t.splice(Tt[Yt].newIndex,0,Tt[Yt].trace);Q.data=_t;var ie=E.redraw(Q);return o.add(Q,zt,Zt,Ft,qt),ie}function rt(Q,st,ft,_t){Q=a.getGraphDiv(Q),m.clearPromiseQueue(Q);var Tt={};if(typeof st=="string")Tt[st]=ft;else if(a.isPlainObject(st))Tt=a.extendFlat({},st),_t===void 0&&(_t=ft);else return a.warn("Restyle fail.",st,ft,_t),Promise.reject();Object.keys(Tt).length&&(Q.changed=!0);var zt=m.coerceTraceIndices(Q,_t),Ft=V(Q,Tt,zt),Zt=Ft.flags;Zt.calc&&(Q.calcdata=void 0),Zt.clearAxisTypes&&m.clearAxisTypes(Q,zt,{});var qt=[];Zt.fullReplot?qt.push(E._doPlot):(qt.push(e.previousPromises),e.supplyDefaults(Q),Zt.markerSize&&(e.doCalcdata(Q),ct(qt)),Zt.style&&qt.push(w.doTraceStyle),Zt.colorbars&&qt.push(w.doColorBars),qt.push(Y)),qt.push(e.rehover,e.redrag,e.reselect),o.add(Q,rt,[Q,Ft.undoit,Ft.traces],rt,[Q,Ft.redoit,Ft.traces]);var Yt=a.syncOrAsync(qt,Q);return(!Yt||!Yt.then)&&(Yt=Promise.resolve()),Yt.then(function(){return Q.emit("plotly_restyle",Ft.eventData),Q})}function I(Q){return Q===void 0?null:Q}function M(Q,st){return st?function(ft,_t,Tt){var zt=l(ft,_t),Ft=zt.set;return zt.set=function(Zt){var qt=(Tt||"")+_t;S(qt,zt.get(),Zt,Q),Ft(Zt)},zt}:l}function S(Q,st,ft,_t){if(Array.isArray(st)||Array.isArray(ft))for(var Tt=Array.isArray(st)?st:[],zt=Array.isArray(ft)?ft:[],Ft=Math.max(Tt.length,zt.length),Zt=0;Zt<Ft;Zt++)S(Q+"["+Zt+"]",Tt[Zt],zt[Zt],_t);else if(a.isPlainObject(st)||a.isPlainObject(ft)){var qt=a.isPlainObject(st)?st:{},Yt=a.isPlainObject(ft)?ft:{},ie=a.extendFlat({},qt,Yt);for(var oe in ie)S(Q+"."+oe,qt[oe],Yt[oe],_t)}else _t[Q]===void 0&&(_t[Q]=I(st))}function N(Q,st,ft){for(var _t in ft){var Tt=l(Q,_t);S(_t,Tt.get(),ft[_t],st)}}function V(Q,st,ft){var _t=Q._fullLayout,Tt=Q._fullData,zt=Q.data,Ft=_t._guiEditing,Zt=M(_t._preGUI,Ft),qt=a.extendDeepAll({},st),Yt,ie=k.traceFlags(),oe={},le={},be;function Ae(){return ft.map(function(){})}function Re(ee){var he=p.id2name(ee);be.indexOf(he)===-1&&be.push(he)}function Ve(ee){return"LAYOUT"+ee+".autorange"}function Ye(ee){return"LAYOUT"+ee+".range"}function Se(ee){for(var he=ee;he<Tt.length;he++)if(Tt[he]._input===zt[ee])return Tt[he]}function we(ee,he,ke){if(Array.isArray(ee)){ee.forEach(function(ze){we(ze,he,ke)});return}if(!(ee in st||m.hasParent(st,ee))){var Te;if(ee.substr(0,6)==="LAYOUT")Te=Zt(Q.layout,ee.replace("LAYOUT",""));else{var Pe=ft[ke],Me=_t._tracePreGUI[Se(Pe)._fullInput.uid];Te=M(Me,Ft)(zt[Pe],ee)}ee in le||(le[ee]=Ae()),le[ee][ke]===void 0&&(le[ee][ke]=I(Te.get())),he!==void 0&&Te.set(he)}}function Ne(ee){return function(he){return Tt[he][ee]}}function qe(ee){return function(he,ke){return he===!1?Tt[ft[ke]][ee]:null}}for(var Fe in st){if(m.hasParent(st,Fe))throw new Error("cannot set "+Fe+" and a parent attribute simultaneously");var De=st[Fe],Ie,Le,Xe,aa,He,ra;if((Fe==="autobinx"||Fe==="autobiny")&&(Fe=Fe.charAt(Fe.length-1)+"bins",Array.isArray(De)?De=De.map(qe(Fe)):De===!1?De=ft.map(Ne(Fe)):De=null),oe[Fe]=De,Fe.substr(0,6)==="LAYOUT"){Xe=Zt(Q.layout,Fe.replace("LAYOUT","")),le[Fe]=[I(Xe.get())],Xe.set(Array.isArray(De)?De[0]:De),ie.calc=!0;continue}for(le[Fe]=Ae(),Yt=0;Yt<ft.length;Yt++){Ie=zt[ft[Yt]],Le=Se(ft[Yt]);var sa=_t._tracePreGUI[Le._fullInput.uid];if(Xe=M(sa,Ft)(Ie,Fe),aa=Xe.get(),He=Array.isArray(De)?De[Yt%De.length]:De,He!==void 0){var ma=Xe.parts[Xe.parts.length-1],ya=Fe.substr(0,Fe.length-ma.length-1),Qe=ya?ya+".":"",ha=ya?l(Le,ya).get():Le;if(ra=f.getTraceValObject(Le,Xe.parts),ra&&ra.impliedEdits&&He!==null)for(var oa in ra.impliedEdits)we(a.relativeAttr(Fe,oa),ra.impliedEdits[oa],Yt);else if((ma==="thicknessmode"||ma==="lenmode")&&aa!==He&&(He==="fraction"||He==="pixels")&&ha){var Ce=_t._size,Ma=ha.orient,et=Ma==="top"||Ma==="bottom";if(ma==="thicknessmode"){var K=et?Ce.h:Ce.w;we(Qe+"thickness",ha.thickness*(He==="fraction"?1/K:K),Yt)}else{var St=et?Ce.w:Ce.h;we(Qe+"len",ha.len*(He==="fraction"?1/St:St),Yt)}}else if(Fe==="type"&&(He==="pie"!=(aa==="pie")||He==="funnelarea"!=(aa==="funnelarea"))){var It="x",jt="y";(He==="bar"||aa==="bar")&&Ie.orientation==="h"&&(It="y",jt="x"),a.swapAttrs(Ie,["?","?src"],"labels",It),a.swapAttrs(Ie,["d?","?0"],"label",It),a.swapAttrs(Ie,["?","?src"],"values",jt),aa==="pie"||aa==="funnelarea"?(l(Ie,"marker.color").set(l(Ie,"marker.colors").get()),_t._pielayer.selectAll("g.trace").remove()):s.traceIs(Ie,"cartesian")&&l(Ie,"marker.colors").set(l(Ie,"marker.color").get())}le[Fe][Yt]=I(aa);var Lt=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Lt.indexOf(Fe)!==-1){if(Fe==="orientation"){Xe.set(He);var Ot=Ie.x&&!Ie.y?"h":"v";if((Xe.get()||Ot)===Le.orientation)continue}else Fe==="orientationaxes"&&(Ie.orientation={v:"h",h:"v"}[Le.orientation]);m.swapXYData(Ie),ie.calc=ie.clearAxisTypes=!0}else e.dataArrayContainers.indexOf(Xe.parts[0])!==-1?(m.manageArrayContainers(Xe,He,le),ie.calc=!0):(ra?ra.arrayOk&&!s.traceIs(Le,"regl")&&(a.isArrayOrTypedArray(He)||a.isArrayOrTypedArray(aa))?ie.calc=!0:k.update(ie,ra):ie.calc=!0,Xe.set(He))}}if(["swapxyaxes","orientationaxes"].indexOf(Fe)!==-1&&p.swap(Q,ft),Fe==="orientationaxes"){var Bt=l(Q.layout,"hovermode"),Nt=Bt.get();Nt==="x"?Bt.set("y"):Nt==="y"?Bt.set("x"):Nt==="x unified"?Bt.set("y unified"):Nt==="y unified"&&Bt.set("x unified")}if(["orientation","type"].indexOf(Fe)!==-1){for(be=[],Yt=0;Yt<ft.length;Yt++){var Xt=zt[ft[Yt]];s.traceIs(Xt,"cartesian")&&(Re(Xt.xaxis||"x"),Re(Xt.yaxis||"y"))}we(be.map(Ve),!0,0),we(be.map(Ye),[0,1],0)}}return(ie.calc||ie.plot)&&(ie.fullReplot=!0),{flags:ie,undoit:le,redoit:oe,traces:ft,eventData:a.extendDeepNoArrays([],[qt,ft])}}function nt(Q,st,ft){Q=a.getGraphDiv(Q),m.clearPromiseQueue(Q);var _t={};if(typeof st=="string")_t[st]=ft;else if(a.isPlainObject(st))_t=a.extendFlat({},st);else return a.warn("Relayout fail.",st,ft),Promise.reject();Object.keys(_t).length&&(Q.changed=!0);var Tt=Gt(Q,_t),zt=Tt.flags;zt.calc&&(Q.calcdata=void 0);var Ft=[e.previousPromises];zt.layoutReplot?Ft.push(w.layoutReplot):Object.keys(_t).length&&(ut(Q,zt,Tt)||e.supplyDefaults(Q),zt.legend&&Ft.push(w.doLegend),zt.layoutstyle&&Ft.push(w.layoutStyles),zt.axrange&&ct(Ft,Tt.rangesAltered),zt.ticks&&Ft.push(w.doTicksRelayout),zt.modebar&&Ft.push(w.doModeBar),zt.camera&&Ft.push(w.doCamera),zt.colorbars&&Ft.push(w.doColorBars),Ft.push(Y)),Ft.push(e.rehover,e.redrag,e.reselect),o.add(Q,nt,[Q,Tt.undoit],nt,[Q,Tt.redoit]);var Zt=a.syncOrAsync(Ft,Q);return(!Zt||!Zt.then)&&(Zt=Promise.resolve(Q)),Zt.then(function(){return Q.emit("plotly_relayout",Tt.eventData),Q})}function ut(Q,st,ft){var _t=Q._fullLayout;if(!st.axrange)return!1;for(var Tt in st)if(Tt!=="axrange"&&st[Tt])return!1;var zt,Ft,Zt=function(be,Ae){return a.coerce(zt,Ft,h,be,Ae)},qt={};for(var Yt in ft.rangesAltered){var ie=p.id2name(Yt);if(zt=Q.layout[ie],Ft=_t[ie],c(zt,Ft,Zt,qt),Ft._matchGroup){for(var oe in Ft._matchGroup)if(oe!==Yt){var le=_t[p.id2name(oe)];le.autorange=Ft.autorange,le.range=Ft.range.slice(),le._input.range=Ft.range.slice()}}}return!0}function ct(Q,st){var ft=st?function(_t){var Tt=[],zt=!0;for(var Ft in st){var Zt=p.getFromId(_t,Ft);if(Tt.push(Ft),(Zt.ticklabelposition||"").indexOf("inside")!==-1&&Zt._anchorAxis&&Tt.push(Zt._anchorAxis._id),Zt._matchGroup)for(var qt in Zt._matchGroup)st[qt]||Tt.push(qt)}return p.draw(_t,Tt,{skipTitle:zt})}:function(_t){return p.draw(_t,"redraw")};Q.push(x,w.doAutoRangeAndConstraints,ft,w.drawData,w.finalDraw)}var bt=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,kt=/^[xyz]axis[0-9]*\.autorange$/,Et=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function Gt(Q,st){var ft=Q.layout,_t=Q._fullLayout,Tt=_t._guiEditing,zt=M(_t._preGUI,Tt),Ft=Object.keys(st),Zt=p.list(Q),qt=a.extendDeepAll({},st),Yt={},ie,oe,le;for(Ft=Object.keys(st),oe=0;oe<Ft.length;oe++)if(Ft[oe].indexOf("allaxes")===0){for(le=0;le<Zt.length;le++){var be=Zt[le]._id.substr(1),Ae=be.indexOf("scene")!==-1?be+".":"",Re=Ft[oe].replace("allaxes",Ae+Zt[le]._name);st[Re]||(st[Re]=st[Ft[oe]])}delete st[Ft[oe]]}var Ve=k.layoutFlags(),Ye={},Se={};function we(Me,ze){if(Array.isArray(Me)){Me.forEach(function(pa){we(pa,ze)});return}if(!(Me in st||m.hasParent(st,Me))){var je=zt(ft,Me);Me in Se||(Se[Me]=I(je.get())),ze!==void 0&&je.set(ze)}}var Ne={},qe;function Fe(Me){var ze=p.name2id(Me.split(".")[0]);return Ne[ze]=1,ze}for(var De in st){if(m.hasParent(st,De))throw new Error("cannot set "+De+" and a parent attribute simultaneously");for(var Ie=zt(ft,De),Le=st[De],Xe=Ie.parts.length,aa=Xe-1;aa>0&&typeof Ie.parts[aa]!="string";)aa--;var He=Ie.parts[aa],ra=Ie.parts[aa-1]+"."+He,sa=Ie.parts.slice(0,aa).join("."),ma=l(Q.layout,sa).get(),ya=l(_t,sa).get(),Qe=Ie.get();if(Le!==void 0){Ye[De]=Le,Se[De]=He==="reverse"?Le:I(Qe);var ha=f.getLayoutValObject(_t,Ie.parts);if(ha&&ha.impliedEdits&&Le!==null)for(var oa in ha.impliedEdits)we(a.relativeAttr(De,oa),ha.impliedEdits[oa]);if(["width","height"].indexOf(De)!==-1)if(Le){we("autosize",null);var Ce=De==="height"?"width":"height";we(Ce,_t[Ce])}else _t[De]=Q._initialAutoSize[De];else if(De==="autosize")we("width",Le?null:_t.width),we("height",Le?null:_t.height);else if(ra.match(bt))Fe(ra),l(_t,sa+"._inputRange").set(null);else if(ra.match(kt)){Fe(ra),l(_t,sa+"._inputRange").set(null);var Ma=l(_t,sa).get();Ma._inputDomain&&(Ma._input.domain=Ma._inputDomain.slice())}else ra.match(Et)&&l(_t,sa+"._inputDomain").set(null);if(He==="type"){qe=ma;var et=ya.type==="linear"&&Le==="log",K=ya.type==="log"&&Le==="linear";if(et||K){if(!qe||!qe.range)we(sa+".autorange",!0);else if(ya.autorange)et&&(qe.range=qe.range[1]>qe.range[0]?[1,2]:[2,1]);else{var St=qe.range[0],It=qe.range[1];et?(St<=0&&It<=0&&we(sa+".autorange",!0),St<=0?St=It/1e6:It<=0&&(It=St/1e6),we(sa+".range[0]",Math.log(St)/Math.LN10),we(sa+".range[1]",Math.log(It)/Math.LN10)):(we(sa+".range[0]",Math.pow(10,St)),we(sa+".range[1]",Math.pow(10,It)))}Array.isArray(_t._subplots.polar)&&_t._subplots.polar.length&&_t[Ie.parts[0]]&&Ie.parts[1]==="radialaxis"&&delete _t[Ie.parts[0]]._subplot.viewInitial["radialaxis.range"],s.getComponentMethod("annotations","convertCoords")(Q,ya,Le,we),s.getComponentMethod("images","convertCoords")(Q,ya,Le,we)}else we(sa+".autorange",!0),we(sa+".range",null);l(_t,sa+"._inputRange").set(null)}else if(He.match(U)){var jt=l(_t,De).get(),Lt=(Le||{}).type;(!Lt||Lt==="-")&&(Lt="linear"),s.getComponentMethod("annotations","convertCoords")(Q,jt,Lt,we),s.getComponentMethod("images","convertCoords")(Q,jt,Lt,we)}var Ot=d.containerArrayMatch(De);if(Ot){ie=Ot.array,oe=Ot.index;var Bt=Ot.property,Nt=ha||{editType:"calc"};oe!==""&&Bt===""&&(d.isAddVal(Le)?Se[De]=null:d.isRemoveVal(Le)?Se[De]=(l(ft,ie).get()||[])[oe]:a.warn("unrecognized full object value",st)),k.update(Ve,Nt),Yt[ie]||(Yt[ie]={});var Xt=Yt[ie][oe];Xt||(Xt=Yt[ie][oe]={}),Xt[Bt]=Le,delete st[De]}else He==="reverse"?(ma.range?ma.range.reverse():(we(sa+".autorange",!0),ma.range=[1,0]),ya.autorange?Ve.calc=!0:Ve.plot=!0):(De==="dragmode"&&(Le===!1&&Qe!==!1||Le!==!1&&Qe===!1)||_t._has("scatter-like")&&_t._has("regl")&&De==="dragmode"&&(Le==="lasso"||Le==="select")&&!(Qe==="lasso"||Qe==="select")?Ve.plot=!0:ha?k.update(Ve,ha):Ve.calc=!0,Ie.set(Le))}}for(ie in Yt){var ee=d.applyContainerArrayChanges(Q,zt(ft,ie),Yt[ie],Ve,zt);ee||(Ve.plot=!0)}for(var he in Ne){qe=p.getFromId(Q,he);var ke=qe&&qe._constraintGroup;if(ke){Ve.calc=!0;for(var Te in ke)Ne[Te]||(p.getFromId(Q,Te)._constraintShrinkable=!0)}}(Vt(Q)||st.height||st.width)&&(Ve.plot=!0);var Pe=_t.shapes;for(oe=0;oe<Pe.length;oe++)if(Pe[oe].showlegend){Ve.calc=!0;break}return(Ve.plot||Ve.calc)&&(Ve.layoutReplot=!0),{flags:Ve,rangesAltered:Ne,undoit:Se,redoit:Ye,eventData:qt}}function Vt(Q){var st=Q._fullLayout,ft=st.width,_t=st.height;return Q.layout.autosize&&e.plotAutoSize(Q,Q.layout,st),st.width!==ft||st.height!==_t}function Ht(Q,st,ft,_t){Q=a.getGraphDiv(Q),m.clearPromiseQueue(Q),a.isPlainObject(st)||(st={}),a.isPlainObject(ft)||(ft={}),Object.keys(st).length&&(Q.changed=!0),Object.keys(ft).length&&(Q.changed=!0);var Tt=m.coerceTraceIndices(Q,_t),zt=V(Q,a.extendFlat({},st),Tt),Ft=zt.flags,Zt=Gt(Q,a.extendFlat({},ft)),qt=Zt.flags;(Ft.calc||qt.calc)&&(Q.calcdata=void 0),Ft.clearAxisTypes&&m.clearAxisTypes(Q,Tt,ft);var Yt=[];qt.layoutReplot?Yt.push(w.layoutReplot):Ft.fullReplot?Yt.push(E._doPlot):(Yt.push(e.previousPromises),ut(Q,qt,Zt)||e.supplyDefaults(Q),Ft.style&&Yt.push(w.doTraceStyle),(Ft.colorbars||qt.colorbars)&&Yt.push(w.doColorBars),qt.legend&&Yt.push(w.doLegend),qt.layoutstyle&&Yt.push(w.layoutStyles),qt.axrange&&ct(Yt,Zt.rangesAltered),qt.ticks&&Yt.push(w.doTicksRelayout),qt.modebar&&Yt.push(w.doModeBar),qt.camera&&Yt.push(w.doCamera),Yt.push(Y)),Yt.push(e.rehover,e.redrag,e.reselect),o.add(Q,Ht,[Q,zt.undoit,Zt.undoit,zt.traces],Ht,[Q,zt.redoit,Zt.redoit,zt.traces]);var ie=a.syncOrAsync(Yt,Q);return(!ie||!ie.then)&&(ie=Promise.resolve(Q)),ie.then(function(){return Q.emit("plotly_update",{data:zt.eventData,layout:Zt.eventData}),Q})}function vt(Q){return function(st){st._fullLayout._guiEditing=!0;var ft=Q.apply(null,arguments);return st._fullLayout._guiEditing=!1,ft}}var xt=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],lt=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function At(Q,st){for(var ft=0;ft<st.length;ft++){var _t=st[ft],Tt=Q.match(_t.pattern);if(Tt){var zt=Tt[1]||"";return{head:zt,tail:Q.substr(zt.length+1),attr:_t.attr}}}}function Rt(Q,st){var ft=l(st,Q).get();if(ft!==void 0)return ft;var _t=Q.split(".");for(_t.pop();_t.length>1;)if(_t.pop(),ft=l(st,_t.join(".")+".uirevision").get(),ft!==void 0)return ft;return st.uirevision}function Ut(Q,st){for(var ft=0;ft<st.length;ft++)if(st[ft]._fullInput.uid===Q)return ft;return-1}function te(Q,st,ft){for(var _t=0;_t<st.length;_t++)if(st[_t].uid===Q)return _t;return!st[ft]||st[ft].uid?-1:ft}function Wt(Q,st){var ft=a.isPlainObject(Q),_t=Array.isArray(Q);return ft||_t?(ft&&a.isPlainObject(st)||_t&&Array.isArray(st))&&JSON.stringify(Q)===JSON.stringify(st):Q===st}function ae(Q,st,ft,_t){var Tt=_t._preGUI,zt,Ft,Zt,qt,Yt,ie,oe,le,be,Ae,Re=[],Ve={},Ye={};for(zt in Tt){if(Yt=At(zt,xt),Yt){if(be=Yt.head,Ae=Yt.tail,Ft=Yt.attr||be+".uirevision",Zt=l(_t,Ft).get(),qt=Zt&&Rt(Ft,st),qt&&qt===Zt){if(ie=Tt[zt],ie===null&&(ie=void 0),oe=l(st,zt),le=oe.get(),Wt(le,ie)){le===void 0&&Ae==="autorange"&&Re.push(be),oe.set(I(l(_t,zt).get()));continue}else if(Ae==="autorange"||Ae.substr(0,6)==="range["){var Se=Tt[be+".range[0]"],we=Tt[be+".range[1]"],Ne=Tt[be+".autorange"];if(Ne||Ne===null&&Se===null&&we===null){if(!(be in Ve)){var qe=l(st,be).get();Ve[be]=qe&&(qe.autorange||qe.autorange!==!1&&(!qe.range||qe.range.length!==2))}if(Ve[be]){oe.set(I(l(_t,zt).get()));continue}}}}}else a.warn("unrecognized GUI edit: "+zt);delete Tt[zt],Yt&&Yt.tail.substr(0,6)==="range["&&(Ye[Yt.head]=1)}for(var Fe=0;Fe<Re.length;Fe++){var De=Re[Fe];if(Ye[De]){var Ie=l(st,De).get();Ie&&delete Ie.autorange}}var Le=_t._tracePreGUI;for(var Xe in Le){var aa=Le[Xe],He=null,ra;for(zt in aa){if(!He){var sa=Ut(Xe,ft);if(sa<0){delete Le[Xe];break}var ma=ft[sa];ra=ma._fullInput;var ya=te(Xe,Q,ra.index);if(ya<0){delete Le[Xe];break}He=Q[ya]}if(Yt=At(zt,lt),Yt){if(Yt.attr?(Zt=l(_t,Yt.attr).get(),qt=Zt&&Rt(Yt.attr,st)):(Zt=ra.uirevision,qt=He.uirevision,qt===void 0&&(qt=st.uirevision)),qt&&qt===Zt&&(ie=aa[zt],ie===null&&(ie=void 0),oe=l(He,zt),le=oe.get(),Wt(le,ie))){oe.set(I(l(ra,zt).get()));continue}}else a.warn("unrecognized GUI edit: "+zt+" in trace uid "+Xe);delete aa[zt]}}}function ne(Q,st,ft,_t){var Tt,zt;function Ft(){return E.addFrames(Q,Tt)}Q=a.getGraphDiv(Q),m.clearPromiseQueue(Q);var Zt=Q._fullData,qt=Q._fullLayout;if(!a.isPlotDiv(Q)||!Zt||!qt)zt=E.newPlot(Q,st,ft,_t);else{if(a.isPlainObject(st)){var Yt=st;st=Yt.data,ft=Yt.layout,_t=Yt.config,Tt=Yt.frames}var ie=!1;if(_t){let ra=a.extendDeepAll({},Q._context);Q._context=void 0,R(Q,_t),ie=!m.collectionsAreEqual(ra,Q._context)}if(ie){let ra=Q._ev.eventNames().map(sa=>[sa,Q._ev.listeners(sa)]);zt=E.newPlot(Q,st,ft,_t).then(()=>{for(let[sa,ma]of ra)ma.forEach(ya=>Q.on(sa,ya));return E.react(Q,st,ft,_t)})}else{Q.data=st||[],m.cleanData(Q.data),Q.layout=ft||{},m.cleanLayout(Q.layout),ae(Q.data,Q.layout,Zt,qt),e.supplyDefaults(Q,{skipUpdateCalc:!0});var oe=Q._fullData,le=Q._fullLayout,be=le.datarevision===void 0,Ae=le.transition,Re=de(Q,qt,le,be,Ae),Ve=Re.newDataRevision,Ye=re(Q,Zt,oe,be,Ae,Ve);if(Vt(Q)&&(Re.layoutReplot=!0),Ye.calc||Re.calc){Q.calcdata=void 0;for(var Se=Object.getOwnPropertyNames(le),we=0;we<Se.length;we++){var Ne=Se[we],qe=Ne.substring(0,5);if(qe==="xaxis"||qe==="yaxis"){var Fe=le[Ne]._emptyCategories;Fe&&Fe()}}}else e.supplyDefaultsUpdateCalc(Q.calcdata,oe);var De=[];if(Tt&&(Q._transitionData={},e.createTransitionData(Q),De.push(Ft)),le.transition&&(Ye.anim||Re.anim))Re.ticks&&De.push(w.doTicksRelayout),e.doCalcdata(Q),w.doAutoRangeAndConstraints(Q),De.push(function(){return e.transitionFromReact(Q,Ye,Re,qt)});else if(Ye.fullReplot||Re.layoutReplot)Q._fullLayout._skipDefaults=!0,De.push(E._doPlot);else{for(var Ie in Re.arrays){var Le=Re.arrays[Ie];if(Le.length){var Xe=s.getComponentMethod(Ie,"drawOne");if(Xe!==a.noop)for(var aa=0;aa<Le.length;aa++)Xe(Q,Le[aa]);else{var He=s.getComponentMethod(Ie,"draw");if(He===a.noop)throw new Error("cannot draw components: "+Ie);He(Q)}}}De.push(e.previousPromises),Ye.style&&De.push(w.doTraceStyle),(Ye.colorbars||Re.colorbars)&&De.push(w.doColorBars),Re.legend&&De.push(w.doLegend),Re.layoutstyle&&De.push(w.layoutStyles),Re.axrange&&ct(De),Re.ticks&&De.push(w.doTicksRelayout),Re.modebar&&De.push(w.doModeBar),Re.camera&&De.push(w.doCamera),De.push(Y)}De.push(e.rehover,e.redrag,e.reselect),zt=a.syncOrAsync(De,Q),(!zt||!zt.then)&&(zt=Promise.resolve(Q))}}return zt.then(()=>(ie||Q.emit("plotly_react",{config:_t,data:st,layout:ft}),Q))}function re(Q,st,ft,_t,Tt,zt){var Ft=st.length===ft.length;if(!Tt&&!Ft)return{fullReplot:!0,calc:!0};var Zt=k.traceFlags();Zt.arrays={},Zt.nChanges=0,Zt.nChangesAnim=0;var qt,Yt;function ie(be){var Ae=f.getTraceValObject(Yt,be);return!Yt._module.animatable&&Ae.anim&&(Ae.anim=!1),Ae}var oe={getValObject:ie,flags:Zt,immutable:_t,transition:Tt,newDataRevision:zt,gd:Q},le={};for(qt=0;qt<st.length;qt++)if(ft[qt]){if(Yt=ft[qt]._fullInput,le[Yt.uid])continue;le[Yt.uid]=1,$t(st[qt]._fullInput,Yt,[],oe)}return(Zt.calc||Zt.plot)&&(Zt.fullReplot=!0),Tt&&Zt.nChanges&&Zt.nChangesAnim&&(Zt.anim=Zt.nChanges===Zt.nChangesAnim&&Ft?"all":"some"),Zt}function de(Q,st,ft,_t,Tt){var zt=k.layoutFlags();zt.arrays={},zt.rangesAltered={},zt.nChanges=0,zt.nChangesAnim=0;function Ft(le){return f.getLayoutValObject(ft,le)}for(var Zt in ft)if(!(!Zt.startsWith("xaxis")&&!Zt.startsWith("yaxis"))&&st[Zt]){var qt=ft[Zt].domain,Yt=st[Zt].domain,ie=st[Zt]._inputDomain;st[Zt]._inputDomain&&(qt[0]===ie[0]&&qt[1]===ie[1]?ft[Zt].domain=st[Zt].domain:(qt[0]!==Yt[0]||qt[1]!==Yt[1])&&(ft[Zt]._inputDomain=null))}var oe={getValObject:Ft,flags:zt,immutable:_t,transition:Tt,gd:Q};return $t(st,ft,[],oe),(zt.plot||zt.calc)&&(zt.layoutReplot=!0),Tt&&zt.nChanges&&zt.nChangesAnim&&(zt.anim=zt.nChanges===zt.nChangesAnim?"all":"some"),zt}function $t(Q,st,ft,_t){var Tt,zt,Ft,Zt=_t.getValObject,qt=_t.flags,Yt=_t.immutable,ie=_t.inArray,oe=_t.arrayIndex;function le(){var sa=Tt.editType;if(ie&&sa.indexOf("arraydraw")!==-1){a.pushUnique(qt.arrays[ie],oe);return}k.update(qt,Tt),sa!=="none"&&qt.nChanges++,_t.transition&&Tt.anim&&qt.nChangesAnim++,(bt.test(Ft)||kt.test(Ft))&&(qt.rangesAltered[ft[0]]=1),zt==="datarevision"&&(qt.newDataRevision=1)}function be(sa){return sa.valType==="data_array"||sa.arrayOk}for(zt in Q){if(qt.calc&&!_t.transition)return;var Ae=Q[zt],Re=st[zt],Ve=ft.concat(zt);if(Ft=Ve.join("."),!(zt.charAt(0)==="_"||typeof Ae=="function"||Ae===Re)){if((zt==="tick0"||zt==="dtick")&&ft[0]!=="geo"){var Ye=st.tickmode;if(Ye==="auto"||Ye==="array"||!Ye)continue}if(!(zt==="range"&&st.autorange)&&!((zt==="zmin"||zt==="zmax")&&st.type==="contourcarpet")&&(Tt=Zt(Ve),!!Tt&&!(Tt._compareAsJSON&&JSON.stringify(Ae)===JSON.stringify(Re)))){var Se=Tt.valType,we,Ne=be(Tt),qe=Array.isArray(Ae),Fe=Array.isArray(Re);if(qe&&Fe){var De="_input_"+zt,Ie=Q[De],Le=st[De];if(Array.isArray(Ie)&&Ie===Le)continue}if(Re===void 0)Ne&&qe?qt.calc=!0:le();else if(Tt._isLinkedToArray){var Xe=[],aa=!1;ie||(qt.arrays[zt]=Xe);var He=Math.min(Ae.length,Re.length),ra=Math.max(Ae.length,Re.length);if(He!==ra)if(Tt.editType==="arraydraw")aa=!0;else{le();continue}for(we=0;we<He;we++)$t(Ae[we],Re[we],Ve.concat(we),a.extendFlat({inArray:zt,arrayIndex:we},_t));if(aa)for(we=He;we<ra;we++)Xe.push(we)}else!Se&&a.isPlainObject(Ae)?$t(Ae,Re,Ve,_t):Ne?qe&&Fe?(Yt&&(qt.calc=!0),(Yt||_t.newDataRevision)&&le()):qe!==Fe?qt.calc=!0:le():qe&&Fe?(Ae.length!==Re.length||String(Ae)!==String(Re))&&le():le()}}}for(zt in st)if(!(zt in Q||zt.charAt(0)==="_"||typeof st[zt]=="function"))if(Tt=Zt(ft.concat(zt)),be(Tt)&&Array.isArray(st[zt])){qt.calc=!0;return}else le()}function ve(Q,st,ft){if(Q=a.getGraphDiv(Q),!a.isPlotDiv(Q))throw new Error("This element is not a Plotly plot: "+Q+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var _t=Q._transitionData;_t._frameQueue||(_t._frameQueue=[]),ft=e.supplyAnimationDefaults(ft);var Tt=ft.transition,zt=ft.frame;_t._frameWaitingCnt===void 0&&(_t._frameWaitingCnt=0);function Ft(Yt){return Array.isArray(Tt)?Yt>=Tt.length?Tt[0]:Tt[Yt]:Tt}function Zt(Yt){return Array.isArray(zt)?Yt>=zt.length?zt[0]:zt[Yt]:zt}function qt(Yt,ie){var oe=0;return function(){if(Yt&&++oe===ie)return Yt()}}return new Promise(function(Yt,ie){function oe(){if(_t._frameQueue.length!==0){for(;_t._frameQueue.length;){var He=_t._frameQueue.pop();He.onInterrupt&&He.onInterrupt()}Q.emit("plotly_animationinterrupted",[])}}function le(He){if(He.length!==0){for(var ra=0;ra<He.length;ra++){var sa;He[ra].type==="byname"?sa=e.computeFrame(Q,He[ra].name):sa=He[ra].data;var ma=Zt(ra),ya=Ft(ra);ya.duration=Math.min(ya.duration,ma.duration);var Qe={frame:sa,name:He[ra].name,frameOpts:ma,transitionOpts:ya};ra===He.length-1&&(Qe.onComplete=qt(Yt,2),Qe.onInterrupt=ie),_t._frameQueue.push(Qe)}ft.mode==="immediate"&&(_t._lastFrameAt=-1/0),_t._animationRaf||Re()}}function be(){Q.emit("plotly_animated"),window.cancelAnimationFrame(_t._animationRaf),_t._animationRaf=null}function Ae(){_t._currentFrame&&_t._currentFrame.onComplete&&_t._currentFrame.onComplete();var He=_t._currentFrame=_t._frameQueue.shift();if(He){var ra=He.name?He.name.toString():null;Q._fullLayout._currentFrame=ra,_t._lastFrameAt=Date.now(),_t._timeToNext=He.frameOpts.duration,e.transition(Q,He.frame.data,He.frame.layout,m.coerceTraceIndices(Q,He.frame.traces),He.frameOpts,He.transitionOpts).then(function(){He.onComplete&&He.onComplete()}),Q.emit("plotly_animatingframe",{name:ra,frame:He.frame,animation:{frame:He.frameOpts,transition:He.transitionOpts}})}else be()}function Re(){Q.emit("plotly_animating"),_t._lastFrameAt=-1/0,_t._timeToNext=0,_t._runningTransitions=0,_t._currentFrame=null;var He=function(){_t._animationRaf=window.requestAnimationFrame(He),Date.now()-_t._lastFrameAt>_t._timeToNext&&Ae()};He()}var Ve=0;function Ye(He){return Array.isArray(Tt)?Ve>=Tt.length?He.transitionOpts=Tt[Ve]:He.transitionOpts=Tt[0]:He.transitionOpts=Tt,Ve++,He}var Se,we,Ne=[],qe=st==null,Fe=Array.isArray(st),De=!qe&&!Fe&&a.isPlainObject(st);if(De)Ne.push({type:"object",data:Ye(a.extendFlat({},st))});else if(qe||["string","number"].indexOf(typeof st)!==-1)for(Se=0;Se<_t._frames.length;Se++)we=_t._frames[Se],we&&(qe||String(we.group)===String(st))&&Ne.push({type:"byname",name:String(we.name),data:Ye({name:we.name})});else if(Fe)for(Se=0;Se<st.length;Se++){var Ie=st[Se];["number","string"].indexOf(typeof Ie)!==-1?(Ie=String(Ie),Ne.push({type:"byname",name:Ie,data:Ye({name:Ie})})):a.isPlainObject(Ie)&&Ne.push({type:"object",data:Ye(a.extendFlat({},Ie))})}for(Se=0;Se<Ne.length;Se++)if(we=Ne[Se],we.type==="byname"&&!_t._frameHash[we.data.name]){a.warn('animate failure: frame not found: "'+we.data.name+'"'),ie();return}["next","immediate"].indexOf(ft.mode)!==-1&&oe(),ft.direction==="reverse"&&Ne.reverse();var Le=Q._fullLayout._currentFrame;if(Le&&ft.fromcurrent){var Xe=-1;for(Se=0;Se<Ne.length;Se++)if(we=Ne[Se],we.type==="byname"&&we.name===Le){Xe=Se;break}if(Xe>0&&Xe<Ne.length-1){var aa=[];for(Se=0;Se<Ne.length;Se++)we=Ne[Se],(Ne[Se].type!=="byname"||Se>Xe)&&aa.push(we);Ne=aa}}Ne.length>0?le(Ne):(Q.emit("plotly_animated"),Yt())})}function xe(Q,st,ft){if(Q=a.getGraphDiv(Q),st==null)return Promise.resolve();if(!a.isPlotDiv(Q))throw new Error("This element is not a Plotly plot: "+Q+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var _t,Tt,zt,Ft,Zt=Q._transitionData._frames,qt=Q._transitionData._frameHash;if(!Array.isArray(st))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+st);var Yt=Zt.length+st.length*2,ie=[],oe={};for(_t=st.length-1;_t>=0;_t--)if(a.isPlainObject(st[_t])){var le=st[_t].name,be=(qt[le]||oe[le]||{}).name,Ae=st[_t].name,Re=qt[be]||oe[be];be&&Ae&&typeof Ae=="number"&&Re&&D<C&&(D++,a.warn('addFrames: overwriting frame "'+(qt[be]||oe[be]).name+'" with a frame whose name of type "number" also equates to "'+be+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),D===C&&a.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),oe[le]={name:le},ie.push({frame:e.supplyFrameDefaults(st[_t]),index:ft&&ft[_t]!==void 0&&ft[_t]!==null?ft[_t]:Yt+_t})}ie.sort(function(De,Ie){return De.index>Ie.index?-1:De.index<Ie.index?1:0});var Ve=[],Ye=[],Se=Zt.length;for(_t=ie.length-1;_t>=0;_t--){if(Tt=ie[_t].frame,typeof Tt.name=="number"&&a.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Tt.name)for(;qt[Tt.name="frame "+Q._transitionData._counter++];);if(qt[Tt.name]){for(zt=0;zt<Zt.length&&(Zt[zt]||{}).name!==Tt.name;zt++);Ve.push({type:"replace",index:zt,value:Tt}),Ye.unshift({type:"replace",index:zt,value:Zt[zt]})}else Ft=Math.max(0,Math.min(ie[_t].index,Se)),Ve.push({type:"insert",index:Ft,value:Tt}),Ye.unshift({type:"delete",index:Ft}),Se++}var we=e.modifyFrames,Ne=e.modifyFrames,qe=[Q,Ye],Fe=[Q,Ve];return o&&o.add(Q,we,qe,Ne,Fe),e.modifyFrames(Q,Ve)}function pe(Q,st){if(Q=a.getGraphDiv(Q),!a.isPlotDiv(Q))throw new Error("This element is not a Plotly plot: "+Q);var ft,_t,Tt=Q._transitionData._frames,zt=[],Ft=[];if(!st)for(st=[],ft=0;ft<Tt.length;ft++)st.push(ft);for(st=st.slice(),st.sort(),ft=st.length-1;ft>=0;ft--)_t=st[ft],zt.push({type:"delete",index:_t}),Ft.unshift({type:"insert",index:_t,value:Tt[_t]});var Zt=e.modifyFrames,qt=e.modifyFrames,Yt=[Q,Ft],ie=[Q,zt];return o&&o.add(Q,Zt,Yt,qt,ie),e.modifyFrames(Q,zt)}function _e(Q){Q=a.getGraphDiv(Q);var st=Q._fullLayout||{},ft=Q._fullData||[];return e.cleanPlot([],{},ft,st),e.purge(Q),n.purge(Q),st._container&&st._container.remove(),delete Q._context,Q}function mt(Q){var st=Q._fullLayout,ft=Q.getBoundingClientRect();if(!a.equalDomRects(ft,st._lastBBox)){var _t=st._invTransform=a.inverseTransformMatrix(a.getFullTransformMatrix(Q));st._invScaleX=Math.sqrt(_t[0][0]*_t[0][0]+_t[0][1]*_t[0][1]+_t[0][2]*_t[0][2]),st._invScaleY=Math.sqrt(_t[1][0]*_t[1][0]+_t[1][1]*_t[1][1]+_t[1][2]*_t[1][2]),st._lastBBox=ft}}function Ct(Q){var st=P.select(Q),ft=Q._fullLayout;if(ft._calcInverseTransform=mt,ft._calcInverseTransform(Q),ft._container=st.selectAll(".plot-container").data([0]),ft._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),ft._paperdiv=ft._container.selectAll(".svg-container").data([0]),ft._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),ft._glcontainer=ft._paperdiv.selectAll(".gl-container").data([{}]),ft._glcontainer.enter().append("div").classed("gl-container",!0),ft._paperdiv.selectAll(".main-svg").remove(),ft._paperdiv.select(".modebar-container").remove(),ft._paper=ft._paperdiv.insert("svg",":first-child").classed("main-svg",!0),ft._toppaper=ft._paperdiv.append("svg").classed("main-svg",!0),ft._modebardiv=ft._paperdiv.append("div"),delete ft._modeBar,ft._hoverpaper=ft._paperdiv.append("svg").classed("main-svg",!0),!ft._uid){var _t={};P.selectAll("defs").each(function(){this.id&&(_t[this.id.split("-")[1]]=1)}),ft._uid=a.randstr(_t)}ft._paperdiv.selectAll(".main-svg").attr(g.svgAttrs),ft._defs=ft._paper.append("defs").attr("id","defs-"+ft._uid),ft._clips=ft._defs.append("g").classed("clips",!0),ft._topdefs=ft._toppaper.append("defs").attr("id","topdefs-"+ft._uid),ft._topclips=ft._topdefs.append("g").classed("clips",!0),ft._bgLayer=ft._paper.append("g").classed("bglayer",!0),ft._draggers=ft._paper.append("g").classed("draglayer",!0);var Tt=ft._paper.append("g").classed("layer-below",!0);ft._imageLowerLayer=Tt.append("g").classed("imagelayer",!0),ft._shapeLowerLayer=Tt.append("g").classed("shapelayer",!0),ft._cartesianlayer=ft._paper.append("g").classed("cartesianlayer",!0),ft._polarlayer=ft._paper.append("g").classed("polarlayer",!0),ft._smithlayer=ft._paper.append("g").classed("smithlayer",!0),ft._ternarylayer=ft._paper.append("g").classed("ternarylayer",!0),ft._geolayer=ft._paper.append("g").classed("geolayer",!0),ft._funnelarealayer=ft._paper.append("g").classed("funnelarealayer",!0),ft._pielayer=ft._paper.append("g").classed("pielayer",!0),ft._iciclelayer=ft._paper.append("g").classed("iciclelayer",!0),ft._treemaplayer=ft._paper.append("g").classed("treemaplayer",!0),ft._sunburstlayer=ft._paper.append("g").classed("sunburstlayer",!0),ft._indicatorlayer=ft._toppaper.append("g").classed("indicatorlayer",!0),ft._glimages=ft._paper.append("g").classed("glimages",!0);var zt=ft._toppaper.append("g").classed("layer-above",!0);ft._imageUpperLayer=zt.append("g").classed("imagelayer",!0),ft._shapeUpperLayer=zt.append("g").classed("shapelayer",!0),ft._selectionLayer=ft._toppaper.append("g").classed("selectionlayer",!0),ft._infolayer=ft._toppaper.append("g").classed("infolayer",!0),ft._menulayer=ft._toppaper.append("g").classed("menulayer",!0),ft._zoomlayer=ft._toppaper.append("g").classed("zoomlayer",!0),ft._hoverlayer=ft._hoverpaper.append("g").classed("hoverlayer",!0),ft._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Q.emit("plotly_framework")}E.animate=ve,E.addFrames=xe,E.deleteFrames=pe,E.addTraces=q,E.deleteTraces=A,E.extendTraces=yt,E.moveTraces=W,E.prependTraces=H,E.newPlot=G,E._doPlot=T,E.purge=_e,E.react=ne,E.redraw=Z,E.relayout=nt,E.restyle=rt,E.setPlotConfig=z,E.update=Ht,E._guiRelayout=vt(nt),E._guiRestyle=vt(rt),E._guiUpdate=vt(Ht),E._storeDirectGUIEdit=N}),Nn=Mt(E=>{var P=da();E.getDelay=function(a){return a._has&&(a._has("gl3d")||a._has("mapbox")||a._has("map"))?500:0},E.getRedrawFunc=function(a){return function(){P.getComponentMethod("colorbar","draw")(a)}},E.encodeSVG=function(a){return"data:image/svg+xml,"+encodeURIComponent(a)},E.encodeJSON=function(a){return"data:application/json,"+encodeURIComponent(a)};var i=window.URL||window.webkitURL;E.createObjectURL=function(a){return i.createObjectURL(a)},E.revokeObjectURL=function(a){return i.revokeObjectURL(a)},E.createBlob=function(a,l){if(l==="svg")return new window.Blob([a],{type:"image/svg+xml;charset=utf-8"});if(l==="full-json")return new window.Blob([a],{type:"application/json;charset=utf-8"});var n=t(window.atob(a));return new window.Blob([n],{type:"image/"+l})},E.octetStream=function(a){document.location.href="data:application/octet-stream"+a};function t(a){for(var l=a.length,n=new ArrayBuffer(l),o=new Uint8Array(n),s=0;s<l;s++)o[s]=a.charCodeAt(s);return n}E.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/}),uo=Mt((E,P)=>{var i=Ke();Oe();var t=Ga(),a=Ta();En();var l=/"/g,n="TOBESTRIPPED",o=new RegExp('("'+n+")|("+n+'")',"g");function s(e){var p=i.select("body").append("div").style({display:"none"}).html(""),c=e.replace(/(&[^;]*;)/gi,function(h){return h==="&lt;"?"&#60;":h==="&rt;"?"&#62;":h.indexOf("<")!==-1||h.indexOf(">")!==-1?"":p.html(h).text()});return p.remove(),c}function f(e){return e.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}P.exports=function(e,p,c){var h=e._fullLayout,_=h._paper,y=h._toppaper,v=h.width,g=h.height,x;_.insert("rect",":first-child").call(t.setRect,0,0,v,g).call(a.fill,h.paper_bgcolor);var u=h._basePlotModules||[];for(x=0;x<u.length;x++){var d=u[x];d.toSVG&&d.toSVG(e)}if(y){var m=y.node().childNodes,w=Array.prototype.slice.call(m);for(x=0;x<w.length;x++){var k=w[x];k.childNodes.length&&_.node().appendChild(k)}}h._draggers&&h._draggers.remove(),_.node().style.background="",_.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var D=i.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){D.remove();return}else D.style({visibility:null,display:null});var C=this.style.fontFamily;C&&C.indexOf('"')!==-1&&D.style("font-family",C.replace(l,n));var T=this.style.fontWeight;T&&(T==="normal"||T==="400")&&D.style("font-weight",void 0);var Y=this.style.fontStyle;Y&&Y==="normal"&&D.style("font-style",void 0);var z=this.style.fontVariant;z&&z==="normal"&&D.style("font-variant",void 0)}),_.selectAll(".gradient_filled,.pattern_filled").each(function(){var D=i.select(this),C=this.style.fill;C&&C.indexOf("url(")!==-1&&D.style("fill",C.replace(l,n));var T=this.style.stroke;T&&T.indexOf("url(")!==-1&&D.style("stroke",T.replace(l,n))}),(p==="pdf"||p==="eps")&&_.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),p==="svg"&&c&&(_.attr("width",c*v),_.attr("height",c*g),_.attr("viewBox","0 0 "+v+" "+g));var U=new window.XMLSerializer().serializeToString(_.node());return U=s(U),U=f(U),U=U.replace(o,"'"),U}}),co=Mt((E,P)=>{var i=Oe(),t=Ui().EventEmitter,a=Nn();function l(n){var o=n.emitter||new t,s=new Promise(function(f,e){var p=window.Image,c=n.svg,h=n.format||"png",_=n.canvas,y=n.scale||1,v=n.width||300,g=n.height||150,x=y*v,u=y*g,d=_.getContext("2d",{willReadFrequently:!0}),m=new p,w,k;h==="svg"||i.isSafari()?k=a.encodeSVG(c):(w=a.createBlob(c,"svg"),k=a.createObjectURL(w)),_.width=x,_.height=u,m.onload=function(){var U;switch(w=null,a.revokeObjectURL(k),h!=="svg"&&d.drawImage(m,0,0,x,u),h){case"jpeg":U=_.toDataURL("image/jpeg");break;case"png":U=_.toDataURL("image/png");break;case"webp":U=_.toDataURL("image/webp");break;case"svg":U=k;break;default:var D="Image format is not jpeg, png, svg or webp.";if(e(new Error(D)),!n.promise)return o.emit("error",D)}f(U),n.promise||o.emit("success",U)},m.onerror=function(U){if(w=null,a.revokeObjectURL(k),e(U),!n.promise)return o.emit("error",U)},m.src=k});return n.promise?s:o}P.exports=l}),Rl=Mt((E,P)=>{var i=ua(),t=Nl(),a=hr(),l=Oe(),n=Nn(),o=uo(),s=co(),f=ca().version,e={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function p(c,h){h=h||{};var _,y,v,g;l.isPlainObject(c)?(_=c.data||[],y=c.layout||{},v=c.config||{},g={}):(c=l.getGraphDiv(c),_=l.extendDeep([],c.data),y=l.extendDeep({},c.layout),v=c._context,g=c._fullLayout||{});function x(G){return!(G in h)||l.validate(h[G],e[G])}if(!x("width")&&h.width!==null||!x("height")&&h.height!==null)throw new Error("Height and width should be pixel values.");if(!x("format"))throw new Error("Export format is not "+l.join2(e.format.values,", "," or ")+".");var u={};function d(G,O){return l.coerce(h,u,e,G,O)}var m=d("format"),w=d("width"),k=d("height"),U=d("scale"),D=d("setBackground"),C=d("imageDataOnly"),T=document.createElement("div");T.style.position="absolute",T.style.left="-5000px",document.body.appendChild(T);var Y=l.extendFlat({},y);w?Y.width=w:h.width===null&&i(g.width)&&(Y.width=g.width),k?Y.height=k:h.height===null&&i(g.height)&&(Y.height=g.height);var z=l.extendFlat({},v,{_exportedPlot:!0,staticPlot:!0,setBackground:D}),j=n.getRedrawFunc(T);function F(){return new Promise(function(G){setTimeout(G,n.getDelay(T._fullLayout))})}function R(){return new Promise(function(G,O){var J=o(T,m,U),X=T._fullLayout.width,it=T._fullLayout.height;function at(){t.purge(T),document.body.removeChild(T)}if(m==="full-json"){var ot=a.graphJson(T,!1,"keepdata","object",!0,!0);return ot.version=f,ot=JSON.stringify(ot),at(),G(C?ot:n.encodeJSON(ot))}if(at(),m==="svg")return G(C?J:n.encodeSVG(J));var ht=document.createElement("canvas");ht.id=l.randstr(),s({format:m,width:X,height:it,scale:U,canvas:ht,svg:J,promise:!0}).then(G).catch(O)})}function Z(G){return C?G.replace(n.IMAGE_URL_PREFIX,""):G}return new Promise(function(G,O){t.newPlot(T,_,Y,z).then(j).then(F).then(R).then(function(J){G(Z(J))}).catch(function(J){O(J)})})}P.exports=p}),Kc=Mt((E,P)=>{var i=Oe(),t=hr(),a=Un(),l=zn().dfltConfig,n=i.isPlainObject,o=Array.isArray,s=i.isArrayOrTypedArray;P.exports=function(u,d){u===void 0&&(u=[]),d===void 0&&(d={});var m=a.get(),w=[],k={_context:i.extendFlat({},l)},U,D;o(u)?(k.data=i.extendDeep([],u),U=u):(k.data=[],U=[],w.push(h("array","data"))),n(d)?(k.layout=i.extendDeep({},d),D=d):(k.layout={},D={},arguments.length>1&&w.push(h("object","layout"))),t.supplyDefaults(k);for(var C=k._fullData,T=U.length,Y=0;Y<T;Y++){var z=U[Y],j=["data",Y];if(!n(z)){w.push(h("object",j));continue}var F=C[Y],R=F.type,Z=m.traces[R].attributes;Z.type={valType:"enumerated",values:[R]},F.visible===!1&&z.visible!==!1&&w.push(h("invisible",j)),f(z,F,Z,w,j)}var G=k._fullLayout,O=e(m,C);return f(D,G,O,w,"layout"),w.length===0?void 0:w};function f(u,d,m,w,k,U){U=U||[];for(var D=Object.keys(u),C=0;C<D.length;C++){var T=D[C],Y=U.slice();Y.push(T);var z=u[T],j=d[T],F=y(m,T),R=(F||{}).valType,Z=R==="info_array",G=R==="colorscale",O=(F||{}).items;if(!_(m,T))w.push(h("schema",k,Y));else if(n(z)&&n(j)&&R!=="any")f(z,j,F,w,k,Y);else if(Z&&o(z)){z.length>j.length&&w.push(h("unused",k,Y.concat(j.length)));var J=j.length,X=Array.isArray(O);X&&(J=Math.min(J,O.length));var it,at,ot,ht,pt;if(F.dimensions===2)for(at=0;at<J;at++)if(o(z[at])){z[at].length>j[at].length&&w.push(h("unused",k,Y.concat(at,j[at].length)));var yt=j[at].length;for(it=0;it<(X?Math.min(yt,O[at].length):yt);it++)ot=X?O[at][it]:O,ht=z[at][it],pt=j[at][it],i.validate(ht,ot)?pt!==ht&&pt!==+ht&&w.push(h("dynamic",k,Y.concat(at,it),ht,pt)):w.push(h("value",k,Y.concat(at,it),ht))}else w.push(h("array",k,Y.concat(at),z[at]));else for(at=0;at<J;at++)ot=X?O[at]:O,ht=z[at],pt=j[at],i.validate(ht,ot)?pt!==ht&&pt!==+ht&&w.push(h("dynamic",k,Y.concat(at),ht,pt)):w.push(h("value",k,Y.concat(at),ht))}else if(F.items&&!Z&&o(z)){var H=O[Object.keys(O)[0]],q=[],A,W;for(A=0;A<j.length;A++){var rt=j[A]._index||A;if(W=Y.slice(),W.push(rt),n(z[rt])&&n(j[A])){q.push(rt);var I=z[rt],M=j[A];n(I)&&I.visible!==!1&&M.visible===!1?w.push(h("invisible",k,W)):f(I,M,H,w,k,W)}}for(A=0;A<z.length;A++)W=Y.slice(),W.push(A),n(z[A])?q.indexOf(A)===-1&&w.push(h("unused",k,W)):w.push(h("object",k,W,z[A]))}else!n(z)&&n(j)?w.push(h("object",k,Y,z)):!s(z)&&s(j)&&!Z&&!G?w.push(h("array",k,Y,z)):T in d?i.validate(z,F)?F.valType==="enumerated"&&(F.coerceNumber&&z!==+j||!s(z)&&z!==j||String(z)!==String(j))&&w.push(h("dynamic",k,Y,z,j)):w.push(h("value",k,Y,z)):w.push(h("unused",k,Y,z))}return w}function e(u,d){for(var m=u.layout.layoutAttributes,w=0;w<d.length;w++){var k=d[w],U=u.traces[k.type],D=U.layoutAttributes;D&&(k.subplot?i.extendFlat(m[U.attributes.subplot.dflt],D):i.extendFlat(m,D))}return m}var p={object:function(u,d){var m;return u==="layout"&&d===""?m="The layout argument":u[0]==="data"&&d===""?m="Trace "+u[1]+" in the data argument":m=c(u)+"key "+d,m+" must be linked to an object container"},array:function(u,d){var m;return u==="data"?m="The data argument":m=c(u)+"key "+d,m+" must be linked to an array container"},schema:function(u,d){return c(u)+"key "+d+" is not part of the schema"},unused:function(u,d,m){var w=n(m)?"container":"key";return c(u)+w+" "+d+" did not get coerced"},dynamic:function(u,d,m,w){return[c(u)+"key",d,"(set to '"+m+"')","got reset to","'"+w+"'","during defaults."].join(" ")},invisible:function(u,d){return(d?c(u)+"item "+d:"Trace "+u[1])+" got defaulted to be not visible"},value:function(u,d,m){return[c(u)+"key "+d,"is set to an invalid value ("+m+")"].join(" ")}};function c(u){return o(u)?"In data trace "+u[1]+", ":"In "+u+", "}function h(u,d,m,w,k){m=m||"";var U,D;o(d)?(U=d[0],D=d[1]):(U=d,D=null);var C=x(m),T=p[u](d,C,w,k);return i.log(T),{code:u,container:U,trace:D,path:m,astr:C,msg:T}}function _(u,d){var m=g(d),w=m.keyMinusId,k=m.id;return w in u&&u[w]._isSubplotObj&&k?!0:d in u}function y(u,d){if(d in u)return u[d];var m=g(d);return u[m.keyMinusId]}var v=i.counterRegex("([a-z]+)");function g(u){var d=u.match(v);return{keyMinusId:d&&d[1],id:d&&d[2]}}function x(u){if(!o(u))return String(u);for(var d="",m=0;m<u.length;m++){var w=u[m];typeof w=="number"?d=d.substr(0,d.length-1)+"["+w+"]":d+=w,m<u.length-1&&(d+=".")}return d}}),tf=Mt((E,P)=>{var i=Oe(),t=Nn();function a(l,n,o){var s=document.createElement("a"),f="download"in s,e=new Promise(function(p,c){var h,_;if(f)return h=t.createBlob(l,o),_=t.createObjectURL(h),s.href=_,s.download=n,document.body.appendChild(s),s.click(),document.body.removeChild(s),t.revokeObjectURL(_),h=null,p(n);if(i.isSafari()){var y=o==="svg"?",":";base64,";return t.octetStream(y+encodeURIComponent(l)),p(n)}c(new Error("download error"))});return e}P.exports=a}),jl=Mt((E,P)=>{var i=Oe(),t=Rl(),a=tf();Nn();function l(n,o){var s;return i.isPlainObject(n)||(s=i.getGraphDiv(n)),o=o||{},o.format=o.format||"png",o.width=o.width||null,o.height=o.height||null,o.imageDataOnly=!0,new Promise(function(f,e){s&&s._snapshotInProgress&&e(new Error("Snapshotting already in progress.")),s&&(s._snapshotInProgress=!0);var p=t(n,o),c=o.filename||n.fn||"newplot";c+="."+o.format.replace("-","."),p.then(function(h){return s&&(s._snapshotInProgress=!1),a(h,c,o.format)}).then(function(h){f(h)}).catch(function(h){s&&(s._snapshotInProgress=!1),e(h)})})}P.exports=l}),ef=Mt(E=>{var P=Oe(),i=P.isPlainObject,t=Un(),a=hr(),l=an(),n=$a(),o=zn().dfltConfig;E.makeTemplate=function(v){v=P.isPlainObject(v)?v:P.getGraphDiv(v),v=P.extendDeep({_context:o},{data:v.data,layout:v.layout}),a.supplyDefaults(v);var g=v.data||[],x=v.layout||{};x._basePlotModules=v._fullLayout._basePlotModules,x._modules=v._fullLayout._modules;var u={data:{},layout:{}};g.forEach(function(z){var j={};e(z,j,c.bind(null,z));var F=P.coerce(z,{},l,"type"),R=u.data[F];R||(R=u.data[F]=[]),R.push(j)}),e(x,u.layout,p.bind(null,x)),delete u.layout.template;var d=x.template;if(i(d)){var m=d.layout,w,k,U,D,C,T;i(m)&&s(m,u.layout);var Y=d.data;if(i(Y)){for(k in u.data)if(U=Y[k],Array.isArray(U)){for(C=u.data[k],T=C.length,D=U.length,w=0;w<T;w++)s(U[w%D],C[w]);for(w=T;w<D;w++)C.push(P.extendDeep({},U[w]))}for(k in Y)k in u.data||(u.data[k]=P.extendDeep([],Y[k]))}}return u};function s(v,g){v=P.extendDeep({},v);var x=Object.keys(v).sort(),u,d;function m(C,T,Y){if(i(T)&&i(C))s(C,T);else if(Array.isArray(T)&&Array.isArray(C)){var z=n.arrayTemplater({_template:v},Y);for(d=0;d<T.length;d++){var j=T[d],F=z.newItem(j)._template;F&&s(F,j)}var R=z.defaultItems();for(d=0;d<R.length;d++)T.push(R[d]._template);for(d=0;d<T.length;d++)delete T[d].templateitemname}}for(u=0;u<x.length;u++){var w=x[u],k=v[w];if(w in g?m(k,g[w],w):g[w]=k,f(w)===w)for(var U in g){var D=f(U);U!==D&&D===w&&!(U in v)&&m(k,g[U],w)}}}function f(v){return v.replace(/[0-9]+$/,"")}function e(v,g,x,u,d){var m=d&&x(d);for(var w in v){var k=v[w],U=h(v,w,u),D=h(v,w,d),C=x(D);if(!C){var T=f(w);T!==w&&(D=h(v,T,d),C=x(D))}if(!(m&&m===C)&&!(!C||C._noTemplating||C.valType==="data_array"||C.arrayOk&&Array.isArray(k)))if(!C.valType&&i(k))e(k,g,x,U,D);else if(C._isLinkedToArray&&Array.isArray(k))for(var Y=!1,z=0,j={},F=0;F<k.length;F++){var R=k[F];if(i(R)){var Z=R.name;if(Z)j[Z]||(e(R,g,x,h(k,z,U),h(k,z,D)),z++,j[Z]=1);else if(!Y){var G=n.arrayDefaultKey(w),O=h(v,G,u),J=h(k,z,U);e(R,g,x,J,h(k,z,D));var X=P.nestedProperty(g,J),it=P.nestedProperty(g,O);it.set(X.get()),X.set(null),Y=!0}}}else{var at=P.nestedProperty(g,U);at.set(k)}}}function p(v,g){return t.getLayoutValObject(v,P.nestedProperty({},g).parts)}function c(v,g){return t.getTraceValObject(v,P.nestedProperty({},g).parts)}function h(v,g,x){var u;return x?Array.isArray(v)?u=x+"["+g+"]":u=x+"."+g:u=g,u}E.validateTemplate=function(v,g){var x=P.extendDeep({},{_context:o,data:v.data,layout:v.layout}),u=x.layout||{};i(g)||(g=u.template||{});var d=g.layout,m=g.data,w=[];x.layout=u,x.layout.template=g,a.supplyDefaults(x);var k=x._fullLayout,U=x._fullData,D={};function C(O,J){for(var X in O)if(X.charAt(0)!=="_"&&i(O[X])){var it=f(X),at=[],ot;for(ot=0;ot<J.length;ot++)at.push(h(O,X,J[ot])),it!==X&&at.push(h(O,it,J[ot]));for(ot=0;ot<at.length;ot++)D[at[ot]]=1;C(O[X],at)}}function T(O,J){for(var X in O)if(X.indexOf("defaults")===-1&&i(O[X])){var it=h(O,X,J);D[it]?T(O[X],it):w.push({code:"unused",path:it})}}if(i(d)?(C(k,["layout"]),T(d,"layout")):w.push({code:"layout"}),!i(m))w.push({code:"data"});else{for(var Y={},z,j=0;j<U.length;j++){var F=U[j];z=F.type,Y[z]=(Y[z]||0)+1,F._fullInput._template||w.push({code:"missing",index:F.index,traceType:z})}for(z in m){var R=m[z].length,Z=Y[z]||0;R>Z?w.push({code:"unused",traceType:z,templateCount:R,dataCount:Z}):Z>R&&w.push({code:"reused",traceType:z,templateCount:R,dataCount:Z})}}function G(O,J){for(var X in O)if(X.charAt(0)!=="_"){var it=O[X],at=h(O,X,J);i(it)?(Array.isArray(O)&&it._template===!1&&it.templateitemname&&w.push({code:"missing",path:at,templateitemname:it.templateitemname}),G(it,at)):Array.isArray(it)&&_(it)&&G(it,at)}}if(G({data:U,layout:k},""),w.length)return w.map(y)};function _(v){for(var g=0;g<v.length;g++)if(i(v[g]))return!0}function y(v){var g;switch(v.code){case"data":g="The template has no key data.";break;case"layout":g="The template has no key layout.";break;case"missing":v.path?g="There are no templates for item "+v.path+" with name "+v.templateitemname:g="There are no templates for trace "+v.index+", of type "+v.traceType+".";break;case"unused":v.path?g="The template item at "+v.path+" was not used in constructing the plot.":v.dataCount?g="Some of the templates of type "+v.traceType+" were not used. The template has "+v.templateCount+" traces, the data only has "+v.dataCount+" of this type.":g="The template has "+v.templateCount+" traces of type "+v.traceType+" but there are none in the data.";break;case"reused":g="Some of the templates of type "+v.traceType+" were used more than once. The template has "+v.templateCount+" traces, the data has "+v.dataCount+" of this type.";break}return v.msg=g,v}}),af=Mt(E=>{var P=Nl();E._doPlot=P._doPlot,E.newPlot=P.newPlot,E.restyle=P.restyle,E.relayout=P.relayout,E.redraw=P.redraw,E.update=P.update,E._guiRestyle=P._guiRestyle,E._guiRelayout=P._guiRelayout,E._guiUpdate=P._guiUpdate,E._storeDirectGUIEdit=P._storeDirectGUIEdit,E.react=P.react,E.extendTraces=P.extendTraces,E.prependTraces=P.prependTraces,E.addTraces=P.addTraces,E.deleteTraces=P.deleteTraces,E.moveTraces=P.moveTraces,E.purge=P.purge,E.addFrames=P.addFrames,E.deleteFrames=P.deleteFrames,E.animate=P.animate,E.setPlotConfig=P.setPlotConfig;var i=ni().getGraphDiv,t=oo().eraseActiveShape;E.deleteActiveShape=function(l){return t(i(l))},E.toImage=Rl(),E.validate=Kc(),E.downloadImage=jl();var a=ef();E.makeTemplate=a.makeTemplate,E.validateTemplate=a.validateTemplate}),Hl=Mt((E,P)=>{var i=Oe(),t=da();P.exports=function(a,l,n,o){var s=o("x"),f=o("y"),e,p=t.getComponentMethod("calendars","handleTraceDefaults");if(p(a,l,["x","y"],n),s){var c=i.minRowLength(s);f?e=Math.min(c,i.minRowLength(f)):(e=c,o("y0"),o("dy"))}else{if(!f)return 0;e=i.minRowLength(f),o("x0"),o("dx")}return l._length=e,e}}),Bl=Mt((E,P)=>{var i=Oe().dateTick0,t=Fa(),a=t.ONEWEEK;function l(n,o){return n%a===0?i(o,1):i(o,0)}P.exports=function(n,o,s,f,e){if(e||(e={x:!0,y:!0}),e.x){var p=f("xperiod");p&&(f("xperiod0",l(p,o.xcalendar)),f("xperiodalignment"))}if(e.y){var c=f("yperiod");c&&(f("yperiod0",l(c,o.ycalendar)),f("yperiodalignment"))}}}),rf=Mt((E,P)=>{var i=["orientation","groupnorm","stackgaps"];P.exports=function(t,a,l,n){var o=l._scatterStackOpts,s=n("stackgroup");if(s){var f=a.xaxis+a.yaxis,e=o[f];e||(e=o[f]={});var p=e[s],c=!1;p?p.traces.push(a):(p=e[s]={traceIndices:[],traces:[a]},c=!0);for(var h={orientation:a.x&&!a.y?"h":"v"},_=0;_<i.length;_++){var y=i[_],v=y+"Found";if(!p[v]){var g=t[y]!==void 0,x=y==="orientation";if((g||c)&&(p[y]=n(y,h[y]),x&&(p.fillDflt=p[y]==="h"?"tonextx":"tonexty"),g&&(p[v]=!0,!c&&(delete p.traces[0][y],x))))for(var u=0;u<p.traces.length-1;u++){var d=p.traces[u];d._input.fill!==d.fill&&(d.fill=p.fillDflt)}}}return p}}}),nf=Mt((E,P)=>{var i=Ta(),t=$r().hasColorscale,a=Yn(),l=Gr();P.exports=function(n,o,s,f,e,p){var c=l.isBubble(n),h=(n.line||{}).color,_;if(p=p||{},h&&(s=h),e("marker.symbol"),e("marker.opacity",c?.7:1),e("marker.size"),p.noAngle||(e("marker.angle"),p.noAngleRef||e("marker.angleref"),p.noStandOff||e("marker.standoff")),e("marker.color",s),t(n,"marker")&&a(n,o,f,e,{prefix:"marker.",cLetter:"c"}),p.noSelect||(e("selected.marker.color"),e("unselected.marker.color"),e("selected.marker.size"),e("unselected.marker.size")),p.noLine||(h&&!Array.isArray(h)&&o.marker.color!==h?_=h:c?_=i.background:_=i.defaultLine,e("marker.line.color",_),t(n,"marker.line")&&a(n,o,f,e,{prefix:"marker.line.",cLetter:"c"}),e("marker.line.width",c?1:0)),c&&(e("marker.sizeref"),e("marker.sizemin"),e("marker.sizemode")),p.gradient){var y=e("marker.gradient.type");y!=="none"&&e("marker.gradient.color")}}}),of=Mt((E,P)=>{var i=Oe().isArrayOrTypedArray,t=$r().hasColorscale,a=Yn();P.exports=function(l,n,o,s,f,e){e||(e={});var p=(l.marker||{}).color;if(p&&p._inputArray&&(p=p._inputArray),f("line.color",o),t(l,"line"))a(l,n,s,f,{prefix:"line.",cLetter:"c"});else{var c=(i(p)?!1:p)||o;f("line.color",c)}f("line.width"),e.noDash||f("line.dash"),e.backoff&&f("line.backoff")}}),lf=Mt((E,P)=>{P.exports=function(i,t,a){var l=a("line.shape");l==="spline"&&a("line.smoothing")}}),sf=Mt((E,P)=>{var i=Oe();P.exports=function(t,a,l,n,o){o=o||{},n("textposition"),i.coerceFont(n,"textfont",o.font||l.font,o),o.noSelect||(n("selected.textfont.color"),n("unselected.textfont.color"))}}),uf=Mt((E,P)=>{var i=Ta(),t=Oe().isArrayOrTypedArray;function a(l){for(var n=i.interpolate(l[0][1],l[1][1],.5),o=2;o<l.length;o++){var s=i.interpolate(l[o-1][1],l[o][1],.5);n=i.interpolate(n,s,l[o-1][0]/l[o][0])}return n}P.exports=function(l,n,o,s,f){f||(f={});var e=!1;if(n.marker){var p=n.marker.color,c=(n.marker.line||{}).color;p&&!t(p)?e=p:c&&!t(c)&&(e=c)}var h;if(f.moduleHasFillgradient){var _=s("fillgradient.type");if(_!=="none"){s("fillgradient.start"),s("fillgradient.stop");var y=s("fillgradient.colorscale");y&&(h=a(y))}}s("fillcolor",i.addOpacity((n.line||{}).color||e||h||o,.5))}}),cf=Mt((E,P)=>{var i=Oe(),t=da(),a=Fn(),l=so(),n=Gr(),o=Hl(),s=Bl(),f=rf(),e=nf(),p=of(),c=lf(),h=sf(),_=uf(),y=Oe().coercePattern;P.exports=function(v,g,x,u){function d(Y,z){return i.coerce(v,g,a,Y,z)}var m=o(v,g,u,d);if(m||(g.visible=!1),!!g.visible){s(v,g,u,d),d("xhoverformat"),d("yhoverformat"),d("zorder");var w=f(v,g,u,d);u.scattermode==="group"&&g.orientation===void 0&&d("orientation","v");var k=!w&&m<l.PTS_LINESONLY?"lines+markers":"lines";d("text"),d("hovertext"),d("mode",k),n.hasMarkers(g)&&e(v,g,x,u,d,{gradient:!0}),n.hasLines(g)&&(p(v,g,x,u,d,{backoff:!0}),c(v,g,d),d("connectgaps"),d("line.simplify")),n.hasText(g)&&(d("texttemplate"),h(v,g,u,d));var U=[];(n.hasMarkers(g)||n.hasText(g))&&(d("cliponaxis"),d("marker.maxdisplayed"),U.push("points")),d("fill",w?w.fillDflt:"none"),g.fill!=="none"&&(_(v,g,x,d,{moduleHasFillgradient:!0}),n.hasLines(g)||c(v,g,d),y(d,"fillpattern",g.fillcolor,!1));var D=(g.line||{}).color,C=(g.marker||{}).color;(g.fill==="tonext"||g.fill==="toself")&&U.push("fills"),d("hoveron",U.join("+")||"points"),g.hoveron!=="fills"&&d("hovertemplate");var T=t.getComponentMethod("errorbars","supplyDefaults");T(v,g,D||C||x,{axis:"y"}),T(v,g,D||C||x,{axis:"x",inherit:"y"}),i.coerceSelectionMarkerOpacity(g,d)}}}),Vl=Mt((E,P)=>{var i=fi().getAxisGroup;P.exports=function(t,a,l,n,o){var s=a.orientation,f=a[{v:"x",h:"y"}[s]+"axis"],e=i(l,f)+s,p=l._alignmentOpts||{},c=n("alignmentgroup"),h=p[e];h||(h=p[e]={});var _=h[c];_?_.traces.push(a):_=h[c]={traces:[a],alignmentIndex:Object.keys(h).length,offsetGroups:{}};var y=n("offsetgroup")||"",v=_.offsetGroups,g=v[y];a._offsetIndex=0,(o!=="group"||y)&&(g||(g=v[y]={offsetIndex:Object.keys(v).length}),a._offsetIndex=g.offsetIndex)}}),ff=Mt((E,P)=>{var i=Oe(),t=Vl(),a=Fn();P.exports=function(l,n){var o,s,f,e=n.scattermode;function p(v){return i.coerce(s._input,s,a,v)}if(n.scattermode==="group")for(f=0;f<l.length;f++)s=l[f],s.type==="scatter"&&(o=s._input,t(o,s,n,p,e));for(f=0;f<l.length;f++){var c=l[f];if(c.type==="scatter"){var h=c.fill;if(!(h==="none"||h==="toself")&&(c.opacity=void 0,h==="tonexty"||h==="tonextx"))for(var _=f-1;_>=0;_--){var y=l[_];if(y.type==="scatter"&&y.xaxis===c.xaxis&&y.yaxis===c.yaxis){y.opacity=void 0;break}}}}}}),df=Mt((E,P)=>{var i=Oe(),t=Yi();P.exports=function(a,l){function n(s,f){return i.coerce(a,l,t,s,f)}var o=l.barmode==="group";l.scattermode==="group"&&n("scattergap",o?l.bargap:.2)}}),ql=Mt((E,P)=>{var i=ua(),t=Oe(),a=t.dateTime2ms,l=t.incrementMonth,n=Fa(),o=n.ONEAVGMONTH;P.exports=function(s,f,e,p){if(f.type!=="date")return{vals:p};var c=s[e+"periodalignment"];if(!c)return{vals:p};var h=s[e+"period"],_;if(i(h)){if(h=+h,h<=0)return{vals:p}}else if(typeof h=="string"&&h.charAt(0)==="M"){var y=+h.substring(1);if(y>0&&Math.round(y)===y)_=y;else return{vals:p}}for(var v=f.calendar,g=c==="start",x=c==="end",u=s[e+"period0"],d=a(u,v)||0,m=[],w=[],k=[],U=p.length,D=0;D<U;D++){var C=p[D],T,Y,z;if(_){for(T=Math.round((C-d)/(_*o)),z=l(d,_*T,v);z>C;)z=l(z,-_,v);for(;z<=C;)z=l(z,_,v);Y=l(z,-_,v)}else{for(T=Math.round((C-d)/h),z=d+T*h;z>C;)z-=h;for(;z<=C;)z+=h;Y=z-h}m[D]=g?Y:x?z:(Y+z)/2,w[D]=Y,k[D]=z}return{vals:m,starts:w,ends:k}}}),hf=Mt((E,P)=>{var i=$r().hasColorscale,t=Ji(),a=Gr();P.exports=function(l,n){a.hasLines(n)&&i(n,"line")&&t(l,n,{vals:n.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(n)&&(i(n,"marker")&&t(l,n,{vals:n.marker.color,containerStr:"marker",cLetter:"c"}),i(n,"marker.line")&&t(l,n,{vals:n.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}}),Ul=Mt((E,P)=>{var i=Oe();P.exports=function(t,a){for(var l=0;l<t.length;l++)t[l].i=l;i.mergeArray(a.text,t,"tx"),i.mergeArray(a.texttemplate,t,"txt"),i.mergeArray(a.hovertext,t,"htx"),i.mergeArray(a.customdata,t,"data"),i.mergeArray(a.textposition,t,"tp"),a.textfont&&(i.mergeArrayCastPositive(a.textfont.size,t,"ts"),i.mergeArray(a.textfont.color,t,"tc"),i.mergeArray(a.textfont.family,t,"tf"),i.mergeArray(a.textfont.weight,t,"tw"),i.mergeArray(a.textfont.style,t,"ty"),i.mergeArray(a.textfont.variant,t,"tv"),i.mergeArray(a.textfont.textcase,t,"tC"),i.mergeArray(a.textfont.lineposition,t,"tE"),i.mergeArray(a.textfont.shadow,t,"tS"));var n=a.marker;if(n){i.mergeArrayCastPositive(n.size,t,"ms"),i.mergeArrayCastPositive(n.opacity,t,"mo"),i.mergeArray(n.symbol,t,"mx"),i.mergeArray(n.angle,t,"ma"),i.mergeArray(n.standoff,t,"mf"),i.mergeArray(n.color,t,"mc");var o=n.line;n.line&&(i.mergeArray(o.color,t,"mlc"),i.mergeArrayCastPositive(o.width,t,"mlw"));var s=n.gradient;s&&s.type!=="none"&&(i.mergeArray(s.type,t,"mgt"),i.mergeArray(s.color,t,"mgc"))}}}),Yl=Mt((E,P)=>{var i=Oe();P.exports=function(t,a){i.isArrayOrTypedArray(a.selectedpoints)&&i.tagSelected(t,a)}}),Zl=Mt((E,P)=>{var i=ua(),t=Oe(),a=Ka(),l=ql(),n=Fa().BADNUM,o=Gr(),s=hf(),f=Ul(),e=Yl();function p(g,x){var u=g._fullLayout,d=x._xA=a.getFromId(g,x.xaxis||"x","x"),m=x._yA=a.getFromId(g,x.yaxis||"y","y"),w=d.makeCalcdata(x,"x"),k=m.makeCalcdata(x,"y"),U=l(x,d,"x",w),D=l(x,m,"y",k),C=U.vals,T=D.vals,Y=x._length,z=new Array(Y),j=x.ids,F=v(x,u,d,m),R=!1,Z,G,O,J,X,it;_(u,x);var at="x",ot="y",ht;if(F)t.pushUnique(F.traceIndices,x.index),Z=F.orientation==="v",Z?(ot="s",ht="x"):(at="s",ht="y"),X=F.stackgaps==="interpolate";else{var pt=h(x,Y);c(g,x,d,m,C,T,pt)}var yt=!!x.xperiodalignment,H=!!x.yperiodalignment;for(G=0;G<Y;G++){var q=z[G]={},A=i(C[G]),W=i(T[G]);A&&W?(q[at]=C[G],q[ot]=T[G],yt&&(q.orig_x=w[G],q.xEnd=U.ends[G],q.xStart=U.starts[G]),H&&(q.orig_y=k[G],q.yEnd=D.ends[G],q.yStart=D.starts[G])):F&&(Z?A:W)?(q[ht]=Z?C[G]:T[G],q.gap=!0,X?(q.s=n,R=!0):q.s=0):q[at]=q[ot]=n,j&&(q.id=String(j[G]))}if(f(z,x),s(g,x),e(z,x),F){for(G=0;G<z.length;)z[G][ht]===n?z.splice(G,1):G++;if(t.sort(z,function(S,N){return S[ht]-N[ht]||S.i-N.i}),R){for(G=0;G<z.length-1&&z[G].gap;)G++;for(it=z[G].s,it||(it=z[G].s=0),O=0;O<G;O++)z[O].s=it;for(J=z.length-1;J>G&&z[J].gap;)J--;for(it=z[J].s,O=z.length-1;O>J;O--)z[O].s=it;for(;G<J;)if(G++,z[G].gap){for(O=G+1;z[O].gap;)O++;for(var rt=z[G-1][ht],I=z[G-1].s,M=(z[O].s-I)/(z[O][ht]-rt);G<O;)z[G].s=I+(z[G][ht]-rt)*M,G++}}}return z}function c(g,x,u,d,m,w,k){var U=x._length,D=g._fullLayout,C=u._id,T=d._id,Y=D._firstScatter[y(x)]===x.uid,z=(v(x,D,u,d)||{}).orientation,j=x.fill;u._minDtick=0,d._minDtick=0;var F={padded:!0},R={padded:!0};k&&(F.ppad=R.ppad=k);var Z=U<2||m[0]!==m[U-1]||w[0]!==w[U-1];Z&&(j==="tozerox"||j==="tonextx"&&(Y||z==="h"))?F.tozero=!0:!(x.error_y||{}).visible&&(j==="tonexty"||j==="tozeroy"||!o.hasMarkers(x)&&!o.hasText(x))&&(F.padded=!1,F.ppad=0),Z&&(j==="tozeroy"||j==="tonexty"&&(Y||z==="v"))?R.tozero=!0:(j==="tonextx"||j==="tozerox")&&(R.padded=!1),C&&(x._extremes[C]=a.findExtremes(u,m,F)),T&&(x._extremes[T]=a.findExtremes(d,w,R))}function h(g,x){if(o.hasMarkers(g)){var u=g.marker,d=1.6*(g.marker.sizeref||1),m;if(g.marker.sizemode==="area"?m=function(C){return Math.max(Math.sqrt((C||0)/d),3)}:m=function(C){return Math.max((C||0)/d,3)},t.isArrayOrTypedArray(u.size)){var w={type:"linear"};a.setConvert(w);for(var k=w.makeCalcdata(g.marker,"size"),U=new Array(x),D=0;D<x;D++)U[D]=m(k[D]);return U}else return m(u.size)}}function _(g,x){var u=y(x),d=g._firstScatter;d[u]||(d[u]=x.uid)}function y(g){var x=g.stackgroup;return g.xaxis+g.yaxis+g.type+(x?"-"+x:"")}function v(g,x,u,d){var m=g.stackgroup;if(m){var w=x._scatterStackOpts[u._id+d._id][m],k=w.orientation==="v"?d:u;if(k.type==="linear"||k.type==="log")return w}}P.exports={calc:p,calcMarkerSize:h,calcAxisExpansion:c,setFirstScatter:_,getStackOpts:v}}),pf=Mt((E,P)=>{P.exports=t;var i=Oe().distinctVals;function t(a,l){this.traces=a,this.sepNegVal=l.sepNegVal,this.overlapNoMerge=l.overlapNoMerge;for(var n=1/0,o=l.posAxis._id.charAt(0),s=[],f=0;f<a.length;f++){for(var e=a[f],p=0;p<e.length;p++){var c=e[p],h=c.p;h===void 0&&(h=c[o]),h!==void 0&&s.push(h)}e[0]&&e[0].width1&&(n=Math.min(e[0].width1,n))}this.positions=s;var _=i(s);this.distinctPositions=_.vals,_.vals.length===1&&n!==1/0?this.minDiff=n:this.minDiff=Math.min(_.minDiff,n);var y=(l.posAxis||{}).type;(y==="category"||y==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}t.prototype.put=function(a,l,n){var o=this.getLabel(a,l,n),s=this.bins[o]||0;return this.bins[o]=s+n,s},t.prototype.get=function(a,l,n){var o=this.getLabel(a,l,n);return this.bins[o]||0},t.prototype.getLabel=function(a,l,n){var o=n<0&&this.sepNegVal?"v":"^",s=this.overlapNoMerge?a:Math.round(a/this.binWidth);return o+s+"g"+l}}),Gl=Mt((E,P)=>{var i=ua(),t=Oe().isArrayOrTypedArray,a=Fa().BADNUM,l=da(),n=Ka(),o=fi().getAxisGroup,s=pf();function f(z,j){for(var F=j.xaxis,R=j.yaxis,Z=z._fullLayout,G=z._fullData,O=z.calcdata,J=[],X=[],it=0;it<G.length;it++){var at=G[it];if(at.visible===!0&&l.traceIs(at,"bar")&&at.xaxis===F._id&&at.yaxis===R._id&&(at.orientation==="h"?J.push(O[it]):X.push(O[it]),at._computePh))for(var ot=z.calcdata[it],ht=0;ht<ot.length;ht++)typeof ot[ht].ph0=="function"&&(ot[ht].ph0=ot[ht].ph0()),typeof ot[ht].ph1=="function"&&(ot[ht].ph1=ot[ht].ph1())}var pt={xCat:F.type==="category"||F.type==="multicategory",yCat:R.type==="category"||R.type==="multicategory",mode:Z.barmode,norm:Z.barnorm,gap:Z.bargap,groupgap:Z.bargroupgap};e(z,F,R,X,pt),e(z,R,F,J,pt)}function e(z,j,F,R,Z){if(R.length){var G,O,J,X,it;switch(h(F,R),Z.mode){case"overlay":_(z,j,F,R,Z);break;case"group":for(G=[],O=[],J=0;J<R.length;J++)X=R[J],it=X[0].trace,it.offset===void 0?O.push(X):G.push(X);O.length&&y(z,j,F,O,Z),G.length&&_(z,j,F,G,Z);break;case"stack":case"relative":for(G=[],O=[],J=0;J<R.length;J++)X=R[J],it=X[0].trace,it.base===void 0?O.push(X):G.push(X);c(O),O.length&&v(z,j,F,O,Z),G.length&&_(z,j,F,G,Z);break}p(R),T(R,j)}}function p(z){var j,F,R,Z,G,O,J;for(j=0;j<z.length;j++)F=z[j],R=F[0].trace,Z=F[0].t,Z.cornerradiusvalue===void 0&&(G=R.marker?R.marker.cornerradius:void 0,G!==void 0&&(O=i(G)?+G:+G.slice(0,-1),J=i(G)?"px":"%",Z.cornerradiusvalue=O,Z.cornerradiusform=J))}function c(z){if(!(z.length<2)){var j,F,R,Z,G,O,J;for(j=0;j<z.length&&(F=z[j],R=F[0].trace,G=R.marker?R.marker.cornerradius:void 0,G===void 0);j++);if(G!==void 0)for(O=i(G)?+G:+G.slice(0,-1),J=i(G)?"px":"%",j=0;j<z.length;j++)F=z[j],Z=F[0].t,Z.cornerradiusvalue=O,Z.cornerradiusform=J}}function h(z,j){var F,R;for(F=0;F<j.length;F++){var Z=j[F],G=Z[0].trace,O=G.type==="funnel"?G._base:G.base,J,X=G.orientation==="h"?G.xcalendar:G.ycalendar,it=z.type==="category"||z.type==="multicategory"?function(){return null}:z.d2c;if(t(O)){for(R=0;R<Math.min(O.length,Z.length);R++)J=it(O[R],0,X),i(J)?(Z[R].b=+J,Z[R].hasB=1):Z[R].b=0;for(;R<Z.length;R++)Z[R].b=0}else{J=it(O,0,X);var at=i(J);for(J=at?J:0,R=0;R<Z.length;R++)Z[R].b=J,at&&(Z[R].hasB=1)}}}function _(z,j,F,R,Z){for(var G=0;G<R.length;G++){var O=R[G],J=new s([O],{posAxis:j,sepNegVal:!1,overlapNoMerge:!Z.norm});g(z,j,J,Z),Z.norm?(k(J),D(F,J,Z)):m(F,J)}}function y(z,j,F,R,Z){var G=new s(R,{posAxis:j,sepNegVal:!1,overlapNoMerge:!Z.norm});g(z,j,G,Z),U(G,j),Z.norm?(k(G),D(F,G,Z)):m(F,G)}function v(z,j,F,R,Z){var G=new s(R,{posAxis:j,sepNegVal:Z.mode==="relative",overlapNoMerge:!(Z.norm||Z.mode==="stack"||Z.mode==="relative")});g(z,j,G,Z),w(F,G,Z);for(var O=0;O<R.length;O++)for(var J=R[O],X=J[0].t.offsetindex,it=0;it<J.length;it++){var at=J[it];if(at.s!==a){var ot=at.b+at.s===G.get(at.p,X,at.s);ot&&(at._outmost=!0)}}Z.norm&&D(F,G,Z)}function g(z,j,F,R){var Z=z._fullLayout,G=F.positions,O=F.distinctPositions,J=F.minDiff,X=F.traces,it=X.length,at=G.length!==O.length,ot=J*(1-R.gap),ht,pt,yt,H;if(j._id==="angularaxis")ht=ot,pt=ht*(1-(R.groupgap||0)),yt=-pt/2;else{var q=o(Z,j._id)+X[0][0].trace.orientation;H=Z._alignmentOpts[q]||{}}for(var A=0;A<it;A++){var W=X[A],rt=W[0].trace;if(j._id!=="angularaxis"){var I=H[rt.alignmentgroup]||{},M=Object.keys(I.offsetGroups||{}).length;M?ht=ot/M:ht=at?ot/it:ot,pt=ht*(1-(R.groupgap||0)),M?yt=((2*rt._offsetIndex+1-M)*ht-pt)/2:yt=at?((2*A+1-it)*ht-pt)/2:-pt/2}var S=W[0].t;S.barwidth=pt,S.offsetindex=rt._offsetIndex||0,S.poffset=yt,S.bargroupwidth=ot,S.bardelta=J}F.binWidth=X[0][0].t.barwidth/100,x(F),u(j,F),j._id==="angularaxis"?d(j,F):d(j,F,at)}function x(z){var j=z.traces,F,R;for(F=0;F<j.length;F++){var Z=j[F],G=Z[0],O=G.trace,J=G.t,X=O._offset||O.offset,it=J.poffset,at;if(t(X)){for(at=Array.prototype.slice.call(X,0,Z.length),R=0;R<at.length;R++)i(at[R])||(at[R]=it);for(R=at.length;R<Z.length;R++)at.push(it);J.poffset=at}else X!==void 0&&(J.poffset=X);var ot=O._width||O.width,ht=J.barwidth;if(t(ot)){var pt=Array.prototype.slice.call(ot,0,Z.length);for(R=0;R<pt.length;R++)i(pt[R])||(pt[R]=ht);for(R=pt.length;R<Z.length;R++)pt.push(ht);if(J.barwidth=pt,X===void 0){for(at=[],R=0;R<Z.length;R++)at.push(it+(ht-pt[R])/2);J.poffset=at}}else ot!==void 0&&(J.barwidth=ot,X===void 0&&(J.poffset=it+(ht-ot)/2))}}function u(z,j){for(var F=j.traces,R=Y(z),Z=0;Z<F.length;Z++)for(var G=F[Z],O=G[0].t,J=O.poffset,X=t(J),it=O.barwidth,at=t(it),ot=0;ot<G.length;ot++){var ht=G[ot],pt=ht.w=at?it[ot]:it;ht.p===void 0&&(ht.p=ht[R],ht["orig_"+R]=ht[R]);var yt=(X?J[ot]:J)+pt/2;ht[R]=ht.p+yt}}function d(z,j,F){var R=j.traces,Z=j.minDiff,G=Z/2;n.minDtick(z,j.minDiff,j.distinctPositions[0],F);for(var O=0;O<R.length;O++){var J=R[O],X=J[0],it=X.trace,at=[],ot,ht,pt,yt;for(yt=0;yt<J.length;yt++)ot=J[yt],ht=ot.p-G,pt=ot.p+G,at.push(ht,pt);if(it.width||it.offset){var H=X.t,q=H.poffset,A=H.barwidth,W=t(q),rt=t(A);for(yt=0;yt<J.length;yt++){ot=J[yt];var I=W?q[yt]:q,M=rt?A[yt]:A;ht=ot.p+I,pt=ht+M,at.push(ht,pt)}}it._extremes[z._id]=n.findExtremes(z,at,{padded:!1})}}function m(z,j){for(var F=j.traces,R=Y(z),Z=0;Z<F.length;Z++){for(var G=F[Z],O=G[0].trace,J=O.type==="scatter",X=O.orientation==="v",it=[],at=!1,ot=0;ot<G.length;ot++){var ht=G[ot],pt=J?0:ht.b,yt=J?X?ht.y:ht.x:pt+ht.s;ht[R]=yt,it.push(yt),ht.hasB&&it.push(pt),(!ht.hasB||!ht.b)&&(at=!0)}O._extremes[z._id]=n.findExtremes(z,it,{tozero:at,padded:!0})}}function w(z,j,F){var R=Y(z),Z=j.traces,G,O,J,X,it,at,ot;for(X=0;X<Z.length;X++)if(G=Z[X],O=G[0].trace,O.type==="funnel")for(ot=G[0].t.offsetindex,it=0;it<G.length;it++)at=G[it],at.s!==a&&j.put(at.p,ot,-.5*at.s);for(X=0;X<Z.length;X++){G=Z[X],O=G[0].trace,J=O.type==="funnel",ot=O.type==="barpolar"?0:G[0].t.offsetindex;var ht=[];for(it=0;it<G.length;it++)if(at=G[it],at.s!==a){var pt;J?pt=at.s:pt=at.s+at.b;var yt=j.put(at.p,ot,pt),H=yt+pt;at.b=yt,at[R]=H,F.norm||(ht.push(H),at.hasB&&ht.push(yt))}F.norm||(O._extremes[z._id]=n.findExtremes(z,ht,{tozero:!0,padded:!0}))}}function k(z){for(var j=z.traces,F=0;F<j.length;F++)for(var R=j[F],Z=R[0].t.offsetindex,G=0;G<R.length;G++){var O=R[G];O.s!==a&&z.put(O.p,Z,O.b+O.s)}}function U(z,j){for(var F=z.traces,R=0;R<F.length;R++){var Z=F[R],G=Z[0].trace,O=Z[0].t.offsetindex;if(G.base===void 0)for(var J=new s([Z],{posAxis:j,sepNegVal:!0,overlapNoMerge:!0}),X=0;X<Z.length;X++){var it=Z[X];if(it.p!==a){var at=J.put(it.p,O,it.b+it.s);at&&(it.b=at)}}}}function D(z,j,F){var R=j.traces,Z=Y(z),G=F.norm==="fraction"?1:100,O=G/1e9,J=z.l2c(z.c2l(0)),X=F.mode==="stack"?G:J;function it(S){return i(z.c2l(S))&&(S<J-O||S>X+O||!i(J))}for(var at=0;at<R.length;at++){for(var ot=R[at],ht=ot[0].t.offsetindex,pt=ot[0].trace,yt=[],H=!1,q=!1,A=0;A<ot.length;A++){var W=ot[A];if(W.s!==a){var rt=Math.abs(G/j.get(W.p,ht,W.s));W.b*=rt,W.s*=rt;var I=W.b,M=I+W.s;W[Z]=M,yt.push(M),q=q||it(M),W.hasB&&(yt.push(I),q=q||it(I)),(!W.hasB||!W.b)&&(H=!0)}}pt._extremes[z._id]=n.findExtremes(z,yt,{tozero:H,padded:q})}}function C(z,j,F,R){for(var Z=Y(R),G=0;G<z.length;G++)for(var O=z[G],J=0;J<O.length;J++){var X=O[J],it=X[Z];X._sMin=j[it],X._sMax=F[it]}}function T(z,j){var F=Y(j),R={},Z,G,O,J=1/0,X=-1/0;for(Z=0;Z<z.length;Z++)for(O=z[Z],G=0;G<O.length;G++){var it=O[G].p;i(it)&&(J=Math.min(J,it),X=Math.max(X,it))}var at=1e4/(X-J),ot=R.round=function(V){return String(Math.round(at*(V-J)))},ht={},pt={},yt=z.some(function(V){var nt=V[0].trace;return"marker"in nt&&nt.marker.cornerradius});for(Z=0;Z<z.length;Z++){O=z[Z],O[0].t.extents=R;var H=O[0].t.poffset,q=t(H);for(G=0;G<O.length;G++){var A=O[G],W=A[F]-A.w/2;if(i(W)){var rt=A[F]+A.w/2,I=ot(A.p);R[I]?R[I]=[Math.min(W,R[I][0]),Math.max(rt,R[I][1])]:R[I]=[W,rt]}if(A.p0=A.p+(q?H[G]:H),A.p1=A.p0+A.w,A.s0=A.b,A.s1=A.s0+A.s,yt){var M=Math.min(A.s0,A.s1)||0,S=Math.max(A.s0,A.s1)||0,N=A[F];ht[N]=N in ht?Math.min(ht[N],M):M,pt[N]=N in pt?Math.max(pt[N],S):S}}}yt&&C(z,ht,pt,j)}function Y(z){return z._id.charAt(0)}P.exports={crossTraceCalc:f,setGroupPositions:e}}),vf=Mt((E,P)=>{var i=Zl(),t=Gl().setGroupPositions;function a(o,s){for(var f=s.xaxis,e=s.yaxis,p=o._fullLayout,c=o._fullData,h=o.calcdata,_=[],y=[],v=0;v<c.length;v++){var g=c[v];g.visible===!0&&g.type==="scatter"&&g.xaxis===f._id&&g.yaxis===e._id&&(g.orientation==="h"?_.push(h[v]):g.orientation==="v"&&y.push(h[v]))}var x={mode:p.scattermode,gap:p.scattergap};t(o,f,e,y,x),t(o,e,f,_,x)}P.exports=function(o,s){o._fullLayout.scattermode==="group"&&a(o,s);var f=s.xaxis,e=s.yaxis,p=f._id+e._id,c=o._fullLayout._scatterStackOpts[p];if(c){var h=o.calcdata,_,y,v,g,x,u,d,m,w,k,U,D,C,T,Y;for(var z in c){k=c[z];var j=k.traceIndices;if(j.length){for(U=k.stackgaps==="interpolate",D=k.groupnorm,k.orientation==="v"?(C="x",T="y"):(C="y",T="x"),Y=new Array(j.length),_=0;_<Y.length;_++)Y[_]=!1;u=h[j[0]];var F=new Array(u.length);for(_=0;_<u.length;_++)F[_]=u[_][C];for(_=1;_<j.length;_++){for(x=h[j[_]],y=v=0;y<x.length;y++){for(d=x[y][C];d>F[v]&&v<F.length;v++)l(x,y,F[v],_,Y,U,C),y++;if(d!==F[v]){for(g=0;g<_;g++)l(h[j[g]],v,d,g,Y,U,C);F.splice(v,0,d)}v++}for(;v<F.length;v++)l(x,y,F[v],_,Y,U,C),y++}var R=F.length;for(y=0;y<u.length;y++){for(m=u[y][T]=u[y].s,_=1;_<j.length;_++)x=h[j[_]],x[0].trace._rawLength=x[0].trace._length,x[0].trace._length=R,m+=x[y].s,x[y][T]=m;if(D)for(w=(D==="fraction"?m:m/100)||1,_=0;_<j.length;_++){var Z=h[j[_]][y];Z[T]/=w,Z.sNorm=Z.s/w}}for(_=0;_<j.length;_++){x=h[j[_]];var G=x[0].trace,O=i.calcMarkerSize(G,G._rawLength),J=Array.isArray(O);if(O&&Y[_]||J){var X=O;for(O=new Array(R),y=0;y<R;y++)O[y]=x[y].gap?0:J?X[x[y].i]:X}var it=new Array(R),at=new Array(R);for(y=0;y<R;y++)it[y]=x[y].x,at[y]=x[y].y;i.calcAxisExpansion(o,G,f,e,it,at,O),x[0].t.orientation=k.orientation}}}}};function l(o,s,f,e,p,c,h){p[e]=!0;var _={i:null,gap:!0,s:0};if(_[h]=f,o.splice(s,0,_),s&&f===o[s-1][h]){var y=o[s-1];_.s=y.s,_.i=y.i,_.gap=y.gap}else c&&(_.s=n(o,s,f,h));s||(o[0].t=o[1].t,o[0].trace=o[1].trace,delete o[1].t,delete o[1].trace)}function n(o,s,f,e){var p=o[s-1],c=o[s+1];return c?p?p.s+(c.s-p.s)*(f-p[e])/(c[e]-p[e]):c.s:p.s}}),gf=Mt((E,P)=>{var i=Ga(),t=Fa(),a=t.BADNUM,l=t.LOG_CLIP,n=l+.5,o=l-.5,s=Oe(),f=s.segmentsIntersect,e=s.constrain,p=so();P.exports=function(c,h){var _=h.trace||{},y=h.xaxis,v=h.yaxis,g=y.type==="log",x=v.type==="log",u=y._length,d=v._length,m=h.backoff,w=_.marker,k=h.connectGaps,U=h.baseTolerance,D=h.shape,C=D==="linear",T=_.fill&&_.fill!=="none",Y=[],z=p.minTolerance,j=c.length,F=new Array(j),R=0,Z,G,O,J,X,it,at,ot,ht,pt,yt,H,q,A,W,rt;function I(Ft){var Zt=c[Ft];if(!Zt)return!1;var qt=h.linearized?y.l2p(Zt.x):y.c2p(Zt.x),Yt=h.linearized?v.l2p(Zt.y):v.c2p(Zt.y);if(qt===a){if(g&&(qt=y.c2p(Zt.x,!0)),qt===a)return!1;x&&Yt===a&&(qt*=Math.abs(y._m*d*(y._m>0?n:o)/(v._m*u*(v._m>0?n:o)))),qt*=1e3}if(Yt===a){if(x&&(Yt=v.c2p(Zt.y,!0)),Yt===a)return!1;Yt*=1e3}return[qt,Yt]}function M(Ft,Zt,qt,Yt){var ie=qt-Ft,oe=Yt-Zt,le=.5-Ft,be=.5-Zt,Ae=ie*ie+oe*oe,Re=ie*le+oe*be;if(Re>0&&Re<Ae){var Ve=le*oe-be*ie;if(Ve*Ve<Ae)return!0}}var S,N;function V(Ft,Zt){var qt=Ft[0]/u,Yt=Ft[1]/d,ie=Math.max(0,-qt,qt-1,-Yt,Yt-1);return ie&&S!==void 0&&M(qt,Yt,S,N)&&(ie=0),ie&&Zt&&M(qt,Yt,Zt[0]/u,Zt[1]/d)&&(ie=0),(1+p.toleranceGrowth*ie)*U}function nt(Ft,Zt){var qt=Ft[0]-Zt[0],Yt=Ft[1]-Zt[1];return Math.sqrt(qt*qt+Yt*Yt)}var ut=p.maxScreensAway,ct=-u*ut,bt=u*(1+ut),kt=-d*ut,Et=d*(1+ut),Gt=[[ct,kt,bt,kt],[bt,kt,bt,Et],[bt,Et,ct,Et],[ct,Et,ct,kt]],Vt,Ht,vt,xt,lt,At;function Rt(Ft,Zt){for(var qt=[],Yt=0,ie=0;ie<4;ie++){var oe=Gt[ie],le=f(Ft[0],Ft[1],Zt[0],Zt[1],oe[0],oe[1],oe[2],oe[3]);le&&(!Yt||Math.abs(le.x-qt[0][0])>1||Math.abs(le.y-qt[0][1])>1)&&(le=[le.x,le.y],Yt&&nt(le,Ft)<nt(qt[0],Ft)?qt.unshift(le):qt.push(le),Yt++)}return qt}function Ut(Ft){if(Ft[0]<ct||Ft[0]>bt||Ft[1]<kt||Ft[1]>Et)return[e(Ft[0],ct,bt),e(Ft[1],kt,Et)]}function te(Ft,Zt){if(Ft[0]===Zt[0]&&(Ft[0]===ct||Ft[0]===bt)||Ft[1]===Zt[1]&&(Ft[1]===kt||Ft[1]===Et))return!0}function Wt(Ft,Zt){var qt=[],Yt=Ut(Ft),ie=Ut(Zt);return Yt&&ie&&te(Yt,ie)||(Yt&&qt.push(Yt),ie&&qt.push(ie)),qt}function ae(Ft,Zt,qt){return function(Yt,ie){var oe=Ut(Yt),le=Ut(ie),be=[];if(oe&&le&&te(oe,le))return be;oe&&be.push(oe),le&&be.push(le);var Ae=2*s.constrain((Yt[Ft]+ie[Ft])/2,Zt,qt)-((oe||Yt)[Ft]+(le||ie)[Ft]);if(Ae){var Re;oe&&le?Re=Ae>0==oe[Ft]>le[Ft]?oe:le:Re=oe||le,Re[Ft]+=Ae}return be}}var ne;D==="linear"||D==="spline"?ne=Rt:D==="hv"||D==="vh"?ne=Wt:D==="hvh"?ne=ae(0,ct,bt):D==="vhv"&&(ne=ae(1,kt,Et));function re(Ft,Zt){var qt=Zt[0]-Ft[0],Yt=(Zt[1]-Ft[1])/qt,ie=(Ft[1]*Zt[0]-Zt[1]*Ft[0])/qt;return ie>0?[Yt>0?ct:bt,Et]:[Yt>0?bt:ct,kt]}function de(Ft){var Zt=Ft[0],qt=Ft[1],Yt=Zt===F[R-1][0],ie=qt===F[R-1][1];if(!(Yt&&ie))if(R>1){var oe=Zt===F[R-2][0],le=qt===F[R-2][1];Yt&&(Zt===ct||Zt===bt)&&oe?le?R--:F[R-1]=Ft:ie&&(qt===kt||qt===Et)&&le?oe?R--:F[R-1]=Ft:F[R++]=Ft}else F[R++]=Ft}function $t(Ft){F[R-1][0]!==Ft[0]&&F[R-1][1]!==Ft[1]&&de([vt,xt]),de(Ft),lt=null,vt=xt=0}var ve=s.isArrayOrTypedArray(w);function xe(Ft){if(Ft&&m&&(Ft.i=Z,Ft.d=c,Ft.trace=_,Ft.marker=ve?w[Ft.i]:w,Ft.backoff=m),S=Ft[0]/u,N=Ft[1]/d,Vt=Ft[0]<ct?ct:Ft[0]>bt?bt:0,Ht=Ft[1]<kt?kt:Ft[1]>Et?Et:0,Vt||Ht){if(!R)F[R++]=[Vt||Ft[0],Ht||Ft[1]];else if(lt){var Zt=ne(lt,Ft);Zt.length>1&&($t(Zt[0]),F[R++]=Zt[1])}else At=ne(F[R-1],Ft)[0],F[R++]=At;var qt=F[R-1];Vt&&Ht&&(qt[0]!==Vt||qt[1]!==Ht)?(lt&&(vt!==Vt&&xt!==Ht?de(vt&&xt?re(lt,Ft):[vt||Vt,xt||Ht]):vt&&xt&&de([vt,xt])),de([Vt,Ht])):vt-Vt&&xt-Ht&&de([Vt||vt,Ht||xt]),lt=Ft,vt=Vt,xt=Ht}else lt&&$t(ne(lt,Ft)[0]),F[R++]=Ft}for(Z=0;Z<j;Z++)if(G=I(Z),!!G){for(R=0,lt=null,xe(G),Z++;Z<j;Z++){if(J=I(Z),!J){if(k)continue;break}if(!C||!h.simplify){xe(J);continue}var pe=I(Z+1);if(pt=nt(J,G),!(!(T&&(R===0||R===j-1))&&pt<V(J,pe)*z)){for(ot=[(J[0]-G[0])/pt,(J[1]-G[1])/pt],X=G,yt=pt,H=A=W=0,at=!1,O=J,Z++;Z<c.length;Z++){if(it=pe,pe=I(Z+1),!it){if(k)continue;break}if(ht=[it[0]-G[0],it[1]-G[1]],rt=ht[0]*ot[1]-ht[1]*ot[0],A=Math.min(A,rt),W=Math.max(W,rt),W-A>V(it,pe))break;O=it,q=ht[0]*ot[0]+ht[1]*ot[1],q>yt?(yt=q,J=it,at=!1):q<H&&(H=q,X=it,at=!0)}if(at?(xe(J),O!==X&&xe(X)):(X!==G&&xe(X),O!==J&&xe(J)),xe(O),Z>=c.length||!it)break;xe(it),G=it}}lt&&de([vt||lt[0],xt||lt[1]]),Y.push(F.slice(0,R))}var _e=D.slice(D.length-1);if(m&&_e!=="h"&&_e!=="v"){for(var mt=!1,Ct=-1,Q=[],st=0;st<Y.length;st++)for(var ft=0;ft<Y[st].length-1;ft++){var _t=Y[st][ft],Tt=Y[st][ft+1],zt=i.applyBackoff(Tt,_t);(zt[0]!==Tt[0]||zt[1]!==Tt[1])&&(mt=!0),Q[Ct+1]||(Ct++,Q[Ct]=[_t,[zt[0],zt[1]]])}return mt?Q:Y}return Y}}),mf=Mt((E,P)=>{var i={tonextx:1,tonexty:1,tonext:1};P.exports=function(t,a,l){var n,o,s,f,e,p={},c=!1,h=-1,_=0,y=-1;for(o=0;o<l.length;o++)n=l[o][0].trace,s=n.stackgroup||"",s?s in p?e=p[s]:(e=p[s]=_,_++):n.fill in i&&y>=0?e=y:(e=y=_,_++),e<h&&(c=!0),n._groupIndex=h=e;var v=l.slice();c&&v.sort(function(x,u){var d=x[0].trace,m=u[0].trace;return d._groupIndex-m._groupIndex||d.index-m.index});var g={};for(o=0;o<v.length;o++)n=v[o][0].trace,s=n.stackgroup||"",n.visible===!0?(n._nexttrace=null,n.fill in i&&(f=g[s],n._prevtrace=f||null,f&&(f._nexttrace=n)),n._ownfill=n.fill&&(n.fill.substr(0,6)==="tozero"||n.fill==="toself"||n.fill.substr(0,2)==="to"&&!n._prevtrace),g[s]=n):n._prevtrace=n._nexttrace=n._ownfill=null;return v}}),yf=Mt((E,P)=>{var i=Ke(),t=da(),a=Oe(),l=a.ensureSingle,n=a.identity,o=Ga(),s=Gr(),f=gf(),e=mf(),p=zl().tester;P.exports=function(y,v,g,x,u,d){var m,w,k=!u,U=!!u&&u.duration>0,D=e(y,v,g);if(m=x.selectAll("g.trace").data(D,function(T){return T[0].trace.uid}),m.enter().append("g").attr("class",function(T){return"trace scatter trace"+T[0].trace.uid}).style("stroke-miterlimit",2),m.order(),c(y,m,v),U){d&&(w=d());var C=i.transition().duration(u.duration).ease(u.easing).each("end",function(){w&&w()}).each("interrupt",function(){w&&w()});C.each(function(){x.selectAll("g.trace").each(function(T,Y){h(y,Y,v,T,D,this,u)})})}else m.each(function(T,Y){h(y,Y,v,T,D,this,u)});k&&m.exit().remove(),x.selectAll("path:not([d])").remove()};function c(y,v,g){v.each(function(x){var u=l(i.select(this),"g","fills");o.setClipUrl(u,g.layerClipId,y);var d=x[0].trace,m=[];d._ownfill&&m.push("_ownFill"),d._nexttrace&&m.push("_nextFill");var w=u.selectAll("g").data(m,n);w.enter().append("g"),w.exit().each(function(k){d[k]=null}).remove(),w.order().each(function(k){d[k]=l(i.select(this),"path","js-fill")})})}function h(y,v,g,x,u,d,m){var w=y._context.staticPlot,k;_(y,v,g,x,u);var U=!!m&&m.duration>0;function D($t){return U?$t.transition():$t}var C=g.xaxis,T=g.yaxis,Y=x[0].trace,z=Y.line,j=i.select(d),F=l(j,"g","errorbars"),R=l(j,"g","lines"),Z=l(j,"g","points"),G=l(j,"g","text");if(t.getComponentMethod("errorbars","plot")(y,F,g,m),Y.visible!==!0)return;D(j).style("opacity",Y.opacity);var O,J,X=Y.fill.charAt(Y.fill.length-1);X!=="x"&&X!=="y"&&(X="");var it,at;X==="y"?(it=1,at=T.c2p(0,!0)):X==="x"&&(it=0,at=C.c2p(0,!0)),x[0][g.isRangePlot?"nodeRangePlot3":"node3"]=j;var ot="",ht=[],pt=Y._prevtrace,yt=null,H=null;pt&&(ot=pt._prevRevpath||"",J=pt._nextFill,ht=pt._ownPolygons,yt=pt._fillsegments,H=pt._fillElement);var q,A,W="",rt="",I,M,S,N,V,nt,ut=[];Y._polygons=[];var ct=[],bt=[],kt=a.noop;if(O=Y._ownFill,s.hasLines(Y)||Y.fill!=="none"){J&&J.datum(x),["hv","vh","hvh","vhv"].indexOf(z.shape)!==-1?(I=o.steps(z.shape),M=o.steps(z.shape.split("").reverse().join(""))):z.shape==="spline"?I=M=function($t){var ve=$t[$t.length-1];return $t.length>1&&$t[0][0]===ve[0]&&$t[0][1]===ve[1]?o.smoothclosed($t.slice(1),z.smoothing):o.smoothopen($t,z.smoothing)}:I=M=function($t){return"M"+$t.join("L")},S=function($t){return M($t.reverse())},bt=f(x,{xaxis:C,yaxis:T,trace:Y,connectGaps:Y.connectgaps,baseTolerance:Math.max(z.width||1,3)/4,shape:z.shape,backoff:z.backoff,simplify:z.simplify,fill:Y.fill}),ct=new Array(bt.length);var Et=0;for(k=0;k<bt.length;k++){var Gt,Vt=bt[k];!Gt||!X?(Gt=Vt.slice(),ct[Et]=Gt,Et++):Gt.push.apply(Gt,Vt)}Y._fillElement=null,Y._fillExclusionElement=H,Y._fillsegments=ct.slice(0,Et),ct=Y._fillsegments,bt.length&&(N=bt[0][0].slice(),V=bt[bt.length-1],nt=V[V.length-1].slice()),kt=function($t){return function(ve){if(q=I(ve),A=S(ve),W?X?(W+="L"+q.substr(1),rt=A+("L"+rt.substr(1))):(W+="Z"+q,rt=A+"Z"+rt):(W=q,rt=A),s.hasLines(Y)){var xe=i.select(this);if(xe.datum(x),$t)D(xe.style("opacity",0).attr("d",q).call(o.lineGroupStyle)).style("opacity",1);else{var pe=D(xe);pe.attr("d",q),o.singleLineStyle(x,pe)}}}}}var Ht=R.selectAll(".js-line").data(bt);D(Ht.exit()).style("opacity",0).remove(),Ht.each(kt(!1)),Ht.enter().append("path").classed("js-line",!0).style("vector-effect",w?"none":"non-scaling-stroke").call(o.lineGroupStyle).each(kt(!0)),o.setClipUrl(Ht,g.layerClipId,y);function vt($t){D($t).attr("d","M0,0Z")}var xt=function(){var $t=new Array(ct.length);for(k=0;k<ct.length;k++)$t[k]=p(ct[k]);return $t},lt=function($t){var ve,xe;if(!$t||$t.length===0)for(ve=new Array(ct.length),xe=0;xe<ct.length;xe++){var pe=ct[xe][0].slice(),_e=ct[xe][ct[xe].length-1].slice();pe[it]=_e[it]=at;var mt=[_e,pe],Ct=mt.concat(ct[xe]);ve[xe]=p(Ct)}else{for(ve=new Array($t.length-1+ct.length),xe=0;xe<$t.length-1;xe++)ve[xe]=p($t[xe]);var Q=$t[$t.length-1].slice();for(Q.reverse(),xe=0;xe<ct.length;xe++)ve[$t.length-1+xe]=p(ct[xe].concat(Q))}return ve};bt.length?(O?(O.datum(x),N&&nt&&(X?(N[it]=nt[it]=at,D(O).attr("d","M"+nt+"L"+N+"L"+W.substr(1)).call(o.singleFillStyle,y),ut=lt(null)):(D(O).attr("d",W+"Z").call(o.singleFillStyle,y),ut=xt())),Y._polygons=ut,Y._fillElement=O):J&&(Y.fill.substr(0,6)==="tonext"&&W&&ot?(Y.fill==="tonext"?(D(J).attr("d",W+"Z"+ot+"Z").call(o.singleFillStyle,y),ut=xt(),Y._polygons=ut.concat(ht)):(D(J).attr("d",W+"L"+ot.substr(1)+"Z").call(o.singleFillStyle,y),ut=lt(yt),Y._polygons=ut),Y._fillElement=J):vt(J)),Y._prevRevpath=rt):(O?vt(O):J&&vt(J),Y._prevRevpath=null),Y._ownPolygons=ut;function At($t){return $t.filter(function(ve){return!ve.gap&&ve.vis})}function Rt($t){return $t.filter(function(ve){return ve.vis})}function Ut($t){return $t.filter(function(ve){return!ve.gap})}function te($t){return $t.id}function Wt($t){if($t.ids)return te}function ae(){return!1}function ne($t,ve,xe){var pe,_e,mt,Ct=xe[0].trace,Q=s.hasMarkers(Ct),st=s.hasText(Ct),ft=Wt(Ct),_t=ae,Tt=ae;if(Q||st){var zt=n,Ft=Ct.stackgroup,Zt=Ft&&y._fullLayout._scatterStackOpts[C._id+T._id][Ft].stackgaps==="infer zero";Ct.marker.maxdisplayed||Ct._needsCull?zt=Zt?Rt:At:Ft&&!Zt&&(zt=Ut),Q&&(_t=zt),st&&(Tt=zt)}_e=$t.selectAll("path.point"),pe=_e.data(_t,ft);var qt=pe.enter().append("path").classed("point",!0);U&&qt.call(o.pointStyle,Ct,y).call(o.translatePoints,C,T).style("opacity",0).transition().style("opacity",1),pe.order();var Yt;Q&&(Yt=o.makePointStyleFns(Ct)),pe.each(function(ie){var oe=i.select(this),le=D(oe);mt=o.translatePoint(ie,le,C,T),mt?(o.singlePointStyle(ie,le,Ct,Yt,y),g.layerClipId&&o.hideOutsideRangePoint(ie,le,C,T,Ct.xcalendar,Ct.ycalendar),Ct.customdata&&oe.classed("plotly-customdata",ie.data!==null&&ie.data!==void 0)):le.remove()}),U?pe.exit().transition().style("opacity",0).remove():pe.exit().remove(),_e=ve.selectAll("g"),pe=_e.data(Tt,ft),pe.enter().append("g").classed("textpoint",!0).append("text"),pe.order(),pe.each(function(ie){var oe=i.select(this),le=D(oe.select("text"));mt=o.translatePoint(ie,le,C,T),mt?g.layerClipId&&o.hideOutsideRangePoint(ie,oe,C,T,Ct.xcalendar,Ct.ycalendar):oe.remove()}),pe.selectAll("text").call(o.textPointStyle,Ct,y).each(function(ie){var oe=C.c2p(ie.x),le=T.c2p(ie.y);i.select(this).selectAll("tspan.line").each(function(){D(i.select(this)).attr({x:oe,y:le})})}),pe.exit().remove()}Z.datum(x),G.datum(x),ne(Z,G,x);var re=Y.cliponaxis===!1,de=re?null:g.layerClipId;o.setClipUrl(Z,de,y),o.setClipUrl(G,de,y)}function _(y,v,g,x,u){var d=g.xaxis,m=g.yaxis,w=i.extent(a.simpleMap(d.range,d.r2c)),k=i.extent(a.simpleMap(m.range,m.r2c)),U=x[0].trace;if(s.hasMarkers(U)){var D=U.marker.maxdisplayed;if(D!==0){var C=x.filter(function(j){return j.x>=w[0]&&j.x<=w[1]&&j.y>=k[0]&&j.y<=k[1]}),T=Math.ceil(C.length/D),Y=0;u.forEach(function(j,F){var R=j[0].trace;s.hasMarkers(R)&&R.marker.maxdisplayed>0&&F<v&&Y++});var z=Math.round(Y*T/3+Math.floor(Y/3)*T/7.1);x.forEach(function(j){delete j.vis}),C.forEach(function(j,F){Math.round((F+z)%T)===0&&(j.vis=!0)})}}}}),Jl=Mt((E,P)=>{P.exports={container:"marker",min:"cmin",max:"cmax"}}),xf=Mt((E,P)=>{var i=Ka();P.exports=function(t,a,l){var n={},o={_fullLayout:l},s=i.getFromTrace(o,a,"x"),f=i.getFromTrace(o,a,"y"),e=t.orig_x;e===void 0&&(e=t.x);var p=t.orig_y;return p===void 0&&(p=t.y),n.xLabel=i.tickText(s,s.c2l(e),!0).text,n.yLabel=i.tickText(f,f.c2l(p),!0).text,n}}),Wl=Mt((E,P)=>{var i=Ke(),t=Ga(),a=da();function l(f){var e=i.select(f).selectAll("g.trace.scatter");e.style("opacity",function(p){return p[0].trace.opacity}),e.selectAll("g.points").each(function(p){var c=i.select(this),h=p.trace||p[0].trace;n(c,h,f)}),e.selectAll("g.text").each(function(p){var c=i.select(this),h=p.trace||p[0].trace;o(c,h,f)}),e.selectAll("g.trace path.js-line").call(t.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(t.fillGroupStyle,f,!1),a.getComponentMethod("errorbars","style")(e)}function n(f,e,p){t.pointStyle(f.selectAll("path.point"),e,p)}function o(f,e,p){t.textPointStyle(f.selectAll("text"),e,p)}function s(f,e,p){var c=e[0].trace;c.selectedpoints?(t.selectedPointStyle(p.selectAll("path.point"),c),t.selectedTextStyle(p.selectAll("text"),c)):(n(p,c,f),o(p,c,f))}P.exports={style:l,stylePoints:n,styleText:o,styleOnSelect:s}}),bf=Mt((E,P)=>{var i=Ta(),t=Gr();P.exports=function(a,l){var n,o;if(a.mode==="lines")return n=a.line.color,n&&i.opacity(n)?n:a.fillcolor;if(a.mode==="none")return a.fill?a.fillcolor:"";var s=l.mcc||(a.marker||{}).color,f=l.mlcc||((a.marker||{}).line||{}).color;return o=s&&i.opacity(s)?s:f&&i.opacity(f)&&(l.mlw||((a.marker||{}).line||{}).width)?f:"",o?i.opacity(o)<.3?i.addOpacity(o,.3):o:(n=(a.line||{}).color,n&&i.opacity(n)&&t.hasLines(a)&&a.line.width?n:a.fillcolor)}}),_f=Mt((E,P)=>{var i=Oe(),t=mn(),a=da(),l=bf(),n=Ta(),o=i.fillText;P.exports=function(s,f,e,p){var c=s.cd,h=c[0].trace,_=s.xa,y=s.ya,v=_.c2p(f),g=y.c2p(e),x=[v,g],u=h.hoveron||"",d=h.mode.indexOf("markers")!==-1?3:.5,m=!!h.xperiodalignment,w=!!h.yperiodalignment;if(u.indexOf("points")!==-1){var k=function(ot){if(m){var ht=_.c2p(ot.xStart),pt=_.c2p(ot.xEnd);return v>=Math.min(ht,pt)&&v<=Math.max(ht,pt)?0:1/0}var yt=Math.max(3,ot.mrc||0),H=1-1/yt,q=Math.abs(_.c2p(ot.x)-v);return q<yt?H*q/yt:q-yt+H},U=function(ot){if(w){var ht=y.c2p(ot.yStart),pt=y.c2p(ot.yEnd);return g>=Math.min(ht,pt)&&g<=Math.max(ht,pt)?0:1/0}var yt=Math.max(3,ot.mrc||0),H=1-1/yt,q=Math.abs(y.c2p(ot.y)-g);return q<yt?H*q/yt:q-yt+H},D=function(ot){var ht=Math.max(d,ot.mrc||0),pt=_.c2p(ot.x)-v,yt=y.c2p(ot.y)-g;return Math.max(Math.sqrt(pt*pt+yt*yt)-ht,1-d/ht)},C=t.getDistanceFunction(p,k,U,D);if(t.getClosest(c,C,s),s.index!==!1){var T=c[s.index],Y=_.c2p(T.x,!0),z=y.c2p(T.y,!0),j=T.mrc||1;s.index=T.i;var F=c[0].t.orientation,R=F&&(T.sNorm||T.s),Z=F==="h"?R:T.orig_x!==void 0?T.orig_x:T.x,G=F==="v"?R:T.orig_y!==void 0?T.orig_y:T.y;return i.extendFlat(s,{color:l(h,T),x0:Y-j,x1:Y+j,xLabelVal:Z,y0:z-j,y1:z+j,yLabelVal:G,spikeDistance:D(T),hovertemplate:h.hovertemplate}),o(T,h,s),a.getComponentMethod("errorbars","hoverInfo")(T,h,s),[s]}}function O(ot){if(!ot)return!1;var ht=ot.node();try{var pt=new DOMPoint(x[0],x[1]);return ht.isPointInFill(pt)}catch{var yt=ht.ownerSVGElement.createSVGPoint();return yt.x=x[0],yt.y=x[1],ht.isPointInFill(yt)}}function J(ot){var ht,pt=[],yt=1/0,H=-1/0,q=1/0,A=-1/0,W;for(ht=0;ht<ot.length;ht++){var rt=ot[ht];rt.contains(x)&&(pt.push(rt),q=Math.min(q,rt.ymin),A=Math.max(A,rt.ymax))}if(pt.length===0)return null;q=Math.max(q,0),A=Math.min(A,y._length),W=(q+A)/2;var I,M,S,N,V,nt,ut;for(ht=0;ht<pt.length;ht++)for(M=pt[ht].pts,I=1;I<M.length;I++)nt=M[I-1][1],ut=M[I][1],nt>W!=ut>=W&&(N=M[I-1][0],V=M[I][0],ut-nt&&(S=N+(V-N)*(W-nt)/(ut-nt),yt=Math.min(yt,S),H=Math.max(H,S)));return yt=Math.max(yt,0),H=Math.min(H,_._length),{x0:yt,x1:H,y0:W,y1:W}}if(u.indexOf("fills")!==-1&&h._fillElement){var X=O(h._fillElement)&&!O(h._fillExclusionElement);if(X){var it=J(h._polygons);it===null&&(it={x0:x[0],x1:x[0],y0:x[1],y1:x[1]});var at=n.defaultLine;return n.opacity(h.fillcolor)?at=h.fillcolor:n.opacity((h.line||{}).color)&&(at=h.line.color),i.extendFlat(s,{distance:s.maxHoverDistance,x0:it.x0,x1:it.x1,y0:it.y0,y1:it.y1,color:at,hovertemplate:!1}),delete s.index,h.text&&!i.isArrayOrTypedArray(h.text)?s.text=String(h.text):s.text=h.name,[s]}}}}),wf=Mt((E,P)=>{var i=Gr();P.exports=function(t,a){var l=t.cd,n=t.xaxis,o=t.yaxis,s=[],f=l[0].trace,e,p,c,h,_=!i.hasMarkers(f)&&!i.hasText(f);if(_)return[];if(a===!1)for(e=0;e<l.length;e++)l[e].selected=0;else for(e=0;e<l.length;e++)p=l[e],c=n.c2p(p.x),h=o.c2p(p.y),p.i!==null&&a.contains([c,h],!1,e,t)?(s.push({pointNumber:p.i,x:n.c2d(p.x),y:o.c2d(p.y)}),p.selected=1):p.selected=0;return s}}),Mf=Mt((E,P)=>{P.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}}),Tf=Mt((E,P)=>{var i=da().traceIs,t=vl();P.exports=function(s,f,e,p){e("autotypenumbers",p.autotypenumbersDflt);var c=e("type",(p.splomStash||{}).type);c==="-"&&(a(f,p.data),f.type==="-"?f.type="linear":s.type=f.type)};function a(s,f){if(s.type==="-"){var e=s._id,p=e.charAt(0),c;e.indexOf("scene")!==-1&&(e=p);var h=l(f,e,p);if(h){if(h.type==="histogram"&&p==={v:"y",h:"x"}[h.orientation||"v"]){s.type="linear";return}var _=p+"calendar",y=h[_],v={noMultiCategory:!i(h,"cartesian")||i(h,"noMultiCategory")};if(h.type==="box"&&h._hasPreCompStats&&p==={h:"x",v:"y"}[h.orientation||"v"]&&(v.noMultiCategory=!0),v.autotypenumbers=s.autotypenumbers,o(h,p)){var g=n(h),x=[];for(c=0;c<f.length;c++){var u=f[c];!i(u,"box-violin")||(u[p+"axis"]||p)!==e||(u[g]!==void 0?x.push(u[g][0]):u.name!==void 0?x.push(u.name):x.push("text"),u[_]!==y&&(y=void 0))}s.type=t(x,y,v)}else if(h.type==="splom"){var d=h.dimensions,m=d[h._axesDim[e]];m.visible&&(s.type=t(m.values,y,v))}else s.type=t(h[p]||[h[p+"0"]],y,v)}}}function l(s,f,e){for(var p=0;p<s.length;p++){var c=s[p];if(c.type==="splom"&&c._length>0&&(c["_"+e+"axes"]||{})[f]||(c[e+"axis"]||e)===f&&(o(c,e)||(c[e]||[]).length||c[e+"0"]))return c}}function n(s){return{v:"x",h:"y"}[s.orientation||"v"]}function o(s,f){var e=n(s),p=i(s,"box-violin"),c=i(s._fullInput||{},"candlestick");return p&&!c&&f===e&&s[e]===void 0&&s[e+"0"]===void 0}}),kf=Mt((E,P)=>{var i=lr().isTypedArraySpec;function t(a,l){var n=l.dataAttr||a._id.charAt(0),o={},s,f,e;if(l.axData)s=l.axData;else for(s=[],f=0;f<l.data.length;f++){var p=l.data[f];p[n+"axis"]===a._id&&s.push(p)}for(f=0;f<s.length;f++){var c=s[f][n];for(e=0;e<c.length;e++){var h=c[e];h!=null&&(o[h]=1)}}return Object.keys(o)}P.exports=function(a,l,n,o){if(l.type==="category"){var s=a.categoryarray,f=Array.isArray(s)&&s.length>0||i(s),e;f&&(e="array");var p=n("categoryorder",e),c;p==="array"&&(c=n("categoryarray")),!f&&p==="array"&&(p=l.categoryorder="trace"),p==="trace"?l._initialCategories=[]:p==="array"?l._initialCategories=c.slice():(c=t(l,o).sort(),p==="category ascending"?l._initialCategories=c:p==="category descending"&&(l._initialCategories=c.reverse()))}}}),Af=Mt((E,P)=>{var i=Yr().mix,t=dn(),a=Oe();P.exports=function(l,n,o,s){s=s||{};var f=s.dfltColor;function e(T,Y){return a.coerce2(l,n,s.attributes,T,Y)}var p=e("linecolor",f),c=e("linewidth"),h=o("showline",s.showLine||!!p||!!c);h||(delete n.linecolor,delete n.linewidth);var _=i(f,s.bgColor,s.blend||t.lightFraction).toRgbString(),y=e("gridcolor",_),v=e("gridwidth"),g=e("griddash"),x=o("showgrid",s.showGrid||!!y||!!v||!!g);if(x||(delete n.gridcolor,delete n.gridwidth,delete n.griddash),s.hasMinor){var u=i(n.gridcolor,s.bgColor,67).toRgbString(),d=e("minor.gridcolor",u),m=e("minor.gridwidth",n.gridwidth||1),w=e("minor.griddash",n.griddash||"solid"),k=o("minor.showgrid",!!d||!!m||!!w);k||(delete n.minor.gridcolor,delete n.minor.gridwidth,delete n.minor.griddash)}if(!s.noZeroLine){e("zerolinelayer");var U=e("zerolinecolor",f),D=e("zerolinewidth"),C=o("zeroline",s.showGrid||!!U||!!D);C||(delete n.zerolinelayer,delete n.zerolinecolor,delete n.zerolinewidth)}}}),Xl=Mt((E,P)=>{var i=ua(),t=da(),a=Oe(),l=$a(),n=nn(),o=rn(),s=ll(),f=sl(),e=cl(),p=fl(),c=kf(),h=Af(),_=gl(),y=Wi(),v=Sr().WEEKDAY_PATTERN,g=Sr().HOUR_PATTERN;P.exports=function(m,w,k,U,D){var C=U.letter,T=U.font||{},Y=U.splomStash||{},z=k("visible",!U.visibleDflt),j=w._template||{},F=w.type||j.type||"-",R;if(F==="date"){var Z=t.getComponentMethod("calendars","handleDefaults");Z(m,w,"calendar",U.calendar),U.noTicklabelmode||(R=k("ticklabelmode"))}!U.noTicklabelindex&&(F==="date"||F==="linear")&&k("ticklabelindex");var G="";(!U.noTicklabelposition||F==="multicategory")&&(G=a.coerce(m,w,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:R==="period"?["outside","inside"]:C==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),U.noTicklabeloverflow||k("ticklabeloverflow",G.indexOf("inside")!==-1?"hide past domain":F==="category"||F==="multicategory"?"allow":"hide past div"),y(w,D),_(m,w,k,U),c(m,w,k,U),U.noHover||(F!=="category"&&k("hoverformat"),U.noUnifiedhovertitle||k("unifiedhovertitle.text"));var O=k("color"),J=O!==o.color.dflt?O:T.color,X=Y.label||D._dfltTitle[C];if(p(m,w,k,F,U),!z)return w;k("title.text",X),a.coerceFont(k,"title.font",T,{overrideDflt:{size:a.bigFont(T.size),color:J}}),s(m,w,k,F);var it=U.hasMinor;if(it&&(l.newContainer(w,"minor"),s(m,w,k,F,{isMinor:!0})),e(m,w,k,F,U),f(m,w,k,U),it){var at=U.isMinor;U.isMinor=!0,f(m,w,k,U),U.isMinor=at}h(m,w,k,{dfltColor:O,bgColor:U.bgColor,showGrid:U.showGrid,hasMinor:it,attributes:o}),it&&!w.minor.ticks&&!w.minor.showgrid&&delete w.minor,(w.showline||w.ticks)&&k("mirror");var ot=F==="multicategory";if(!U.noTickson&&(F==="category"||ot)&&(w.ticks||w.showgrid)&&(ot?(k("tickson","boundaries"),delete w.ticklabelposition):k("tickson")),ot){var ht=k("showdividers");ht&&(k("dividercolor"),k("dividerwidth"))}if(F==="date")if(n(m,w,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:x}),!w.rangebreaks.length)delete w.rangebreaks;else{for(var pt=0;pt<w.rangebreaks.length;pt++)if(w.rangebreaks[pt].pattern===v){w._hasDayOfWeekBreaks=!0;break}if(y(w,D),D._has("scattergl")||D._has("splom"))for(var yt=0;yt<U.data.length;yt++){var H=U.data[yt];(H.type==="scattergl"||H.type==="splom")&&(H.visible=!1,a.warn(H.type+" traces do not work on axes with rangebreaks. Setting trace "+H.index+" to `visible: false`."))}}return w};function x(m,w,k){function U(Z,G){return a.coerce(m,w,o.rangebreaks,Z,G)}var D=U("enabled");if(D){var C=U("bounds");if(C&&C.length>=2){var T="",Y,z;if(C.length===2){for(Y=0;Y<2;Y++)if(z=d(C[Y]),z){T=v;break}}var j=U("pattern",T);if(j===v)for(Y=0;Y<2;Y++)z=d(C[Y]),z&&(w.bounds[Y]=C[Y]=z-1);if(j)for(Y=0;Y<2;Y++)switch(z=C[Y],j){case v:if(!i(z)){w.enabled=!1;return}if(z=+z,z!==Math.floor(z)||z<0||z>=7){w.enabled=!1;return}w.bounds[Y]=C[Y]=z;break;case g:if(!i(z)){w.enabled=!1;return}if(z=+z,z<0||z>24){w.enabled=!1;return}w.bounds[Y]=C[Y]=z;break}if(k.autorange===!1){var F=k.range;if(F[0]<F[1]){if(C[0]<F[0]&&C[1]>F[1]){w.enabled=!1;return}}else if(C[0]>F[0]&&C[1]<F[1]){w.enabled=!1;return}}}else{var R=U("values");if(R&&R.length)U("dvalue");else{w.enabled=!1;return}}}}var u={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function d(m){if(typeof m=="string")return u[m.substr(0,3).toLowerCase()]}}),$l=Mt((E,P)=>{var i=ua(),t=Oe();P.exports=function(a,l,n,o){var s=o.counterAxes||[],f=o.overlayableAxes||[],e=o.letter,p=o.grid,c=o.overlayingDomain,h,_,y,v,g,x;p&&(_=p._domains[e][p._axisMap[l._id]],h=p._anchors[l._id],_&&(y=p[e+"side"].split(" ")[0],v=p.domain[e][y==="right"||y==="top"?1:0])),_=_||[0,1],h=h||(i(a.position)?"free":s[0]||"free"),y=y||(e==="x"?"bottom":"left"),v=v||0,g=0,x=!1;var u=t.coerce(a,l,{anchor:{valType:"enumerated",values:["free"].concat(s),dflt:h}},"anchor"),d=t.coerce(a,l,{side:{valType:"enumerated",values:e==="x"?["bottom","top"]:["left","right"],dflt:y}},"side");if(u==="free"){if(e==="y"){var m=n("autoshift");m&&(v=d==="left"?c[0]:c[1],x=l.automargin?l.automargin:!0,g=d==="left"?-3:3),n("shift",g)}n("position",v)}n("automargin",x);var w=!1;if(f.length&&(w=t.coerce(a,l,{overlaying:{valType:"enumerated",values:[!1].concat(f),dflt:!1}},"overlaying")),!w){var k=n("domain",_);k[0]>k[1]-1/4096&&(l.domain=_),t.noneOrAll(a.domain,l.domain,_),l.tickmode==="sync"&&(l.tickmode="auto")}return n("layer"),l}}),Lf=Mt((E,P)=>{var i=Oe(),t=Ta(),a=gn().isUnifiedHover,l=Tl(),n=$a(),o=qn(),s=rn(),f=Tf(),e=Xl(),p=fi(),c=$l(),h=xr(),_=h.id2name,y=h.name2id,v=Sr().AX_ID_PATTERN,g=da(),x=g.traceIs,u=g.getComponentMethod;function d(m,w,k){Array.isArray(m[w])?m[w].push(k):m[w]=[k]}P.exports=function(m,w,k){var U=w.autotypenumbers,D={},C={},T={},Y={},z={},j={},F={},R={},Z={},G={},O,J;for(O=0;O<k.length;O++){var X=k[O];if(x(X,"cartesian")){var it;if(X.xaxis)it=_(X.xaxis),d(D,it,X);else if(X.xaxes)for(J=0;J<X.xaxes.length;J++)d(D,_(X.xaxes[J]),X);var at;if(X.yaxis)at=_(X.yaxis),d(D,at,X);else if(X.yaxes)for(J=0;J<X.yaxes.length;J++)d(D,_(X.yaxes[J]),X);if(X.type==="funnel"?X.orientation==="h"?(it&&(C[it]=!0),at&&(F[at]=!0)):at&&(T[at]=!0):X.type==="image"?(at&&(R[at]=!0),it&&(R[it]=!0)):(at&&(z[at]=!0,j[at]=!0),(!x(X,"carpet")||X.type==="carpet"&&!X._cheater)&&it&&(Y[it]=!0)),X.type==="carpet"&&X._cheater&&it&&(C[it]=!0),x(X,"2dMap")&&(Z[it]=!0,Z[at]=!0),x(X,"oriented")){var ot=X.orientation==="h"?at:it;G[ot]=!0}}}var ht=w._subplots,pt=ht.xaxis,yt=ht.yaxis,H=i.simpleMap(pt,_),q=i.simpleMap(yt,_),A=H.concat(q),W=t.background;pt.length&&yt.length&&(W=i.coerce(m,w,o,"plot_bgcolor"));var rt=t.combine(W,w.paper_bgcolor),I,M,S,N,V;function nt(){var ft=D[I]||[];V._traceIndices=ft.map(function(_t){return _t.index}),V._annIndices=[],V._shapeIndices=[],V._selectionIndices=[],V._imgIndices=[],V._subplotsWith=[],V._counterAxes=[],V._name=V._attr=I,V._id=M}function ut(ft,_t){return i.coerce(N,V,s,ft,_t)}function ct(ft,_t){return i.coerce2(N,V,s,ft,_t)}function bt(ft){return ft==="x"?yt:pt}function kt(ft,_t){for(var Tt=ft==="x"?H:q,zt=[],Ft=0;Ft<Tt.length;Ft++){var Zt=Tt[Ft];Zt!==_t&&!(m[Zt]||{}).overlaying&&zt.push(y(Zt))}return zt}var Et={x:bt("x"),y:bt("y")},Gt=Et.x.concat(Et.y),Vt={},Ht=[];function vt(){var ft=N.matches;v.test(ft)&&Gt.indexOf(ft)===-1&&(Vt[ft]=N.type,Ht=Object.keys(Vt))}var xt=l(m,w),lt=a(xt);for(O=0;O<A.length;O++){I=A[O],M=y(I),S=I.charAt(0),i.isPlainObject(m[I])||(m[I]={}),N=m[I],V=n.newContainer(w,I,S+"axis"),nt();var At=S==="x"&&!Y[I]&&C[I]||S==="y"&&!z[I]&&T[I],Rt=S==="y"&&(!j[I]&&F[I]||R[I]),Ut={hasMinor:!0,letter:S,font:w.font,outerTicks:Z[I],showGrid:!G[I],data:D[I]||[],bgColor:rt,calendar:w.calendar,automargin:!0,visibleDflt:At,reverseDflt:Rt,autotypenumbersDflt:U,splomStash:((w._splomAxes||{})[S]||{})[M],noAutotickangles:S==="y"};ut("uirevision",w.uirevision),f(N,V,ut,Ut),e(N,V,ut,Ut,w);var te=lt&&S===xt.charAt(0),Wt=ct("spikecolor",lt?V.color:void 0),ae=ct("spikethickness",lt?1.5:void 0),ne=ct("spikedash",lt?"dot":void 0),re=ct("spikemode",lt?"across":void 0),de=ct("spikesnap"),$t=ut("showspikes",!!te||!!Wt||!!ae||!!ne||!!re||!!de);$t||(delete V.spikecolor,delete V.spikethickness,delete V.spikedash,delete V.spikemode,delete V.spikesnap);var ve=_(N.overlaying),xe=[0,1];if(w[ve]!==void 0){var pe=_(w[ve].anchor);w[pe]!==void 0&&(xe=w[pe].domain)}c(N,V,ut,{letter:S,counterAxes:Et[S],overlayableAxes:kt(S,I),grid:w.grid,overlayingDomain:xe}),ut("title.standoff"),vt(),V._input=N}for(O=0;O<Ht.length;){M=Ht[O++],I=_(M),S=I.charAt(0),i.isPlainObject(m[I])||(m[I]={}),N=m[I],V=n.newContainer(w,I,S+"axis"),nt();var _e={letter:S,font:w.font,outerTicks:Z[I],showGrid:!G[I],data:[],bgColor:rt,calendar:w.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:U,splomStash:((w._splomAxes||{})[S]||{})[M]};ut("uirevision",w.uirevision),V.type=Vt[M]||"linear",e(N,V,ut,_e,w),c(N,V,ut,{letter:S,counterAxes:Et[S],overlayableAxes:kt(S,I),grid:w.grid}),ut("fixedrange"),ut("modebardisable"),vt(),V._input=N}var mt=u("rangeslider","handleDefaults"),Ct=u("rangeselector","handleDefaults");for(O=0;O<H.length;O++)I=H[O],N=m[I],V=w[I],mt(m,w,I),V.type==="date"&&Ct(N,V,w,q,V.calendar),ut("fixedrange"),ut("modebardisable");for(O=0;O<q.length;O++){I=q[O],N=m[I],V=w[I];var Q=w[_(V.anchor)],st=u("rangeslider","isVisible")(Q);ut("fixedrange",st),ut("modebardisable")}p.handleDefaults(m,w,{axIds:Gt.concat(Ht).sort(h.idSort),axHasImage:R})}}),Sf=Mt((E,P)=>{var i=Ke(),t=da(),a=Oe(),l=Ga(),n=Ka();P.exports=function(o,s,f,e){var p=o._fullLayout;if(s.length===0){n.redrawComponents(o);return}function c(w){var k=w.xaxis,U=w.yaxis;p._defs.select("#"+w.clipId+"> rect").call(l.setTranslate,0,0).call(l.setScale,1,1),w.plot.call(l.setTranslate,k._offset,U._offset).call(l.setScale,1,1);var D=w.plot.selectAll(".scatterlayer .trace");D.selectAll(".point").call(l.setPointGroupScale,1,1),D.selectAll(".textpoint").call(l.setTextPointsScale,1,1),D.call(l.hideOutsideRangePoints,w)}function h(w,k){var U=w.plotinfo,D=U.xaxis,C=U.yaxis,T=D._length,Y=C._length,z=!!w.xr1,j=!!w.yr1,F=[];if(z){var R=a.simpleMap(w.xr0,D.r2l),Z=a.simpleMap(w.xr1,D.r2l),G=R[1]-R[0],O=Z[1]-Z[0];F[0]=(R[0]*(1-k)+k*Z[0]-R[0])/(R[1]-R[0])*T,F[2]=T*(1-k+k*O/G),D.range[0]=D.l2r(R[0]*(1-k)+k*Z[0]),D.range[1]=D.l2r(R[1]*(1-k)+k*Z[1])}else F[0]=0,F[2]=T;if(j){var J=a.simpleMap(w.yr0,C.r2l),X=a.simpleMap(w.yr1,C.r2l),it=J[1]-J[0],at=X[1]-X[0];F[1]=(J[1]*(1-k)+k*X[1]-J[1])/(J[0]-J[1])*Y,F[3]=Y*(1-k+k*at/it),C.range[0]=D.l2r(J[0]*(1-k)+k*X[0]),C.range[1]=C.l2r(J[1]*(1-k)+k*X[1])}else F[1]=0,F[3]=Y;n.drawOne(o,D,{skipTitle:!0}),n.drawOne(o,C,{skipTitle:!0}),n.redrawComponents(o,[D._id,C._id]);var ot=z?T/F[2]:1,ht=j?Y/F[3]:1,pt=z?F[0]:0,yt=j?F[1]:0,H=z?F[0]/F[2]*T:0,q=j?F[1]/F[3]*Y:0,A=D._offset-H,W=C._offset-q;U.clipRect.call(l.setTranslate,pt,yt).call(l.setScale,1/ot,1/ht),U.plot.call(l.setTranslate,A,W).call(l.setScale,ot,ht),l.setPointGroupScale(U.zoomScalePts,1/ot,1/ht),l.setTextPointsScale(U.zoomScaleTxt,1/ot,1/ht)}var _;e&&(_=e());function y(){for(var w={},k=0;k<s.length;k++){var U=s[k],D=U.plotinfo.xaxis,C=U.plotinfo.yaxis;U.xr1&&(w[D._name+".range"]=U.xr1.slice()),U.yr1&&(w[C._name+".range"]=U.yr1.slice())}return _&&_(),t.call("relayout",o,w).then(function(){for(var T=0;T<s.length;T++)c(s[T].plotinfo)})}function v(){for(var w={},k=0;k<s.length;k++){var U=s[k],D=U.plotinfo.xaxis,C=U.plotinfo.yaxis;U.xr0&&(w[D._name+".range"]=U.xr0.slice()),U.yr0&&(w[C._name+".range"]=U.yr0.slice())}return t.call("relayout",o,w).then(function(){for(var T=0;T<s.length;T++)c(s[T].plotinfo)})}var g,x,u,d=i.ease(f.easing);o._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,v()});function m(){x=Date.now();for(var w=Math.min(1,(x-g)/f.duration),k=d(w),U=0;U<s.length;U++)h(s[U],k);x-g>f.duration?(y(),u=window.cancelAnimationFrame(m)):u=window.requestAnimationFrame(m)}return g=Date.now(),u=window.requestAnimationFrame(m),Promise.resolve()}}),fo=Mt(E=>{var P=Ke(),i=da(),t=Oe(),a=hr(),l=Ga(),n=rl().getModuleCalcData,o=xr(),s=Sr(),f=En(),e=t.ensureSingle;function p(x,u,d){return t.ensureSingle(x,u,d,function(m){m.datum(d)})}var c=s.zindexSeparator;E.name="cartesian",E.attr=["xaxis","yaxis"],E.idRoot=["x","y"],E.idRegex=s.idRegex,E.attrRegex=s.attrRegex,E.attributes=Mf(),E.layoutAttributes=rn(),E.supplyLayoutDefaults=Lf(),E.transitionAxes=Sf(),E.finalizeSubplots=function(x,u){var d=u._subplots,m=d.xaxis,w=d.yaxis,k=d.cartesian,U=k,D={},C={},T,Y,z;for(T=0;T<U.length;T++){var j=U[T].split("y");D[j[0]]=1,C["y"+j[1]]=1}for(T=0;T<m.length;T++)Y=m[T],D[Y]||(z=(x[o.id2name(Y)]||{}).anchor,s.idRegex.y.test(z)||(z="y"),k.push(Y+z),U.push(Y+z),C[z]||(C[z]=1,t.pushUnique(w,z)));for(T=0;T<w.length;T++)z=w[T],C[z]||(Y=(x[o.id2name(z)]||{}).anchor,s.idRegex.x.test(Y)||(Y="x"),k.push(Y+z),U.push(Y+z),D[Y]||(D[Y]=1,t.pushUnique(m,Y)));if(!U.length){Y="",z="";for(var F in x)if(s.attrRegex.test(F)){var R=F.charAt(0);R==="x"?(!Y||+F.substr(5)<+Y.substr(5))&&(Y=F):(!z||+F.substr(5)<+z.substr(5))&&(z=F)}Y=Y?o.name2id(Y):"x",z=z?o.name2id(z):"y",m.push(Y),w.push(z),k.push(Y+z)}},E.plot=function(x,u,d,m){var w=x._fullLayout,k=w._subplots.cartesian,U=x.calcdata,D;if(!Array.isArray(u))for(u=[],D=0;D<U.length;D++)u.push(D);for(var C=w._zindices,T=0;T<C.length;T++){var Y=C[T];for(D=0;D<k.length;D++){var z=k[D],j=w._plots[z];if(T>0){var F=j.id;if(F.indexOf(c)!==-1)continue;F+=c+(T+1),j=t.extendFlat({},j,{id:F,plot:w._cartesianlayer.selectAll(".subplot").select("."+F)})}for(var R=[],Z,G=0;G<U.length;G++){var O=U[G],J=O[0].trace;Y===(J.zorder||0)&&J.xaxis+J.yaxis===z&&((u.indexOf(J.index)!==-1||J.carpet)&&(Z&&Z[0].trace.xaxis+Z[0].trace.yaxis===z&&["tonextx","tonexty","tonext"].indexOf(J.fill)!==-1&&R.indexOf(Z)===-1&&R.push(Z),R.push(O)),Z=O)}h(x,j,R,d,m)}}};function h(x,u,d,m,w){for(var k=s.traceLayerClasses,U=x._fullLayout,D=U._zindices,C=U._modules,T,Y,z,j=[],F=[],R=0;R<D.length;R++)for(var Z=D[R],G=0;G<C.length;G++){T=C[G];var O=T.name,J=i.modules[O].categories;if(J.svg){var X=T.layerName||O+"layer",it=X+(R?Number(R)+1:""),at=T.plot;Y=n(d,at,Z),z=Y[0],d=Y[1],z.length&&j.push({i:k.indexOf(X),zindex:R,className:it,plotMethod:at,cdModule:z}),J.zoomScale&&F.push("."+it)}}j.sort(function(pt,yt){return(pt.zindex||0)-(yt.zindex||0)||pt.i-yt.i});var ot=u.plot.selectAll("g.mlayer").data(j,function(pt){return pt.className});if(ot.enter().append("g").attr("class",function(pt){return pt.className}).classed("mlayer",!0).classed("rangeplot",u.isRangePlot),ot.exit().remove(),ot.order(),ot.each(function(pt){var yt=P.select(this),H=pt.className;pt.plotMethod(x,u,pt.cdModule,yt,m,w),s.clipOnAxisFalseQuery.indexOf("."+H)===-1&&l.setClipUrl(yt,u.layerClipId,x)}),U._has("scattergl")&&(T=i.getModule("scattergl"),z=n(d,T)[0],T.plot(x,u,z)),!x._context.staticPlot&&(u._hasClipOnAxisFalse&&(u.clipOnAxisFalseTraces=u.plot.selectAll(s.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),F.length)){var ht=u.plot.selectAll(F.join(",")).selectAll(".trace");u.zoomScalePts=ht.selectAll("path.point"),u.zoomScaleTxt=ht.selectAll(".textpoint")}}E.clean=function(x,u,d,m){var w=m._plots||{},k=u._plots||{},U=m._subplots||{},D,C,T;if(m._hasOnlyLargeSploms&&!u._hasOnlyLargeSploms)for(T in w)D=w[T],D.plotgroup&&D.plotgroup.remove();var Y=m._has&&m._has("gl"),z=u._has&&u._has("gl");if(Y&&!z)for(T in w)D=w[T],D._scene&&D._scene.destroy();if(U.xaxis&&U.yaxis){var j=o.listIds({_fullLayout:m});for(C=0;C<j.length;C++){var F=j[C];u[o.id2name(F)]||m._infolayer.selectAll(".g-"+F+"title").remove()}}var R=m._has&&m._has("cartesian"),Z=u._has&&u._has("cartesian");if(R&&!Z)v(m._cartesianlayer.selectAll(".subplot"),m),m._defs.selectAll(".axesclip").remove(),delete m._axisConstraintGroups,delete m._axisMatchGroups;else if(U.cartesian)for(C=0;C<U.cartesian.length;C++){var G=U.cartesian[C];if(G.indexOf(c)===-1&&!k[G]){var O="."+G+",."+G+"-x,."+G+"-y";m._cartesianlayer.selectAll(O).remove(),g(G,m)}}},E.drawFramework=function(x){var u=x._fullLayout,d=x.calcdata,m,w={};for(m=0;m<d.length;m++){var k=d[m][0],U=k.trace,D=U.zorder||0;w[D]||(w[D]=[]),w[D].push(k)}var C=Object.keys(w).map(Number).sort(t.sorterAsc);C.length||(C=[0]),u._zindices=C;var T=_(x),Y=T.length,z=[];for(m=0;m<Y;m++)z[m]=T[m].slice();for(var j=1;j<C.length;j++){var F=[];for(m=0;m<Y;m++)F[m]=T[m].slice(),F[m][0]+=c+(j+1);z=z.concat(F)}var R=u._cartesianlayer.selectAll(".subplot").data(z,String);R.enter().append("g").attr("class",function(Z){return"subplot "+Z[0]}),R.order(),R.exit().call(v,u),R.each(function(Z){var G=Z[0],O=G.indexOf(c),J=O!==-1,X=J?G.slice(0,O):G,it=u._plots[G];it||(it=t.extendFlat({},u._plots[X]),it&&(it.id=G,u._plots[G]=it,u._subplots.cartesian.push(G))),it&&(it.plotgroup=P.select(this),y(x,it),J||(it.draglayer=e(u._draggers,"g",G)))})},E.rangePlot=function(x,u,d){y(x,u),h(x,u,d),a.style(x)};function _(x){var u=x._fullLayout,d=u._zindices.length,m=u._subplots.cartesian,w=m.length,k,U,D,C,T,Y,z=[],j=[];for(k=0;k<w;k++){D=m[k],C=u._plots[D],T=C.xaxis,Y=C.yaxis;var F=T._mainAxis,R=Y._mainAxis,Z=F._id+R._id,G=u._plots[Z];C.overlays=[],Z!==D&&G?(C.mainplot=Z,C.mainplotinfo=G,j.push(D)):(C.mainplot=void 0,C.mainplotinfo=void 0,z.push(D))}for(k=0;k<j.length;k++)D=j[k],C=u._plots[D],C.mainplotinfo.overlays.push(C);var O=z.concat(j),J=[];for(k=0;k<w;k++){D=O[k],C=u._plots[D],T=C.xaxis,Y=C.yaxis;for(var X=[],it=1;it<=d;it++){var at="";for(it>1&&(at+=c+it),X.push(D+at),U=0;U<C.overlays.length;U++)X.push(C.overlays[U].id+at)}X=X.concat([T.layer,Y.layer,T.overlaying||"",Y.overlaying||""]),J.push(X)}return J}function y(x,u){var d=x._fullLayout,m=u.plotgroup,w=u.id,k=w.indexOf(c),U=k!==-1,D=s.layerValue2layerClass[u.xaxis.layer],C=s.layerValue2layerClass[u.yaxis.layer],T=d._hasOnlyLargeSploms,Y=d._zindices.length>1,z=u.mainplotinfo;if(!u.mainplot||Y)if(T)u.xlines=e(m,"path","xlines-above"),u.ylines=e(m,"path","ylines-above"),u.xaxislayer=e(m,"g","xaxislayer-above"),u.yaxislayer=e(m,"g","yaxislayer-above");else{if(!U){var j=e(m,"g","layer-subplot");u.shapelayer=e(j,"g","shapelayer"),u.imagelayer=e(j,"g","imagelayer"),z&&Y?(u.minorGridlayer=z.minorGridlayer,u.gridlayer=z.gridlayer,u.zerolinelayer=z.zerolinelayer):(u.minorGridlayer=e(m,"g","minor-gridlayer"),u.gridlayer=e(m,"g","gridlayer"),u.zerolinelayer=e(m,"g","zerolinelayer"));var F=e(m,"g","layer-between");u.shapelayerBetween=e(F,"g","shapelayer"),u.imagelayerBetween=e(F,"g","imagelayer"),e(m,"path","xlines-below"),e(m,"path","ylines-below"),u.overlinesBelow=e(m,"g","overlines-below"),e(m,"g","xaxislayer-below"),e(m,"g","yaxislayer-below"),u.overaxesBelow=e(m,"g","overaxes-below")}u.overplot=e(m,"g","overplot"),u.plot=e(u.overplot,"g",w),z&&Y?u.zerolinelayerAbove=z.zerolinelayerAbove:u.zerolinelayerAbove=e(m,"g","zerolinelayer-above"),U||(u.xlines=e(m,"path","xlines-above"),u.ylines=e(m,"path","ylines-above"),u.overlinesAbove=e(m,"g","overlines-above"),e(m,"g","xaxislayer-above"),e(m,"g","yaxislayer-above"),u.overaxesAbove=e(m,"g","overaxes-above"),u.xlines=m.select(".xlines-"+D),u.ylines=m.select(".ylines-"+C),u.xaxislayer=m.select(".xaxislayer-"+D),u.yaxislayer=m.select(".yaxislayer-"+C))}else{var R=z.plotgroup,Z=w+"-x",G=w+"-y";u.minorGridlayer=z.minorGridlayer,u.gridlayer=z.gridlayer,u.zerolinelayer=z.zerolinelayer,u.zerolinelayerAbove=z.zerolinelayerAbove,e(z.overlinesBelow,"path",Z),e(z.overlinesBelow,"path",G),e(z.overaxesBelow,"g",Z),e(z.overaxesBelow,"g",G),u.plot=e(z.overplot,"g",w),e(z.overlinesAbove,"path",Z),e(z.overlinesAbove,"path",G),e(z.overaxesAbove,"g",Z),e(z.overaxesAbove,"g",G),u.xlines=R.select(".overlines-"+D).select("."+Z),u.ylines=R.select(".overlines-"+C).select("."+G),u.xaxislayer=R.select(".overaxes-"+D).select("."+Z),u.yaxislayer=R.select(".overaxes-"+C).select("."+G)}U||(T||(p(u.minorGridlayer,"g",u.xaxis._id),p(u.minorGridlayer,"g",u.yaxis._id),u.minorGridlayer.selectAll("g").map(function(O){return O[0]}).sort(o.idSort),p(u.gridlayer,"g",u.xaxis._id),p(u.gridlayer,"g",u.yaxis._id),u.gridlayer.selectAll("g").map(function(O){return O[0]}).sort(o.idSort)),u.xlines.style("fill","none").classed("crisp",!0),u.ylines.style("fill","none").classed("crisp",!0))}function v(x,u){if(x){var d={};x.each(function(C){var T=C[0],Y=P.select(this);Y.remove(),g(T,u),d[T]=!0});for(var m in u._plots)for(var w=u._plots[m],k=w.overlays||[],U=0;U<k.length;U++){var D=k[U];d[D.id]&&D.plot.selectAll(".trace").remove()}}}function g(x,u){u._draggers.selectAll("g."+x).remove(),u._defs.select("#clip"+u._uid+x+"plot").remove()}E.toSVG=function(x){var u=x._fullLayout._glimages,d=P.select(x).selectAll(".svg-container"),m=d.filter(function(k,U){return U===d.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function w(){var k=this,U=k.toDataURL("image/png"),D=u.append("svg:image");D.attr({xmlns:f.svg,"xlink:href":U,preserveAspectRatio:"none",x:0,y:0,width:k.style.width,height:k.style.height})}m.each(w)},E.updateFx=Fl().updateFx}),Cf=Mt((E,P)=>{var i=Gr();P.exports={hasLines:i.hasLines,hasMarkers:i.hasMarkers,hasText:i.hasText,isBubble:i.isBubble,attributes:Fn(),layoutAttributes:Yi(),supplyDefaults:cf(),crossTraceDefaults:ff(),supplyLayoutDefaults:df(),calc:Zl().calc,crossTraceCalc:vf(),arraysToCalcdata:Ul(),plot:yf(),colorbar:Jl(),formatLabels:xf(),style:Wl().style,styleOnSelect:Wl().styleOnSelect,hoverPoints:_f(),selectPoints:wf(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:fo(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}}),Of=Mt((E,P)=>{var i=Ke(),t=Ta(),a=Il(),l=Oe(),n=l.strScale,o=l.strRotate,s=l.strTranslate;P.exports=function(f,e,p){var c=f.node(),h=a[p.arrowhead||0],_=a[p.startarrowhead||0],y=(p.arrowwidth||1)*(p.arrowsize||1),v=(p.arrowwidth||1)*(p.startarrowsize||1),g=e.indexOf("start")>=0,x=e.indexOf("end")>=0,u=h.backoff*y+p.standoff,d=_.backoff*v+p.startstandoff,m,w,k,U;if(c.nodeName==="line"){m={x:+f.attr("x1"),y:+f.attr("y1")},w={x:+f.attr("x2"),y:+f.attr("y2")};var D=m.x-w.x,C=m.y-w.y;if(k=Math.atan2(C,D),U=k+Math.PI,u&&d&&u+d>Math.sqrt(D*D+C*C)){it();return}if(u){if(u*u>D*D+C*C){it();return}var T=u*Math.cos(k),Y=u*Math.sin(k);w.x+=T,w.y+=Y,f.attr({x2:w.x,y2:w.y})}if(d){if(d*d>D*D+C*C){it();return}var z=d*Math.cos(k),j=d*Math.sin(k);m.x-=z,m.y-=j,f.attr({x1:m.x,y1:m.y})}}else if(c.nodeName==="path"){var F=c.getTotalLength(),R="";if(F<u+d){it();return}var Z=c.getPointAtLength(0),G=c.getPointAtLength(.1);k=Math.atan2(Z.y-G.y,Z.x-G.x),m=c.getPointAtLength(Math.min(d,F)),R="0px,"+d+"px,";var O=c.getPointAtLength(F),J=c.getPointAtLength(F-.1);U=Math.atan2(O.y-J.y,O.x-J.x),w=c.getPointAtLength(Math.max(0,F-u));var X=R?d+u:u;R+=F-X+"px,"+F+"px",f.style("stroke-dasharray",R)}function it(){f.style("stroke-dasharray","0px,100px")}function at(ot,ht,pt,yt){ot.path&&(ot.noRotate&&(pt=0),i.select(c.parentNode).append("path").attr({class:f.attr("class"),d:ot.path,transform:s(ht.x,ht.y)+o(pt*180/Math.PI)+n(yt)}).style({fill:t.rgb(p.arrowcolor),"stroke-width":0}))}g&&at(_,m,k,v),x&&at(h,w,U,y)}}),ho=Mt((E,P)=>{var i=Ke(),t=da(),a=hr(),l=Oe(),n=l.strTranslate,o=Ka(),s=Ta(),f=Ga(),e=mn(),p=Pr(),c=kn(),h=on(),_=$a().arrayEditor,y=Of();P.exports={draw:v,drawOne:g,drawRaw:u};function v(d){var m=d._fullLayout;m._infolayer.selectAll(".annotation").remove();for(var w=0;w<m.annotations.length;w++)m.annotations[w].visible&&g(d,w);return a.previousPromises(d)}function g(d,m){var w=d._fullLayout,k=w.annotations[m]||{},U=o.getFromId(d,k.xref),D=o.getFromId(d,k.yref);U&&U.setScale(),D&&D.setScale(),u(d,k,m,!1,U,D)}function x(d,m,w,k,U){var D=U[w],C=U[w+"ref"],T=w.indexOf("y")!==-1,Y=o.getRefType(C)==="domain",z=T?k.h:k.w;return d?Y?D+(T?-m:m)/d._length:d.p2r(d.r2p(D)+m):D+(T?-m:m)/z}function u(d,m,w,k,U,D){var C=d._fullLayout,T=d._fullLayout._size,Y=d._context.edits,z,j;k?(z="annotation-"+k,j=k+".annotations"):(z="annotation",j="annotations");var F=_(d.layout,j,m),R=F.modifyBase,Z=F.modifyItem,G=F.getUpdateObj;C._infolayer.selectAll("."+z+'[data-index="'+w+'"]').remove();var O="clip"+C._uid+"_ann"+w;if(!m._input||m.visible===!1){i.selectAll("#"+O).remove();return}var J={x:{},y:{}},X=+m.textangle||0,it=C._infolayer.append("g").classed(z,!0).attr("data-index",String(w)).style("opacity",m.opacity),at=it.append("g").classed("annotation-text-g",!0),ot=Y[m.showarrow?"annotationTail":"annotationPosition"],ht=m.captureevents||Y.annotationText||ot;function pt(ut){var ct={index:w,annotation:m._input,fullAnnotation:m,event:ut};return k&&(ct.subplotId=k),ct}var yt=at.append("g").style("pointer-events",ht?"all":null).call(c,"pointer").on("click",function(){d._dragging=!1,d.emit("plotly_clickannotation",pt(i.event))});m.hovertext&&yt.on("mouseover",function(){var ut=m.hoverlabel,ct=ut.font,bt=this.getBoundingClientRect(),kt=d.getBoundingClientRect();e.loneHover({x0:bt.left-kt.left,x1:bt.right-kt.left,y:(bt.top+bt.bottom)/2-kt.top,text:m.hovertext,color:ut.bgcolor,borderColor:ut.bordercolor,fontFamily:ct.family,fontSize:ct.size,fontColor:ct.color,fontWeight:ct.weight,fontStyle:ct.style,fontVariant:ct.variant,fontShadow:ct.fontShadow,fontLineposition:ct.fontLineposition,fontTextcase:ct.fontTextcase},{container:C._hoverlayer.node(),outerContainer:C._paper.node(),gd:d})}).on("mouseout",function(){e.loneUnhover(C._hoverlayer.node())});var H=m.borderwidth,q=m.borderpad,A=H+q,W=yt.append("rect").attr("class","bg").style("stroke-width",H+"px").call(s.stroke,m.bordercolor).call(s.fill,m.bgcolor),rt=m.width||m.height,I=C._topclips.selectAll("#"+O).data(rt?[0]:[]);I.enter().append("clipPath").classed("annclip",!0).attr("id",O).append("rect"),I.exit().remove();var M=m.font,S=C._meta?l.templateString(m.text,C._meta):m.text,N=yt.append("text").classed("annotation-text",!0).text(S);function V(ut){return ut.call(f.font,M).attr({"text-anchor":{left:"start",right:"end"}[m.align]||"middle"}),p.convertToTspans(ut,d,nt),ut}function nt(){var ut=N.selectAll("a");if(ut.size()===1&&ut.text()===N.text()){var ct=yt.insert("a",":first-child").attr({"xlink:xlink:href":ut.attr("xlink:href"),"xlink:xlink:show":ut.attr("xlink:show")}).style({cursor:"pointer"});ct.node().appendChild(W.node())}var bt=yt.select(".annotation-text-math-group"),kt=!bt.empty(),Et=f.bBox((kt?bt:N).node()),Gt=Et.width,Vt=Et.height,Ht=m.width||Gt,vt=m.height||Vt,xt=Math.round(Ht+2*A),lt=Math.round(vt+2*A);function At(Se,we){return we==="auto"&&(Se<1/3?we="left":Se>2/3?we="right":we="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[we]}for(var Rt=!1,Ut=["x","y"],te=0;te<Ut.length;te++){var Wt=Ut[te],ae=m[Wt+"ref"]||Wt,ne=m["a"+Wt+"ref"],re={x:U,y:D}[Wt],de=(X+(Wt==="x"?0:-90))*Math.PI/180,$t=xt*Math.cos(de),ve=lt*Math.sin(de),xe=Math.abs($t)+Math.abs(ve),pe=m[Wt+"anchor"],_e=m[Wt+"shift"]*(Wt==="x"?1:-1),mt=J[Wt],Ct,Q,st,ft,_t,Tt=o.getRefType(ae);if(re&&Tt!=="domain"){var zt=re.r2fraction(m[Wt]);(zt<0||zt>1)&&(ne===ae?(zt=re.r2fraction(m["a"+Wt]),(zt<0||zt>1)&&(Rt=!0)):Rt=!0),Ct=re._offset+re.r2p(m[Wt]),ft=.5}else{var Ft=Tt==="domain";Wt==="x"?(st=m[Wt],Ct=Ft?re._offset+re._length*st:Ct=T.l+T.w*st):(st=1-m[Wt],Ct=Ft?re._offset+re._length*st:Ct=T.t+T.h*st),ft=m.showarrow?.5:st}if(m.showarrow){mt.head=Ct;var Zt=m["a"+Wt];if(_t=$t*At(.5,m.xanchor)-ve*At(.5,m.yanchor),ne===ae){var qt=o.getRefType(ne);qt==="domain"?(Wt==="y"&&(Zt=1-Zt),mt.tail=re._offset+re._length*Zt):qt==="paper"?Wt==="y"?(Zt=1-Zt,mt.tail=T.t+T.h*Zt):mt.tail=T.l+T.w*Zt:mt.tail=re._offset+re.r2p(Zt),Q=_t}else mt.tail=Ct+Zt,Q=_t+Zt;mt.text=mt.tail+_t;var Yt=C[Wt==="x"?"width":"height"];if(ae==="paper"&&(mt.head=l.constrain(mt.head,1,Yt-1)),ne==="pixel"){var ie=-Math.max(mt.tail-3,mt.text),oe=Math.min(mt.tail+3,mt.text)-Yt;ie>0?(mt.tail+=ie,mt.text+=ie):oe>0&&(mt.tail-=oe,mt.text-=oe)}mt.tail+=_e,mt.head+=_e}else _t=xe*At(ft,pe),Q=_t,mt.text=Ct+_t;mt.text+=_e,_t+=_e,Q+=_e,m["_"+Wt+"padplus"]=xe/2+Q,m["_"+Wt+"padminus"]=xe/2-Q,m["_"+Wt+"size"]=xe,m["_"+Wt+"shift"]=_t}if(Rt){yt.remove();return}var le=0,be=0;if(m.align!=="left"&&(le=(Ht-Gt)*(m.align==="center"?.5:1)),m.valign!=="top"&&(be=(vt-Vt)*(m.valign==="middle"?.5:1)),kt)bt.select("svg").attr({x:A+le-1,y:A+be}).call(f.setClipUrl,rt?O:null,d);else{var Ae=A+be-Et.top,Re=A+le-Et.left;N.call(p.positionText,Re,Ae).call(f.setClipUrl,rt?O:null,d)}I.select("rect").call(f.setRect,A,A,Ht,vt),W.call(f.setRect,H/2,H/2,xt-H,lt-H),yt.call(f.setTranslate,Math.round(J.x.text-xt/2),Math.round(J.y.text-lt/2)),at.attr({transform:"rotate("+X+","+J.x.text+","+J.y.text+")"});var Ve=function(Se,we){it.selectAll(".annotation-arrow-g").remove();var Ne=J.x.head,qe=J.y.head,Fe=J.x.tail+Se,De=J.y.tail+we,Ie=J.x.text+Se,Le=J.y.text+we,Xe=l.rotationXYMatrix(X,Ie,Le),aa=l.apply2DTransform(Xe),He=l.apply2DTransform2(Xe),ra=+W.attr("width"),sa=+W.attr("height"),ma=Ie-.5*ra,ya=ma+ra,Qe=Le-.5*sa,ha=Qe+sa,oa=[[ma,Qe,ma,ha],[ma,ha,ya,ha],[ya,ha,ya,Qe],[ya,Qe,ma,Qe]].map(He);if(!oa.reduce(function(Xt,ee){return Xt^!!l.segmentsIntersect(Ne,qe,Ne+1e6,qe+1e6,ee[0],ee[1],ee[2],ee[3])},!1)){oa.forEach(function(Xt){var ee=l.segmentsIntersect(Fe,De,Ne,qe,Xt[0],Xt[1],Xt[2],Xt[3]);ee&&(Fe=ee.x,De=ee.y)});var Ce=m.arrowwidth,Ma=m.arrowcolor,et=m.arrowside,K=it.append("g").style({opacity:s.opacity(Ma)}).classed("annotation-arrow-g",!0),St=K.append("path").attr("d","M"+Fe+","+De+"L"+Ne+","+qe).style("stroke-width",Ce+"px").call(s.stroke,s.rgb(Ma));if(y(St,et,m),Y.annotationPosition&&St.node().parentNode&&!k){var It=Ne,jt=qe;if(m.standoff){var Lt=Math.sqrt(Math.pow(Ne-Fe,2)+Math.pow(qe-De,2));It+=m.standoff*(Fe-Ne)/Lt,jt+=m.standoff*(De-qe)/Lt}var Ot=K.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Fe-It)+","+(De-jt),transform:n(It,jt)}).style("stroke-width",Ce+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)"),Bt,Nt;h.init({element:Ot.node(),gd:d,prepFn:function(){var Xt=f.getTranslate(yt);Bt=Xt.x,Nt=Xt.y,U&&U.autorange&&R(U._name+".autorange",!0),D&&D.autorange&&R(D._name+".autorange",!0)},moveFn:function(Xt,ee){var he=aa(Bt,Nt),ke=he[0]+Xt,Te=he[1]+ee;yt.call(f.setTranslate,ke,Te),Z("x",x(U,Xt,"x",T,m)),Z("y",x(D,ee,"y",T,m)),m.axref===m.xref&&Z("ax",x(U,Xt,"ax",T,m)),m.ayref===m.yref&&Z("ay",x(D,ee,"ay",T,m)),K.attr("transform",n(Xt,ee)),at.attr({transform:"rotate("+X+","+ke+","+Te+")"})},doneFn:function(){t.call("_guiRelayout",d,G());var Xt=document.querySelector(".js-notes-box-panel");Xt&&Xt.redraw(Xt.selectedObj)}})}}};if(m.showarrow&&Ve(0,0),ot){var Ye;h.init({element:yt.node(),gd:d,prepFn:function(){Ye=at.attr("transform")},moveFn:function(Se,we){var Ne="pointer";if(m.showarrow)m.axref===m.xref?Z("ax",x(U,Se,"ax",T,m)):Z("ax",m.ax+Se),m.ayref===m.yref?Z("ay",x(D,we,"ay",T.w,m)):Z("ay",m.ay+we),Ve(Se,we);else{if(k)return;var qe,Fe;if(U)qe=x(U,Se,"x",T,m);else{var De=m._xsize/T.w,Ie=m.x+(m._xshift-m.xshift)/T.w-De/2;qe=h.align(Ie+Se/T.w,De,0,1,m.xanchor)}if(D)Fe=x(D,we,"y",T,m);else{var Le=m._ysize/T.h,Xe=m.y-(m._yshift+m.yshift)/T.h-Le/2;Fe=h.align(Xe-we/T.h,Le,0,1,m.yanchor)}Z("x",qe),Z("y",Fe),(!U||!D)&&(Ne=h.getCursor(U?.5:qe,D?.5:Fe,m.xanchor,m.yanchor))}at.attr({transform:n(Se,we)+Ye}),c(yt,Ne)},clickFn:function(Se,we){m.captureevents&&d.emit("plotly_clickannotation",pt(we))},doneFn:function(){c(yt),t.call("_guiRelayout",d,G());var Se=document.querySelector(".js-notes-box-panel");Se&&Se.redraw(Se.selectedObj)}})}}Y.annotationText?N.call(p.makeEditable,{delegate:yt,gd:d}).call(V).on("edit",function(ut){m.text=ut,this.call(V),Z("text",ut),U&&U.autorange&&R(U._name+".autorange",!0),D&&D.autorange&&R(D._name+".autorange",!0),t.call("_guiRelayout",d,G())}):N.call(V)}}),Df=Mt((E,P)=>{var i=Oe(),t=da(),a=$a().arrayEditor;P.exports={hasClickToShow:l,onClick:n};function l(f,e){var p=o(f,e);return p.on.length>0||p.explicitOff.length>0}function n(f,e){var p=o(f,e),c=p.on,h=p.off.concat(p.explicitOff),_={},y=f._fullLayout.annotations,v,g;if(c.length||h.length){for(v=0;v<c.length;v++)g=a(f.layout,"annotations",y[c[v]]),g.modifyItem("visible",!0),i.extendFlat(_,g.getUpdateObj());for(v=0;v<h.length;v++)g=a(f.layout,"annotations",y[h[v]]),g.modifyItem("visible",!1),i.extendFlat(_,g.getUpdateObj());return t.call("update",f,{},_)}}function o(f,e){var p=f._fullLayout.annotations,c=[],h=[],_=[],y=(e||[]).length,v,g,x,u,d,m,w,k;for(v=0;v<p.length;v++)if(x=p[v],u=x.clicktoshow,u){for(g=0;g<y;g++)if(d=e[g],m=d.xaxis,w=d.yaxis,m._id===x.xref&&w._id===x.yref&&m.d2r(d.x)===s(x._xclick,m)&&w.d2r(d.y)===s(x._yclick,w)){x.visible?u==="onout"?k=h:k=_:k=c,k.push(v);break}g===y&&x.visible&&u==="onout"&&h.push(v)}return{on:c,off:h,explicitOff:_}}function s(f,e){return e.type==="log"?e.l2r(f):e.d2r(f)}}),Ql=Mt((E,P)=>{var i=Oe(),t=Ta();P.exports=function(a,l,n,o){o("opacity");var s=o("bgcolor"),f=o("bordercolor"),e=t.opacity(f);o("borderpad");var p=o("borderwidth"),c=o("showarrow");o("text",c?" ":n._dfltTitle.annotation),o("textangle"),i.coerceFont(o,"font",n.font),o("width"),o("align");var h=o("height");if(h&&o("valign"),c){var _=o("arrowside"),y,v;_.indexOf("end")!==-1&&(y=o("arrowhead"),v=o("arrowsize")),_.indexOf("start")!==-1&&(o("startarrowhead",y),o("startarrowsize",v)),o("arrowcolor",e?l.bordercolor:t.defaultLine),o("arrowwidth",(e&&p||1)*2),o("standoff"),o("startstandoff")}var g=o("hovertext"),x=n.hoverlabel||{};if(g){var u=o("hoverlabel.bgcolor",x.bgcolor||(t.opacity(s)?t.rgb(s):t.defaultLine)),d=o("hoverlabel.bordercolor",x.bordercolor||t.contrast(u)),m=i.extendFlat({},x.font);m.color||(m.color=d),i.coerceFont(o,"hoverlabel.font",m)}o("captureevents",!!g)}}),Pf=Mt((E,P)=>{var i=Oe(),t=Ka(),a=nn(),l=Ql(),n=Gn();P.exports=function(s,f){a(s,f,{name:"annotations",handleItemDefaults:o})};function o(s,f,e){function p(T,Y){return i.coerce(s,f,n,T,Y)}var c=p("visible"),h=p("clicktoshow");if(c||h){l(s,f,e,p);for(var _=f.showarrow,y=["x","y"],v=[-10,-30],g={_fullLayout:e},x=0;x<2;x++){var u=y[x],d=t.coerceRef(s,f,g,u,"","paper");if(d!=="paper"){var m=t.getFromId(g,d);m._annIndices.push(f._index)}if(t.coercePosition(f,g,p,d,u,.5),_){var w="a"+u,k=t.coerceRef(s,f,g,w,"pixel",["pixel","paper"]);k!=="pixel"&&k!==d&&(k=f[w]="pixel");var U=k==="pixel"?v[x]:.4;t.coercePosition(f,g,p,k,w,U)}p(u+"anchor"),p(u+"shift")}if(i.noneOrAll(s,f,["x","y"]),_&&i.noneOrAll(s,f,["ax","ay"]),h){var D=p("xclick"),C=p("yclick");f._xclick=D===void 0?f.x:t.cleanPosition(D,g,f.xref),f._yclick=C===void 0?f.y:t.cleanPosition(C,g,f.yref)}}}}),zf=Mt((E,P)=>{var i=Oe(),t=Ka(),a=ho().draw;P.exports=function(o){var s=o._fullLayout,f=i.filterVisible(s.annotations);if(f.length&&o._fullData.length)return i.syncOrAsync([a,l],o)};function l(o){var s=o._fullLayout;i.filterVisible(s.annotations).forEach(function(f){var e=t.getFromId(o,f.xref),p=t.getFromId(o,f.yref),c=t.getRefType(f.xref),h=t.getRefType(f.yref);f._extremes={},c==="range"&&n(f,e),h==="range"&&n(f,p)})}function n(o,s){var f=s._id,e=f.charAt(0),p=o[e],c=o["a"+e],h=o[e+"ref"],_=o["a"+e+"ref"],y=o["_"+e+"padplus"],v=o["_"+e+"padminus"],g={x:1,y:-1}[e]*o[e+"shift"],x=3*o.arrowsize*o.arrowwidth||0,u=x+g,d=x-g,m=3*o.startarrowsize*o.arrowwidth||0,w=m+g,k=m-g,U;if(_===h){var D=t.findExtremes(s,[s.r2c(p)],{ppadplus:u,ppadminus:d}),C=t.findExtremes(s,[s.r2c(c)],{ppadplus:Math.max(y,w),ppadminus:Math.max(v,k)});U={min:[D.min[0],C.min[0]],max:[D.max[0],C.max[0]]}}else w=c?w+c:w,k=c?k-c:k,U=t.findExtremes(s,[s.r2c(p)],{ppadplus:Math.max(y,u,w),ppadminus:Math.max(v,d,k)});o._extremes[f]=U}}),If=Mt((E,P)=>{var i=ua(),t=xn();P.exports=function(a,l,n,o){l=l||{};var s=n==="log"&&l.type==="linear",f=n==="linear"&&l.type==="log";if(!(s||f))return;var e=a._fullLayout.annotations,p=l._id.charAt(0),c,h;function _(v){var g=c[v],x=null;s?x=t(g,l.range):x=Math.pow(10,g),i(x)||(x=null),o(h+v,x)}for(var y=0;y<e.length;y++)c=e[y],h="annotations["+y+"].",c[p+"ref"]===l._id&&_(p),c["a"+p+"ref"]===l._id&&_("a"+p)}}),Ef=Mt((E,P)=>{var i=ho(),t=Df();P.exports={moduleType:"component",name:"annotations",layoutAttributes:Gn(),supplyLayoutDefaults:Pf(),includeBasePlot:hi()("annotations"),calcAutorange:zf(),draw:i.draw,drawOne:i.drawOne,drawRaw:i.drawRaw,hasClickToShow:t.hasClickToShow,onClick:t.onClick,convertCoords:If()}}),po=Mt((E,P)=>{var i=Gn(),t=hn().overrideAll,a=$a().templatedArray;P.exports=t(a("annotation",{visible:i.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:i.xanchor,xshift:i.xshift,yanchor:i.yanchor,yshift:i.yshift,text:i.text,textangle:i.textangle,font:i.font,width:i.width,height:i.height,opacity:i.opacity,align:i.align,valign:i.valign,bgcolor:i.bgcolor,bordercolor:i.bordercolor,borderpad:i.borderpad,borderwidth:i.borderwidth,showarrow:i.showarrow,arrowcolor:i.arrowcolor,arrowhead:i.arrowhead,startarrowhead:i.startarrowhead,arrowside:i.arrowside,arrowsize:i.arrowsize,startarrowsize:i.startarrowsize,arrowwidth:i.arrowwidth,standoff:i.standoff,startstandoff:i.startstandoff,hovertext:i.hovertext,hoverlabel:i.hoverlabel,captureevents:i.captureevents}),"calc","from-root")}),Ff=Mt((E,P)=>{var i=Oe(),t=Ka(),a=nn(),l=Ql(),n=po();P.exports=function(s,f,e){a(s,f,{name:"annotations",handleItemDefaults:o,fullLayout:e.fullLayout})};function o(s,f,e,p){function c(y,v){return i.coerce(s,f,n,y,v)}function h(y){var v=y+"axis",g={_fullLayout:{}};return g._fullLayout[v]=e[v],t.coercePosition(f,g,c,y,y,.5)}var _=c("visible");_&&(l(s,f,p.fullLayout,c),h("x"),h("y"),h("z"),i.noneOrAll(s,f,["x","y","z"]),f.xref="x",f.yref="y",f.zref="z",c("xanchor"),c("yanchor"),c("xshift"),c("yshift"),f.showarrow&&(f.axref="pixel",f.ayref="pixel",c("ax",-10),c("ay",-30),i.noneOrAll(s,f,["ax","ay"])))}}),Nf=Mt((E,P)=>{var i=Oe(),t=Ka();P.exports=function(l){for(var n=l.fullSceneLayout,o=n.annotations,s=0;s<o.length;s++)a(o[s],l);l.fullLayout._infolayer.selectAll(".annotation-"+l.id).remove()};function a(l,n){var o=n.fullSceneLayout,s=o.domain,f=n.fullLayout._size,e={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};l._xa={},i.extendFlat(l._xa,e),t.setConvert(l._xa),l._xa._offset=f.l+s.x[0]*f.w,l._xa.l2p=function(){return .5*(1+l._pdata[0]/l._pdata[3])*f.w*(s.x[1]-s.x[0])},l._ya={},i.extendFlat(l._ya,e),t.setConvert(l._ya),l._ya._offset=f.t+(1-s.y[1])*f.h,l._ya.l2p=function(){return .5*(1-l._pdata[1]/l._pdata[3])*f.h*(s.y[1]-s.y[0])}}}),Rf=Mt((E,P)=>{function i(a,l){var n=[0,0,0,0],o,s;for(o=0;o<4;++o)for(s=0;s<4;++s)n[s]+=a[4*o+s]*l[o];return n}function t(a,l){var n=i(a.projection,i(a.view,i(a.model,[l[0],l[1],l[2],1])));return n}P.exports=t}),jf=Mt((E,P)=>{var i=ho().drawRaw,t=Rf(),a=["x","y","z"];P.exports=function(l){for(var n=l.fullSceneLayout,o=l.dataScale,s=n.annotations,f=0;f<s.length;f++){for(var e=s[f],p=!1,c=0;c<3;c++){var h=a[c],_=e[h],y=n[h+"axis"],v=y.r2fraction(_);if(v<0||v>1){p=!0;break}}p?l.fullLayout._infolayer.select(".annotation-"+l.id+'[data-index="'+f+'"]').remove():(e._pdata=t(l.glplot.cameraParams,[n.xaxis.r2l(e.x)*o[0],n.yaxis.r2l(e.y)*o[1],n.zaxis.r2l(e.z)*o[2]]),i(l.graphDiv,e,f,l.id,e._xa,e._ya))}}}),Hf=Mt((E,P)=>{var i=da(),t=Oe();P.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:po()}}},layoutAttributes:po(),handleDefaults:Ff(),includeBasePlot:a,convert:Nf(),draw:jf()};function a(l,n){var o=i.subplotsRegistry.gl3d;if(o)for(var s=o.attrRegex,f=Object.keys(l),e=0;e<f.length;e++){var p=f[e];s.test(p)&&(l[p].annotations||[]).length&&(t.pushUnique(n._basePlotModules,o),t.pushUnique(n._subplots.gl3d,p))}}}),Kl=Mt((E,P)=>{var i=Gn(),t=Lr(),a=Fn().line,l=pn().dash,n=yr().extendFlat,o=$a().templatedArray;di();var s=an(),f=vn().shapeTexttemplateAttrs,e=Bi();P.exports=o("shape",{visible:n({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:n({},s.legend,{editType:"calc+arraydraw"}),legendgroup:n({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:n({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:t({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:n({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:n({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:n({},i.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:n({},i.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:n({},a.color,{editType:"arraydraw"}),width:n({},a.width,{editType:"calc+arraydraw"}),dash:n({},l,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:f({},{keys:Object.keys(e)}),font:t({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})}),Bf=Mt((E,P)=>{var i=Oe(),t=Ka(),a=nn(),l=Kl(),n=Ln();P.exports=function(f,e){a(f,e,{name:"shapes",handleItemDefaults:s})};function o(f,e){return f?"bottom":e.indexOf("top")!==-1?"top":e.indexOf("bottom")!==-1?"bottom":"middle"}function s(f,e,p){function c(H,q){return i.coerce(f,e,l,H,q)}e._isShape=!0;var h=c("visible");if(h){var _=c("showlegend");_&&(c("legend"),c("legendwidth"),c("legendgroup"),c("legendgrouptitle.text"),i.coerceFont(c,"legendgrouptitle.font"),c("legendrank"));var y=c("path"),v=y?"path":"rect",g=c("type",v),x=g!=="path";x&&delete e.path,c("editable"),c("layer"),c("opacity"),c("fillcolor"),c("fillrule");var u=c("line.width");u&&(c("line.color"),c("line.dash"));for(var d=c("xsizemode"),m=c("ysizemode"),w=["x","y"],k=0;k<2;k++){var U=w[k],D=U+"anchor",C=U==="x"?d:m,T={_fullLayout:p},Y,z,j,F=t.coerceRef(f,e,T,U,void 0,"paper"),R=t.getRefType(F);if(R==="range"?(Y=t.getFromId(T,F),Y._shapeIndices.push(e._index),j=n.rangeToShapePosition(Y),z=n.shapePositionToRange(Y),(Y.type==="category"||Y.type==="multicategory")&&(c(U+"0shift"),c(U+"1shift"))):z=j=i.identity,x){var Z=.25,G=.75,O=U+"0",J=U+"1",X=f[O],it=f[J];f[O]=z(f[O],!0),f[J]=z(f[J],!0),C==="pixel"?(c(O,0),c(J,10)):(t.coercePosition(e,T,c,F,O,Z),t.coercePosition(e,T,c,F,J,G)),e[O]=j(e[O]),e[J]=j(e[J]),f[O]=X,f[J]=it}if(C==="pixel"){var at=f[D];f[D]=z(f[D],!0),t.coercePosition(e,T,c,F,D,.25),e[D]=j(e[D]),f[D]=at}}x&&i.noneOrAll(f,e,["x0","x1","y0","y1"]);var ot=g==="line",ht,pt;if(x&&(ht=c("label.texttemplate")),ht||(pt=c("label.text")),pt||ht){c("label.textangle");var yt=c("label.textposition",ot?"middle":"middle center");c("label.xanchor"),c("label.yanchor",o(ot,yt)),c("label.padding"),i.coerceFont(c,"label.font",p.font)}}}}),Vf=Mt((E,P)=>{var i=Ta(),t=Oe();function a(l,n){return l?"bottom":n.indexOf("top")!==-1?"top":n.indexOf("bottom")!==-1?"bottom":"middle"}P.exports=function(l,n,o){o("newshape.visible"),o("newshape.name"),o("newshape.showlegend"),o("newshape.legend"),o("newshape.legendwidth"),o("newshape.legendgroup"),o("newshape.legendgrouptitle.text"),t.coerceFont(o,"newshape.legendgrouptitle.font"),o("newshape.legendrank"),o("newshape.drawdirection"),o("newshape.layer"),o("newshape.fillcolor"),o("newshape.fillrule"),o("newshape.opacity");var s=o("newshape.line.width");if(s){var f=(l||{}).plot_bgcolor||"#FFF";o("newshape.line.color",i.contrast(f)),o("newshape.line.dash")}var e=l.dragmode==="drawline",p=o("newshape.label.text"),c=o("newshape.label.texttemplate");if(p||c){o("newshape.label.textangle");var h=o("newshape.label.textposition",e?"middle":"middle center");o("newshape.label.xanchor"),o("newshape.label.yanchor",a(e,h)),o("newshape.label.padding"),t.coerceFont(o,"newshape.label.font",n.font)}o("activeshape.fillcolor"),o("activeshape.opacity")}}),qf=Mt((E,P)=>{var i=Oe(),t=Ka(),a=ci(),l=Ln();P.exports=function(e){var p=e._fullLayout,c=i.filterVisible(p.shapes);if(!(!c.length||!e._fullData.length))for(var h=0;h<c.length;h++){var _=c[h];_._extremes={};var y,v,g=t.getRefType(_.xref),x=t.getRefType(_.yref);_.xref!=="paper"&&g!=="domain"&&(y=t.getFromId(e,_.xref),v=f(y,_,a.paramIsX),v&&(_._extremes[y._id]=t.findExtremes(y,v,n(_)))),_.yref!=="paper"&&x!=="domain"&&(y=t.getFromId(e,_.yref),v=f(y,_,a.paramIsY),v&&(_._extremes[y._id]=t.findExtremes(y,v,o(_))))}};function n(e){return s(e.line.width,e.xsizemode,e.x0,e.x1,e.path,!1)}function o(e){return s(e.line.width,e.ysizemode,e.y0,e.y1,e.path,!0)}function s(e,p,c,h,_,y){var v=e/2,g=y;if(p==="pixel"){var x=_?l.extractPathCoords(_,y?a.paramIsY:a.paramIsX):[c,h],u=i.aggNums(Math.max,null,x),d=i.aggNums(Math.min,null,x),m=d<0?Math.abs(d)+v:v,w=u>0?u+v:v;return{ppad:v,ppadplus:g?m:w,ppadminus:g?w:m}}else return{ppad:v}}function f(e,p,c){var h=e._id.charAt(0)==="x"?"x":"y",_=e.type==="category"||e.type==="multicategory",y,v,g=0,x=0,u=_?e.r2c:e.d2c,d=p[h+"sizemode"]==="scaled";if(d?(y=p[h+"0"],v=p[h+"1"],_&&(g=p[h+"0shift"],x=p[h+"1shift"])):(y=p[h+"anchor"],v=p[h+"anchor"]),y!==void 0)return[u(y)+g,u(v)+x];if(p.path){var m=1/0,w=-1/0,k=p.path.match(a.segmentRE),U,D,C,T,Y;for(e.type==="date"&&(u=l.decodeDate(u)),U=0;U<k.length;U++)D=k[U],C=c[D.charAt(0)].drawn,C!==void 0&&(T=k[U].substr(1).match(a.paramRE),!(!T||T.length<C)&&(Y=u(T[C]),Y<m&&(m=Y),Y>w&&(w=Y)));if(w>=m)return[m,w]}}}),Uf=Mt((E,P)=>{var i=oo();P.exports={moduleType:"component",name:"shapes",layoutAttributes:Kl(),supplyLayoutDefaults:Bf(),supplyDrawNewShapeDefaults:Vf(),includeBasePlot:hi()("shapes"),calcAutorange:qf(),draw:i.draw,drawOne:i.drawOne}}),ts=Mt((E,P)=>{var i=Sr(),t=$a().templatedArray;di(),P.exports=t("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})}),Yf=Mt((E,P)=>{var i=Oe(),t=Ka(),a=nn(),l=ts(),n="images";P.exports=function(s,f){var e={name:n,handleItemDefaults:o};a(s,f,e)};function o(s,f,e){function p(d,m){return i.coerce(s,f,l,d,m)}var c=p("source"),h=p("visible",!!c);if(!h)return f;p("layer"),p("xanchor"),p("yanchor"),p("sizex"),p("sizey"),p("sizing"),p("opacity");for(var _={_fullLayout:e},y=["x","y"],v=0;v<2;v++){var g=y[v],x=t.coerceRef(s,f,_,g,"paper",void 0);if(x!=="paper"){var u=t.getFromId(_,x);u._imgIndices.push(f._index)}t.coercePosition(f,_,p,x,g,0)}return f}}),Zf=Mt((E,P)=>{var i=Ke(),t=Ga(),a=Ka(),l=xr(),n=En();P.exports=function(o){var s=o._fullLayout,f=[],e={},p=[],c,h;for(h=0;h<s.images.length;h++){var _=s.images[h];if(_.visible)if(_.layer==="below"&&_.xref!=="paper"&&_.yref!=="paper"){c=l.ref2id(_.xref)+l.ref2id(_.yref);var y=s._plots[c];if(!y){p.push(_);continue}y.mainplot&&(c=y.mainplot.id),e[c]||(e[c]=[]),e[c].push(_)}else _.layer==="above"?f.push(_):p.push(_)}var v={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function g(C){var T=i.select(this);if(this._imgSrc!==C.source)if(T.attr("xmlns",n.svg),!o._context.staticPlot||C.source&&C.source.slice(0,5)==="data:")T.attr("xlink:href",C.source),this._imgSrc=C.source;else{var Y=new Promise((function(z){var j=new Image;this.img=j,j.setAttribute("crossOrigin","anonymous"),j.onerror=F,j.onload=function(){var R=document.createElement("canvas");R.width=this.width,R.height=this.height;var Z=R.getContext("2d",{willReadFrequently:!0});Z.drawImage(this,0,0);var G=R.toDataURL("image/png");T.attr("xlink:href",G),z()},T.on("error",F),j.src=C.source,this._imgSrc=C.source;function F(){T.remove(),z()}}).bind(this));o._promises.push(Y)}}function x(C){var T=i.select(this),Y=a.getFromId(o,C.xref),z=a.getFromId(o,C.yref),j=a.getRefType(C.xref)==="domain",F=a.getRefType(C.yref)==="domain",R=s._size,Z,G;Y!==void 0?Z=typeof C.xref=="string"&&j?Y._length*C.sizex:Math.abs(Y.l2p(C.sizex)-Y.l2p(0)):Z=C.sizex*R.w,z!==void 0?G=typeof C.yref=="string"&&F?z._length*C.sizey:Math.abs(z.l2p(C.sizey)-z.l2p(0)):G=C.sizey*R.h;var O=Z*v.x[C.xanchor].offset,J=G*v.y[C.yanchor].offset,X=v.x[C.xanchor].sizing+v.y[C.yanchor].sizing,it,at;switch(Y!==void 0?it=typeof C.xref=="string"&&j?Y._length*C.x+Y._offset:Y.r2p(C.x)+Y._offset:it=C.x*R.w+R.l,it+=O,z!==void 0?at=typeof C.yref=="string"&&F?z._length*(1-C.y)+z._offset:z.r2p(C.y)+z._offset:at=R.h-C.y*R.h+R.t,at+=J,C.sizing){case"fill":X+=" slice";break;case"stretch":X="none";break}T.attr({x:it,y:at,width:Z,height:G,preserveAspectRatio:X,opacity:C.opacity});var ot=Y&&a.getRefType(C.xref)!=="domain"?Y._id:"",ht=z&&a.getRefType(C.yref)!=="domain"?z._id:"",pt=ot+ht;t.setClipUrl(T,pt?"clip"+s._uid+pt:null,o)}function u(C){return[C.xref,C.x,C.sizex,C.yref,C.y,C.sizey].join("_")}function d(C,T){return C._index-T._index}var m=s._imageLowerLayer.selectAll("image").data(p,u),w=s._imageUpperLayer.selectAll("image").data(f,u);m.enter().append("image"),w.enter().append("image"),m.exit().remove(),w.exit().remove(),m.each(function(C){g.bind(this)(C),x.bind(this)(C)}),w.each(function(C){g.bind(this)(C),x.bind(this)(C)}),m.sort(d),w.sort(d);var k=Object.keys(s._plots);for(h=0;h<k.length;h++){c=k[h];var U=s._plots[c];if(U.imagelayer){var D=U.imagelayer.selectAll("image").data(e[c]||[],u);D.enter().append("image"),D.exit().remove(),D.each(function(C){g.bind(this)(C),x.bind(this)(C)}),D.sort(d)}}}}),Gf=Mt((E,P)=>{var i=ua(),t=xn();P.exports=function(a,l,n,o){l=l||{};var s=n==="log"&&l.type==="linear",f=n==="linear"&&l.type==="log";if(s||f){for(var e=a._fullLayout.images,p=l._id.charAt(0),c,h,_=0;_<e.length;_++)if(c=e[_],h="images["+_+"].",c[p+"ref"]===l._id){var y=c[p],v=c["size"+p],g=null,x=null;if(s){g=t(y,l.range);var u=v/Math.pow(10,g)/2;x=2*Math.log(u+Math.sqrt(1+u*u))/Math.LN10}else g=Math.pow(10,y),x=g*(Math.pow(10,v/2)-Math.pow(10,-v/2));i(g)?i(x)||(x=null):(g=null,x=null),o(h+p,g),o(h+"size"+p,x)}}}}),Jf=Mt((E,P)=>{P.exports={moduleType:"component",name:"images",layoutAttributes:ts(),supplyLayoutDefaults:Yf(),includeBasePlot:hi()("images"),draw:Zf(),convertCoords:Gf()}}),vo=Mt((E,P)=>{P.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}}),es=Mt((E,P)=>{var i=Lr(),t=dn(),a=yr().extendFlat,l=hn().overrideAll,n=Vi(),o=$a().templatedArray,s=o("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});P.exports=l(o("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(n({editType:"arraydraw"}),{}),font:i({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:t.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")}),Wf=Mt((E,P)=>{var i=Oe(),t=nn(),a=es(),l=vo(),n=l.name,o=a.buttons;P.exports=function(e,p){var c={name:n,handleItemDefaults:s};t(e,p,c)};function s(e,p,c){function h(v,g){return i.coerce(e,p,a,v,g)}var _=t(e,p,{name:"buttons",handleItemDefaults:f}),y=h("visible",_.length>0);y&&(h("active"),h("direction"),h("type"),h("showactive"),h("x"),h("y"),i.noneOrAll(e,p,["x","y"]),h("xanchor"),h("yanchor"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),i.coerceFont(h,"font",c.font),h("bgcolor",c.paper_bgcolor),h("bordercolor"),h("borderwidth"))}function f(e,p){function c(_,y){return i.coerce(e,p,o,_,y)}var h=c("visible",e.method==="skip"||Array.isArray(e.args));h&&(c("method"),c("args"),c("args2"),c("label"),c("execute"))}}),Xf=Mt((E,P)=>{P.exports=n;var i=Ke(),t=Ta(),a=Ga(),l=Oe();function n(o,s,f){this.gd=o,this.container=s,this.id=f,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}n.barWidth=2,n.barLength=20,n.barRadius=2,n.barPad=1,n.barColor="#808BA4",n.prototype.enable=function(o,s,f){var e=this.gd._fullLayout,p=e.width,c=e.height;this.position=o;var h=this.position.l,_=this.position.w,y=this.position.t,v=this.position.h,g=this.position.direction,x=g==="down",u=g==="left",d=g==="right",m=g==="up",w=_,k=v,U,D,C,T;!x&&!u&&!d&&!m&&(this.position.direction="down",x=!0);var Y=x||m;Y?(U=h,D=U+w,x?(C=y,T=Math.min(C+k,c),k=T-C):(T=y+k,C=Math.max(T-k,0),k=T-C)):(C=y,T=C+k,u?(D=h+w,U=Math.max(D-w,0),w=D-U):(U=h,D=Math.min(U+w,p),w=D-U)),this._box={l:U,t:C,w,h:k};var z=_>w,j=n.barLength+2*n.barPad,F=n.barWidth+2*n.barPad,R=h,Z=y+v;Z+F>c&&(Z=c-F);var G=this.container.selectAll("rect.scrollbar-horizontal").data(z?[0]:[]);G.exit().on(".drag",null).remove(),G.enter().append("rect").classed("scrollbar-horizontal",!0).call(t.fill,n.barColor),z?(this.hbar=G.attr({rx:n.barRadius,ry:n.barRadius,x:R,y:Z,width:j,height:F}),this._hbarXMin=R+j/2,this._hbarTranslateMax=w-j):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=v>k,J=n.barWidth+2*n.barPad,X=n.barLength+2*n.barPad,it=h+_,at=y;it+J>p&&(it=p-J);var ot=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);ot.exit().on(".drag",null).remove(),ot.enter().append("rect").classed("scrollbar-vertical",!0).call(t.fill,n.barColor),O?(this.vbar=ot.attr({rx:n.barRadius,ry:n.barRadius,x:it,y:at,width:J,height:X}),this._vbarYMin=at+X/2,this._vbarTranslateMax=k-X):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var ht=this.id,pt=U-.5,yt=O?D+J+.5:D+.5,H=C-.5,q=z?T+F+.5:T+.5,A=e._topdefs.selectAll("#"+ht).data(z||O?[0]:[]);if(A.exit().remove(),A.enter().append("clipPath").attr("id",ht).append("rect"),z||O?(this._clipRect=A.select("rect").attr({x:Math.floor(pt),y:Math.floor(H),width:Math.ceil(yt)-Math.floor(pt),height:Math.ceil(q)-Math.floor(H)}),this.container.call(a.setClipUrl,ht,this.gd),this.bg.attr({x:h,y,width:_,height:v})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),z||O){var W=i.behavior.drag().on("dragstart",function(){i.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(W);var rt=i.behavior.drag().on("dragstart",function(){i.event.sourceEvent.preventDefault(),i.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));z&&this.hbar.on(".drag",null).call(rt),O&&this.vbar.on(".drag",null).call(rt)}this.setTranslate(s,f)},n.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},n.prototype._onBoxDrag=function(){var o=this.translateX,s=this.translateY;this.hbar&&(o-=i.event.dx),this.vbar&&(s-=i.event.dy),this.setTranslate(o,s)},n.prototype._onBoxWheel=function(){var o=this.translateX,s=this.translateY;this.hbar&&(o+=i.event.deltaY),this.vbar&&(s+=i.event.deltaY),this.setTranslate(o,s)},n.prototype._onBarDrag=function(){var o=this.translateX,s=this.translateY;if(this.hbar){var f=o+this._hbarXMin,e=f+this._hbarTranslateMax,p=l.constrain(i.event.x,f,e),c=(p-f)/(e-f),h=this.position.w-this._box.w;o=c*h}if(this.vbar){var _=s+this._vbarYMin,y=_+this._vbarTranslateMax,v=l.constrain(i.event.y,_,y),g=(v-_)/(y-_),x=this.position.h-this._box.h;s=g*x}this.setTranslate(o,s)},n.prototype.setTranslate=function(o,s){var f=this.position.w-this._box.w,e=this.position.h-this._box.h;if(o=l.constrain(o||0,0,f),s=l.constrain(s||0,0,e),this.translateX=o,this.translateY=s,this.container.call(a.setTranslate,this._box.l-this.position.l-o,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+o-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var p=o/f;this.hbar.call(a.setTranslate,o+p*this._hbarTranslateMax,s)}if(this.vbar){var c=s/e;this.vbar.call(a.setTranslate,o,s+c*this._vbarTranslateMax)}}}),$f=Mt((E,P)=>{var i=Ke(),t=hr(),a=Ta(),l=Ga(),n=Oe(),o=Pr(),s=$a().arrayEditor,f=Rr().LINE_SPACING,e=vo(),p=Xf();P.exports=function(j){var F=j._fullLayout,R=n.filterVisible(F[e.name]);function Z(ht){t.autoMargin(j,T(ht))}var G=F._menulayer.selectAll("g."+e.containerClassName).data(R.length>0?[0]:[]);if(G.enter().append("g").classed(e.containerClassName,!0).style("cursor","pointer"),G.exit().each(function(){i.select(this).selectAll("g."+e.headerGroupClassName).each(Z)}).remove(),R.length!==0){var O=G.selectAll("g."+e.headerGroupClassName).data(R,c);O.enter().append("g").classed(e.headerGroupClassName,!0);for(var J=n.ensureSingle(G,"g",e.dropdownButtonGroupClassName,function(ht){ht.style("pointer-events","all")}),X=0;X<R.length;X++){var it=R[X];C(j,it)}var at="updatemenus"+F._uid,ot=new p(j,J,at);O.enter().size()&&(J.node().parentNode.appendChild(J.node()),J.call(z)),O.exit().each(function(ht){J.call(z),Z(ht)}).remove(),O.each(function(ht){var pt=i.select(this),yt=ht.type==="dropdown"?J:null;t.manageCommandObserver(j,ht,ht.buttons,function(H){y(j,ht,ht.buttons[H.index],pt,yt,ot,H.index,!0)}),ht.type==="dropdown"?(v(j,pt,J,ot,ht),_(J,ht)&&g(j,pt,J,ot,ht)):g(j,pt,null,null,ht)})}};function c(j){return j._index}function h(j){return+j.attr(e.menuIndexAttrName)==-1}function _(j,F){return+j.attr(e.menuIndexAttrName)===F._index}function y(j,F,R,Z,G,O,J,X){F.active=J,s(j.layout,e.name,F).applyUpdate("active",J),F.type==="buttons"?g(j,Z,null,null,F):F.type==="dropdown"&&(G.attr(e.menuIndexAttrName,"-1"),v(j,Z,G,O,F),X||g(j,Z,G,O,F))}function v(j,F,R,Z,G){var O=n.ensureSingle(F,"g",e.headerClassName,function(pt){pt.style("pointer-events","all")}),J=G._dims,X=G.active,it=G.buttons[X]||e.blankHeaderOpts,at={y:G.pad.t,yPad:0,x:G.pad.l,xPad:0,index:0},ot={width:J.headerWidth,height:J.headerHeight};O.call(d,G,it,j).call(Y,G,at,ot);var ht=n.ensureSingle(F,"text",e.headerArrowClassName,function(pt){pt.attr("text-anchor","end").call(l.font,G.font).text(e.arrowSymbol[G.direction])});ht.attr({x:J.headerWidth-e.arrowOffsetX+G.pad.l,y:J.headerHeight/2+e.textOffsetY+G.pad.t}),O.on("click",function(){R.call(z,String(_(R,G)?-1:G._index)),g(j,F,R,Z,G)}),O.on("mouseover",function(){O.call(U)}),O.on("mouseout",function(){O.call(D,G)}),l.setTranslate(F,J.lx,J.ly)}function g(j,F,R,Z,G){R||(R=F,R.attr("pointer-events","all"));var O=!h(R)||G.type==="buttons"?G.buttons:[],J=G.type==="dropdown"?e.dropdownButtonClassName:e.buttonClassName,X=R.selectAll("g."+J).data(n.filterVisible(O)),it=X.enter().append("g").classed(J,!0),at=X.exit();G.type==="dropdown"?(it.attr("opacity","0").transition().attr("opacity","1"),at.transition().attr("opacity","0").remove()):at.remove();var ot=0,ht=0,pt=G._dims,yt=["up","down"].indexOf(G.direction)!==-1;G.type==="dropdown"&&(yt?ht=pt.headerHeight+e.gapButtonHeader:ot=pt.headerWidth+e.gapButtonHeader),G.type==="dropdown"&&G.direction==="up"&&(ht=-e.gapButtonHeader+e.gapButton-pt.openHeight),G.type==="dropdown"&&G.direction==="left"&&(ot=-e.gapButtonHeader+e.gapButton-pt.openWidth);var H={x:pt.lx+ot+G.pad.l,y:pt.ly+ht+G.pad.t,yPad:e.gapButton,xPad:e.gapButton,index:0},q={l:H.x+G.borderwidth,t:H.y+G.borderwidth};X.each(function(A,W){var rt=i.select(this);rt.call(d,G,A,j).call(Y,G,H),rt.on("click",function(){i.event.defaultPrevented||(A.execute&&(A.args2&&G.active===W?(y(j,G,A,F,R,Z,-1),t.executeAPICommand(j,A.method,A.args2)):(y(j,G,A,F,R,Z,W),t.executeAPICommand(j,A.method,A.args))),j.emit("plotly_buttonclicked",{menu:G,button:A,active:G.active}))}),rt.on("mouseover",function(){rt.call(U)}),rt.on("mouseout",function(){rt.call(D,G),X.call(k,G)})}),X.call(k,G),yt?(q.w=Math.max(pt.openWidth,pt.headerWidth),q.h=H.y-q.t):(q.w=H.x-q.l,q.h=Math.max(pt.openHeight,pt.headerHeight)),q.direction=G.direction,Z&&(X.size()?x(j,F,R,Z,G,q):u(Z))}function x(j,F,R,Z,G,O){var J=G.direction,X=J==="up"||J==="down",it=G._dims,at=G.active,ot,ht,pt;if(X)for(ht=0,pt=0;pt<at;pt++)ht+=it.heights[pt]+e.gapButton;else for(ot=0,pt=0;pt<at;pt++)ot+=it.widths[pt]+e.gapButton;Z.enable(O,ot,ht),Z.hbar&&Z.hbar.attr("opacity","0").transition().attr("opacity","1"),Z.vbar&&Z.vbar.attr("opacity","0").transition().attr("opacity","1")}function u(j){var F=!!j.hbar,R=!!j.vbar;F&&j.hbar.transition().attr("opacity","0").each("end",function(){F=!1,R||j.disable()}),R&&j.vbar.transition().attr("opacity","0").each("end",function(){R=!1,F||j.disable()})}function d(j,F,R,Z){j.call(m,F).call(w,F,R,Z)}function m(j,F){var R=n.ensureSingle(j,"rect",e.itemRectClassName,function(Z){Z.attr({rx:e.rx,ry:e.ry,"shape-rendering":"crispEdges"})});R.call(a.stroke,F.bordercolor).call(a.fill,F.bgcolor).style("stroke-width",F.borderwidth+"px")}function w(j,F,R,Z){var G=n.ensureSingle(j,"text",e.itemTextClassName,function(X){X.attr({"text-anchor":"start","data-notex":1})}),O=R.label,J=Z._fullLayout._meta;J&&(O=n.templateString(O,J)),G.call(l.font,F.font).text(O).call(o.convertToTspans,Z)}function k(j,F){var R=F.active;j.each(function(Z,G){var O=i.select(this);G===R&&F.showactive&&O.select("rect."+e.itemRectClassName).call(a.fill,e.activeColor)})}function U(j){j.select("rect."+e.itemRectClassName).call(a.fill,e.hoverColor)}function D(j,F){j.select("rect."+e.itemRectClassName).call(a.fill,F.bgcolor)}function C(j,F){var R=F._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},Z=l.tester.selectAll("g."+e.dropdownButtonClassName).data(n.filterVisible(F.buttons));Z.enter().append("g").classed(e.dropdownButtonClassName,!0);var G=["up","down"].indexOf(F.direction)!==-1;Z.each(function(ot,ht){var pt=i.select(this);pt.call(d,F,ot,j);var yt=pt.select("."+e.itemTextClassName),H=yt.node()&&l.bBox(yt.node()).width,q=Math.max(H+e.textPadX,e.minWidth),A=F.font.size*f,W=o.lineCount(yt),rt=Math.max(A*W,e.minHeight)+e.textOffsetY;rt=Math.ceil(rt),q=Math.ceil(q),R.widths[ht]=q,R.heights[ht]=rt,R.height1=Math.max(R.height1,rt),R.width1=Math.max(R.width1,q),G?(R.totalWidth=Math.max(R.totalWidth,q),R.openWidth=R.totalWidth,R.totalHeight+=rt+e.gapButton,R.openHeight+=rt+e.gapButton):(R.totalWidth+=q+e.gapButton,R.openWidth+=q+e.gapButton,R.totalHeight=Math.max(R.totalHeight,rt),R.openHeight=R.totalHeight)}),G?R.totalHeight-=e.gapButton:R.totalWidth-=e.gapButton,R.headerWidth=R.width1+e.arrowPadX,R.headerHeight=R.height1,F.type==="dropdown"&&(G?(R.width1+=e.arrowPadX,R.totalHeight=R.height1):R.totalWidth=R.width1,R.totalWidth+=e.arrowPadX),Z.remove();var O=R.totalWidth+F.pad.l+F.pad.r,J=R.totalHeight+F.pad.t+F.pad.b,X=j._fullLayout._size;R.lx=X.l+X.w*F.x,R.ly=X.t+X.h*(1-F.y);var it="left";n.isRightAnchor(F)&&(R.lx-=O,it="right"),n.isCenterAnchor(F)&&(R.lx-=O/2,it="center");var at="top";n.isBottomAnchor(F)&&(R.ly-=J,at="bottom"),n.isMiddleAnchor(F)&&(R.ly-=J/2,at="middle"),R.totalWidth=Math.ceil(R.totalWidth),R.totalHeight=Math.ceil(R.totalHeight),R.lx=Math.round(R.lx),R.ly=Math.round(R.ly),t.autoMargin(j,T(F),{x:F.x,y:F.y,l:O*({right:1,center:.5}[it]||0),r:O*({left:1,center:.5}[it]||0),b:J*({top:1,middle:.5}[at]||0),t:J*({bottom:1,middle:.5}[at]||0)})}function T(j){return e.autoMarginIdRoot+j._index}function Y(j,F,R,Z){Z=Z||{};var G=j.select("."+e.itemRectClassName),O=j.select("."+e.itemTextClassName),J=F.borderwidth,X=R.index,it=F._dims;l.setTranslate(j,J+R.x,J+R.y);var at=["up","down"].indexOf(F.direction)!==-1,ot=Z.height||(at?it.heights[X]:it.height1);G.attr({x:0,y:0,width:Z.width||(at?it.width1:it.widths[X]),height:ot});var ht=F.font.size*f,pt=o.lineCount(O),yt=(pt-1)*ht/2;o.positionText(O,e.textOffsetX,ot/2-yt+e.textOffsetY),at?R.y+=it.heights[X]+R.yPad:R.x+=it.widths[X]+R.xPad,R.index++}function z(j,F){j.attr(e.menuIndexAttrName,F||"-1").selectAll("g."+e.dropdownButtonClassName).remove()}}),Qf=Mt((E,P)=>{var i=vo();P.exports={moduleType:"component",name:i.name,layoutAttributes:es(),supplyLayoutDefaults:Wf(),draw:$f()}}),pi=Mt((E,P)=>{P.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}}),as=Mt((E,P)=>{var i=Lr(),t=Vi(),a=yr().extendDeepAll,l=hn().overrideAll,n=ii(),o=$a().templatedArray,s=pi(),f=o("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});P.exports=l(o("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:f,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(t({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:n.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:i({})},font:i({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")}),Kf=Mt((E,P)=>{var i=Oe(),t=nn(),a=as(),l=pi(),n=l.name,o=a.steps;P.exports=function(e,p){t(e,p,{name:n,handleItemDefaults:s})};function s(e,p,c){function h(m,w){return i.coerce(e,p,a,m,w)}for(var _=t(e,p,{name:"steps",handleItemDefaults:f}),y=0,v=0;v<_.length;v++)_[v].visible&&y++;var g;if(y<2?g=p.visible=!1:g=h("visible"),!!g){p._stepCount=y;var x=p._visibleSteps=i.filterVisible(_),u=h("active");(_[u]||{}).visible||(p.active=x[0]._index),h("x"),h("y"),i.noneOrAll(e,p,["x","y"]),h("xanchor"),h("yanchor"),h("len"),h("lenmode"),h("pad.t"),h("pad.r"),h("pad.b"),h("pad.l"),i.coerceFont(h,"font",c.font);var d=h("currentvalue.visible");d&&(h("currentvalue.xanchor"),h("currentvalue.prefix"),h("currentvalue.suffix"),h("currentvalue.offset"),i.coerceFont(h,"currentvalue.font",p.font)),h("transition.duration"),h("transition.easing"),h("bgcolor"),h("activebgcolor"),h("bordercolor"),h("borderwidth"),h("ticklen"),h("tickwidth"),h("tickcolor"),h("minorticklen")}}function f(e,p){function c(y,v){return i.coerce(e,p,o,y,v)}var h;if(e.method!=="skip"&&!Array.isArray(e.args)?h=p.visible=!1:h=c("visible"),h){c("method"),c("args");var _=c("label","step-"+p._index);c("value",_),c("execute")}}}),ed=Mt((E,P)=>{var i=Ke(),t=hr(),a=Ta(),l=Ga(),n=Oe(),o=n.strTranslate,s=Pr(),f=$a().arrayEditor,e=pi(),p=Rr(),c=p.LINE_SPACING,h=p.FROM_TL,_=p.FROM_BR;P.exports=function(G){var O=G._context.staticPlot,J=G._fullLayout,X=v(J,G),it=J._infolayer.selectAll("g."+e.containerClassName).data(X.length>0?[0]:[]);it.enter().append("g").classed(e.containerClassName,!0).style("cursor",O?null:"ew-resize");function at(yt){yt._commandObserver&&(yt._commandObserver.remove(),delete yt._commandObserver),t.autoMargin(G,y(yt))}if(it.exit().each(function(){i.select(this).selectAll("g."+e.groupClassName).each(at)}).remove(),X.length!==0){var ot=it.selectAll("g."+e.groupClassName).data(X,g);ot.enter().append("g").classed(e.groupClassName,!0),ot.exit().each(at).remove();for(var ht=0;ht<X.length;ht++){var pt=X[ht];x(G,pt)}ot.each(function(yt){var H=i.select(this);Y(yt),t.manageCommandObserver(G,yt,yt._visibleSteps,function(q){var A=H.data()[0];A.active!==q.index&&(A._dragging||D(G,H,A,q.index,!1,!0))}),u(G,i.select(this),yt)})}};function y(G){return e.autoMarginIdRoot+G._index}function v(G,O){for(var J=G[e.name],X=[],it=0;it<J.length;it++){var at=J[it];at.visible&&(at._gd=O,X.push(at))}return X}function g(G){return G._index}function x(G,O){var J=l.tester.selectAll("g."+e.labelGroupClass).data(O._visibleSteps);J.enter().append("g").classed(e.labelGroupClass,!0);var X=0,it=0;J.each(function(rt){var I=i.select(this),M=w(I,{step:rt},O),S=M.node();if(S){var N=l.bBox(S);it=Math.max(it,N.height),X=Math.max(X,N.width)}}),J.remove();var at=O._dims={};at.inputAreaWidth=Math.max(e.railWidth,e.gripHeight);var ot=G._fullLayout._size;at.lx=ot.l+ot.w*O.x,at.ly=ot.t+ot.h*(1-O.y),O.lenmode==="fraction"?at.outerLength=Math.round(ot.w*O.len):at.outerLength=O.len,at.inputAreaStart=0,at.inputAreaLength=Math.round(at.outerLength-O.pad.l-O.pad.r);var ht=at.inputAreaLength-2*e.stepInset,pt=ht/(O._stepCount-1),yt=X+e.labelPadding;if(at.labelStride=Math.max(1,Math.ceil(yt/pt)),at.labelHeight=it,at.currentValueMaxWidth=0,at.currentValueHeight=0,at.currentValueTotalHeight=0,at.currentValueMaxLines=1,O.currentvalue.visible){var H=l.tester.append("g");J.each(function(rt){var I=d(H,O,rt.label),M=I.node()&&l.bBox(I.node())||{width:0,height:0},S=s.lineCount(I);at.currentValueMaxWidth=Math.max(at.currentValueMaxWidth,Math.ceil(M.width)),at.currentValueHeight=Math.max(at.currentValueHeight,Math.ceil(M.height)),at.currentValueMaxLines=Math.max(at.currentValueMaxLines,S)}),at.currentValueTotalHeight=at.currentValueHeight+O.currentvalue.offset,H.remove()}at.height=at.currentValueTotalHeight+e.tickOffset+O.ticklen+e.labelOffset+at.labelHeight+O.pad.t+O.pad.b;var q="left";n.isRightAnchor(O)&&(at.lx-=at.outerLength,q="right"),n.isCenterAnchor(O)&&(at.lx-=at.outerLength/2,q="center");var A="top";n.isBottomAnchor(O)&&(at.ly-=at.height,A="bottom"),n.isMiddleAnchor(O)&&(at.ly-=at.height/2,A="middle"),at.outerLength=Math.ceil(at.outerLength),at.height=Math.ceil(at.height),at.lx=Math.round(at.lx),at.ly=Math.round(at.ly);var W={y:O.y,b:at.height*_[A],t:at.height*h[A]};O.lenmode==="fraction"?(W.l=0,W.xl=O.x-O.len*h[q],W.r=0,W.xr=O.x+O.len*_[q]):(W.x=O.x,W.l=at.outerLength*h[q],W.r=at.outerLength*_[q]),t.autoMargin(G,y(O),W)}function u(G,O,J){(J.steps[J.active]||{}).visible||(J.active=J._visibleSteps[0]._index),O.call(d,J).call(Z,J).call(k,J).call(T,J).call(R,G,J).call(m,G,J);var X=J._dims;l.setTranslate(O,X.lx+J.pad.l,X.ly+J.pad.t),O.call(z,J,!1),O.call(d,J)}function d(G,O,J){if(O.currentvalue.visible){var X=O._dims,it,at;switch(O.currentvalue.xanchor){case"right":it=X.inputAreaLength-e.currentValueInset-X.currentValueMaxWidth,at="left";break;case"center":it=X.inputAreaLength*.5,at="middle";break;default:it=e.currentValueInset,at="left"}var ot=n.ensureSingle(G,"text",e.labelClass,function(A){A.attr({"text-anchor":at,"data-notex":1})}),ht=O.currentvalue.prefix?O.currentvalue.prefix:"";if(typeof J=="string")ht+=J;else{var pt=O.steps[O.active].label,yt=O._gd._fullLayout._meta;yt&&(pt=n.templateString(pt,yt)),ht+=pt}O.currentvalue.suffix&&(ht+=O.currentvalue.suffix),ot.call(l.font,O.currentvalue.font).text(ht).call(s.convertToTspans,O._gd);var H=s.lineCount(ot),q=(X.currentValueMaxLines+1-H)*O.currentvalue.font.size*c;return s.positionText(ot,it,q),ot}}function m(G,O,J){var X=n.ensureSingle(G,"rect",e.gripRectClass,function(it){it.call(C,O,G,J).style("pointer-events","all")});X.attr({width:e.gripWidth,height:e.gripHeight,rx:e.gripRadius,ry:e.gripRadius}).call(a.stroke,J.bordercolor).call(a.fill,J.bgcolor).style("stroke-width",J.borderwidth+"px")}function w(G,O,J){var X=n.ensureSingle(G,"text",e.labelClass,function(ot){ot.attr({"text-anchor":"middle","data-notex":1})}),it=O.step.label,at=J._gd._fullLayout._meta;return at&&(it=n.templateString(it,at)),X.call(l.font,J.font).text(it).call(s.convertToTspans,J._gd),X}function k(G,O){var J=n.ensureSingle(G,"g",e.labelsClass),X=O._dims,it=J.selectAll("g."+e.labelGroupClass).data(X.labelSteps);it.enter().append("g").classed(e.labelGroupClass,!0),it.exit().remove(),it.each(function(at){var ot=i.select(this);ot.call(w,at,O),l.setTranslate(ot,j(O,at.fraction),e.tickOffset+O.ticklen+O.font.size*c+e.labelOffset+X.currentValueTotalHeight)})}function U(G,O,J,X,it){var at=Math.round(X*(J._stepCount-1)),ot=J._visibleSteps[at]._index;ot!==J.active&&D(G,O,J,ot,!0,it)}function D(G,O,J,X,it,at){var ot=J.active;J.active=X,f(G.layout,e.name,J).applyUpdate("active",X);var ht=J.steps[J.active];O.call(z,J,at),O.call(d,J),G.emit("plotly_sliderchange",{slider:J,step:J.steps[J.active],interaction:it,previousActive:ot}),ht&&ht.method&&it&&(O._nextMethod?(O._nextMethod.step=ht,O._nextMethod.doCallback=it,O._nextMethod.doTransition=at):(O._nextMethod={step:ht,doCallback:it,doTransition:at},O._nextMethodRaf=window.requestAnimationFrame(function(){var pt=O._nextMethod.step;pt.method&&(pt.execute&&t.executeAPICommand(G,pt.method,pt.args),O._nextMethod=null,O._nextMethodRaf=null)})))}function C(G,O,J){if(O._context.staticPlot)return;var X=J.node(),it=i.select(O);function at(){return J.data()[0]}function ot(){var ht=at();O.emit("plotly_sliderstart",{slider:ht});var pt=J.select("."+e.gripRectClass);i.event.stopPropagation(),i.event.preventDefault(),pt.call(a.fill,ht.activebgcolor);var yt=F(ht,i.mouse(X)[0]);U(O,J,ht,yt,!0),ht._dragging=!0;function H(){var A=at(),W=F(A,i.mouse(X)[0]);U(O,J,A,W,!1)}it.on("mousemove",H),it.on("touchmove",H);function q(){var A=at();A._dragging=!1,pt.call(a.fill,A.bgcolor),it.on("mouseup",null),it.on("mousemove",null),it.on("touchend",null),it.on("touchmove",null),O.emit("plotly_sliderend",{slider:A,step:A.steps[A.active]})}it.on("mouseup",q),it.on("touchend",q)}G.on("mousedown",ot),G.on("touchstart",ot)}function T(G,O){var J=G.selectAll("rect."+e.tickRectClass).data(O._visibleSteps),X=O._dims;J.enter().append("rect").classed(e.tickRectClass,!0),J.exit().remove(),J.attr({width:O.tickwidth+"px","shape-rendering":"crispEdges"}),J.each(function(it,at){var ot=at%X.labelStride===0,ht=i.select(this);ht.attr({height:ot?O.ticklen:O.minorticklen}).call(a.fill,O.tickcolor),l.setTranslate(ht,j(O,at/(O._stepCount-1))-.5*O.tickwidth,(ot?e.tickOffset:e.minorTickOffset)+X.currentValueTotalHeight)})}function Y(G){var O=G._dims;O.labelSteps=[];for(var J=G._stepCount,X=0;X<J;X+=O.labelStride)O.labelSteps.push({fraction:X/(J-1),step:G._visibleSteps[X]})}function z(G,O,J){for(var X=G.select("rect."+e.gripRectClass),it=0,at=0;at<O._stepCount;at++)if(O._visibleSteps[at]._index===O.active){it=at;break}var ot=j(O,it/(O._stepCount-1));if(!O._invokingCommand){var ht=X;J&&O.transition.duration>0&&(ht=ht.transition().duration(O.transition.duration).ease(O.transition.easing)),ht.attr("transform",o(ot-e.gripWidth*.5,O._dims.currentValueTotalHeight))}}function j(G,O){var J=G._dims;return J.inputAreaStart+e.stepInset+(J.inputAreaLength-2*e.stepInset)*Math.min(1,Math.max(0,O))}function F(G,O){var J=G._dims;return Math.min(1,Math.max(0,(O-e.stepInset-J.inputAreaStart)/(J.inputAreaLength-2*e.stepInset-2*J.inputAreaStart)))}function R(G,O,J){var X=J._dims,it=n.ensureSingle(G,"rect",e.railTouchRectClass,function(at){at.call(C,O,G,J).style("pointer-events","all")});it.attr({width:X.inputAreaLength,height:Math.max(X.inputAreaWidth,e.tickOffset+J.ticklen+X.labelHeight)}).call(a.fill,J.bgcolor).attr("opacity",0),l.setTranslate(it,0,X.currentValueTotalHeight)}function Z(G,O){var J=O._dims,X=J.inputAreaLength-e.railInset*2,it=n.ensureSingle(G,"rect",e.railRectClass);it.attr({width:X,height:e.railWidth,rx:e.railRadius,ry:e.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,O.bordercolor).call(a.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px"),l.setTranslate(it,e.railInset,(J.inputAreaWidth-e.railWidth)*.5+J.currentValueTotalHeight)}}),ad=Mt((E,P)=>{var i=pi();P.exports={moduleType:"component",name:i.name,layoutAttributes:as(),supplyLayoutDefaults:Kf(),draw:ed()}}),go=Mt((E,P)=>{var i=dn();P.exports={bgcolor:{valType:"color",dflt:i.background,editType:"plot"},bordercolor:{valType:"color",dflt:i.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}}),rs=Mt((E,P)=>{P.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}}),mo=Mt((E,P)=>{P.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}}),rd=Mt(E=>{var P=xr(),i=Pr(),t=mo(),a=Rr().LINE_SPACING,l=t.name;function n(o){var s=o&&o[l];return s&&s.visible}E.isVisible=n,E.makeData=function(o){for(var s=P.list({_fullLayout:o},"x",!0),f=o.margin,e=[],p=0;p<s.length;p++){var c=s[p];if(n(c)){e.push(c);var h=c[l];h._id=l+c._id,h._height=(o.height-f.b-f.t)*h.thickness,h._offsetShift=Math.floor(h.borderwidth/2)}}o._rangeSliderData=e},E.autoMarginOpts=function(o,s){var f=o._fullLayout,e=s[l],p=s._id.charAt(0),c=0,h=0;if(s.side==="bottom"&&(c=s._depth,s.title.text!==f._dfltTitle[p])){h=1.5*s.title.font.size+10+e._offsetShift;var _=(s.title.text.match(i.BR_TAG_ALL)||[]).length;h+=_*s.title.font.size*a}return{x:0,y:s._counterDomainMin,l:0,r:0,t:0,b:e._height+c+Math.max(f.margin.b,h),pad:t.extraPad+e._offsetShift*2}}}),nd=Mt((E,P)=>{var i=Oe(),t=$a(),a=xr(),l=go(),n=rs();P.exports=function(o,s,f){var e=o[f],p=s[f];if(!(e.rangeslider||s._requestRangeslider[p._id]))return;i.isPlainObject(e.rangeslider)||(e.rangeslider={});var c=e.rangeslider,h=t.newContainer(p,"rangeslider");function _(T,Y){return i.coerce(c,h,l,T,Y)}var y,v;function g(T,Y){return i.coerce(y,v,n,T,Y)}var x=_("visible");if(x){_("bgcolor",s.plot_bgcolor),_("bordercolor"),_("borderwidth"),_("thickness"),_("autorange",!p.isValidRange(c.range)),_("range");var u=s._subplots;if(u)for(var d=u.cartesian.filter(function(T){return T.substr(0,T.indexOf("y"))===a.name2id(f)}).map(function(T){return T.substr(T.indexOf("y"),T.length)}),m=i.simpleMap(d,a.id2name),w=0;w<m.length;w++){var k=m[w];y=c[k]||{},v=t.newContainer(h,k,"yaxis");var U=s[k],D;y.range&&U.isValidRange(y.range)&&(D="fixed");var C=g("rangemode",D);C!=="match"&&g("range",U.range.slice())}h._input=c}}}),id=Mt((E,P)=>{var i=xr().list,t=ui().getAutoRange,a=mo();P.exports=function(l){for(var n=i(l,"x",!0),o=0;o<n.length;o++){var s=n[o],f=s[a.name];f&&f.visible&&f.autorange&&(f._input.autorange=!0,f._input.range=f.range=t(l,s))}}}),od=Mt((E,P)=>{var i=Ke(),t=da(),a=hr(),l=Oe(),n=l.strTranslate,o=Ga(),s=Ta(),f=si(),e=fo(),p=xr(),c=on(),h=kn(),_=mo();P.exports=function(C){for(var T=C._fullLayout,Y=T._rangeSliderData,z=0;z<Y.length;z++){var j=Y[z][_.name];j._clipId=j._id+"-"+T._uid}function F(Z){return Z._name}var R=T._infolayer.selectAll("g."+_.containerClassName).data(Y,F);R.exit().each(function(Z){var G=Z[_.name];T._topdefs.select("#"+G._clipId).remove()}).remove(),Y.length!==0&&(R.enter().append("g").classed(_.containerClassName,!0).attr("pointer-events","all"),R.each(function(Z){var G=i.select(this),O=Z[_.name],J=T[p.id2name(Z.anchor)],X=O[p.id2name(Z.anchor)];if(O.range){var it=l.simpleMap(O.range,Z.r2l),at=l.simpleMap(Z.range,Z.r2l),ot;at[0]<at[1]?ot=[Math.min(it[0],at[0]),Math.max(it[1],at[1])]:ot=[Math.max(it[0],at[0]),Math.min(it[1],at[1])],O.range=O._input.range=l.simpleMap(ot,Z.l2r)}Z.cleanRange("rangeslider.range");var ht=T._size,pt=Z.domain;O._width=ht.w*(pt[1]-pt[0]);var yt=Math.round(ht.l+ht.w*pt[0]),H=Math.round(ht.t+ht.h*(1-Z._counterDomainMin)+(Z.side==="bottom"?Z._depth:0)+O._offsetShift+_.extraPad);G.attr("transform",n(yt,H)),O._rl=l.simpleMap(O.range,Z.r2l);var q=O._rl[0],A=O._rl[1],W=A-q;if(O.p2d=function(bt){return bt/O._width*W+q},O.d2p=function(bt){return(bt-q)/W*O._width},Z.rangebreaks){var rt=Z.locateBreaks(q,A);if(rt.length){var I,M,S=0;for(I=0;I<rt.length;I++)M=rt[I],S+=M.max-M.min;var N=O._width/(A-q-S),V=[-N*q];for(I=0;I<rt.length;I++)M=rt[I],V.push(V[V.length-1]-N*(M.max-M.min));for(O.d2p=function(bt){for(var kt=V[0],Et=0;Et<rt.length;Et++){var Gt=rt[Et];if(bt>=Gt.max)kt=V[Et+1];else if(bt<Gt.min)break}return kt+N*bt},I=0;I<rt.length;I++)M=rt[I],M.pmin=O.d2p(M.min),M.pmax=O.d2p(M.max);O.p2d=function(bt){for(var kt=V[0],Et=0;Et<rt.length;Et++){var Gt=rt[Et];if(bt>=Gt.pmax)kt=V[Et+1];else if(bt<Gt.pmin)break}return(bt-kt)/N}}}if(X.rangemode!=="match"){var nt=J.r2l(X.range[0]),ut=J.r2l(X.range[1]),ct=ut-nt;O.d2pOppAxis=function(bt){return(bt-nt)/ct*O._height}}G.call(u,C,Z,O).call(d,C,Z,O).call(m,C,Z,O).call(k,C,Z,O,X).call(U,C,Z,O).call(D,C,Z,O),v(G,C,Z,O),x(G,C,Z,O,J,X),Z.side==="bottom"&&f.draw(C,Z._id+"title",{propContainer:Z,propName:Z._name+".title.text",placeholder:T._dfltTitle.x,attributes:{x:Z._offset+Z._length/2,y:H+O._height+O._offsetShift+10+1.5*Z.title.font.size,"text-anchor":"middle"}})}))};function y(C){return typeof C.clientX=="number"?C.clientX:C.touches&&C.touches.length>0?C.touches[0].clientX:0}function v(C,T,Y,z){if(T._context.staticPlot)return;var j=C.select("rect."+_.slideBoxClassName).node(),F=C.select("rect."+_.grabAreaMinClassName).node(),R=C.select("rect."+_.grabAreaMaxClassName).node();function Z(){var G=i.event,O=G.target,J=y(G),X=J-C.node().getBoundingClientRect().left,it=z.d2p(Y._rl[0]),at=z.d2p(Y._rl[1]),ot=c.coverSlip();this.addEventListener("touchmove",ht),this.addEventListener("touchend",pt),ot.addEventListener("mousemove",ht),ot.addEventListener("mouseup",pt);function ht(yt){var H=y(yt),q=+H-J,A,W,rt;switch(O){case j:if(rt="ew-resize",it+q>Y._length||at+q<0)return;A=it+q,W=at+q;break;case F:if(rt="col-resize",it+q>Y._length)return;A=it+q,W=at;break;case R:if(rt="col-resize",at+q<0)return;A=it,W=at+q;break;default:rt="ew-resize",A=X,W=X+q;break}if(W<A){var I=W;W=A,A=I}z._pixelMin=A,z._pixelMax=W,h(i.select(ot),rt),g(C,T,Y,z)}function pt(){ot.removeEventListener("mousemove",ht),ot.removeEventListener("mouseup",pt),this.removeEventListener("touchmove",ht),this.removeEventListener("touchend",pt),l.removeElement(ot)}}C.on("mousedown",Z),C.on("touchstart",Z)}function g(C,T,Y,z){function j(Z){return Y.l2r(l.constrain(Z,z._rl[0],z._rl[1]))}var F=j(z.p2d(z._pixelMin)),R=j(z.p2d(z._pixelMax));window.requestAnimationFrame(function(){t.call("_guiRelayout",T,Y._name+".range",[F,R])})}function x(C,T,Y,z,j,F){var R=_.handleWidth/2;function Z(yt){return l.constrain(yt,0,z._width)}function G(yt){return l.constrain(yt,0,z._height)}function O(yt){return l.constrain(yt,-R,z._width+R)}var J=Z(z.d2p(Y._rl[0])),X=Z(z.d2p(Y._rl[1]));if(C.select("rect."+_.slideBoxClassName).attr("x",J).attr("width",X-J),C.select("rect."+_.maskMinClassName).attr("width",J),C.select("rect."+_.maskMaxClassName).attr("x",X).attr("width",z._width-X),F.rangemode!=="match"){var it=z._height-G(z.d2pOppAxis(j._rl[1])),at=z._height-G(z.d2pOppAxis(j._rl[0]));C.select("rect."+_.maskMinOppAxisClassName).attr("x",J).attr("height",it).attr("width",X-J),C.select("rect."+_.maskMaxOppAxisClassName).attr("x",J).attr("y",at).attr("height",z._height-at).attr("width",X-J),C.select("rect."+_.slideBoxClassName).attr("y",it).attr("height",at-it)}var ot=.5,ht=Math.round(O(J-R))-ot,pt=Math.round(O(X-R))+ot;C.select("g."+_.grabberMinClassName).attr("transform",n(ht,ot)),C.select("g."+_.grabberMaxClassName).attr("transform",n(pt,ot))}function u(C,T,Y,z){var j=l.ensureSingle(C,"rect",_.bgClassName,function(G){G.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),F=z.borderwidth%2===0?z.borderwidth:z.borderwidth-1,R=-z._offsetShift,Z=o.crispRound(T,z.borderwidth);j.attr({width:z._width+F,height:z._height+F,transform:n(R,R),"stroke-width":Z}).call(s.stroke,z.bordercolor).call(s.fill,z.bgcolor)}function d(C,T,Y,z){var j=T._fullLayout,F=l.ensureSingleById(j._topdefs,"clipPath",z._clipId,function(R){R.append("rect").attr({x:0,y:0})});F.select("rect").attr({width:z._width,height:z._height})}function m(C,T,Y,z){var j=T.calcdata,F=C.selectAll("g."+_.rangePlotClassName).data(Y._subplotsWith,l.identity);F.enter().append("g").attr("class",function(Z){return _.rangePlotClassName+" "+Z}).call(o.setClipUrl,z._clipId,T),F.order(),F.exit().remove();var R;F.each(function(Z,G){var O=i.select(this),J=G===0,X=p.getFromId(T,Z,"y"),it=X._name,at=z[it],ot={data:[],layout:{xaxis:{type:Y.type,domain:[0,1],range:z.range.slice(),calendar:Y.calendar},width:z._width,height:z._height,margin:{t:0,b:0,l:0,r:0}},_context:T._context};Y.rangebreaks&&(ot.layout.xaxis.rangebreaks=Y.rangebreaks),ot.layout[it]={type:X.type,domain:[0,1],range:at.rangemode!=="match"?at.range.slice():X.range.slice(),calendar:X.calendar},X.rangebreaks&&(ot.layout[it].rangebreaks=X.rangebreaks),a.supplyDefaults(ot);var ht=ot._fullLayout.xaxis,pt=ot._fullLayout[it];ht.clearCalc(),ht.setScale(),pt.clearCalc(),pt.setScale();var yt={id:Z,plotgroup:O,xaxis:ht,yaxis:pt,isRangePlot:!0};J?R=yt:(yt.mainplot="xy",yt.mainplotinfo=R),e.rangePlot(T,yt,w(j,Z))})}function w(C,T){for(var Y=[],z=0;z<C.length;z++){var j=C[z],F=j[0].trace;F.xaxis+F.yaxis===T&&Y.push(j)}return Y}function k(C,T,Y,z,j){var F=l.ensureSingle(C,"rect",_.maskMinClassName,function(O){O.attr({x:0,y:0,"shape-rendering":"crispEdges"})});F.attr("height",z._height).call(s.fill,_.maskColor);var R=l.ensureSingle(C,"rect",_.maskMaxClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});if(R.attr("height",z._height).call(s.fill,_.maskColor),j.rangemode!=="match"){var Z=l.ensureSingle(C,"rect",_.maskMinOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});Z.attr("width",z._width).call(s.fill,_.maskOppAxisColor);var G=l.ensureSingle(C,"rect",_.maskMaxOppAxisClassName,function(O){O.attr({y:0,"shape-rendering":"crispEdges"})});G.attr("width",z._width).style("border-top",_.maskOppBorder).call(s.fill,_.maskOppAxisColor)}}function U(C,T,Y,z){if(!T._context.staticPlot){var j=l.ensureSingle(C,"rect",_.slideBoxClassName,function(F){F.attr({y:0,cursor:_.slideBoxCursor,"shape-rendering":"crispEdges"})});j.attr({height:z._height,fill:_.slideBoxFill})}}function D(C,T,Y,z){var j=l.ensureSingle(C,"g",_.grabberMinClassName),F=l.ensureSingle(C,"g",_.grabberMaxClassName),R={x:0,width:_.handleWidth,rx:_.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":_.handleStrokeWidth,"shape-rendering":"crispEdges"},Z={y:Math.round(z._height/4),height:Math.round(z._height/2)},G=l.ensureSingle(j,"rect",_.handleMinClassName,function(at){at.attr(R)});G.attr(Z);var O=l.ensureSingle(F,"rect",_.handleMaxClassName,function(at){at.attr(R)});O.attr(Z);var J={width:_.grabAreaWidth,x:0,y:0,fill:_.grabAreaFill,cursor:T._context.staticPlot?void 0:_.grabAreaCursor},X=l.ensureSingle(j,"rect",_.grabAreaMinClassName,function(at){at.attr(J)});X.attr("height",z._height);var it=l.ensureSingle(F,"rect",_.grabAreaMaxClassName,function(at){at.attr(J)});it.attr("height",z._height)}}),ld=Mt((E,P)=>{var i=Oe(),t=go(),a=rs(),l=rd();P.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:i.extendFlat({},t,{yaxis:a})}}},layoutAttributes:go(),handleDefaults:nd(),calcAutorange:id(),draw:od(),isVisible:l.isVisible,makeData:l.makeData,autoMarginOpts:l.autoMarginOpts}}),yo=Mt((E,P)=>{var i=Lr(),t=dn(),a=$a().templatedArray,l=a("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});P.exports={visible:{valType:"boolean",editType:"plot"},buttons:l,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:i({editType:"plot"}),bgcolor:{valType:"color",dflt:t.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:t.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}}),ns=Mt((E,P)=>{P.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}}),sd=Mt((E,P)=>{var i=Oe(),t=Ta(),a=$a(),l=nn(),n=yo(),o=ns();P.exports=function(e,p,c,h,_){var y=e.rangeselector||{},v=a.newContainer(p,"rangeselector");function g(w,k){return i.coerce(y,v,n,w,k)}var x=l(y,v,{name:"buttons",handleItemDefaults:s,calendar:_}),u=g("visible",x.length>0);if(u){var d=f(p,c,h);g("x",d[0]),g("y",d[1]),i.noneOrAll(e,p,["x","y"]),g("xanchor"),g("yanchor"),i.coerceFont(g,"font",c.font);var m=g("bgcolor");g("activecolor",t.contrast(m,o.lightAmount,o.darkAmount)),g("bordercolor"),g("borderwidth")}};function s(e,p,c,h){var _=h.calendar;function y(x,u){return i.coerce(e,p,n.buttons,x,u)}var v=y("visible");if(v){var g=y("step");g!=="all"&&(_&&_!=="gregorian"&&(g==="month"||g==="year")?p.stepmode="backward":y("stepmode"),y("count")),y("label")}}function f(e,p,c){for(var h=c.filter(function(g){return p[g].anchor===e._id}),_=0,y=0;y<h.length;y++){var v=p[h[y]].domain;v&&(_=Math.max(v[1],_))}return[e.domain[0],_+o.yPad]}}),ud=Mt((E,P)=>{var i=Ya(),t=Oe().titleCase;P.exports=function(l,n){var o=l._name,s={};if(n.step==="all")s[o+".autorange"]=!0;else{var f=a(l,n);s[o+".range[0]"]=f[0],s[o+".range[1]"]=f[1]}return s};function a(l,n){var o=l.range,s=new Date(l.r2l(o[1])),f=n.step,e=i["utc"+t(f)],p=n.count,c;switch(n.stepmode){case"backward":c=l.l2r(+e.offset(s,-p));break;case"todate":var h=e.offset(s,-p);c=l.l2r(+e.ceil(h));break}var _=o[1];return[c,_]}}),cd=Mt((E,P)=>{var i=Ke(),t=da(),a=hr(),l=Ta(),n=Ga(),o=Oe(),s=o.strTranslate,f=Pr(),e=xr(),p=Rr(),c=p.LINE_SPACING,h=p.FROM_TL,_=p.FROM_BR,y=ns(),v=ud();P.exports=function(D){var C=D._fullLayout,T=C._infolayer.selectAll(".rangeselector").data(g(D),x);T.enter().append("g").classed("rangeselector",!0),T.exit().remove(),T.style({cursor:"pointer","pointer-events":"all"}),T.each(function(Y){var z=i.select(this),j=Y,F=j.rangeselector,R=z.selectAll("g.button").data(o.filterVisible(F.buttons));R.enter().append("g").classed("button",!0),R.exit().remove(),R.each(function(Z){var G=i.select(this),O=v(j,Z);Z._isActive=u(j,Z,O),G.call(d,F,Z),G.call(w,F,Z,D),G.on("click",function(){D._dragged||t.call("_guiRelayout",D,O)}),G.on("mouseover",function(){Z._isHovered=!0,G.call(d,F,Z)}),G.on("mouseout",function(){Z._isHovered=!1,G.call(d,F,Z)})}),U(D,R,F,j._name,z)})};function g(D){for(var C=e.list(D,"x",!0),T=[],Y=0;Y<C.length;Y++){var z=C[Y];z.rangeselector&&z.rangeselector.visible&&T.push(z)}return T}function x(D){return D._id}function u(D,C,T){if(C.step==="all")return D.autorange===!0;var Y=Object.keys(T);return D.range[0]===T[Y[0]]&&D.range[1]===T[Y[1]]}function d(D,C,T){var Y=o.ensureSingle(D,"rect","selector-rect",function(z){z.attr("shape-rendering","crispEdges")});Y.attr({rx:y.rx,ry:y.ry}),Y.call(l.stroke,C.bordercolor).call(l.fill,m(C,T)).style("stroke-width",C.borderwidth+"px")}function m(D,C){return C._isActive||C._isHovered?D.activecolor:D.bgcolor}function w(D,C,T,Y){function z(F){f.convertToTspans(F,Y)}var j=o.ensureSingle(D,"text","selector-text",function(F){F.attr("text-anchor","middle")});j.call(n.font,C.font).text(k(T,Y._fullLayout._meta)).call(z)}function k(D,C){return D.label?C?o.templateString(D.label,C):D.label:D.step==="all"?"all":D.count+D.step.charAt(0)}function U(D,C,T,Y,z){var j=0,F=0,R=T.borderwidth;C.each(function(){var it=i.select(this),at=it.select(".selector-text"),ot=T.font.size*c,ht=Math.max(ot*f.lineCount(at),16)+3;F=Math.max(F,ht)}),C.each(function(){var it=i.select(this),at=it.select(".selector-rect"),ot=it.select(".selector-text"),ht=ot.node()&&n.bBox(ot.node()).width,pt=T.font.size*c,yt=f.lineCount(ot),H=Math.max(ht+10,y.minButtonWidth);it.attr("transform",s(R+j,R)),at.attr({x:0,y:0,width:H,height:F}),f.positionText(ot,H/2,F/2-(yt-1)*pt/2+3),j+=H+5});var Z=D._fullLayout._size,G=Z.l+Z.w*T.x,O=Z.t+Z.h*(1-T.y),J="left";o.isRightAnchor(T)&&(G-=j,J="right"),o.isCenterAnchor(T)&&(G-=j/2,J="center");var X="top";o.isBottomAnchor(T)&&(O-=F,X="bottom"),o.isMiddleAnchor(T)&&(O-=F/2,X="middle"),j=Math.ceil(j),F=Math.ceil(F),G=Math.round(G),O=Math.round(O),a.autoMargin(D,Y+"-range-selector",{x:T.x,y:T.y,l:j*h[J],r:j*_[J],b:F*_[X],t:F*h[X]}),z.attr("transform",s(G,O))}}),fd=Mt((E,P)=>{P.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:yo()}}},layoutAttributes:yo(),handleDefaults:sd(),draw:cd()}}),xo=Mt(E=>{var P=yr().extendFlat;E.attributes=function(i,t){i=i||{},t=t||{};var a={valType:"info_array",editType:i.editType,items:[{valType:"number",min:0,max:1,editType:i.editType},{valType:"number",min:0,max:1,editType:i.editType}],dflt:[0,1]};i.name&&i.name+"",i.trace,t.description&&""+t.description;var l={x:P({},a,{}),y:P({},a,{}),editType:i.editType};return i.noGridCell||(l.row={valType:"integer",min:0,dflt:0,editType:i.editType},l.column={valType:"integer",min:0,dflt:0,editType:i.editType}),l},E.defaults=function(i,t,a,l){var n=l&&l.x||[0,1],o=l&&l.y||[0,1],s=t.grid;if(s){var f=a("domain.column");f!==void 0&&(f<s.columns?n=s._domains.x[f]:delete i.domain.column);var e=a("domain.row");e!==void 0&&(e<s.rows?o=s._domains.y[e]:delete i.domain.row)}var p=a("domain.x",n),c=a("domain.y",o);p[0]<p[1]||(i.domain.x=n.slice()),c[0]<c[1]||(i.domain.y=o.slice())}}),dd=Mt((E,P)=>{var i=Oe(),t=Vn().counter,a=xo().attributes,l=Sr().idRegex,n=$a(),o={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[t("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[l.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[l.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(h,_,y){var v=_[y+"axes"],g=Object.keys((h._splomAxes||{})[y]||{});if(Array.isArray(v))return v;if(g.length)return g}function f(h,_){var y=h.grid||{},v=s(_,y,"x"),g=s(_,y,"y");if(!h.grid&&!v&&!g)return;var x=Array.isArray(y.subplots)&&Array.isArray(y.subplots[0]),u=Array.isArray(v),d=Array.isArray(g),m=u&&v!==y.xaxes&&d&&g!==y.yaxes,w,k;x?(w=y.subplots.length,k=y.subplots[0].length):(d&&(w=g.length),u&&(k=v.length));var U=n.newContainer(_,"grid");function D(O,J){return i.coerce(y,U,o,O,J)}var C=D("rows",w),T=D("columns",k);if(!(C*T>1)){delete _.grid;return}if(!x&&!u&&!d){var Y=D("pattern")==="independent";Y&&(x=!0)}U._hasSubplotGrid=x;var z=D("roworder"),j=z==="top to bottom",F=x?.2:.1,R=x?.3:.1,Z,G;m&&_._splomGridDflt&&(Z=_._splomGridDflt.xside,G=_._splomGridDflt.yside),U._domains={x:e("x",D,F,Z,T),y:e("y",D,R,G,C,j)}}function e(h,_,y,v,g,x){var u=_(h+"gap",y),d=_("domain."+h);_(h+"side",v);for(var m=new Array(g),w=d[0],k=(d[1]-w)/(g-u),U=k*(1-u),D=0;D<g;D++){var C=w+k*D;m[x?g-1-D:D]=[C,C+U]}return m}function p(h,_){var y=_.grid;if(!(!y||!y._domains)){var v=h.grid||{},g=_._subplots,x=y._hasSubplotGrid,u=y.rows,d=y.columns,m=y.pattern==="independent",w,k,U,D,C,T,Y,z=y._axisMap={};if(x){var j=v.subplots||[];T=y.subplots=new Array(u);var F=1;for(w=0;w<u;w++){var R=T[w]=new Array(d),Z=j[w]||[];for(k=0;k<d;k++)if(m?(C=F===1?"xy":"x"+F+"y"+F,F++):C=Z[k],R[k]="",g.cartesian.indexOf(C)!==-1){if(Y=C.indexOf("y"),U=C.slice(0,Y),D=C.slice(Y),z[U]!==void 0&&z[U]!==k||z[D]!==void 0&&z[D]!==w)continue;R[k]=C,z[U]=k,z[D]=w}}}else{var G=s(_,v,"x"),O=s(_,v,"y");y.xaxes=c(G,g.xaxis,d,z,"x"),y.yaxes=c(O,g.yaxis,u,z,"y")}var J=y._anchors={},X=y.roworder==="top to bottom";for(var it in z){var at=it.charAt(0),ot=y[at+"side"],ht,pt,yt;if(ot.length<8)J[it]="free";else if(at==="x"){if(ot.charAt(0)==="t"===X?(ht=0,pt=1,yt=u):(ht=u-1,pt=-1,yt=-1),x){var H=z[it];for(w=ht;w!==yt;w+=pt)if(C=T[w][H],!!C&&(Y=C.indexOf("y"),C.slice(0,Y)===it)){J[it]=C.slice(Y);break}}else for(w=ht;w!==yt;w+=pt)if(D=y.yaxes[w],g.cartesian.indexOf(it+D)!==-1){J[it]=D;break}}else if(ot.charAt(0)==="l"?(ht=0,pt=1,yt=d):(ht=d-1,pt=-1,yt=-1),x){var q=z[it];for(w=ht;w!==yt;w+=pt)if(C=T[q][w],!!C&&(Y=C.indexOf("y"),C.slice(Y)===it)){J[it]=C.slice(0,Y);break}}else for(w=ht;w!==yt;w+=pt)if(U=y.xaxes[w],g.cartesian.indexOf(U+it)!==-1){J[it]=U;break}}}}function c(h,_,y,v,g){var x=new Array(y),u;function d(m,w){_.indexOf(w)!==-1&&v[w]===void 0?(x[m]=w,v[w]=m):x[m]=""}if(Array.isArray(h))for(u=0;u<y;u++)d(u,h[u]);else for(d(0,g),u=1;u<y;u++)d(u,g+(u+1));return x}P.exports={moduleType:"component",name:"grid",schema:{layout:{grid:o}},layoutAttributes:o,sizeDefaults:f,contentDefaults:p}}),is=Mt((E,P)=>{P.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}}),hd=Mt((E,P)=>{var i=ua(),t=da(),a=Oe(),l=$a(),n=is();P.exports=function(o,s,f,e){var p="error_"+e.axis,c=l.newContainer(s,p),h=o[p]||{};function _(m,w){return a.coerce(h,c,n,m,w)}var y=h.array!==void 0||h.value!==void 0||h.type==="sqrt",v=_("visible",y);if(v!==!1){var g=_("type","array"in h?"data":"percent"),x=!0;g!=="sqrt"&&(x=_("symmetric",!((g==="data"?"arrayminus":"valueminus")in h))),g==="data"?(_("array"),_("traceref"),x||(_("arrayminus"),_("tracerefminus"))):(g==="percent"||g==="constant")&&(_("value"),x||_("valueminus"));var u="copy_"+e.inherit+"style";if(e.inherit){var d=s["error_"+e.inherit];(d||{}).visible&&_(u,!(h.color||i(h.thickness)||i(h.width)))}(!e.inherit||!c[u])&&(_("color",f),_("thickness"),_("width",t.traceIs(s,"gl3d")?0:4))}}}),os=Mt((E,P)=>{P.exports=function(t){var a=t.type,l=t.symmetric;if(a==="data"){var n=t.array||[];if(l)return function(e,p){var c=+n[p];return[c,c]};var o=t.arrayminus||[];return function(e,p){var c=+n[p],h=+o[p];return!isNaN(c)||!isNaN(h)?[h||0,c||0]:[NaN,NaN]}}else{var s=i(a,t.value),f=i(a,t.valueminus);return l||t.valueminus===void 0?function(e){var p=s(e);return[p,p]}:function(e){return[f(e),s(e)]}}};function i(t,a){if(t==="percent")return function(l){return Math.abs(l*a/100)};if(t==="constant")return function(){return Math.abs(a)};if(t==="sqrt")return function(l){return Math.sqrt(Math.abs(l))}}}),pd=Mt((E,P)=>{var i=ua(),t=da(),a=Ka(),l=Oe(),n=os();P.exports=function(s){for(var f=s.calcdata,e=0;e<f.length;e++){var p=f[e],c=p[0].trace;if(c.visible===!0&&t.traceIs(c,"errorBarsOK")){var h=a.getFromId(s,c.xaxis),_=a.getFromId(s,c.yaxis);o(p,c,h,"x"),o(p,c,_,"y")}}};function o(s,f,e,p){var c=f["error_"+p]||{},h=c.visible&&["linear","log"].indexOf(e.type)!==-1,_=[];if(h){for(var y=n(c),v=0;v<s.length;v++){var g=s[v],x=g.i;if(x===void 0)x=v;else if(x===null)continue;var u=g[p];if(i(e.c2l(u))){var d=y(u,x);if(i(d[0])&&i(d[1])){var m=g[p+"s"]=u-d[0],w=g[p+"h"]=u+d[1];_.push(m,w)}}}var k=e._id,U=f._extremes[k],D=a.findExtremes(e,_,l.extendFlat({tozero:U.opts.tozero},{padded:!0}));U.min=U.min.concat(D.min),U.max=U.max.concat(D.max)}}}),vd=Mt((E,P)=>{var i=Ke(),t=ua(),a=Ga(),l=Gr();P.exports=function(o,s,f,e){var p,c=f.xaxis,h=f.yaxis,_=e&&e.duration>0,y=o._context.staticPlot;s.each(function(v){var g=v[0].trace,x=g.error_x||{},u=g.error_y||{},d;g.ids&&(d=function(U){return U.id});var m=l.hasMarkers(g)&&g.marker.maxdisplayed>0;!u.visible&&!x.visible&&(v=[]);var w=i.select(this).selectAll("g.errorbar").data(v,d);if(w.exit().remove(),!!v.length){x.visible||w.selectAll("path.xerror").remove(),u.visible||w.selectAll("path.yerror").remove(),w.style("opacity",1);var k=w.enter().append("g").classed("errorbar",!0);_&&k.style("opacity",0).transition().duration(e.duration).style("opacity",1),a.setClipUrl(w,f.layerClipId,o),w.each(function(U){var D=i.select(this),C=n(U,c,h);if(!(m&&!U.vis)){var T,Y=D.select("path.yerror");if(u.visible&&t(C.x)&&t(C.yh)&&t(C.ys)){var z=u.width;T="M"+(C.x-z)+","+C.yh+"h"+2*z+"m-"+z+",0V"+C.ys,C.noYS||(T+="m-"+z+",0h"+2*z),p=!Y.size(),p?Y=D.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("yerror",!0):_&&(Y=Y.transition().duration(e.duration).ease(e.easing)),Y.attr("d",T)}else Y.remove();var j=D.select("path.xerror");if(x.visible&&t(C.y)&&t(C.xh)&&t(C.xs)){var F=(x.copy_ystyle?u:x).width;T="M"+C.xh+","+(C.y-F)+"v"+2*F+"m0,-"+F+"H"+C.xs,C.noXS||(T+="m0,-"+F+"v"+2*F),p=!j.size(),p?j=D.append("path").style("vector-effect",y?"none":"non-scaling-stroke").classed("xerror",!0):_&&(j=j.transition().duration(e.duration).ease(e.easing)),j.attr("d",T)}else j.remove()}})}})};function n(o,s,f){var e={x:s.c2p(o.x),y:f.c2p(o.y)};return o.yh!==void 0&&(e.yh=f.c2p(o.yh),e.ys=f.c2p(o.ys),t(e.ys)||(e.noYS=!0,e.ys=f.c2p(o.ys,!0))),o.xh!==void 0&&(e.xh=s.c2p(o.xh),e.xs=s.c2p(o.xs),t(e.xs)||(e.noXS=!0,e.xs=s.c2p(o.xs,!0))),e}}),gd=Mt((E,P)=>{var i=Ke(),t=Ta();P.exports=function(a){a.each(function(l){var n=l[0].trace,o=n.error_y||{},s=n.error_x||{},f=i.select(this);f.selectAll("path.yerror").style("stroke-width",o.thickness+"px").call(t.stroke,o.color),s.copy_ystyle&&(s=o),f.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(t.stroke,s.color)})}}),md=Mt((E,P)=>{var i=Oe(),t=hn().overrideAll,a=is(),l={error_x:i.extendFlat({},a),error_y:i.extendFlat({},a)};delete l.error_x.copy_zstyle,delete l.error_y.copy_zstyle,delete l.error_y.copy_ystyle;var n={error_x:i.extendFlat({},a),error_y:i.extendFlat({},a),error_z:i.extendFlat({},a)};delete n.error_x.copy_ystyle,delete n.error_y.copy_ystyle,delete n.error_z.copy_ystyle,delete n.error_z.copy_zstyle,P.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:l,bar:l,histogram:l,scatter3d:t(n,"calc","nested"),scattergl:t(l,"calc","nested")}},supplyDefaults:hd(),calc:pd(),makeComputeError:os(),plot:vd(),style:gd(),hoverInfo:o};function o(s,f,e){(f.error_y||{}).visible&&(e.yerr=s.yh-s.y,f.error_y.symmetric||(e.yerrneg=s.y-s.ys)),(f.error_x||{}).visible&&(e.xerr=s.xh-s.x,f.error_x.symmetric||(e.xerrneg=s.x-s.xs))}}),yd=Mt((E,P)=>{P.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}}),xd=Mt((E,P)=>{var i=Ke(),t=Yr(),a=hr(),l=da(),n=Ka(),o=on(),s=Oe(),f=s.strTranslate,e=yr().extendFlat,p=kn(),c=Ga(),h=Ta(),_=si(),y=Pr(),v=$r().flipScale,g=Xl(),x=$l(),u=rn(),d=Rr(),m=d.LINE_SPACING,w=d.FROM_TL,k=d.FROM_BR,U=yd().cn;function D(F){var R=F._fullLayout,Z=R._infolayer.selectAll("g."+U.colorbar).data(C(F),function(G){return G._id});Z.enter().append("g").attr("class",function(G){return G._id}).classed(U.colorbar,!0),Z.each(function(G){var O=i.select(this);s.ensureSingle(O,"rect",U.cbbg),s.ensureSingle(O,"g",U.cbfills),s.ensureSingle(O,"g",U.cblines),s.ensureSingle(O,"g",U.cbaxis,function(X){X.classed(U.crisp,!0)}),s.ensureSingle(O,"g",U.cbtitleunshift,function(X){X.append("g").classed(U.cbtitle,!0)}),s.ensureSingle(O,"rect",U.cboutline);var J=T(O,G,F);J&&J.then&&(F._promises||[]).push(J),F._context.edits.colorbarPosition&&Y(O,G,F)}),Z.exit().each(function(G){a.autoMargin(F,G._id)}).remove(),Z.order()}function C(F){var R=F._fullLayout,Z=F.calcdata,G=[],O,J,X,it;function at(M){return e(M,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ot(){typeof it.calc=="function"?it.calc(F,X,O):(O._fillgradient=J.reversescale?v(J.colorscale):J.colorscale,O._zrange=[J[it.min],J[it.max]])}for(var ht=0;ht<Z.length;ht++){var pt=Z[ht];if(X=pt[0].trace,!!X._module){var yt=X._module.colorbar;if(X.visible===!0&&yt)for(var H=Array.isArray(yt),q=H?yt:[yt],A=0;A<q.length;A++){it=q[A];var W=it.container;J=W?X[W]:X,J&&J.showscale&&(O=at(J.colorbar),O._id="cb"+X.uid+(H&&W?"-"+W:""),O._traceIndex=X.index,O._propPrefix=(W?W+".":"")+"colorbar.",O._meta=X._meta,ot(),G.push(O))}}}for(var rt in R._colorAxes)if(J=R[rt],J.showscale){var I=R._colorAxes[rt];O=at(J.colorbar),O._id="cb"+rt,O._propPrefix=rt+".colorbar.",O._meta=R._meta,it={min:"cmin",max:"cmax"},I[0]!=="heatmap"&&(X=I[1],it.calc=X._module.colorbar.calc),ot(),G.push(O)}return G}function T(F,R,Z){var G=R.orientation==="v",O=R.len,J=R.lenmode,X=R.thickness,it=R.thicknessmode,at=R.outlinewidth,ot=R.borderwidth,ht=R.bgcolor,pt=R.xanchor,yt=R.yanchor,H=R.xpad,q=R.ypad,A=R.x,W=G?R.y:1-R.y,rt=R.yref==="paper",I=R.xref==="paper",M=Z._fullLayout,S=M._size,N=R._fillcolor,V=R._line,nt=R.title,ut=nt.side,ct=R._zrange||i.extent((typeof N=="function"?N:V.color).domain()),bt=typeof V.color=="function"?V.color:function(){return V.color},kt=typeof N=="function"?N:function(){return N},Et=R._levels,Gt=z(Z,R,ct),Vt=Gt.fill,Ht=Gt.line,vt=Math.round(X*(it==="fraction"?G?S.w:S.h:1)),xt=vt/(G?S.w:S.h),lt=Math.round(O*(J==="fraction"?G?S.h:S.w:1)),At=lt/(G?S.h:S.w),Rt=I?S.w:Z._fullLayout.width,Ut=rt?S.h:Z._fullLayout.height,te=Math.round(G?A*Rt+H:W*Ut+q),Wt={center:.5,right:1}[pt]||0,ae={top:1,middle:.5}[yt]||0,ne=G?A-Wt*xt:W-ae*xt,re=G?W-ae*At:A-Wt*At,de=Math.round(G?Ut*(1-re):Rt*re);R._lenFrac=At,R._thickFrac=xt,R._uFrac=ne,R._vFrac=re;var $t=R._axis=j(Z,R,ct);$t.position=xt+(G?A+H/S.w:W+q/S.h);var ve=["top","bottom"].indexOf(ut)!==-1;if(G&&ve&&($t.title.side=ut,$t.titlex=A+H/S.w,$t.titley=re+(nt.side==="top"?At-q/S.h:q/S.h)),!G&&!ve&&($t.title.side=ut,$t.titley=W+q/S.h,$t.titlex=re+H/S.w),V.color&&R.tickmode==="auto"){$t.tickmode="linear",$t.tick0=Et.start;var xe=Et.size,pe=s.constrain(lt/50,4,15)+1,_e=(ct[1]-ct[0])/((R.nticks||pe)*xe);if(_e>1){var mt=Math.pow(10,Math.floor(Math.log(_e)/Math.LN10));xe*=mt*s.roundUp(_e/mt,[2,5,10]),(Math.abs(Et.start)/Et.size+1e-6)%1<2e-6&&($t.tick0=0)}$t.dtick=xe}$t.domain=G?[re+q/S.h,re+At-q/S.h]:[re+H/S.w,re+At-H/S.w],$t.setScale(),F.attr("transform",f(Math.round(S.l),Math.round(S.t)));var Ct=F.select("."+U.cbtitleunshift).attr("transform",f(-Math.round(S.l),-Math.round(S.t))),Q=$t.ticklabelposition,st=$t.title.font.size,ft=F.select("."+U.cbaxis),_t,Tt=0,zt=0;function Ft(oe,le){var be={propContainer:$t,propName:R._propPrefix+"title.text",traceIndex:R._traceIndex,_meta:R._meta,placeholder:M._dfltTitle.colorbar,containerGroup:F.select("."+U.cbtitle)},Ae=oe.charAt(0)==="h"?oe.substr(1):"h"+oe;F.selectAll("."+Ae+",."+Ae+"-math-group").remove(),_.draw(Z,oe,e(be,le||{}))}function Zt(){if(G&&ve||!G&&!ve){var oe,le;ut==="top"&&(oe=H+S.l+Rt*A,le=q+S.t+Ut*(1-re-At)+3+st*.75),ut==="bottom"&&(oe=H+S.l+Rt*A,le=q+S.t+Ut*(1-re)-3-st*.25),ut==="right"&&(le=q+S.t+Ut*W+3+st*.75,oe=H+S.l+Rt*re),Ft($t._id+"title",{attributes:{x:oe,y:le,"text-anchor":G?"start":"middle"}})}}function qt(){if(G&&!ve||!G&&ve){var oe=$t.position||0,le=$t._offset+$t._length/2,be,Ae;if(ut==="right")Ae=le,be=S.l+Rt*oe+10+st*($t.showticklabels?1:.5);else if(be=le,ut==="bottom"&&(Ae=S.t+Ut*oe+10+(Q.indexOf("inside")===-1?$t.tickfont.size:0)+($t.ticks!=="inside"&&R.ticklen||0)),ut==="top"){var Re=nt.text.split("<br>").length;Ae=S.t+Ut*oe+10-vt-m*st*Re}Ft((G?"h":"v")+$t._id+"title",{avoid:{selection:i.select(Z).selectAll("g."+$t._id+"tick"),side:ut,offsetTop:G?0:S.t,offsetLeft:G?S.l:0,maxShift:G?M.width:M.height},attributes:{x:be,y:Ae,"text-anchor":"middle"},transform:{rotate:G?-90:0,offset:0}})}}function Yt(){if(!G&&!ve||G&&ve){var oe=F.select("."+U.cbtitle),le=oe.select("text"),be=[-at/2,at/2],Ae=oe.select(".h"+$t._id+"title-math-group").node(),Re=15.6;le.node()&&(Re=parseInt(le.node().style.fontSize,10)*m);var Ve;if(Ae?(Ve=c.bBox(Ae),zt=Ve.width,Tt=Ve.height,Tt>Re&&(be[1]-=(Tt-Re)/2)):le.node()&&!le.classed(U.jsPlaceholder)&&(Ve=c.bBox(le.node()),zt=Ve.width,Tt=Ve.height),G){if(Tt){if(Tt+=5,ut==="top")$t.domain[1]-=Tt/S.h,be[1]*=-1;else{$t.domain[0]+=Tt/S.h;var Ye=y.lineCount(le);be[1]+=(1-Ye)*Re}oe.attr("transform",f(be[0],be[1])),$t.setScale()}}else zt&&(ut==="right"&&($t.domain[0]+=(zt+st/2)/S.w),oe.attr("transform",f(be[0],be[1])),$t.setScale())}F.selectAll("."+U.cbfills+",."+U.cblines).attr("transform",G?f(0,Math.round(S.h*(1-$t.domain[1]))):f(Math.round(S.w*$t.domain[0]),0)),ft.attr("transform",G?f(0,Math.round(-S.t)):f(Math.round(-S.l),0));var Se=F.select("."+U.cbfills).selectAll("rect."+U.cbfill).attr("style","").data(Vt);Se.enter().append("rect").classed(U.cbfill,!0).attr("style",""),Se.exit().remove();var we=ct.map($t.c2p).map(Math.round).sort(function(Ie,Le){return Ie-Le});Se.each(function(Ie,Le){var Xe=[Le===0?ct[0]:(Vt[Le]+Vt[Le-1])/2,Le===Vt.length-1?ct[1]:(Vt[Le]+Vt[Le+1])/2].map($t.c2p).map(Math.round);G&&(Xe[1]=s.constrain(Xe[1]+(Xe[1]>Xe[0])?1:-1,we[0],we[1]));var aa=i.select(this).attr(G?"x":"y",te).attr(G?"y":"x",i.min(Xe)).attr(G?"width":"height",Math.max(vt,2)).attr(G?"height":"width",Math.max(i.max(Xe)-i.min(Xe),2));if(R._fillgradient)c.gradient(aa,Z,R._id,G?"vertical":"horizontalreversed",R._fillgradient,"fill");else{var He=kt(Ie).replace("e-","");aa.attr("fill",t(He).toHexString())}});var Ne=F.select("."+U.cblines).selectAll("path."+U.cbline).data(V.color&&V.width?Ht:[]);Ne.enter().append("path").classed(U.cbline,!0),Ne.exit().remove(),Ne.each(function(Ie){var Le=te,Xe=Math.round($t.c2p(Ie))+V.width/2%1;i.select(this).attr("d","M"+(G?Le+","+Xe:Xe+","+Le)+(G?"h":"v")+vt).call(c.lineGroupStyle,V.width,bt(Ie),V.dash)}),ft.selectAll("g."+$t._id+"tick,path").remove();var qe=te+vt+(at||0)/2-(R.ticks==="outside"?1:0),Fe=n.calcTicks($t),De=n.getTickSigns($t)[2];return n.drawTicks(Z,$t,{vals:$t.ticks==="inside"?n.clipEnds($t,Fe):Fe,layer:ft,path:n.makeTickPath($t,qe,De),transFn:n.makeTransTickFn($t)}),n.drawLabels(Z,$t,{vals:Fe,layer:ft,transFn:n.makeTransTickLabelFn($t),labelFns:n.makeLabelFns($t,qe)})}function ie(){var oe,le=vt+at/2;Q.indexOf("inside")===-1&&(oe=c.bBox(ft.node()),le+=G?oe.width:oe.height),_t=Ct.select("text");var be=0,Ae=G&&ut==="top",Re=!G&&ut==="right",Ve=0;if(_t.node()&&!_t.classed(U.jsPlaceholder)){var Ye,Se=Ct.select(".h"+$t._id+"title-math-group").node();Se&&(G&&ve||!G&&!ve)?(oe=c.bBox(Se),be=oe.width,Ye=oe.height):(oe=c.bBox(Ct.node()),be=oe.right-S.l-(G?te:de),Ye=oe.bottom-S.t-(G?de:te),!G&&ut==="top"&&(le+=oe.height,Ve=oe.height)),Re&&(_t.attr("transform",f(be/2+st/2,0)),be*=2),le=Math.max(le,G?be:Ye)}var we=(G?H:q)*2+le+ot+at/2,Ne=0;!G&&nt.text&&yt==="bottom"&&W<=0&&(Ne=we/2,we+=Ne,Ve+=Ne),M._hColorbarMoveTitle=Ne,M._hColorbarMoveCBTitle=Ve;var qe=ot+at,Fe=(G?te:de)-qe/2-(G?H:0),De=(G?de:te)-(G?lt:q+Ve-Ne);F.select("."+U.cbbg).attr("x",Fe).attr("y",De).attr(G?"width":"height",Math.max(we-Ne,2)).attr(G?"height":"width",Math.max(lt+qe,2)).call(h.fill,ht).call(h.stroke,R.bordercolor).style("stroke-width",ot);var Ie=Re?Math.max(be-10,0):0;F.selectAll("."+U.cboutline).attr("x",(G?te:de+H)+Ie).attr("y",(G?de+q-lt:te)+(Ae?Tt:0)).attr(G?"width":"height",Math.max(vt,2)).attr(G?"height":"width",Math.max(lt-(G?2*q+Tt:2*H+Ie),2)).call(h.stroke,R.outlinecolor).style({fill:"none","stroke-width":at});var Le=G?Wt*we:0,Xe=G?0:(1-ae)*we-Ve;if(Le=I?S.l-Le:-Le,Xe=rt?S.t-Xe:-Xe,F.attr("transform",f(Le,Xe)),!G&&(ot||t(ht).getAlpha()&&!t.equals(M.paper_bgcolor,ht))){var aa=ft.selectAll("text"),He=aa[0].length,ra=F.select("."+U.cbbg).node(),sa=c.bBox(ra),ma=c.getTranslate(F),ya=2;aa.each(function(jt,Lt){var Ot=0,Bt=He-1;if(Lt===Ot||Lt===Bt){var Nt=c.bBox(this),Xt=c.getTranslate(this),ee;if(Lt===Bt){var he=Nt.right+Xt.x,ke=sa.right+ma.x+de-ot-ya+A;ee=ke-he,ee>0&&(ee=0)}else if(Lt===Ot){var Te=Nt.left+Xt.x,Pe=sa.left+ma.x+de+ot+ya;ee=Pe-Te,ee<0&&(ee=0)}ee&&(He<3?this.setAttribute("transform","translate("+ee+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Qe={},ha=w[pt],oa=k[pt],Ce=w[yt],Ma=k[yt],et=we-vt;G?(J==="pixels"?(Qe.y=W,Qe.t=lt*Ce,Qe.b=lt*Ma):(Qe.t=Qe.b=0,Qe.yt=W+O*Ce,Qe.yb=W-O*Ma),it==="pixels"?(Qe.x=A,Qe.l=we*ha,Qe.r=we*oa):(Qe.l=et*ha,Qe.r=et*oa,Qe.xl=A-X*ha,Qe.xr=A+X*oa)):(J==="pixels"?(Qe.x=A,Qe.l=lt*ha,Qe.r=lt*oa):(Qe.l=Qe.r=0,Qe.xl=A+O*ha,Qe.xr=A-O*oa),it==="pixels"?(Qe.y=1-W,Qe.t=we*Ce,Qe.b=we*Ma):(Qe.t=et*Ce,Qe.b=et*Ma,Qe.yt=W-X*Ce,Qe.yb=W+X*Ma));var K=R.y<.5?"b":"t",St=R.x<.5?"l":"r";Z._fullLayout._reservedMargin[R._id]={};var It={r:M.width-Fe-Le,l:Fe+Qe.r,b:M.height-De-Xe,t:De+Qe.b};I&&rt?a.autoMargin(Z,R._id,Qe):I?Z._fullLayout._reservedMargin[R._id][K]=It[K]:rt||G?Z._fullLayout._reservedMargin[R._id][St]=It[St]:Z._fullLayout._reservedMargin[R._id][K]=It[K]}return s.syncOrAsync([a.previousPromises,Zt,Yt,qt,a.previousPromises,ie],Z)}function Y(F,R,Z){var G=R.orientation==="v",O=Z._fullLayout,J=O._size,X,it,at;o.init({element:F.node(),gd:Z,prepFn:function(){X=F.attr("transform"),p(F)},moveFn:function(ot,ht){F.attr("transform",X+f(ot,ht)),it=o.align((G?R._uFrac:R._vFrac)+ot/J.w,G?R._thickFrac:R._lenFrac,0,1,R.xanchor),at=o.align((G?R._vFrac:1-R._uFrac)-ht/J.h,G?R._lenFrac:R._thickFrac,0,1,R.yanchor);var pt=o.getCursor(it,at,R.xanchor,R.yanchor);p(F,pt)},doneFn:function(){if(p(F),it!==void 0&&at!==void 0){var ot={};ot[R._propPrefix+"x"]=it,ot[R._propPrefix+"y"]=at,R._traceIndex!==void 0?l.call("_guiRestyle",Z,ot,R._traceIndex):l.call("_guiRelayout",Z,ot)}}})}function z(F,R,Z){var G=R._levels,O=[],J=[],X,it,at=G.end+G.size/100,ot=G.size,ht=1.001*Z[0]-.001*Z[1],pt=1.001*Z[1]-.001*Z[0];for(it=0;it<1e5&&(X=G.start+it*ot,!(ot>0?X>=at:X<=at));it++)X>ht&&X<pt&&O.push(X);if(R._fillgradient)J=[0];else if(typeof R._fillcolor=="function"){var yt=R._filllevels;if(yt)for(at=yt.end+yt.size/100,ot=yt.size,it=0;it<1e5&&(X=yt.start+it*ot,!(ot>0?X>=at:X<=at));it++)X>Z[0]&&X<Z[1]&&J.push(X);else J=O.map(function(H){return H-G.size/2}),J.push(J[J.length-1]+G.size)}else R._fillcolor&&typeof R._fillcolor=="string"&&(J=[0]);return G.size<0&&(O.reverse(),J.reverse()),{line:O,fill:J}}function j(F,R,Z){var G=F._fullLayout,O=R.orientation==="v",J={type:"linear",range:Z,tickmode:R.tickmode,nticks:R.nticks,tick0:R.tick0,dtick:R.dtick,tickvals:R.tickvals,ticktext:R.ticktext,ticks:R.ticks,ticklen:R.ticklen,tickwidth:R.tickwidth,tickcolor:R.tickcolor,showticklabels:R.showticklabels,labelalias:R.labelalias,ticklabelposition:R.ticklabelposition,ticklabeloverflow:R.ticklabeloverflow,ticklabelstep:R.ticklabelstep,tickfont:R.tickfont,tickangle:R.tickangle,tickformat:R.tickformat,exponentformat:R.exponentformat,minexponent:R.minexponent,separatethousands:R.separatethousands,showexponent:R.showexponent,showtickprefix:R.showtickprefix,tickprefix:R.tickprefix,showticksuffix:R.showticksuffix,ticksuffix:R.ticksuffix,title:R.title,showline:!0,anchor:"free",side:O?"right":"bottom",position:1},X=O?"y":"x",it={type:"linear",_id:X+R._id},at={letter:X,font:G.font,noAutotickangles:X==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:G.calendar};function ot(ht,pt){return s.coerce(J,it,u,ht,pt)}return g(J,it,ot,at,G),x(J,it,ot,at),it}P.exports={draw:D}}),bd=Mt((E,P)=>{P.exports={moduleType:"component",name:"colorbar",attributes:Gi(),supplyDefaults:dl(),draw:xd().draw,hasColorbar:il()}}),_d=Mt((E,P)=>{P.exports={moduleType:"component",name:"legend",layoutAttributes:yl(),supplyLayoutDefaults:xl(),draw:wl(),style:_l()}}),wd=Mt((E,P)=>{P.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}}),Md=Mt((E,P)=>{P.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}}),ls=Mt((E,P)=>{var i=da(),t=Oe(),a=t.extendFlat,l=t.extendDeep;function n(s){var f;switch(s){case"themes__thumb":f={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":f={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:f={}}return f}function o(s){var f=["xaxis","yaxis","zaxis"];return f.indexOf(s.slice(0,5))>-1}P.exports=function(s,f){var e,p=s.data,c=s.layout,h=l([],p),_=l({},c,n(f.tileClass)),y=s._context||{};if(f.width&&(_.width=f.width),f.height&&(_.height=f.height),f.tileClass==="thumbnail"||f.tileClass==="themes__thumb"){_.annotations=[];var v=Object.keys(_);for(e=0;e<v.length;e++)o(v[e])&&(_[v[e]].title={text:""});for(e=0;e<h.length;e++){var g=h[e];g.showscale=!1,g.marker&&(g.marker.showscale=!1),i.traceIs(g,"pie-like")&&(g.textposition="none")}}if(Array.isArray(f.annotations))for(e=0;e<f.annotations.length;e++)_.annotations.push(f.annotations[e]);var x=Object.keys(_).filter(function(k){return k.match(/^scene\d*$/)});if(x.length){var u={};for(f.tileClass==="thumbnail"&&(u={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),e=0;e<x.length;e++){var d=_[x[e]];d.xaxis||(d.xaxis={}),d.yaxis||(d.yaxis={}),d.zaxis||(d.zaxis={}),a(d.xaxis,u),a(d.yaxis,u),a(d.zaxis,u),d._scene=null}}var m=document.createElement("div");f.tileClass&&(m.className=f.tileClass);var w={gd:m,td:m,layout:_,data:h,config:{staticPlot:f.staticPlot===void 0?!0:f.staticPlot,plotGlPixelRatio:f.plotGlPixelRatio===void 0?2:f.plotGlPixelRatio,displaylogo:f.displaylogo||!1,showLink:f.showLink||!1,showTips:f.showTips||!1,mapboxAccessToken:y.mapboxAccessToken}};return f.setBackground!=="transparent"&&(w.config.setBackground=f.setBackground||"opaque"),w.gd.defaultLayout=n(f.tileClass),w}}),Td=Mt((E,P)=>{var i=Ui().EventEmitter,t=da(),a=Oe(),l=Nn(),n=ls(),o=uo(),s=co();function f(e,p){var c=new i,h=n(e,{format:"png"}),_=h.gd;_.style.position="absolute",_.style.left="-5000px",document.body.appendChild(_);function y(){var g=l.getDelay(_._fullLayout);setTimeout(function(){var x=o(_),u=document.createElement("canvas");u.id=a.randstr(),c=s({format:p.format,width:_._fullLayout.width,height:_._fullLayout.height,canvas:u,emitter:c,svg:x}),c.clean=function(){_&&document.body.removeChild(_)}},g)}var v=l.getRedrawFunc(_);return t.call("_doPlot",_,h.data,h.layout,h.config).then(v).then(y).catch(function(g){c.emit("error",g)}),c}P.exports=f}),kd=Mt((E,P)=>{var i=Nn(),t={getDelay:i.getDelay,getRedrawFunc:i.getRedrawFunc,clone:ls(),toSVG:uo(),svgToImg:co(),toImage:Td(),downloadImage:jl()};P.exports=t}),Ad=Mt(E=>{E.version=ca().version,va(),fc();var P=da(),i=E.register=P.register,t=af(),a=Object.keys(t);for(n=0;n<a.length;n++)l=a[n],l.charAt(0)!=="_"&&(E[l]=t[l]),i({moduleType:"apiMethod",name:l,fn:t[l]});var l,n;i(Cf()),i([Ef(),Hf(),Jn(),Uf(),Jf(),Qf(),ad(),ld(),fd(),dd(),md(),hl(),bd(),_d(),mn(),Ol()]),i([wd(),Md()]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(i(window.PlotlyLocales),delete window.PlotlyLocales),E.Icons=eo();var o=mn(),s=hr();E.Plots={resize:s.resize,graphJson:s.graphJson,sendDataToCloud:s.sendDataToCloud},E.Fx={hover:o.hover,unhover:o.unhover,loneHover:o.loneHover,loneUnhover:o.loneUnhover},E.Snapshot=kd(),E.PlotSchema=Un()}),Ld=Mt((E,P)=>{P.exports=Ad()}),bo=Mt((E,P)=>{P.exports={TEXTPAD:3,eventDataKeys:["value","label"]}}),vi=Mt((E,P)=>{var i=Fn(),t=Zi().axisHoverFormat,a=vn().hovertemplateAttrs,l=vn().texttemplateAttrs,n=li(),o=Lr(),s=bo(),f=pn().pattern,e=yr().extendFlat,p=o({editType:"calc",arrayOk:!0,colorEditType:"style"}),c=i.marker,h=c.line,_=e({},h.width,{dflt:0}),y=e({width:_,editType:"calc"},n("marker.line")),v=e({line:y,editType:"calc"},n("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:f,cornerradius:{valType:"any",editType:"calc"}});P.exports={x:i.x,x0:i.x0,dx:i.dx,y:i.y,y0:i.y0,dy:i.dy,xperiod:i.xperiod,yperiod:i.yperiod,xperiod0:i.xperiod0,yperiod0:i.yperiod0,xperiodalignment:i.xperiodalignment,yperiodalignment:i.yperiodalignment,xhoverformat:t("x"),yhoverformat:t("y"),text:i.text,texttemplate:l({editType:"plot"},{keys:s.eventDataKeys}),hovertext:i.hovertext,hovertemplate:a({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:e({},p,{}),insidetextfont:e({},p,{}),outsidetextfont:e({},p,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:e({},i.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:v,offsetgroup:i.offsetgroup,alignmentgroup:i.alignmentgroup,selected:{marker:{opacity:i.selected.marker.opacity,color:i.selected.marker.color,editType:"style"},textfont:i.selected.textfont,editType:"style"},unselected:{marker:{opacity:i.unselected.marker.opacity,color:i.unselected.marker.color,editType:"style"},textfont:i.unselected.textfont,editType:"style"},zorder:i.zorder}}),ss=Mt((E,P)=>{P.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}}),Sd=Mt((E,P)=>{var i=Ta(),t=$r().hasColorscale,a=Yn(),l=Oe().coercePattern;P.exports=function(n,o,s,f,e){var p=s("marker.color",f),c=t(n,"marker");c&&a(n,o,e,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",i.defaultLine),t(n,"marker.line")&&a(n,o,e,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),l(s,"marker.pattern",p,c),s("selected.marker.color"),s("unselected.marker.color")}}),gi=Mt((E,P)=>{var i=ua(),t=Oe(),a=Ta(),l=da(),n=Hl(),o=Bl(),s=Sd(),f=Vl(),e=vi(),p=t.coerceFont;function c(v,g,x,u){function d(D,C){return t.coerce(v,g,e,D,C)}var m=n(v,g,u,d);if(!m){g.visible=!1;return}o(v,g,u,d),d("xhoverformat"),d("yhoverformat"),d("zorder"),d("orientation",g.x&&!g.y?"h":"v"),d("base"),d("offset"),d("width"),d("text"),d("hovertext"),d("hovertemplate");var w=d("textposition");y(v,g,u,d,w,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),s(v,g,d,x,u);var k=(g.marker.line||{}).color,U=l.getComponentMethod("errorbars","supplyDefaults");U(v,g,k||a.defaultLine,{axis:"y"}),U(v,g,k||a.defaultLine,{axis:"x",inherit:"y"}),t.coerceSelectionMarkerOpacity(g,d)}function h(v,g){var x,u;function d(k,U){return t.coerce(u._input,u,e,k,U)}for(var m=0;m<v.length;m++)if(u=v[m],u.type==="bar"){x=u._input;var w=d("marker.cornerradius",g.barcornerradius);u.marker&&(u.marker.cornerradius=_(w)),f(x,u,g,d,g.barmode)}}function _(v){if(i(v)){if(v=+v,v>=0)return v}else if(typeof v=="string"&&(v=v.trim(),v.slice(-1)==="%"&&i(v.slice(0,-1))&&(v=+v.slice(0,-1),v>=0)))return v+"%"}function y(v,g,x,u,d,m){m=m||{};var w=m.moduleHasSelected!==!1,k=m.moduleHasUnselected!==!1,U=m.moduleHasConstrain!==!1,D=m.moduleHasCliponaxis!==!1,C=m.moduleHasTextangle!==!1,T=m.moduleHasInsideanchor!==!1,Y=!!m.hasPathbar,z=Array.isArray(d)||d==="auto",j=z||d==="inside",F=z||d==="outside";if(j||F){var R=p(u,"textfont",x.font),Z=t.extendFlat({},R),G=v.textfont&&v.textfont.color,O=!G;if(O&&delete Z.color,p(u,"insidetextfont",Z),Y){var J=t.extendFlat({},R);O&&delete J.color,p(u,"pathbar.textfont",J)}F&&p(u,"outsidetextfont",R),w&&u("selected.textfont.color"),k&&u("unselected.textfont.color"),U&&u("constraintext"),D&&u("cliponaxis"),C&&u("textangle"),u("texttemplate")}j&&T&&u("insidetextanchor")}P.exports={supplyDefaults:c,crossTraceDefaults:h,handleText:y,validateCornerradius:_}}),Cd=Mt((E,P)=>{var i=da(),t=Ka(),a=Oe(),l=ss(),n=gi().validateCornerradius;P.exports=function(o,s,f){function e(w,k){return a.coerce(o,s,l,w,k)}for(var p=!1,c=!1,h=!1,_={},y=e("barmode"),v=y==="group",g=0;g<f.length;g++){var x=f[g];if(i.traceIs(x,"bar")&&x.visible)p=!0;else continue;var u=x.xaxis+x.yaxis;if(v?(_[u]&&(h=!0),_[u]=!0):(u+=x._input.offsetgroup,_.length>0&&!_[u]&&(h=!0),_[u]=!0),x.visible&&x.type==="histogram"){var d=t.getFromId({_fullLayout:s},x[x.orientation==="v"?"xaxis":"yaxis"]);d.type!=="category"&&(c=!0)}}if(!p){delete s.barmode;return}y!=="overlay"&&e("barnorm"),e("bargap",c&&!h?0:.2),e("bargroupgap");var m=e("barcornerradius");s.barcornerradius=n(m)}}),us=Mt((E,P)=>{var i=Oe();P.exports=function(t,a){for(var l=0;l<t.length;l++)t[l].i=l;i.mergeArray(a.text,t,"tx"),i.mergeArray(a.hovertext,t,"htx");var n=a.marker;if(n){i.mergeArray(n.opacity,t,"mo",!0),i.mergeArray(n.color,t,"mc");var o=n.line;o&&(i.mergeArray(o.color,t,"mlc"),i.mergeArrayCastPositive(o.width,t,"mlw"))}}}),Od=Mt((E,P)=>{var i=Ka(),t=ql(),a=$r().hasColorscale,l=Ji(),n=us(),o=Yl();P.exports=function(s,f){var e=i.getFromId(s,f.xaxis||"x"),p=i.getFromId(s,f.yaxis||"y"),c,h,_,y,v,g,x={msUTC:!!(f.base||f.base===0)};f.orientation==="h"?(c=e.makeCalcdata(f,"x",x),_=p.makeCalcdata(f,"y"),y=t(f,p,"y",_),v=!!f.yperiodalignment,g="y"):(c=p.makeCalcdata(f,"y",x),_=e.makeCalcdata(f,"x"),y=t(f,e,"x",_),v=!!f.xperiodalignment,g="x"),h=y.vals;for(var u=Math.min(h.length,c.length),d=new Array(u),m=0;m<u;m++)d[m]={p:h[m],s:c[m]},v&&(d[m].orig_p=_[m],d[m][g+"End"]=y.ends[m],d[m][g+"Start"]=y.starts[m]),f.ids&&(d[m].id=String(f.ids[m]));return a(f,"marker")&&l(s,f,{vals:f.marker.color,containerStr:"marker",cLetter:"c"}),a(f,"marker.line")&&l(s,f,{vals:f.marker.line.color,containerStr:"marker.line",cLetter:"c"}),n(d,f),o(d,f),d}}),mi=Mt((E,P)=>{var i=Ke(),t=Oe();function a(s,f,e){var p=s._fullLayout,c=p["_"+e+"Text_minsize"];if(c){var h=p.uniformtext.mode==="hide",_;switch(e){case"funnelarea":case"pie":case"sunburst":_="g.slice";break;case"treemap":case"icicle":_="g.slice, g.pathbar";break;default:_="g.points > g.point"}f.selectAll(_).each(function(y){var v=y.transform;if(v){v.scale=h&&v.hide?0:c/v.fontSize;var g=i.select(this).select("text");t.setTransormAndDisplay(g,v)}})}}function l(s,f,e){if(e.uniformtext.mode){var p=o(s),c=e.uniformtext.minsize,h=f.scale*f.fontSize;f.hide=h<c,e[p]=e[p]||1/0,f.hide||(e[p]=Math.min(e[p],Math.max(h,c)))}}function n(s,f){var e=o(s);f[e]=void 0}function o(s){return"_"+s+"Text_minsize"}P.exports={recordMinTextSize:l,clearMinTextSize:n,resizeText:a}}),_o=Mt(E=>{var P=ua(),i=Yr(),t=Oe().isArrayOrTypedArray;E.coerceString=function(a,l,n){if(typeof l=="string"){if(l||!a.noBlank)return l}else if((typeof l=="number"||l===!0)&&!a.strict)return String(l);return n!==void 0?n:a.dflt},E.coerceNumber=function(a,l,n){if(P(l)){l=+l;var o=a.min,s=a.max,f=o!==void 0&&l<o||s!==void 0&&l>s;if(!f)return l}return n!==void 0?n:a.dflt},E.coerceColor=function(a,l,n){return i(l).isValid()?l:n!==void 0?n:a.dflt},E.coerceEnumerated=function(a,l,n){return a.coerceNumber&&(l=+l),a.values.indexOf(l)!==-1?l:n!==void 0?n:a.dflt},E.getValue=function(a,l){var n;return t(a)?l<a.length&&(n=a[l]):n=a,n},E.getLineWidth=function(a,l){var n=0<l.mlw?l.mlw:t(a.marker.line.width)?0:a.marker.line.width;return n}}),wo=Mt((E,P)=>{var i=Ke(),t=Ta(),a=Ga(),l=Oe(),n=da(),o=mi().resizeText,s=vi(),f=s.textfont,e=s.insidetextfont,p=s.outsidetextfont,c=_o();function h(D){var C=i.select(D).selectAll('g[class^="barlayer"]').selectAll("g.trace");o(D,C,"bar");var T=C.size(),Y=D._fullLayout;C.style("opacity",function(z){return z[0].trace.opacity}).each(function(z){(Y.barmode==="stack"&&T>1||Y.bargap===0&&Y.bargroupgap===0&&!z[0].trace.marker.line.width)&&i.select(this).attr("shape-rendering","crispEdges")}),C.selectAll("g.points").each(function(z){var j=i.select(this),F=z[0].trace;_(j,F,D)}),n.getComponentMethod("errorbars","style")(C)}function _(D,C,T){a.pointStyle(D.selectAll("path"),C,T),y(D,C,T)}function y(D,C,T){D.selectAll("text").each(function(Y){var z=i.select(this),j=l.ensureUniformFontSize(T,u(z,Y,C,T));a.font(z,j)})}function v(D,C,T){var Y=C[0].trace;Y.selectedpoints?g(T,Y,D):(_(T,Y,D),n.getComponentMethod("errorbars","style")(T))}function g(D,C,T){a.selectedPointStyle(D.selectAll("path"),C),x(D.selectAll("text"),C,T)}function x(D,C,T){D.each(function(Y){var z=i.select(this),j;if(Y.selected){j=l.ensureUniformFontSize(T,u(z,Y,C,T));var F=C.selected.textfont&&C.selected.textfont.color;F&&(j.color=F),a.font(z,j)}else a.selectedTextStyle(z,C)})}function u(D,C,T,Y){var z=Y._fullLayout.font,j=T.textfont;if(D.classed("bartext-inside")){var F=U(C,T);j=m(T,C.i,z,F)}else D.classed("bartext-outside")&&(j=w(T,C.i,z));return j}function d(D,C,T){return k(f,D.textfont,C,T)}function m(D,C,T,Y){var z=d(D,C,T),j=D._input.textfont===void 0||D._input.textfont.color===void 0||Array.isArray(D.textfont.color)&&D.textfont.color[C]===void 0;return j&&(z={color:t.contrast(Y),family:z.family,size:z.size,weight:z.weight,style:z.style,variant:z.variant,textcase:z.textcase,lineposition:z.lineposition,shadow:z.shadow}),k(e,D.insidetextfont,C,z)}function w(D,C,T){var Y=d(D,C,T);return k(p,D.outsidetextfont,C,Y)}function k(D,C,T,Y){C=C||{};var z=c.getValue(C.family,T),j=c.getValue(C.size,T),F=c.getValue(C.color,T),R=c.getValue(C.weight,T),Z=c.getValue(C.style,T),G=c.getValue(C.variant,T),O=c.getValue(C.textcase,T),J=c.getValue(C.lineposition,T),X=c.getValue(C.shadow,T);return{family:c.coerceString(D.family,z,Y.family),size:c.coerceNumber(D.size,j,Y.size),color:c.coerceColor(D.color,F,Y.color),weight:c.coerceString(D.weight,R,Y.weight),style:c.coerceString(D.style,Z,Y.style),variant:c.coerceString(D.variant,G,Y.variant),textcase:c.coerceString(D.variant,O,Y.textcase),lineposition:c.coerceString(D.variant,J,Y.lineposition),shadow:c.coerceString(D.variant,X,Y.shadow)}}function U(D,C){return C.type==="waterfall"?C[D.dir].marker.color:D.mcc||D.mc||C.marker.color}P.exports={style:h,styleTextPoints:y,styleOnSelect:v,getInsideTextFont:m,getOutsideTextFont:w,getBarColor:U,resizeText:o}}),Dd=Mt((E,P)=>{var i=Ke(),t=ua(),a=Oe(),l=Pr(),n=Ta(),o=Ga(),s=da(),f=Ka().tickText,e=mi(),p=e.recordMinTextSize,c=e.clearMinTextSize,h=wo(),_=_o(),y=bo(),v=vi(),g=v.text,x=v.textposition,u=gn().appendArrayPointValue,d=y.TEXTPAD;function m(ot){return ot.id}function w(ot){if(ot.ids)return m}function k(ot){return(ot>0)-(ot<0)}function U(ot,ht){return ot<ht?1:-1}function D(ot,ht,pt,yt){var H=[],q=[],A=yt?ht:pt,W=yt?pt:ht;return H[0]=A.c2p(ot.s0,!0),q[0]=W.c2p(ot.p0,!0),H[1]=A.c2p(ot.s1,!0),q[1]=W.c2p(ot.p1,!0),yt?[H,q]:[q,H]}function C(ot,ht,pt,yt){if(!ht.uniformtext.mode&&T(pt)){var H;return yt&&(H=yt()),ot.transition().duration(pt.duration).ease(pt.easing).each("end",function(){H&&H()}).each("interrupt",function(){H&&H()})}else return ot}function T(ot){return ot&&ot.duration>0}function Y(ot,ht,pt,yt,H,q){var A=ht.xaxis,W=ht.yaxis,rt=ot._fullLayout,I=ot._context.staticPlot;H||(H={mode:rt.barmode,norm:rt.barmode,gap:rt.bargap,groupgap:rt.bargroupgap},c("bar",rt));var M=a.makeTraceGroups(yt,pt,"trace bars").each(function(S){var N=i.select(this),V=S[0].trace,nt=S[0].t,ut=V.type==="waterfall",ct=V.type==="funnel",bt=V.type==="histogram",kt=V.type==="bar",Et=kt||ct,Gt=0;ut&&V.connector.visible&&V.connector.mode==="between"&&(Gt=V.connector.line.width/2);var Vt=V.orientation==="h",Ht=T(H),vt=a.ensureSingle(N,"g","points"),xt=w(V),lt=vt.selectAll("g.point").data(a.identity,xt);lt.enter().append("g").classed("point",!0),lt.exit().remove(),lt.each(function(Rt,Ut){var te=i.select(this),Wt=D(Rt,A,W,Vt),ae=Wt[0][0],ne=Wt[0][1],re=Wt[1][0],de=Wt[1][1],$t=(Vt?ne-ae:de-re)===0;$t&&Et&&_.getLineWidth(V,Rt)&&($t=!1),$t||($t=!t(ae)||!t(ne)||!t(re)||!t(de)),Rt.isBlank=$t,$t&&(Vt?ne=ae:de=re),Gt&&!$t&&(Vt?(ae-=U(ae,ne)*Gt,ne+=U(ae,ne)*Gt):(re-=U(re,de)*Gt,de+=U(re,de)*Gt));var ve,xe;if(V.type==="waterfall"){if(!$t){var pe=V[Rt.dir].marker;ve=pe.line.width,xe=pe.color}}else ve=_.getLineWidth(V,Rt),xe=Rt.mc||V.marker.color;function _e(qe){var Fe=i.round(ve/2%1,2);return H.gap===0&&H.groupgap===0?i.round(Math.round(qe)-Fe,2):qe}function mt(qe,Fe,De){return De&&qe===Fe?qe:Math.abs(qe-Fe)>=2?_e(qe):qe>Fe?Math.ceil(qe):Math.floor(qe)}var Ct=n.opacity(xe),Q=Ct<1||ve>.01?_e:mt;ot._context.staticPlot||(ae=Q(ae,ne,Vt),ne=Q(ne,ae,Vt),re=Q(re,de,!Vt),de=Q(de,re,!Vt));var st=Vt?A.c2p:W.c2p,ft;Rt.s0>0?ft=Rt._sMax:Rt.s0<0?ft=Rt._sMin:ft=Rt.s1>0?Rt._sMax:Rt._sMin;function _t(qe,Fe){if(!qe)return 0;var De=Math.abs(Vt?de-re:ne-ae),Ie=Math.abs(Vt?ne-ae:de-re),Le=Q(Math.abs(st(ft,!0)-st(0,!0))),Xe=Rt.hasB?Math.min(De/2,Ie/2):Math.min(De/2,Le),aa;if(Fe==="%"){var He=Math.min(50,qe);aa=De*(He/100)}else aa=qe;return Q(Math.max(Math.min(aa,Xe),0))}var Tt=kt||bt?_t(nt.cornerradiusvalue,nt.cornerradiusform):0,zt,Ft,Zt="M"+ae+","+re+"V"+de+"H"+ne+"V"+re+"Z",qt=0;if(Tt&&Rt.s){var Yt=k(Rt.s0)===0||k(Rt.s)===k(Rt.s0)?Rt.s1:Rt.s0;if(qt=Q(Rt.hasB?0:Math.abs(st(ft,!0)-st(Yt,!0))),qt<Tt){var ie=U(ae,ne),oe=U(re,de),le=ie===-oe?1:0;if(Vt)if(Rt.hasB)zt="M"+(ae+Tt*ie)+","+re+"A "+Tt+","+Tt+" 0 0 "+le+" "+ae+","+(re+Tt*oe)+"V"+(de-Tt*oe)+"A "+Tt+","+Tt+" 0 0 "+le+" "+(ae+Tt*ie)+","+de+"H"+(ne-Tt*ie)+"A "+Tt+","+Tt+" 0 0 "+le+" "+ne+","+(de-Tt*oe)+"V"+(re+Tt*oe)+"A "+Tt+","+Tt+" 0 0 "+le+" "+(ne-Tt*ie)+","+re+"Z";else{Ft=Math.abs(ne-ae)+qt;var be=Ft<Tt?Tt-Math.sqrt(Ft*(2*Tt-Ft)):0,Ae=qt>0?Math.sqrt(qt*(2*Tt-qt)):0,Re=ie>0?Math.max:Math.min;zt="M"+ae+","+re+"V"+(de-be*oe)+"H"+Re(ne-(Tt-qt)*ie,ae)+"A "+Tt+","+Tt+" 0 0 "+le+" "+ne+","+(de-Tt*oe-Ae)+"V"+(re+Tt*oe+Ae)+"A "+Tt+","+Tt+" 0 0 "+le+" "+Re(ne-(Tt-qt)*ie,ae)+","+(re+be*oe)+"Z"}else if(Rt.hasB)zt="M"+(ae+Tt*ie)+","+re+"A "+Tt+","+Tt+" 0 0 "+le+" "+ae+","+(re+Tt*oe)+"V"+(de-Tt*oe)+"A "+Tt+","+Tt+" 0 0 "+le+" "+(ae+Tt*ie)+","+de+"H"+(ne-Tt*ie)+"A "+Tt+","+Tt+" 0 0 "+le+" "+ne+","+(de-Tt*oe)+"V"+(re+Tt*oe)+"A "+Tt+","+Tt+" 0 0 "+le+" "+(ne-Tt*ie)+","+re+"Z";else{Ft=Math.abs(de-re)+qt;var Ve=Ft<Tt?Tt-Math.sqrt(Ft*(2*Tt-Ft)):0,Ye=qt>0?Math.sqrt(qt*(2*Tt-qt)):0,Se=oe>0?Math.max:Math.min;zt="M"+(ae+Ve*ie)+","+re+"V"+Se(de-(Tt-qt)*oe,re)+"A "+Tt+","+Tt+" 0 0 "+le+" "+(ae+Tt*ie-Ye)+","+de+"H"+(ne-Tt*ie+Ye)+"A "+Tt+","+Tt+" 0 0 "+le+" "+(ne-Ve*ie)+","+Se(de-(Tt-qt)*oe,re)+"V"+re+"Z"}}else zt=Zt}else zt=Zt;var we=C(a.ensureSingle(te,"path"),rt,H,q);if(we.style("vector-effect",I?"none":"non-scaling-stroke").attr("d",isNaN((ne-ae)*(de-re))||$t&&ot._context.staticPlot?"M0,0Z":zt).call(o.setClipUrl,ht.layerClipId,ot),!rt.uniformtext.mode&&Ht){var Ne=o.makePointStyleFns(V);o.singlePointStyle(Rt,we,V,Ne,ot)}z(ot,ht,te,S,Ut,ae,ne,re,de,Tt,qt,H,q),ht.layerClipId&&o.hideOutsideRangePoint(Rt,te.select("text"),A,W,V.xcalendar,V.ycalendar)});var At=V.cliponaxis===!1;o.setClipUrl(N,At?null:ht.layerClipId,ot)});s.getComponentMethod("errorbars","plot")(ot,M,ht,H)}function z(ot,ht,pt,yt,H,q,A,W,rt,I,M,S,N){var V=ht.xaxis,nt=ht.yaxis,ut=ot._fullLayout,ct;function bt(Ft,Zt,qt){var Yt=a.ensureSingle(Ft,"text").text(Zt).attr({class:"bartext bartext-"+ct,"text-anchor":"middle","data-notex":1}).call(o.font,qt).call(l.convertToTspans,ot);return Yt}var kt=yt[0].trace,Et=kt.orientation==="h",Gt=J(ut,yt,H,V,nt);ct=X(kt,H);var Vt=S.mode==="stack"||S.mode==="relative",Ht=yt[H],vt=!Vt||Ht._outmost,xt=Ht.hasB,lt=I&&I-M>d;if(!Gt||ct==="none"||(Ht.isBlank||q===A||W===rt)&&(ct==="auto"||ct==="inside")){pt.select("text").remove();return}var At=ut.font,Rt=h.getBarColor(yt[H],kt),Ut=h.getInsideTextFont(kt,H,At,Rt),te=h.getOutsideTextFont(kt,H,At),Wt=kt.insidetextanchor||"end",ae=pt.datum();Et?V.type==="log"&&ae.s0<=0&&(V.range[0]<V.range[1]?q=0:q=V._length):nt.type==="log"&&ae.s0<=0&&(nt.range[0]<nt.range[1]?W=nt._length:W=0);var ne=Math.abs(A-q),re=Math.abs(rt-W),de=ne-2*d,$t=re-2*d,ve,xe,pe,_e,mt;if(ct==="outside"&&!vt&&!Ht.hasB&&(ct="inside"),ct==="auto")if(vt){ct="inside",mt=a.ensureUniformFontSize(ot,Ut),ve=bt(pt,Gt,mt),xe=o.bBox(ve.node()),pe=xe.width,_e=xe.height;var Ct=pe>0&&_e>0,Q;lt?xt?Q=j(de-2*I,$t,pe,_e,Et)||j(de,$t-2*I,pe,_e,Et):Et?Q=j(de-(I-M),$t,pe,_e,Et)||j(de,$t-2*(I-M),pe,_e,Et):Q=j(de,$t-(I-M),pe,_e,Et)||j(de-2*(I-M),$t,pe,_e,Et):Q=j(de,$t,pe,_e,Et),Ct&&Q?ct="inside":(ct="outside",ve.remove(),ve=null)}else ct="inside";if(!ve){mt=a.ensureUniformFontSize(ot,ct==="outside"?te:Ut),ve=bt(pt,Gt,mt);var st=ve.attr("transform");if(ve.attr("transform",""),xe=o.bBox(ve.node()),pe=xe.width,_e=xe.height,ve.attr("transform",st),pe<=0||_e<=0){ve.remove();return}}var ft=kt.textangle,_t,Tt;ct==="outside"?(Tt=kt.constraintext==="both"||kt.constraintext==="outside",_t=O(q,A,W,rt,xe,{isHorizontal:Et,constrained:Tt,angle:ft})):(Tt=kt.constraintext==="both"||kt.constraintext==="inside",_t=Z(q,A,W,rt,xe,{isHorizontal:Et,constrained:Tt,angle:ft,anchor:Wt,hasB:xt,r:I,overhead:M})),_t.fontSize=mt.size,p(kt.type==="histogram"?"bar":kt.type,_t,ut),Ht.transform=_t;var zt=C(ve,ut,S,N);a.setTransormAndDisplay(zt,_t)}function j(ot,ht,pt,yt,H){if(ot<0||ht<0)return!1;var q=pt<=ot&&yt<=ht,A=pt<=ht&&yt<=ot,W=H?ot>=pt*(ht/yt):ht>=yt*(ot/pt);return q||A||W}function F(ot){return ot==="auto"?0:ot}function R(ot,ht){var pt=Math.PI/180*ht,yt=Math.abs(Math.sin(pt)),H=Math.abs(Math.cos(pt));return{x:ot.width*H+ot.height*yt,y:ot.width*yt+ot.height*H}}function Z(ot,ht,pt,yt,H,q){var A=!!q.isHorizontal,W=!!q.constrained,rt=q.angle||0,I=q.anchor,M=I==="end",S=I==="start",N=q.leftToRight||0,V=(N+1)/2,nt=1-V,ut=q.hasB,ct=q.r,bt=q.overhead,kt=H.width,Et=H.height,Gt=Math.abs(ht-ot),Vt=Math.abs(yt-pt),Ht=Gt>2*d&&Vt>2*d?d:0;Gt-=2*Ht,Vt-=2*Ht;var vt=F(rt);rt==="auto"&&!(kt<=Gt&&Et<=Vt)&&(kt>Gt||Et>Vt)&&(!(kt>Vt||Et>Gt)||kt<Et!=Gt<Vt)&&(vt+=90);var xt=R(H,vt),lt,At;if(ct&&ct-bt>d){var Rt=G(ot,ht,pt,yt,xt,ct,bt,A,ut);lt=Rt.scale,At=Rt.pad}else lt=1,W&&(lt=Math.min(1,Gt/xt.x,Vt/xt.y)),At=0;var Ut=H.left*nt+H.right*V,te=(H.top+H.bottom)/2,Wt=(ot+d)*nt+(ht-d)*V,ae=(pt+yt)/2,ne=0,re=0;if(S||M){var de=(A?xt.x:xt.y)/2;ct&&(M||ut)&&(Ht+=At);var $t=A?U(ot,ht):U(pt,yt);A?S?(Wt=ot+$t*Ht,ne=-$t*de):(Wt=ht-$t*Ht,ne=$t*de):S?(ae=pt+$t*Ht,re=-$t*de):(ae=yt-$t*Ht,re=$t*de)}return{textX:Ut,textY:te,targetX:Wt,targetY:ae,anchorX:ne,anchorY:re,scale:lt,rotate:vt}}function G(ot,ht,pt,yt,H,q,A,W,rt){var I=Math.max(0,Math.abs(ht-ot)-2*d),M=Math.max(0,Math.abs(yt-pt)-2*d),S=q-d,N=A?S-Math.sqrt(S*S-(S-A)*(S-A)):S,V=rt?S*2:W?S-A:2*N,nt=rt?S*2:W?2*N:S-A,ut,ct,bt,kt,Et;return H.y/H.x>=M/(I-V)?kt=M/H.y:H.y/H.x<=(M-nt)/I?kt=I/H.x:!rt&&W?(ut=H.x*H.x+H.y*H.y/4,ct=-2*H.x*(I-S)-H.y*(M/2-S),bt=(I-S)*(I-S)+(M/2-S)*(M/2-S)-S*S,kt=(-ct+Math.sqrt(ct*ct-4*ut*bt))/(2*ut)):rt?(ut=(H.x*H.x+H.y*H.y)/4,ct=-H.x*(I/2-S)-H.y*(M/2-S),bt=(I/2-S)*(I/2-S)+(M/2-S)*(M/2-S)-S*S,kt=(-ct+Math.sqrt(ct*ct-4*ut*bt))/(2*ut)):(ut=H.x*H.x/4+H.y*H.y,ct=-H.x*(I/2-S)-2*H.y*(M-S),bt=(I/2-S)*(I/2-S)+(M-S)*(M-S)-S*S,kt=(-ct+Math.sqrt(ct*ct-4*ut*bt))/(2*ut)),kt=Math.min(1,kt),W?Et=Math.max(0,S-Math.sqrt(Math.max(0,S*S-(S-(M-H.y*kt)/2)*(S-(M-H.y*kt)/2)))-A):Et=Math.max(0,S-Math.sqrt(Math.max(0,S*S-(S-(I-H.x*kt)/2)*(S-(I-H.x*kt)/2)))-A),{scale:kt,pad:Et}}function O(ot,ht,pt,yt,H,q){var A=!!q.isHorizontal,W=!!q.constrained,rt=q.angle||0,I=H.width,M=H.height,S=Math.abs(ht-ot),N=Math.abs(yt-pt),V;A?V=N>2*d?d:0:V=S>2*d?d:0;var nt=1;W&&(nt=A?Math.min(1,N/M):Math.min(1,S/I));var ut=F(rt),ct=R(H,ut),bt=(A?ct.x:ct.y)/2,kt=(H.left+H.right)/2,Et=(H.top+H.bottom)/2,Gt=(ot+ht)/2,Vt=(pt+yt)/2,Ht=0,vt=0,xt=A?U(ht,ot):U(pt,yt);return A?(Gt=ht-xt*V,Ht=xt*bt):(Vt=yt+xt*V,vt=-xt*bt),{textX:kt,textY:Et,targetX:Gt,targetY:Vt,anchorX:Ht,anchorY:vt,scale:nt,rotate:ut}}function J(ot,ht,pt,yt,H){var q=ht[0].trace,A=q.texttemplate,W;return A?W=it(ot,ht,pt,yt,H):q.textinfo?W=at(ht,pt,yt,H):W=_.getValue(q.text,pt),_.coerceString(g,W)}function X(ot,ht){var pt=_.getValue(ot.textposition,ht);return _.coerceEnumerated(x,pt)}function it(ot,ht,pt,yt,H){var q=ht[0].trace,A=a.castOption(q,pt,"texttemplate");if(!A)return"";var W=q.type==="histogram",rt=q.type==="waterfall",I=q.type==="funnel",M=q.orientation==="h",S,N,V,nt;M?(S="y",N=H,V="x",nt=yt):(S="x",N=yt,V="y",nt=H);function ut(Ht){return f(N,N.c2l(Ht),!0).text}function ct(Ht){return f(nt,nt.c2l(Ht),!0).text}var bt=ht[pt],kt={};kt.label=bt.p,kt.labelLabel=kt[S+"Label"]=ut(bt.p);var Et=a.castOption(q,bt.i,"text");(Et===0||Et)&&(kt.text=Et),kt.value=bt.s,kt.valueLabel=kt[V+"Label"]=ct(bt.s);var Gt={};u(Gt,q,bt.i),(W||Gt.x===void 0)&&(Gt.x=M?kt.value:kt.label),(W||Gt.y===void 0)&&(Gt.y=M?kt.label:kt.value),(W||Gt.xLabel===void 0)&&(Gt.xLabel=M?kt.valueLabel:kt.labelLabel),(W||Gt.yLabel===void 0)&&(Gt.yLabel=M?kt.labelLabel:kt.valueLabel),rt&&(kt.delta=+bt.rawS||bt.s,kt.deltaLabel=ct(kt.delta),kt.final=bt.v,kt.finalLabel=ct(kt.final),kt.initial=kt.final-kt.delta,kt.initialLabel=ct(kt.initial)),I&&(kt.value=bt.s,kt.valueLabel=ct(kt.value),kt.percentInitial=bt.begR,kt.percentInitialLabel=a.formatPercent(bt.begR),kt.percentPrevious=bt.difR,kt.percentPreviousLabel=a.formatPercent(bt.difR),kt.percentTotal=bt.sumR,kt.percenTotalLabel=a.formatPercent(bt.sumR));var Vt=a.castOption(q,bt.i,"customdata");return Vt&&(kt.customdata=Vt),a.texttemplateString(A,kt,ot._d3locale,Gt,kt,q._meta||{})}function at(ot,ht,pt,yt){var H=ot[0].trace,q=H.orientation==="h",A=H.type==="waterfall",W=H.type==="funnel";function rt(Vt){var Ht=q?yt:pt;return f(Ht,Vt,!0).text}function I(Vt){var Ht=q?pt:yt;return f(Ht,+Vt,!0).text}var M=H.textinfo,S=ot[ht],N=M.split("+"),V=[],nt,ut=function(Vt){return N.indexOf(Vt)!==-1};if(ut("label")&&V.push(rt(ot[ht].p)),ut("text")&&(nt=a.castOption(H,S.i,"text"),(nt===0||nt)&&V.push(nt)),A){var ct=+S.rawS||S.s,bt=S.v,kt=bt-ct;ut("initial")&&V.push(I(kt)),ut("delta")&&V.push(I(ct)),ut("final")&&V.push(I(bt))}if(W){ut("value")&&V.push(I(S.s));var Et=0;ut("percent initial")&&Et++,ut("percent previous")&&Et++,ut("percent total")&&Et++;var Gt=Et>1;ut("percent initial")&&(nt=a.formatPercent(S.begR),Gt&&(nt+=" of initial"),V.push(nt)),ut("percent previous")&&(nt=a.formatPercent(S.difR),Gt&&(nt+=" of previous"),V.push(nt)),ut("percent total")&&(nt=a.formatPercent(S.sumR),Gt&&(nt+=" of total"),V.push(nt))}return V.join("<br>")}P.exports={plot:Y,toMoveInsideBar:Z}}),Pd=Mt((E,P)=>{var i=mn(),t=da(),a=Ta(),l=Oe().fillText,n=_o().getLineWidth,o=Ka().hoverLabelText,s=Fa().BADNUM;function f(c,h,_,y,v){var g=e(c,h,_,y,v);if(g){var x=g.cd,u=x[0].trace,d=x[g.index];return g.color=p(u,d),t.getComponentMethod("errorbars","hoverInfo")(d,u,g),[g]}}function e(c,h,_,y,v){var g=c.cd,x=g[0].trace,u=g[0].t,d=y==="closest",m=x.type==="waterfall",w=c.maxHoverDistance,k=c.maxSpikeDistance,U,D,C,T,Y,z,j;x.orientation==="h"?(U=_,D=h,C="y",T="x",Y=yt,z=ot):(U=h,D=_,C="x",T="y",z=yt,Y=ot);var F=x[C+"period"],R=d||F;function Z(nt){return O(nt,-1)}function G(nt){return O(nt,1)}function O(nt,ut){var ct=nt.w;return nt[C]+ut*ct/2}function J(nt){return nt[C+"End"]-nt[C+"Start"]}var X=d?Z:F?function(nt){return nt.p-J(nt)/2}:function(nt){return Math.min(Z(nt),nt.p-u.bardelta/2)},it=d?G:F?function(nt){return nt.p+J(nt)/2}:function(nt){return Math.max(G(nt),nt.p+u.bardelta/2)};function at(nt,ut,ct){return v.finiteRange&&(ct=0),i.inbox(nt-U,ut-U,ct+Math.min(1,Math.abs(ut-nt)/j)-1)}function ot(nt){return at(X(nt),it(nt),w)}function ht(nt){return at(Z(nt),G(nt),k)}function pt(nt){var ut=nt[T];if(m){var ct=Math.abs(nt.rawS)||0;D>0?ut+=ct:D<0&&(ut-=ct)}return ut}function yt(nt){var ut=D,ct=nt.b,bt=pt(nt);return i.inbox(ct-ut,bt-ut,w+(bt-ut)/(bt-ct)-1)}function H(nt){var ut=D,ct=nt.b,bt=pt(nt);return i.inbox(ct-ut,bt-ut,k+(bt-ut)/(bt-ct)-1)}var q=c[C+"a"],A=c[T+"a"];j=Math.abs(q.r2c(q.range[1])-q.r2c(q.range[0]));function W(nt){return(Y(nt)+z(nt))/2}var rt=i.getDistanceFunction(y,Y,z,W);if(i.getClosest(g,rt,c),c.index!==!1&&g[c.index].p!==s){R||(X=function(nt){return Math.min(Z(nt),nt.p-u.bargroupwidth/2)},it=function(nt){return Math.max(G(nt),nt.p+u.bargroupwidth/2)});var I=c.index,M=g[I],S=x.base?M.b+M.s:M.s;c[T+"0"]=c[T+"1"]=A.c2p(M[T],!0),c[T+"LabelVal"]=S;var N=u.extents[u.extents.round(M.p)];c[C+"0"]=q.c2p(d?X(M):N[0],!0),c[C+"1"]=q.c2p(d?it(M):N[1],!0);var V=M.orig_p!==void 0;return c[C+"LabelVal"]=V?M.orig_p:M.p,c.labelLabel=o(q,c[C+"LabelVal"],x[C+"hoverformat"]),c.valueLabel=o(A,c[T+"LabelVal"],x[T+"hoverformat"]),c.baseLabel=o(A,M.b,x[T+"hoverformat"]),c.spikeDistance=(H(M)+ht(M))/2,c[C+"Spike"]=q.c2p(M.p,!0),l(M,x,c),c.hovertemplate=x.hovertemplate,c}}function p(c,h){var _=h.mcc||c.marker.color,y=h.mlcc||c.marker.line.color,v=n(c,h);if(a.opacity(_))return _;if(a.opacity(y)&&v)return y}P.exports={hoverPoints:f,hoverOnBars:e,getTraceColor:p}}),zd=Mt((E,P)=>{P.exports=function(i,t,a){return i.x="xVal"in t?t.xVal:t.x,i.y="yVal"in t?t.yVal:t.y,t.xa&&(i.xaxis=t.xa),t.ya&&(i.yaxis=t.ya),a.orientation==="h"?(i.label=i.y,i.value=i.x):(i.label=i.x,i.value=i.y),i}}),Id=Mt((E,P)=>{P.exports=function(t,a){var l=t.cd,n=t.xaxis,o=t.yaxis,s=l[0].trace,f=s.type==="funnel",e=s.orientation==="h",p=[],c;if(a===!1)for(c=0;c<l.length;c++)l[c].selected=0;else for(c=0;c<l.length;c++){var h=l[c],_="ct"in h?h.ct:i(h,n,o,e,f);a.contains(_,!1,c,t)?(p.push({pointNumber:c,x:n.c2d(h.x),y:o.c2d(h.y)}),h.selected=1):h.selected=0}return p};function i(t,a,l,n,o){var s=a.c2p(n?t.s0:t.p0,!0),f=a.c2p(n?t.s1:t.p1,!0),e=l.c2p(n?t.p0:t.s0,!0),p=l.c2p(n?t.p1:t.s1,!0);return o?[(s+f)/2,(e+p)/2]:n?[f,(e+p)/2]:[(s+f)/2,p]}}),Ed=Mt((E,P)=>{P.exports={attributes:vi(),layoutAttributes:ss(),supplyDefaults:gi().supplyDefaults,crossTraceDefaults:gi().crossTraceDefaults,supplyLayoutDefaults:Cd(),calc:Od(),crossTraceCalc:Gl().crossTraceCalc,colorbar:Jl(),arraysToCalcdata:us(),plot:Dd().plot,style:wo().style,styleOnSelect:wo().styleOnSelect,hoverPoints:Pd().hoverPoints,eventData:zd(),selectPoints:Id(),moduleType:"trace",name:"bar",basePlotModule:fo(),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}}),Fd=Mt((E,P)=>{P.exports=Ed()}),cs=Mt((E,P)=>{var i=an(),t=xo().attributes,a=Lr(),l=dn(),n=vn().hovertemplateAttrs,o=vn().texttemplateAttrs,s=yr().extendFlat,f=pn().pattern,e=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});P.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:l.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:f,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},i.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:n({},{keys:["label","color","value","percent","text"]}),texttemplate:o({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},e,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},e,{}),outsidetextfont:s({},e,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},e,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:t({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"}}}),Nd=Mt((E,P)=>{var i=ua(),t=Oe(),a=cs(),l=xo().defaults,n=gi().handleText,o=Oe().coercePattern;function s(p,c){var h=t.isArrayOrTypedArray(p),_=t.isArrayOrTypedArray(c),y=Math.min(h?p.length:1/0,_?c.length:1/0);if(isFinite(y)||(y=0),y&&_){for(var v,g=0;g<y;g++){var x=c[g];if(i(x)&&x>0){v=!0;break}}v||(y=0)}return{hasLabels:h,hasValues:_,len:y}}function f(p,c,h,_,y){var v=_("marker.line.width");v&&_("marker.line.color",y?void 0:h.paper_bgcolor);var g=_("marker.colors");o(_,"marker.pattern",g),p.marker&&!c.marker.pattern.fgcolor&&(c.marker.pattern.fgcolor=p.marker.colors),c.marker.pattern.bgcolor||(c.marker.pattern.bgcolor=h.paper_bgcolor)}function e(p,c,h,_){function y(z,j){return t.coerce(p,c,a,z,j)}var v=y("labels"),g=y("values"),x=s(v,g),u=x.len;if(c._hasLabels=x.hasLabels,c._hasValues=x.hasValues,!c._hasLabels&&c._hasValues&&(y("label0"),y("dlabel")),!u){c.visible=!1;return}c._length=u,f(p,c,_,y,!0),y("scalegroup");var d=y("text"),m=y("texttemplate"),w;if(m||(w=y("textinfo",t.isArrayOrTypedArray(d)?"text+percent":"percent")),y("hovertext"),y("hovertemplate"),m||w&&w!=="none"){var k=y("textposition");n(p,c,_,y,k,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var U=Array.isArray(k)||k==="auto",D=U||k==="outside";D&&y("automargin"),(k==="inside"||k==="auto"||Array.isArray(k))&&y("insidetextorientation")}else w==="none"&&y("textposition","none");l(c,_,y);var C=y("hole"),T=y("title.text");if(T){var Y=y("title.position",C?"middle center":"top center");!C&&Y==="middle center"&&(c.title.position="top center"),t.coerceFont(y,"title.font",_.font)}y("sort"),y("direction"),y("rotation"),y("pull")}P.exports={handleLabelsAndValues:s,handleMarkerDefaults:f,supplyDefaults:e}}),fs=Mt((E,P)=>{P.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}}),Rd=Mt((E,P)=>{var i=Oe(),t=fs();P.exports=function(a,l){function n(o,s){return i.coerce(a,l,t,o,s)}n("hiddenlabels"),n("piecolorway",l.colorway),n("extendpiecolors")}}),ds=Mt((E,P)=>{var i=ua(),t=Yr(),a=Ta(),l={};function n(e,p){var c=[],h=e._fullLayout,_=h.hiddenlabels||[],y=p.labels,v=p.marker.colors||[],g=p.values,x=p._length,u=p._hasValues&&x,d,m;if(p.dlabel)for(y=new Array(x),d=0;d<x;d++)y[d]=String(p.label0+d*p.dlabel);var w={},k=o(h["_"+p.type+"colormap"]),U=0,D=!1;for(d=0;d<x;d++){var C,T,Y;if(u){if(C=g[d],!i(C))continue;C=+C}else C=1;T=y[d],(T===void 0||T==="")&&(T=d),T=String(T);var z=w[T];z===void 0?(w[T]=c.length,Y=_.indexOf(T)!==-1,Y||(U+=C),c.push({v:C,label:T,color:k(v[d],T),i:d,pts:[d],hidden:Y})):(D=!0,m=c[z],m.v+=C,m.pts.push(d),m.hidden||(U+=C),m.color===!1&&v[d]&&(m.color=k(v[d],T)))}c=c.filter(function(F){return F.v>=0});var j=p.type==="funnelarea"?D:p.sort;return j&&c.sort(function(F,R){return R.v-F.v}),c[0]&&(c[0].vTotal=U),c}function o(e){return function(p,c){return!p||(p=t(p),!p.isValid())?!1:(p=a.addOpacity(p,p.getAlpha()),e[c]||(e[c]=p),p)}}function s(e,p){var c=(p||{}).type;c||(c="pie");var h=e._fullLayout,_=e.calcdata,y=h[c+"colorway"],v=h["_"+c+"colormap"];h["extend"+c+"colors"]&&(y=f(y,l));for(var g=0,x=0;x<_.length;x++){var u=_[x],d=u[0].trace.type;if(d===c)for(var m=0;m<u.length;m++){var w=u[m];w.color===!1&&(v[w.label]?w.color=v[w.label]:(v[w.label]=w.color=y[g%y.length],g++))}}}function f(e,p){var c,h=JSON.stringify(e),_=p[h];if(!_){for(_=e.slice(),c=0;c<e.length;c++)_.push(t(e[c]).lighten(20).toHexString());for(c=0;c<e.length;c++)_.push(t(e[c]).darken(20).toHexString());p[h]=_}return _}P.exports={calc:n,crossTraceCalc:s,makePullColorFn:o,generateExtendedColors:f}}),jd=Mt((E,P)=>{var i=gn().appendArrayMultiPointValues;P.exports=function(t,a){var l={curveNumber:a.index,pointNumbers:t.pts,data:a._input,fullData:a,label:t.label,color:t.color,value:t.v,percent:t.percent,text:t.text,bbox:t.bbox,v:t.v};return t.pts.length===1&&(l.pointNumber=l.i=t.pts[0]),i(l,a,t.pts),a.type==="funnelarea"&&(delete l.v,delete l.i),l}}),Hd=Mt((E,P)=>{var i=Ke(),t=hr(),a=mn(),l=Ta(),n=Ga(),o=Oe(),s=o.strScale,f=o.strTranslate,e=Pr(),p=mi(),c=p.recordMinTextSize,h=p.clearMinTextSize,_=bo().TEXTPAD,y=$i(),v=jd(),g=Oe().isValidTextValue;function x(q,A){var W=q._context.staticPlot,rt=q._fullLayout,I=rt._size;h("pie",rt),k(A,q),at(A,I);var M=o.makeTraceGroups(rt._pielayer,A,"trace").each(function(S){var N=i.select(this),V=S[0],nt=V.trace;ht(S),N.attr("stroke-linejoin","round"),N.each(function(){var ut=i.select(this).selectAll("g.slice").data(S);ut.enter().append("g").classed("slice",!0),ut.exit().remove();var ct=[[[],[]],[[],[]]],bt=!1;ut.each(function(lt,At){if(lt.hidden){i.select(this).selectAll("path,g").remove();return}lt.pointNumber=lt.i,lt.curveNumber=nt.index,ct[lt.pxmid[1]<0?0:1][lt.pxmid[0]<0?0:1].push(lt);var Rt=V.cx,Ut=V.cy,te=i.select(this),Wt=te.selectAll("path.surface").data([lt]);if(Wt.enter().append("path").classed("surface",!0).style({"pointer-events":W?"none":"all"}),te.call(d,q,S),nt.pull){var ae=+y.castOption(nt.pull,lt.pts)||0;ae>0&&(Rt+=ae*lt.pxmid[0],Ut+=ae*lt.pxmid[1])}lt.cxFinal=Rt,lt.cyFinal=Ut;function ne(_e,mt,Ct,Q){var st=Q*(mt[0]-_e[0]),ft=Q*(mt[1]-_e[1]);return"a"+Q*V.r+","+Q*V.r+" 0 "+lt.largeArc+(Ct?" 1 ":" 0 ")+st+","+ft}var re=nt.hole;if(lt.v===V.vTotal){var de="M"+(Rt+lt.px0[0])+","+(Ut+lt.px0[1])+ne(lt.px0,lt.pxmid,!0,1)+ne(lt.pxmid,lt.px0,!0,1)+"Z";re?Wt.attr("d","M"+(Rt+re*lt.px0[0])+","+(Ut+re*lt.px0[1])+ne(lt.px0,lt.pxmid,!1,re)+ne(lt.pxmid,lt.px0,!1,re)+"Z"+de):Wt.attr("d",de)}else{var $t=ne(lt.px0,lt.px1,!0,1);if(re){var ve=1-re;Wt.attr("d","M"+(Rt+re*lt.px1[0])+","+(Ut+re*lt.px1[1])+ne(lt.px1,lt.px0,!1,re)+"l"+ve*lt.px0[0]+","+ve*lt.px0[1]+$t+"Z")}else Wt.attr("d","M"+Rt+","+Ut+"l"+lt.px0[0]+","+lt.px0[1]+$t+"Z")}yt(q,lt,V);var xe=y.castOption(nt.textposition,lt.pts),pe=te.selectAll("g.slicetext").data(lt.text&&xe!=="none"?[0]:[]);pe.enter().append("g").classed("slicetext",!0),pe.exit().remove(),pe.each(function(){var _e=o.ensureSingle(i.select(this),"text","",function(zt){zt.attr("data-notex",1)}),mt=o.ensureUniformFontSize(q,xe==="outside"?m(nt,lt,rt.font):w(nt,lt,rt.font));_e.text(lt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(n.font,mt).call(e.convertToTspans,q);var Ct=n.bBox(_e.node()),Q;if(xe==="outside")Q=R(Ct,lt);else if(Q=U(Ct,lt,V),xe==="auto"&&Q.scale<1){var st=o.ensureUniformFontSize(q,nt.outsidetextfont);_e.call(n.font,st),Ct=n.bBox(_e.node()),Q=R(Ct,lt)}var ft=Q.textPosAngle,_t=ft===void 0?lt.pxmid:pt(V.r,ft);if(Q.targetX=Rt+_t[0]*Q.rCenter+(Q.x||0),Q.targetY=Ut+_t[1]*Q.rCenter+(Q.y||0),H(Q,Ct),Q.outside){var Tt=Q.targetY;lt.yLabelMin=Tt-Ct.height/2,lt.yLabelMid=Tt,lt.yLabelMax=Tt+Ct.height/2,lt.labelExtraX=0,lt.labelExtraY=0,bt=!0}Q.fontSize=mt.size,c(nt.type,Q,rt),S[At].transform=Q,o.setTransormAndDisplay(_e,Q)})});var kt=i.select(this).selectAll("g.titletext").data(nt.title.text?[0]:[]);if(kt.enter().append("g").classed("titletext",!0),kt.exit().remove(),kt.each(function(){var lt=o.ensureSingle(i.select(this),"text","",function(Ut){Ut.attr("data-notex",1)}),At=nt.title.text;nt._meta&&(At=o.templateString(At,nt._meta)),lt.text(At).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(n.font,nt.title.font).call(e.convertToTspans,q);var Rt;nt.title.position==="middle center"?Rt=Z(V):Rt=G(V,I),lt.attr("transform",f(Rt.x,Rt.y)+s(Math.min(1,Rt.scale))+f(Rt.tx,Rt.ty))}),bt&&it(ct,nt),u(ut,nt),bt&&nt.automargin){var Et=n.bBox(N.node()),Gt=nt.domain,Vt=I.w*(Gt.x[1]-Gt.x[0]),Ht=I.h*(Gt.y[1]-Gt.y[0]),vt=(.5*Vt-V.r)/I.w,xt=(.5*Ht-V.r)/I.h;t.autoMargin(q,"pie."+nt.uid+".automargin",{xl:Gt.x[0]-vt,xr:Gt.x[1]+vt,yb:Gt.y[0]-xt,yt:Gt.y[1]+xt,l:Math.max(V.cx-V.r-Et.left,0),r:Math.max(Et.right-(V.cx+V.r),0),b:Math.max(Et.bottom-(V.cy+V.r),0),t:Math.max(V.cy-V.r-Et.top,0),pad:5})}})});setTimeout(function(){M.selectAll("tspan").each(function(){var S=i.select(this);S.attr("dy")&&S.attr("dy",S.attr("dy"))})},0)}function u(q,A){q.each(function(W){var rt=i.select(this);if(!W.labelExtraX&&!W.labelExtraY){rt.select("path.textline").remove();return}var I=rt.select("g.slicetext text");W.transform.targetX+=W.labelExtraX,W.transform.targetY+=W.labelExtraY,o.setTransormAndDisplay(I,W.transform);var M=W.cxFinal+W.pxmid[0],S=W.cyFinal+W.pxmid[1],N="M"+M+","+S,V=(W.yLabelMax-W.yLabelMin)*(W.pxmid[0]<0?-1:1)/4;if(W.labelExtraX){var nt=W.labelExtraX*W.pxmid[1]/W.pxmid[0],ut=W.yLabelMid+W.labelExtraY-(W.cyFinal+W.pxmid[1]);Math.abs(nt)>Math.abs(ut)?N+="l"+ut*W.pxmid[0]/W.pxmid[1]+","+ut+"H"+(M+W.labelExtraX+V):N+="l"+W.labelExtraX+","+nt+"v"+(ut-nt)+"h"+V}else N+="V"+(W.yLabelMid+W.labelExtraY)+"h"+V;o.ensureSingle(rt,"path","textline").call(l.stroke,A.outsidetextfont.color).attr({"stroke-width":Math.min(2,A.outsidetextfont.size/8),d:N,fill:"none"})})}function d(q,A,W){var rt=W[0],I=rt.cx,M=rt.cy,S=rt.trace,N=S.type==="funnelarea";"_hasHoverLabel"in S||(S._hasHoverLabel=!1),"_hasHoverEvent"in S||(S._hasHoverEvent=!1),q.on("mouseover",function(V){var nt=A._fullLayout,ut=A._fullData[S.index];if(!(A._dragging||nt.hovermode===!1)){var ct=ut.hoverinfo;if(Array.isArray(ct)&&(ct=a.castHoverinfo({hoverinfo:[y.castOption(ct,V.pts)],_module:S._module},nt,0)),ct==="all"&&(ct="label+text+value+percent+name"),ut.hovertemplate||ct!=="none"&&ct!=="skip"&&ct){var bt=V.rInscribed||0,kt=I+V.pxmid[0]*(1-bt),Et=M+V.pxmid[1]*(1-bt),Gt=nt.separators,Vt=[];if(ct&&ct.indexOf("label")!==-1&&Vt.push(V.label),V.text=y.castOption(ut.hovertext||ut.text,V.pts),ct&&ct.indexOf("text")!==-1){var Ht=V.text;o.isValidTextValue(Ht)&&Vt.push(Ht)}V.value=V.v,V.valueLabel=y.formatPieValue(V.v,Gt),ct&&ct.indexOf("value")!==-1&&Vt.push(V.valueLabel),V.percent=V.v/rt.vTotal,V.percentLabel=y.formatPiePercent(V.percent,Gt),ct&&ct.indexOf("percent")!==-1&&Vt.push(V.percentLabel);var vt=ut.hoverlabel,xt=vt.font,lt=[];a.loneHover({trace:S,x0:kt-bt*rt.r,x1:kt+bt*rt.r,y:Et,_x0:N?I+V.TL[0]:kt-bt*rt.r,_x1:N?I+V.TR[0]:kt+bt*rt.r,_y0:N?M+V.TL[1]:Et-bt*rt.r,_y1:N?M+V.BL[1]:Et+bt*rt.r,text:Vt.join("<br>"),name:ut.hovertemplate||ct.indexOf("name")!==-1?ut.name:void 0,idealAlign:V.pxmid[0]<0?"left":"right",color:y.castOption(vt.bgcolor,V.pts)||V.color,borderColor:y.castOption(vt.bordercolor,V.pts),fontFamily:y.castOption(xt.family,V.pts),fontSize:y.castOption(xt.size,V.pts),fontColor:y.castOption(xt.color,V.pts),nameLength:y.castOption(vt.namelength,V.pts),textAlign:y.castOption(vt.align,V.pts),hovertemplate:y.castOption(ut.hovertemplate,V.pts),hovertemplateLabels:V,eventData:[v(V,ut)]},{container:nt._hoverlayer.node(),outerContainer:nt._paper.node(),gd:A,inOut_bbox:lt}),V.bbox=lt[0],S._hasHoverLabel=!0}S._hasHoverEvent=!0,A.emit("plotly_hover",{points:[v(V,ut)],event:i.event})}}),q.on("mouseout",function(V){var nt=A._fullLayout,ut=A._fullData[S.index],ct=i.select(this).datum();S._hasHoverEvent&&(V.originalEvent=i.event,A.emit("plotly_unhover",{points:[v(ct,ut)],event:i.event}),S._hasHoverEvent=!1),S._hasHoverLabel&&(a.loneUnhover(nt._hoverlayer.node()),S._hasHoverLabel=!1)}),q.on("click",function(V){var nt=A._fullLayout,ut=A._fullData[S.index];A._dragging||nt.hovermode===!1||(A._hoverdata=[v(V,ut)],a.click(A,i.event))})}function m(q,A,W){var rt=y.castOption(q.outsidetextfont.color,A.pts)||y.castOption(q.textfont.color,A.pts)||W.color,I=y.castOption(q.outsidetextfont.family,A.pts)||y.castOption(q.textfont.family,A.pts)||W.family,M=y.castOption(q.outsidetextfont.size,A.pts)||y.castOption(q.textfont.size,A.pts)||W.size,S=y.castOption(q.outsidetextfont.weight,A.pts)||y.castOption(q.textfont.weight,A.pts)||W.weight,N=y.castOption(q.outsidetextfont.style,A.pts)||y.castOption(q.textfont.style,A.pts)||W.style,V=y.castOption(q.outsidetextfont.variant,A.pts)||y.castOption(q.textfont.variant,A.pts)||W.variant,nt=y.castOption(q.outsidetextfont.textcase,A.pts)||y.castOption(q.textfont.textcase,A.pts)||W.textcase,ut=y.castOption(q.outsidetextfont.lineposition,A.pts)||y.castOption(q.textfont.lineposition,A.pts)||W.lineposition,ct=y.castOption(q.outsidetextfont.shadow,A.pts)||y.castOption(q.textfont.shadow,A.pts)||W.shadow;return{color:rt,family:I,size:M,weight:S,style:N,variant:V,textcase:nt,lineposition:ut,shadow:ct}}function w(q,A,W){var rt=y.castOption(q.insidetextfont.color,A.pts);!rt&&q._input.textfont&&(rt=y.castOption(q._input.textfont.color,A.pts));var I=y.castOption(q.insidetextfont.family,A.pts)||y.castOption(q.textfont.family,A.pts)||W.family,M=y.castOption(q.insidetextfont.size,A.pts)||y.castOption(q.textfont.size,A.pts)||W.size,S=y.castOption(q.insidetextfont.weight,A.pts)||y.castOption(q.textfont.weight,A.pts)||W.weight,N=y.castOption(q.insidetextfont.style,A.pts)||y.castOption(q.textfont.style,A.pts)||W.style,V=y.castOption(q.insidetextfont.variant,A.pts)||y.castOption(q.textfont.variant,A.pts)||W.variant,nt=y.castOption(q.insidetextfont.textcase,A.pts)||y.castOption(q.textfont.textcase,A.pts)||W.textcase,ut=y.castOption(q.insidetextfont.lineposition,A.pts)||y.castOption(q.textfont.lineposition,A.pts)||W.lineposition,ct=y.castOption(q.insidetextfont.shadow,A.pts)||y.castOption(q.textfont.shadow,A.pts)||W.shadow;return{color:rt||l.contrast(A.color),family:I,size:M,weight:S,style:N,variant:V,textcase:nt,lineposition:ut,shadow:ct}}function k(q,A){for(var W,rt,I=0;I<q.length;I++)if(W=q[I][0],rt=W.trace,rt.title.text){var M=rt.title.text;rt._meta&&(M=o.templateString(M,rt._meta));var S=n.tester.append("text").attr("data-notex",1).text(M).call(n.font,rt.title.font).call(e.convertToTspans,A),N=n.bBox(S.node(),!0);W.titleBox={width:N.width,height:N.height},S.remove()}}function U(q,A,W){var rt=W.r||A.rpx1,I=A.rInscribed,M=A.startangle===A.stopangle;if(M)return{rCenter:1-I,scale:0,rotate:0,textPosAngle:0};var S=A.ring,N=S===1&&Math.abs(A.startangle-A.stopangle)===Math.PI*2,V=A.halfangle,nt=A.midangle,ut=W.trace.insidetextorientation,ct=ut==="horizontal",bt=ut==="tangential",kt=ut==="radial",Et=ut==="auto",Gt=[],Vt;if(!Et){var Ht=function(te,Wt){if(D(A,te)){var ae=Math.abs(te-A.startangle),ne=Math.abs(te-A.stopangle),re=ae<ne?ae:ne;Wt==="tan"?Vt=T(q,rt,S,re,0):Vt=C(q,rt,S,re,Math.PI/2),Vt.textPosAngle=te,Gt.push(Vt)}},vt;if(ct||bt){for(vt=4;vt>=-4;vt-=2)Ht(Math.PI*vt,"tan");for(vt=4;vt>=-4;vt-=2)Ht(Math.PI*(vt+1),"tan")}if(ct||kt){for(vt=4;vt>=-4;vt-=2)Ht(Math.PI*(vt+1.5),"rad");for(vt=4;vt>=-4;vt-=2)Ht(Math.PI*(vt+.5),"rad")}}if(N||Et||ct){var xt=Math.sqrt(q.width*q.width+q.height*q.height);if(Vt={scale:I*rt*2/xt,rCenter:1-I,rotate:0},Vt.textPosAngle=(A.startangle+A.stopangle)/2,Vt.scale>=1)return Vt;Gt.push(Vt)}(Et||kt)&&(Vt=C(q,rt,S,V,nt),Vt.textPosAngle=(A.startangle+A.stopangle)/2,Gt.push(Vt)),(Et||bt)&&(Vt=T(q,rt,S,V,nt),Vt.textPosAngle=(A.startangle+A.stopangle)/2,Gt.push(Vt));for(var lt=0,At=0,Rt=0;Rt<Gt.length;Rt++){var Ut=Gt[Rt].scale;if(At<Ut&&(At=Ut,lt=Rt),!Et&&At>=1)break}return Gt[lt]}function D(q,A){var W=q.startangle,rt=q.stopangle;return W>A&&A>rt||W<A&&A<rt}function C(q,A,W,rt,I){A=Math.max(0,A-2*_);var M=q.width/q.height,S=j(M,rt,A,W);return{scale:S*2/q.height,rCenter:Y(M,S/A),rotate:z(I)}}function T(q,A,W,rt,I){A=Math.max(0,A-2*_);var M=q.height/q.width,S=j(M,rt,A,W);return{scale:S*2/q.width,rCenter:Y(M,S/A),rotate:z(I+Math.PI/2)}}function Y(q,A){return Math.cos(A)-q*A}function z(q){return(180/Math.PI*q+720)%180-90}function j(q,A,W,rt){var I=q+1/(2*Math.tan(A));return W*Math.min(1/(Math.sqrt(I*I+.5)+I),rt/(Math.sqrt(q*q+rt/2)+q))}function F(q,A){return q.v===A.vTotal&&!A.trace.hole?1:Math.min(1/(1+1/Math.sin(q.halfangle)),q.ring/2)}function R(q,A){var W=A.pxmid[0],rt=A.pxmid[1],I=q.width/2,M=q.height/2;return W<0&&(I*=-1),rt<0&&(M*=-1),{scale:1,rCenter:1,rotate:0,x:I+Math.abs(M)*(I>0?1:-1)/2,y:M/(1+W*W/(rt*rt)),outside:!0}}function Z(q){var A=Math.sqrt(q.titleBox.width*q.titleBox.width+q.titleBox.height*q.titleBox.height);return{x:q.cx,y:q.cy,scale:q.trace.hole*q.r*2/A,tx:0,ty:-q.titleBox.height/2+q.trace.title.font.size}}function G(q,A){var W=1,rt=1,I,M=q.trace,S={x:q.cx,y:q.cy},N={tx:0,ty:0};N.ty+=M.title.font.size,I=X(M),M.title.position.indexOf("top")!==-1?(S.y-=(1+I)*q.r,N.ty-=q.titleBox.height):M.title.position.indexOf("bottom")!==-1&&(S.y+=(1+I)*q.r);var V=O(q.r,q.trace.aspectratio),nt=A.w*(M.domain.x[1]-M.domain.x[0])/2;return M.title.position.indexOf("left")!==-1?(nt=nt+V,S.x-=(1+I)*V,N.tx+=q.titleBox.width/2):M.title.position.indexOf("center")!==-1?nt*=2:M.title.position.indexOf("right")!==-1&&(nt=nt+V,S.x+=(1+I)*V,N.tx-=q.titleBox.width/2),W=nt/q.titleBox.width,rt=J(q,A)/q.titleBox.height,{x:S.x,y:S.y,scale:Math.min(W,rt),tx:N.tx,ty:N.ty}}function O(q,A){return q/(A===void 0?1:A)}function J(q,A){var W=q.trace,rt=A.h*(W.domain.y[1]-W.domain.y[0]);return Math.min(q.titleBox.height,rt/2)}function X(q){var A=q.pull;if(!A)return 0;var W;if(o.isArrayOrTypedArray(A))for(A=0,W=0;W<q.pull.length;W++)q.pull[W]>A&&(A=q.pull[W]);return A}function it(q,A){var W,rt,I,M,S,N,V,nt,ut,ct,bt,kt,Et;function Gt(xt,lt){return xt.pxmid[1]-lt.pxmid[1]}function Vt(xt,lt){return lt.pxmid[1]-xt.pxmid[1]}function Ht(xt,lt){lt||(lt={});var At=lt.labelExtraY+(rt?lt.yLabelMax:lt.yLabelMin),Rt=rt?xt.yLabelMin:xt.yLabelMax,Ut=rt?xt.yLabelMax:xt.yLabelMin,te=xt.cyFinal+S(xt.px0[1],xt.px1[1]),Wt=At-Rt,ae,ne,re,de,$t,ve;if(Wt*V>0&&(xt.labelExtraY=Wt),!!o.isArrayOrTypedArray(A.pull))for(ne=0;ne<ct.length;ne++)re=ct[ne],!(re===xt||(y.castOption(A.pull,xt.pts)||0)>=(y.castOption(A.pull,re.pts)||0))&&((xt.pxmid[1]-re.pxmid[1])*V>0?(de=re.cyFinal+S(re.px0[1],re.px1[1]),Wt=de-Rt-xt.labelExtraY,Wt*V>0&&(xt.labelExtraY+=Wt)):(Ut+xt.labelExtraY-te)*V>0&&(ae=3*N*Math.abs(ne-ct.indexOf(xt)),$t=re.cxFinal+M(re.px0[0],re.px1[0]),ve=$t+ae-(xt.cxFinal+xt.pxmid[0])-xt.labelExtraX,ve*N>0&&(xt.labelExtraX+=ve)))}for(rt=0;rt<2;rt++)for(I=rt?Gt:Vt,S=rt?Math.max:Math.min,V=rt?1:-1,W=0;W<2;W++){for(M=W?Math.max:Math.min,N=W?1:-1,nt=q[rt][W],nt.sort(I),ut=q[1-rt][W],ct=ut.concat(nt),kt=[],bt=0;bt<nt.length;bt++)nt[bt].yLabelMid!==void 0&&kt.push(nt[bt]);for(Et=!1,bt=0;rt&&bt<ut.length;bt++)if(ut[bt].yLabelMid!==void 0){Et=ut[bt];break}for(bt=0;bt<kt.length;bt++){var vt=bt&&kt[bt-1];Et&&!bt&&(vt=Et),Ht(kt[bt],vt)}}}function at(q,A){for(var W=[],rt=0;rt<q.length;rt++){var I=q[rt][0],M=I.trace,S=M.domain,N=A.w*(S.x[1]-S.x[0]),V=A.h*(S.y[1]-S.y[0]);M.title.text&&M.title.position!=="middle center"&&(V-=J(I,A));var nt=N/2,ut=V/2;M.type==="funnelarea"&&!M.scalegroup&&(ut/=M.aspectratio),I.r=Math.min(nt,ut)/(1+X(M)),I.cx=A.l+A.w*(M.domain.x[1]+M.domain.x[0])/2,I.cy=A.t+A.h*(1-M.domain.y[0])-V/2,M.title.text&&M.title.position.indexOf("bottom")!==-1&&(I.cy-=J(I,A)),M.scalegroup&&W.indexOf(M.scalegroup)===-1&&W.push(M.scalegroup)}ot(q,W)}function ot(q,A){for(var W,rt,I,M=0;M<A.length;M++){var S=1/0,N=A[M];for(rt=0;rt<q.length;rt++)if(W=q[rt][0],I=W.trace,I.scalegroup===N){var V;if(I.type==="pie")V=W.r*W.r;else if(I.type==="funnelarea"){var nt,ut;I.aspectratio>1?(nt=W.r,ut=nt/I.aspectratio):(ut=W.r,nt=ut*I.aspectratio),nt*=(1+I.baseratio)/2,V=nt*ut}S=Math.min(S,V/W.vTotal)}for(rt=0;rt<q.length;rt++)if(W=q[rt][0],I=W.trace,I.scalegroup===N){var ct=S*W.vTotal;I.type==="funnelarea"&&(ct/=(1+I.baseratio)/2,ct/=I.aspectratio),W.r=Math.sqrt(ct)}}}function ht(q){var A=q[0],W=A.r,rt=A.trace,I=y.getRotationAngle(rt.rotation),M=2*Math.PI/A.vTotal,S="px0",N="px1",V,nt,ut;if(rt.direction==="counterclockwise"){for(V=0;V<q.length&&q[V].hidden;V++);if(V===q.length)return;I+=M*q[V].v,M*=-1,S="px1",N="px0"}for(ut=pt(W,I),V=0;V<q.length;V++)nt=q[V],!nt.hidden&&(nt[S]=ut,nt.startangle=I,I+=M*nt.v/2,nt.pxmid=pt(W,I),nt.midangle=I,I+=M*nt.v/2,ut=pt(W,I),nt.stopangle=I,nt[N]=ut,nt.largeArc=nt.v>A.vTotal/2?1:0,nt.halfangle=Math.PI*Math.min(nt.v/A.vTotal,.5),nt.ring=1-rt.hole,nt.rInscribed=F(nt,A))}function pt(q,A){return[q*Math.sin(A),-q*Math.cos(A)]}function yt(q,A,W){var rt=q._fullLayout,I=W.trace,M=I.texttemplate,S=I.textinfo;if(!M&&S&&S!=="none"){var N=S.split("+"),V=function(lt){return N.indexOf(lt)!==-1},nt=V("label"),ut=V("text"),ct=V("value"),bt=V("percent"),kt=rt.separators,Et;if(Et=nt?[A.label]:[],ut){var Gt=y.getFirstFilled(I.text,A.pts);g(Gt)&&Et.push(Gt)}ct&&Et.push(y.formatPieValue(A.v,kt)),bt&&Et.push(y.formatPiePercent(A.v/W.vTotal,kt)),A.text=Et.join("<br>")}function Vt(lt){return{label:lt.label,value:lt.v,valueLabel:y.formatPieValue(lt.v,rt.separators),percent:lt.v/W.vTotal,percentLabel:y.formatPiePercent(lt.v/W.vTotal,rt.separators),color:lt.color,text:lt.text,customdata:o.castOption(I,lt.i,"customdata")}}if(M){var Ht=o.castOption(I,A.i,"texttemplate");if(!Ht)A.text="";else{var vt=Vt(A),xt=y.getFirstFilled(I.text,A.pts);(g(xt)||xt==="")&&(vt.text=xt),A.text=o.texttemplateString(Ht,vt,q._fullLayout._d3locale,vt,I._meta||{})}}}function H(q,A){var W=q.rotate*Math.PI/180,rt=Math.cos(W),I=Math.sin(W),M=(A.left+A.right)/2,S=(A.top+A.bottom)/2;q.textX=M*rt-S*I,q.textY=M*I+S*rt,q.noCenter=!0}P.exports={plot:x,formatSliceLabel:yt,transformInsideText:U,determineInsideTextFont:w,positionTitleOutside:G,prerenderTitles:k,layoutAreas:at,attachFxHandlers:d,computeTransform:H}}),Bd=Mt((E,P)=>{var i=Ke(),t=Qi(),a=mi().resizeText;P.exports=function(l){var n=l._fullLayout._pielayer.selectAll(".trace");a(l,n,"pie"),n.each(function(o){var s=o[0],f=s.trace,e=i.select(this);e.style({opacity:f.opacity}),e.selectAll("path.surface").each(function(p){i.select(this).call(t,p,f,l)})})}}),Vd=Mt(E=>{var P=hr();E.name="pie",E.plot=function(i,t,a,l){P.plotBasePlot(E.name,i,t,a,l)},E.clean=function(i,t,a,l){P.cleanBasePlot(E.name,i,t,a,l)}}),qd=Mt((E,P)=>{P.exports={attributes:cs(),supplyDefaults:Nd().supplyDefaults,supplyLayoutDefaults:Rd(),layoutAttributes:fs(),calc:ds().calc,crossTraceCalc:ds().crossTraceCalc,plot:Hd().plot,style:Bd(),styleOne:Qi(),moduleType:"trace",name:"pie",basePlotModule:Vd(),categories:["pie-like","pie","showLegend"],meta:{}}}),Ud=Mt((E,P)=>{P.exports=qd()}),zr=Mt((E,P)=>{var i=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function l(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function n(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var s={},f=0;f<10;f++)s["_"+String.fromCharCode(f)]=f;var e=Object.getOwnPropertyNames(s).map(function(c){return s[c]});if(e.join("")!=="0123456789")return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(c){p[c]=c}),Object.keys(Object.assign({},p)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}P.exports=n()?Object.assign:function(o,s){for(var f,e=l(o),p,c=1;c<arguments.length;c++){f=Object(arguments[c]);for(var h in f)t.call(f,h)&&(e[h]=f[h]);if(i){p=i(f);for(var _=0;_<p.length;_++)a.call(f,p[_])&&(e[p[_]]=f[p[_]])}}return e}}),Ir=Mt((E,P)=>{var i=zr();function t(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}i(t.prototype,{instance:function(f,e){f=(f||"gregorian").toLowerCase(),e=e||"";var p=this._localCals[f+"-"+e];if(!p&&this.calendars[f]&&(p=new this.calendars[f](e),this._localCals[f+"-"+e]=p),!p)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,f);return p},newDate:function(f,e,p,c,h){return c=(f!=null&&f.year?f.calendar():typeof c=="string"?this.instance(c,h):c)||this.instance(),c.newDate(f,e,p)},substituteDigits:function(f){return function(e){return(e+"").replace(/[0-9]/g,function(p){return f[p]})}},substituteChineseDigits:function(f,e){return function(p){for(var c="",h=0;p>0;){var _=p%10;c=(_===0?"":f[_]+e[h])+c,h++,p=Math.floor(p/10)}return c.indexOf(f[1]+e[1])===0&&(c=c.substr(1)),c||f[0]}}});function a(f,e,p,c){if(this._calendar=f,this._year=e,this._month=p,this._day=c,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function l(f,e){return f=""+f,"000000".substring(0,e-f.length)+f}i(a.prototype,{newDate:function(f,e,p){return this._calendar.newDate(f??this,e,p)},year:function(f){return arguments.length===0?this._year:this.set(f,"y")},month:function(f){return arguments.length===0?this._month:this.set(f,"m")},day:function(f){return arguments.length===0?this._day:this.set(f,"d")},date:function(f,e,p){if(!this._calendar.isValid(f,e,p))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=f,this._month=e,this._day=p,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(f,e){return this._calendar.add(this,f,e)},set:function(f,e){return this._calendar.set(this,f,e)},compareTo:function(f){if(this._calendar.name!==f._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,f._calendar.local.name);var e=this._year!==f._year?this._year-f._year:this._month!==f._month?this.monthOfYear()-f.monthOfYear():this._day-f._day;return e===0?0:e<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(f){return this._calendar.fromJD(f)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(f){return this._calendar.fromJSDate(f)},toString:function(){return(this.year()<0?"-":"")+l(Math.abs(this.year()),4)+"-"+l(this.month(),2)+"-"+l(this.day(),2)}});function n(){this.shortYearCutoff="+10"}i(n.prototype,{_validateLevel:0,newDate:function(f,e,p){return f==null?this.today():(f.year&&(this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate),p=f.day(),e=f.month(),f=f.year()),new a(this,f,e,p))},today:function(){return this.fromJSDate(new Date)},epoch:function(f){var e=this._validate(f,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return e.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(f){var e=this._validate(f,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(e.year()<0?"-":"")+l(Math.abs(e.year()),4)},monthsInYear:function(f){return this._validate(f,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(f,e){var p=this._validate(f,e,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(p.month()+this.monthsInYear(p)-this.firstMonth)%this.monthsInYear(p)+this.minMonth},fromMonthOfYear:function(f,e){var p=(e+this.firstMonth-2*this.minMonth)%this.monthsInYear(f)+this.minMonth;return this._validate(f,p,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),p},daysInYear:function(f){var e=this._validate(f,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(e)?366:365},dayOfYear:function(f,e,p){var c=this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate);return c.toJD()-this.newDate(c.year(),this.fromMonthOfYear(c.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(f,e,p){var c=this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(c))+2)%this.daysInWeek()},extraInfo:function(f,e,p){return this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(f,e,p){return this._validate(f,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(f,this._add(f,e,p),e,p)},_add:function(f,e,p){if(this._validateLevel++,p==="d"||p==="w"){var c=f.toJD()+e*(p==="w"?this.daysInWeek():1),h=f.calendar().fromJD(c);return this._validateLevel--,[h.year(),h.month(),h.day()]}try{var _=f.year()+(p==="y"?e:0),y=f.monthOfYear()+(p==="m"?e:0),h=f.day(),v=function(u){for(;y<u.minMonth;)_--,y+=u.monthsInYear(_);for(var d=u.monthsInYear(_);y>d-1+u.minMonth;)_++,y-=d,d=u.monthsInYear(_)};p==="y"?(f.month()!==this.fromMonthOfYear(_,y)&&(y=this.newDate(_,f.month(),this.minDay).monthOfYear()),y=Math.min(y,this.monthsInYear(_)),h=Math.min(h,this.daysInMonth(_,this.fromMonthOfYear(_,y)))):p==="m"&&(v(this),h=Math.min(h,this.daysInMonth(_,this.fromMonthOfYear(_,y))));var g=[_,this.fromMonthOfYear(_,y),h];return this._validateLevel--,g}catch(x){throw this._validateLevel--,x}},_correctAdd:function(f,e,p,c){if(!this.hasYearZero&&(c==="y"||c==="m")&&(e[0]===0||f.year()>0!=e[0]>0)){var h={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[c],_=p<0?-1:1;e=this._add(f,p*h[0]+_*h[1],h[2])}return f.date(e[0],e[1],e[2])},set:function(f,e,p){this._validate(f,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var c=p==="y"?e:f.year(),h=p==="m"?e:f.month(),_=p==="d"?e:f.day();return(p==="y"||p==="m")&&(_=Math.min(_,this.daysInMonth(c,h))),f.date(c,h,_)},isValid:function(f,e,p){this._validateLevel++;var c=this.hasYearZero||f!==0;if(c){var h=this.newDate(f,e,this.minDay);c=e>=this.minMonth&&e-this.minMonth<this.monthsInYear(h)&&p>=this.minDay&&p-this.minDay<this.daysInMonth(h)}return this._validateLevel--,c},toJSDate:function(f,e,p){var c=this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(c)).toJSDate()},fromJSDate:function(f){return this.fromJD(s.instance().fromJSDate(f).toJD())},_validate:function(f,e,p,c){if(f.year){if(this._validateLevel===0&&this.name!==f.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,f.calendar().local.name);return f}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(f,e,p))throw c.replace(/\{0\}/,this.local.name);var h=this.newDate(f,e,p);return this._validateLevel--,h}catch(_){throw this._validateLevel--,_}}});function o(f){this.local=this.regionalOptions[f]||this.regionalOptions[""]}o.prototype=new n,i(o.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(p){var e=this._validate(p,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),p=e.year()+(e.year()<0?1:0);return p%4===0&&(p%100!==0||p%400===0)},weekOfYear:function(f,e,p){var c=this.newDate(f,e,p);return c.add(4-(c.dayOfWeek()||7),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInMonth:function(f,e){var p=this._validate(f,e,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[p.month()-1]+(p.month()===2&&this.leapYear(p.year())?1:0)},weekDay:function(f,e,p){return(this.dayOfWeek(f,e,p)||7)<6},toJD:function(f,e,p){var c=this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate);f=c.year(),e=c.month(),p=c.day(),f<0&&f++,e<3&&(e+=12,f--);var h=Math.floor(f/100),_=2-h+Math.floor(h/4);return Math.floor(365.25*(f+4716))+Math.floor(30.6001*(e+1))+p+_-1524.5},fromJD:function(f){var e=Math.floor(f+.5),p=Math.floor((e-186721625e-2)/36524.25);p=e+1+p-Math.floor(p/4);var c=p+1524,h=Math.floor((c-122.1)/365.25),_=Math.floor(365.25*h),y=Math.floor((c-_)/30.6001),v=c-_-Math.floor(y*30.6001),g=y-(y>13.5?13:1),x=h-(g>2.5?4716:4715);return x<=0&&x--,this.newDate(x,g,v)},toJSDate:function(f,e,p){var c=this._validate(f,e,p,s.local.invalidDate||s.regionalOptions[""].invalidDate),h=new Date(c.year(),c.month()-1,c.day());return h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),h.setHours(h.getHours()>12?h.getHours()+2:0),h},fromJSDate:function(f){return this.newDate(f.getFullYear(),f.getMonth()+1,f.getDate())}});var s=P.exports=new t;s.cdate=a,s.baseCalendar=n,s.calendars.gregorian=o}),Yd=Mt(()=>{var E=zr(),P=Ir();E(P.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),P.local=P.regionalOptions[""],E(P.cdate.prototype,{formatDate:function(i,t){return typeof i!="string"&&(t=i,i=""),this._calendar.formatDate(i||"",this,t)}}),E(P.baseCalendar.prototype,{UNIX_EPOCH:P.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:P.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(i,t,a){if(typeof i!="string"&&(a=t,t=i,i=""),!t)return"";if(t.calendar()!==this)throw P.local.invalidFormat||P.regionalOptions[""].invalidFormat;i=i||this.local.dateFormat,a=a||{};for(var l=a.dayNamesShort||this.local.dayNamesShort,n=a.dayNames||this.local.dayNames,o=a.monthNumbers||this.local.monthNumbers,s=a.monthNamesShort||this.local.monthNamesShort,f=a.monthNames||this.local.monthNames,e=a.calculateWeek||this.local.calculateWeek,p=function(w,k){for(var U=1;m+U<i.length&&i.charAt(m+U)===w;)U++;return m+=U-1,Math.floor(U/(k||1))>1},c=function(w,k,U,D){var C=""+k;if(p(w,D))for(;C.length<U;)C="0"+C;return C},h=function(w,k,U,D){return p(w)?D[k]:U[k]},_=this,y=function(w){return typeof o=="function"?o.call(_,w,p("m")):x(c("m",w.month(),2))},v=function(w,k){return k?typeof f=="function"?f.call(_,w):f[w.month()-_.minMonth]:typeof s=="function"?s.call(_,w):s[w.month()-_.minMonth]},g=this.local.digits,x=function(w){return a.localNumbers&&g?g(w):w},u="",d=!1,m=0;m<i.length;m++)if(d)i.charAt(m)==="'"&&!p("'")?d=!1:u+=i.charAt(m);else switch(i.charAt(m)){case"d":u+=x(c("d",t.day(),2));break;case"D":u+=h("D",t.dayOfWeek(),l,n);break;case"o":u+=c("o",t.dayOfYear(),3);break;case"w":u+=c("w",t.weekOfYear(),2);break;case"m":u+=y(t);break;case"M":u+=v(t,p("M"));break;case"y":u+=p("y",2)?t.year():(t.year()%100<10?"0":"")+t.year()%100;break;case"Y":p("Y",2),u+=t.formatYear();break;case"J":u+=t.toJD();break;case"@":u+=(t.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":u+=(t.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":p("'")?u+="'":d=!0;break;default:u+=i.charAt(m)}return u},parseDate:function(i,t,a){if(t==null)throw P.local.invalidArguments||P.regionalOptions[""].invalidArguments;if(t=typeof t=="object"?t.toString():t+"",t==="")return null;i=i||this.local.dateFormat,a=a||{};var l=a.shortYearCutoff||this.shortYearCutoff;l=typeof l!="string"?l:this.today().year()%100+parseInt(l,10);for(var n=a.dayNamesShort||this.local.dayNamesShort,o=a.dayNames||this.local.dayNames,s=a.parseMonth||this.local.parseMonth,f=a.monthNumbers||this.local.monthNumbers,e=a.monthNamesShort||this.local.monthNamesShort,p=a.monthNames||this.local.monthNames,c=-1,h=-1,_=-1,y=-1,v=-1,g=!1,x=!1,u=function(j,F){for(var R=1;T+R<i.length&&i.charAt(T+R)===j;)R++;return T+=R-1,Math.floor(R/(F||1))>1},d=function(j,F){var R=u(j,F),Z=[2,3,R?4:2,R?4:2,10,11,20]["oyYJ@!".indexOf(j)+1],G=new RegExp("^-?\\d{1,"+Z+"}"),O=t.substring(C).match(G);if(!O)throw(P.local.missingNumberAt||P.regionalOptions[""].missingNumberAt).replace(/\{0\}/,C);return C+=O[0].length,parseInt(O[0],10)},m=this,w=function(){if(typeof f=="function"){u("m");var j=f.call(m,t.substring(C));return C+=j.length,j}return d("m")},k=function(j,F,R,Z){for(var G=u(j,Z)?R:F,O=0;O<G.length;O++)if(t.substr(C,G[O].length).toLowerCase()===G[O].toLowerCase())return C+=G[O].length,O+m.minMonth;throw(P.local.unknownNameAt||P.regionalOptions[""].unknownNameAt).replace(/\{0\}/,C)},U=function(){if(typeof p=="function"){var j=u("M")?p.call(m,t.substring(C)):e.call(m,t.substring(C));return C+=j.length,j}return k("M",e,p)},D=function(){if(t.charAt(C)!==i.charAt(T))throw(P.local.unexpectedLiteralAt||P.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,C);C++},C=0,T=0;T<i.length;T++)if(x)i.charAt(T)==="'"&&!u("'")?x=!1:D();else switch(i.charAt(T)){case"d":y=d("d");break;case"D":k("D",n,o);break;case"o":v=d("o");break;case"w":d("w");break;case"m":_=w();break;case"M":_=U();break;case"y":var Y=T;g=!u("y",2),T=Y,h=d("y",2);break;case"Y":h=d("Y",2);break;case"J":c=d("J")+.5,t.charAt(C)==="."&&(C++,d("J"));break;case"@":c=d("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":c=d("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":C=t.length;break;case"'":u("'")?D():x=!0;break;default:D()}if(C<t.length)throw P.local.unexpectedText||P.regionalOptions[""].unexpectedText;if(h===-1?h=this.today().year():h<100&&g&&(h+=l===-1?1900:this.today().year()-this.today().year()%100-(h<=l?0:100)),typeof _=="string"&&(_=s.call(this,h,_)),v>-1){_=1,y=v;for(var z=this.daysInMonth(h,_);y>z;z=this.daysInMonth(h,_))_++,y-=z}return c>-1?this.fromJD(c):this.newDate(h,_,y)},determineDate:function(i,t,a,l,n){a&&typeof a!="object"&&(n=l,l=a,a=null),typeof l!="string"&&(n=l,l="");var o=this,s=function(f){try{return o.parseDate(l,f,n)}catch{}f=f.toLowerCase();for(var e=(f.match(/^c/)&&a?a.newDate():null)||o.today(),p=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,c=p.exec(f);c;)e.add(parseInt(c[1],10),c[2]||"d"),c=p.exec(f);return e};return t=t?t.newDate():null,i=i==null?t:typeof i=="string"?s(i):typeof i=="number"?isNaN(i)||i===1/0||i===-1/0?t:o.today().add(i,"d"):o.newDate(i),i}})}),Zd=Mt(()=>{var E=Ir(),P=zr(),i=E.instance();function t(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}t.prototype=new E.baseCalendar,P(t.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(c,h){if(typeof c=="string"){var _=c.match(l);return _?_[0]:""}var y=this._validateYear(c),v=c.month(),g=""+this.toChineseMonth(y,v);return h&&g.length<2&&(g="0"+g),this.isIntercalaryMonth(y,v)&&(g+="i"),g},monthNames:function(c){if(typeof c=="string"){var h=c.match(n);return h?h[0]:""}var _=this._validateYear(c),y=c.month(),v=this.toChineseMonth(_,y),g=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][v-1];return this.isIntercalaryMonth(_,y)&&(g="闰"+g),g},monthNamesShort:function(c){if(typeof c=="string"){var h=c.match(o);return h?h[0]:""}var _=this._validateYear(c),y=c.month(),v=this.toChineseMonth(_,y),g=["一","二","三","四","五","六","七","八","九","十","十一","十二"][v-1];return this.isIntercalaryMonth(_,y)&&(g="闰"+g),g},parseMonth:function(c,h){c=this._validateYear(c);var _=parseInt(h),y;if(isNaN(_))h[0]==="闰"&&(y=!0,h=h.substring(1)),h[h.length-1]==="月"&&(h=h.substring(0,h.length-1)),_=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(h);else{var v=h[h.length-1];y=v==="i"||v==="I"}var g=this.toMonthIndex(c,_,y);return g},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(c,h){if(c.year&&(c=c.year()),typeof c!="number"||c<1888||c>2111)throw h.replace(/\{0\}/,this.local.name);return c},toMonthIndex:function(c,h,_){var y=this.intercalaryMonth(c),v=_&&h!==y;if(v||h<1||h>12)throw E.local.invalidMonth.replace(/\{0\}/,this.local.name);var g;return y?!_&&h<=y?g=h-1:g=h:g=h-1,g},toChineseMonth:function(c,h){c.year&&(c=c.year(),h=c.month());var _=this.intercalaryMonth(c),y=_?12:11;if(h<0||h>y)throw E.local.invalidMonth.replace(/\{0\}/,this.local.name);var v;return _?h<_?v=h+1:v=h:v=h+1,v},intercalaryMonth:function(c){c=this._validateYear(c);var h=s[c-s[0]],_=h>>13;return _},isIntercalaryMonth:function(c,h){c.year&&(c=c.year(),h=c.month());var _=this.intercalaryMonth(c);return!!_&&_===h},leapYear:function(c){return this.intercalaryMonth(c)!==0},weekOfYear:function(c,h,_){var y=this._validateYear(c,E.local.invalidyear),v=f[y-f[0]],g=v>>9&4095,x=v>>5&15,u=v&31,d;d=i.newDate(g,x,u),d.add(4-(d.dayOfWeek()||7),"d");var m=this.toJD(c,h,_)-d.toJD();return 1+Math.floor(m/7)},monthsInYear:function(c){return this.leapYear(c)?13:12},daysInMonth:function(c,h){c.year&&(h=c.month(),c=c.year()),c=this._validateYear(c);var _=s[c-s[0]],y=_>>13,v=y?12:11;if(h>v)throw E.local.invalidMonth.replace(/\{0\}/,this.local.name);var g=_&1<<12-h?30:29;return g},weekDay:function(c,h,_){return(this.dayOfWeek(c,h,_)||7)<6},toJD:function(c,h,_){var y=this._validate(c,g,_,E.local.invalidDate);c=this._validateYear(y.year()),h=y.month(),_=y.day();var v=this.isIntercalaryMonth(c,h),g=this.toChineseMonth(c,h),x=p(c,g,_,v);return i.toJD(x.year,x.month,x.day)},fromJD:function(c){var h=i.fromJD(c),_=e(h.year(),h.month(),h.day()),y=this.toMonthIndex(_.year,_.month,_.isIntercalary);return this.newDate(_.year,y,_.day)},fromString:function(c){var h=c.match(a),_=this._validateYear(+h[1]),y=+h[2],v=!!h[3],g=this.toMonthIndex(_,y,v),x=+h[4];return this.newDate(_,g,x)},add:function(c,h,_){var y=c.year(),v=c.month(),g=this.isIntercalaryMonth(y,v),x=this.toChineseMonth(y,v),u=Object.getPrototypeOf(t.prototype).add.call(this,c,h,_);if(_==="y"){var d=u.year(),m=u.month(),w=this.isIntercalaryMonth(d,x),k=g&&w?this.toMonthIndex(d,x,!0):this.toMonthIndex(d,x,!1);k!==m&&u.month(k)}return u}});var a=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,l=/^\d?\d[iI]?/m,n=/^闰?十?[一二三四五六七八九]?月/m,o=/^闰?十?[一二三四五六七八九]?/m;E.calendars.chinese=t;var s=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],f=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function e(c,h,_,y){var v,g;if(typeof c=="object")v=c,g=h||{};else{var x=typeof c=="number"&&c>=1888&&c<=2111;if(!x)throw new Error("Solar year outside range 1888-2111");var u=typeof h=="number"&&h>=1&&h<=12;if(!u)throw new Error("Solar month outside range 1 - 12");var d=typeof _=="number"&&_>=1&&_<=31;if(!d)throw new Error("Solar day outside range 1 - 31");v={year:c,month:h,day:_},g={}}var m=f[v.year-f[0]],w=v.year<<9|v.month<<5|v.day;g.year=w>=m?v.year:v.year-1,m=f[g.year-f[0]];var k=m>>9&4095,U=m>>5&15,D=m&31,C,T=new Date(k,U-1,D),Y=new Date(v.year,v.month-1,v.day);C=Math.round((Y-T)/(24*3600*1e3));var z=s[g.year-s[0]],j;for(j=0;j<13;j++){var F=z&1<<12-j?30:29;if(C<F)break;C-=F}var R=z>>13;return!R||j<R?(g.isIntercalary=!1,g.month=1+j):j===R?(g.isIntercalary=!0,g.month=j):(g.isIntercalary=!1,g.month=j),g.day=1+C,g}function p(c,h,_,y,v){var g,x;if(typeof c=="object")x=c,g=h||{};else{var u=typeof c=="number"&&c>=1888&&c<=2111;if(!u)throw new Error("Lunar year outside range 1888-2111");var d=typeof h=="number"&&h>=1&&h<=12;if(!d)throw new Error("Lunar month outside range 1 - 12");var m=typeof _=="number"&&_>=1&&_<=30;if(!m)throw new Error("Lunar day outside range 1 - 30");var w;typeof y=="object"?(w=!1,g=y):(w=!!y,g={}),x={year:c,month:h,day:_,isIntercalary:w}}var k;k=x.day-1;var U=s[x.year-s[0]],D=U>>13,C;D&&(x.month>D||x.isIntercalary)?C=x.month:C=x.month-1;for(var T=0;T<C;T++){var Y=U&1<<12-T?30:29;k+=Y}var z=f[x.year-f[0]],j=z>>9&4095,F=z>>5&15,R=z&31,Z=new Date(j,F-1,R+k);return g.year=Z.getFullYear(),g.month=1+Z.getMonth(),g.day=Z.getDate(),g}}),Gd=Mt(()=>{var E=Ir(),P=zr();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,P(i.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var a=this._validate(l,this.minMonth,this.minDay,E.local.invalidYear),l=a.year()+(a.year()<0?1:0);return l%4===3||l%4===-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,E.local.invalidYear||E.regionalOptions[""].invalidYear),13},weekOfYear:function(t,a,l){var n=this.newDate(t,a,l);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,a){var l=this._validate(t,a,this.minDay,E.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===13&&this.leapYear(l.year())?1:0)},weekDay:function(t,a,l){return(this.dayOfWeek(t,a,l)||7)<6},toJD:function(t,a,l){var n=this._validate(t,a,l,E.local.invalidDate);return t=n.year(),t<0&&t++,n.day()+(n.month()-1)*30+(t-1)*365+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var a=Math.floor(t)+.5-this.jdEpoch,l=Math.floor((a-Math.floor((a+366)/1461))/365)+1;l<=0&&l--,a=Math.floor(t)+.5-this.newDate(l,1,1).toJD();var n=Math.floor(a/30)+1,o=a-(n-1)*30+1;return this.newDate(l,n,o)}}),E.calendars.coptic=i}),Jd=Mt(()=>{var E=Ir(),P=zr();function i(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,P(i.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(a){return this._validate(a,this.minMonth,this.minDay,E.local.invalidYear),!1},monthsInYear:function(a){return this._validate(a,this.minMonth,this.minDay,E.local.invalidYear),13},daysInYear:function(a){return this._validate(a,this.minMonth,this.minDay,E.local.invalidYear),400},weekOfYear:function(a,l,n){var o=this.newDate(a,l,n);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/8)+1},daysInMonth:function(a,l){var n=this._validate(a,l,this.minDay,E.local.invalidMonth);return this.daysPerMonth[n.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(a,l,n){var o=this._validate(a,l,n,E.local.invalidDate);return(o.day()+1)%8},weekDay:function(a,l,n){var o=this.dayOfWeek(a,l,n);return o>=2&&o<=6},extraInfo:function(a,l,n){var o=this._validate(a,l,n,E.local.invalidDate);return{century:t[Math.floor((o.year()-1)/100)+1]||""}},toJD:function(a,l,n){var o=this._validate(a,l,n,E.local.invalidDate);return a=o.year()+(o.year()<0?1:0),l=o.month(),n=o.day(),n+(l>1?16:0)+(l>2?(l-2)*32:0)+(a-1)*400+this.jdEpoch-1},fromJD:function(a){a=Math.floor(a+.5)-Math.floor(this.jdEpoch)-1;var l=Math.floor(a/400)+1;a-=(l-1)*400,a+=a>15?16:0;var n=Math.floor(a/32)+1,o=a-(n-1)*32+1;return this.newDate(l<=0?l-1:l,n,o)}});var t={20:"Fruitbat",21:"Anchovy"};E.calendars.discworld=i}),Wd=Mt(()=>{var E=Ir(),P=zr();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,P(i.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var a=this._validate(l,this.minMonth,this.minDay,E.local.invalidYear),l=a.year()+(a.year()<0?1:0);return l%4===3||l%4===-1},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,E.local.invalidYear||E.regionalOptions[""].invalidYear),13},weekOfYear:function(t,a,l){var n=this.newDate(t,a,l);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,a){var l=this._validate(t,a,this.minDay,E.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===13&&this.leapYear(l.year())?1:0)},weekDay:function(t,a,l){return(this.dayOfWeek(t,a,l)||7)<6},toJD:function(t,a,l){var n=this._validate(t,a,l,E.local.invalidDate);return t=n.year(),t<0&&t++,n.day()+(n.month()-1)*30+(t-1)*365+Math.floor(t/4)+this.jdEpoch-1},fromJD:function(t){var a=Math.floor(t)+.5-this.jdEpoch,l=Math.floor((a-Math.floor((a+366)/1461))/365)+1;l<=0&&l--,a=Math.floor(t)+.5-this.newDate(l,1,1).toJD();var n=Math.floor(a/30)+1,o=a-(n-1)*30+1;return this.newDate(l,n,o)}}),E.calendars.ethiopian=i}),Xd=Mt(()=>{var E=Ir(),P=zr();function i(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,P(i.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var l=this._validate(a,this.minMonth,this.minDay,E.local.invalidYear);return this._leapYear(l.year())},_leapYear:function(a){return a=a<0?a+1:a,t(a*7+1,19)<7},monthsInYear:function(a){return this._validate(a,this.minMonth,this.minDay,E.local.invalidYear),this._leapYear(a.year?a.year():a)?13:12},weekOfYear:function(a,l,n){var o=this.newDate(a,l,n);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(a){var l=this._validate(a,this.minMonth,this.minDay,E.local.invalidYear);return a=l.year(),this.toJD(a===-1?1:a+1,7,1)-this.toJD(a,7,1)},daysInMonth:function(a,l){return a.year&&(l=a.month(),a=a.year()),this._validate(a,l,this.minDay,E.local.invalidMonth),l===12&&this.leapYear(a)||l===8&&t(this.daysInYear(a),10)===5?30:l===9&&t(this.daysInYear(a),10)===3?29:this.daysPerMonth[l-1]},weekDay:function(a,l,n){return this.dayOfWeek(a,l,n)!==6},extraInfo:function(a,l,n){var o=this._validate(a,l,n,E.local.invalidDate);return{yearType:(this.leapYear(o)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(o)%10-3]}},toJD:function(a,l,n){var o=this._validate(a,l,n,E.local.invalidDate);a=o.year(),l=o.month(),n=o.day();var s=a<=0?a+1:a,f=this.jdEpoch+this._delay1(s)+this._delay2(s)+n+1;if(l<7){for(var e=7;e<=this.monthsInYear(a);e++)f+=this.daysInMonth(a,e);for(var e=1;e<l;e++)f+=this.daysInMonth(a,e)}else for(var e=7;e<l;e++)f+=this.daysInMonth(a,e);return f},_delay1:function(a){var l=Math.floor((235*a-234)/19),n=12084+13753*l,o=l*29+Math.floor(n/25920);return t(3*(o+1),7)<3&&o++,o},_delay2:function(a){var l=this._delay1(a-1),n=this._delay1(a),o=this._delay1(a+1);return o-n===356?2:n-l===382?1:0},fromJD:function(a){a=Math.floor(a)+.5;for(var l=Math.floor((a-this.jdEpoch)*98496/35975351)-1;a>=this.toJD(l===-1?1:l+1,7,1);)l++;for(var n=a<this.toJD(l,1,1)?7:1;a>this.toJD(l,n,this.daysInMonth(l,n));)n++;var o=a-this.toJD(l,n,1)+1;return this.newDate(l,n,o)}});function t(a,l){return a-l*Math.floor(a/l)}E.calendars.hebrew=i}),$d=Mt(()=>{var E=Ir(),P=zr();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,P(i.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(t){var a=this._validate(t,this.minMonth,this.minDay,E.local.invalidYear);return(a.year()*11+14)%30<11},weekOfYear:function(t,a,l){var n=this.newDate(t,a,l);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(t){return this.leapYear(t)?355:354},daysInMonth:function(t,a){var l=this._validate(t,a,this.minDay,E.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===12&&this.leapYear(l.year())?1:0)},weekDay:function(t,a,l){return this.dayOfWeek(t,a,l)!==5},toJD:function(t,a,l){var n=this._validate(t,a,l,E.local.invalidDate);return t=n.year(),a=n.month(),l=n.day(),t=t<=0?t+1:t,l+Math.ceil(29.5*(a-1))+(t-1)*354+Math.floor((3+11*t)/30)+this.jdEpoch-1},fromJD:function(t){t=Math.floor(t)+.5;var a=Math.floor((30*(t-this.jdEpoch)+10646)/10631);a=a<=0?a-1:a;var l=Math.min(12,Math.ceil((t-29-this.toJD(a,1,1))/29.5)+1),n=t-this.toJD(a,l,1)+1;return this.newDate(a,l,n)}}),E.calendars.islamic=i}),Qd=Mt(()=>{var E=Ir(),P=zr();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,P(i.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var a=this._validate(l,this.minMonth,this.minDay,E.local.invalidYear),l=a.year()<0?a.year()+1:a.year();return l%4===0},weekOfYear:function(t,a,l){var n=this.newDate(t,a,l);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,a){var l=this._validate(t,a,this.minDay,E.local.invalidMonth);return this.daysPerMonth[l.month()-1]+(l.month()===2&&this.leapYear(l.year())?1:0)},weekDay:function(t,a,l){return(this.dayOfWeek(t,a,l)||7)<6},toJD:function(t,a,l){var n=this._validate(t,a,l,E.local.invalidDate);return t=n.year(),a=n.month(),l=n.day(),t<0&&t++,a<=2&&(t--,a+=12),Math.floor(365.25*(t+4716))+Math.floor(30.6001*(a+1))+l-1524.5},fromJD:function(t){var a=Math.floor(t+.5),l=a+1524,n=Math.floor((l-122.1)/365.25),o=Math.floor(365.25*n),s=Math.floor((l-o)/30.6001),f=s-Math.floor(s<14?1:13),e=n-Math.floor(f>2?4716:4715),p=l-o-Math.floor(30.6001*s);return e<=0&&e--,this.newDate(e,f,p)}}),E.calendars.julian=i}),Kd=Mt(()=>{var E=Ir(),P=zr();function i(l){this.local=this.regionalOptions[l||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,P(i.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(l){return this._validate(l,this.minMonth,this.minDay,E.local.invalidYear),!1},formatYear:function(l){var n=this._validate(l,this.minMonth,this.minDay,E.local.invalidYear);l=n.year();var o=Math.floor(l/400);l=l%400,l+=l<0?400:0;var s=Math.floor(l/20);return o+"."+s+"."+l%20},forYear:function(l){if(l=l.split("."),l.length<3)throw"Invalid Mayan year";for(var n=0,o=0;o<l.length;o++){var s=parseInt(l[o],10);if(Math.abs(s)>19||o>0&&s<0)throw"Invalid Mayan year";n=n*20+s}return n},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,E.local.invalidYear),18},weekOfYear:function(l,n,o){return this._validate(l,n,o,E.local.invalidDate),0},daysInYear:function(l){return this._validate(l,this.minMonth,this.minDay,E.local.invalidYear),360},daysInMonth:function(l,n){return this._validate(l,n,this.minDay,E.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(l,n,o){var s=this._validate(l,n,o,E.local.invalidDate);return s.day()},weekDay:function(l,n,o){return this._validate(l,n,o,E.local.invalidDate),!0},extraInfo:function(l,n,o){var s=this._validate(l,n,o,E.local.invalidDate),f=s.toJD(),e=this._toHaab(f),p=this._toTzolkin(f);return{haabMonthName:this.local.haabMonths[e[0]-1],haabMonth:e[0],haabDay:e[1],tzolkinDayName:this.local.tzolkinMonths[p[0]-1],tzolkinDay:p[0],tzolkinTrecena:p[1]}},_toHaab:function(l){l-=this.jdEpoch;var n=t(l+8+17*20,365);return[Math.floor(n/20)+1,t(n,20)]},_toTzolkin:function(l){return l-=this.jdEpoch,[a(l+20,20),a(l+4,13)]},toJD:function(l,n,o){var s=this._validate(l,n,o,E.local.invalidDate);return s.day()+s.month()*20+s.year()*360+this.jdEpoch},fromJD:function(l){l=Math.floor(l)+.5-this.jdEpoch;var n=Math.floor(l/360);l=l%360,l+=l<0?360:0;var o=Math.floor(l/20),s=l%20;return this.newDate(n,o,s)}});function t(l,n){return l-n*Math.floor(l/n)}function a(l,n){return t(l-1,n)+1}E.calendars.mayan=i}),t0=Mt(()=>{var E=Ir(),P=zr();function i(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar;var t=E.instance("gregorian");P(i.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(a){var l=this._validate(a,this.minMonth,this.minDay,E.local.invalidYear||E.regionalOptions[""].invalidYear);return t.leapYear(l.year()+(l.year()<1?1:0)+1469)},weekOfYear:function(a,l,n){var o=this.newDate(a,l,n);return o.add(1-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(a,l){var n=this._validate(a,l,this.minDay,E.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===12&&this.leapYear(n.year())?1:0)},weekDay:function(a,l,n){return(this.dayOfWeek(a,l,n)||7)<6},toJD:function(s,l,n){var o=this._validate(s,l,n,E.local.invalidMonth),s=o.year();s<0&&s++;for(var f=o.day(),e=1;e<o.month();e++)f+=this.daysPerMonth[e-1];return f+t.toJD(s+1468,3,13)},fromJD:function(a){a=Math.floor(a+.5);for(var l=Math.floor((a-(this.jdEpoch-1))/366);a>=this.toJD(l+1,1,1);)l++;for(var n=a-Math.floor(this.toJD(l,1,1)+.5)+1,o=1;n>this.daysInMonth(l,o);)n-=this.daysInMonth(l,o),o++;return this.newDate(l,o,n)}}),E.calendars.nanakshahi=i}),e0=Mt(()=>{var E=Ir(),P=zr();function i(t){this.local=this.regionalOptions[t||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,P(i.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(t){return this.daysInYear(t)!==this.daysPerYear},weekOfYear:function(t,a,l){var n=this.newDate(t,a,l);return n.add(-n.dayOfWeek(),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInYear:function(t){var a=this._validate(t,this.minMonth,this.minDay,E.local.invalidYear);if(t=a.year(),typeof this.NEPALI_CALENDAR_DATA[t]>"u")return this.daysPerYear;for(var l=0,n=this.minMonth;n<=12;n++)l+=this.NEPALI_CALENDAR_DATA[t][n];return l},daysInMonth:function(t,a){return t.year&&(a=t.month(),t=t.year()),this._validate(t,a,this.minDay,E.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[t]>"u"?this.daysPerMonth[a-1]:this.NEPALI_CALENDAR_DATA[t][a]},weekDay:function(t,a,l){return this.dayOfWeek(t,a,l)!==6},toJD:function(t,a,l){var n=this._validate(t,a,l,E.local.invalidDate);t=n.year(),a=n.month(),l=n.day();var o=E.instance(),s=0,f=a,e=t;this._createMissingCalendarData(t);var p=t-(f>9||f===9&&l>=this.NEPALI_CALENDAR_DATA[e][0]?56:57);for(a!==9&&(s=l,f--);f!==9;)f<=0&&(f=12,e--),s+=this.NEPALI_CALENDAR_DATA[e][f],f--;return a===9?(s+=l-this.NEPALI_CALENDAR_DATA[e][0],s<0&&(s+=o.daysInYear(p))):s+=this.NEPALI_CALENDAR_DATA[e][9]-this.NEPALI_CALENDAR_DATA[e][0],o.newDate(p,1,1).add(s,"d").toJD()},fromJD:function(t){var a=E.instance(),l=a.fromJD(t),n=l.year(),o=l.dayOfYear(),s=n+56;this._createMissingCalendarData(s);for(var f=9,e=this.NEPALI_CALENDAR_DATA[s][0],p=this.NEPALI_CALENDAR_DATA[s][f]-e+1;o>p;)f++,f>12&&(f=1,s++),p+=this.NEPALI_CALENDAR_DATA[s][f];var c=this.NEPALI_CALENDAR_DATA[s][f]-(p-o);return this.newDate(s,f,c)},_createMissingCalendarData:function(t){var a=this.daysPerMonth.slice(0);a.unshift(17);for(var l=t-1;l<t+2;l++)typeof this.NEPALI_CALENDAR_DATA[l]>"u"&&(this.NEPALI_CALENDAR_DATA[l]=a)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),E.calendars.nepali=i}),a0=Mt(()=>{var E=Ir(),P=zr();function i(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}function t(a){var l=a-475;a<0&&l++;var n=.242197,o=n*l,s=n*(l+1),f=o-Math.floor(o),e=s-Math.floor(s);return f>e}i.prototype=new E.baseCalendar,P(i.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Dey","Bah","Esf"],dayNames:["Yekshanbeh","Doshanbeh","Seshanbeh","Chahārshanbeh","Panjshanbeh","Jom'eh","Shanbeh"],dayNamesShort:["Yek","Do","Se","Cha","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(a){var l=this._validate(a,this.minMonth,this.minDay,E.local.invalidYear);return t(l.year())},weekOfYear:function(a,l,n){var o=this.newDate(a,l,n);return o.add(-((o.dayOfWeek()+1)%7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(a,l){var n=this._validate(a,l,this.minDay,E.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===12&&this.leapYear(n.year())?1:0)},weekDay:function(a,l,n){return this.dayOfWeek(a,l,n)!==5},toJD:function(a,l,n){var o=this._validate(a,l,n,E.local.invalidDate);a=o.year(),l=o.month(),n=o.day();var s=0;if(a>0)for(var f=1;f<a;f++)t(f)&&s++;else if(a<0)for(var f=a;f<0;f++)t(f)&&s--;return n+(l<=7?(l-1)*31:(l-1)*30+6)+(a>0?a-1:a)*365+s+this.jdEpoch-1},fromJD:function(a){a=Math.floor(a)+.5;var l=475+(a-this.toJD(475,1,1))/365.242197,n=Math.floor(l);n<=0&&n--,a>this.toJD(n,12,t(n)?30:29)&&(n++,n===0&&n++);var o=a-this.toJD(n,1,1)+1,s=o<=186?Math.ceil(o/31):Math.ceil((o-6)/30),f=a-this.toJD(n,s,1)+1;return this.newDate(n,s,f)}}),E.calendars.persian=i,E.calendars.jalali=i}),r0=Mt(()=>{var E=Ir(),P=zr(),i=E.instance();function t(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}t.prototype=new E.baseCalendar,P(t.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,E.local.invalidYear),n=this._t2gYear(l.year());return i.leapYear(n)},weekOfYear:function(s,l,n){var o=this._validate(s,this.minMonth,this.minDay,E.local.invalidYear),s=this._t2gYear(o.year());return i.weekOfYear(s,o.month(),o.day())},daysInMonth:function(a,l){var n=this._validate(a,l,this.minDay,E.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===2&&this.leapYear(n.year())?1:0)},weekDay:function(a,l,n){return(this.dayOfWeek(a,l,n)||7)<6},toJD:function(s,l,n){var o=this._validate(s,l,n,E.local.invalidDate),s=this._t2gYear(o.year());return i.toJD(s,o.month(),o.day())},fromJD:function(a){var l=i.fromJD(a),n=this._g2tYear(l.year());return this.newDate(n,l.month(),l.day())},_t2gYear:function(a){return a+this.yearsOffset+(a>=-this.yearsOffset&&a<=-1?1:0)},_g2tYear:function(a){return a-this.yearsOffset-(a>=1&&a<=this.yearsOffset?1:0)}}),E.calendars.taiwan=t}),n0=Mt(()=>{var E=Ir(),P=zr(),i=E.instance();function t(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}t.prototype=new E.baseCalendar,P(t.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(n){var l=this._validate(n,this.minMonth,this.minDay,E.local.invalidYear),n=this._t2gYear(l.year());return i.leapYear(n)},weekOfYear:function(s,l,n){var o=this._validate(s,this.minMonth,this.minDay,E.local.invalidYear),s=this._t2gYear(o.year());return i.weekOfYear(s,o.month(),o.day())},daysInMonth:function(a,l){var n=this._validate(a,l,this.minDay,E.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===2&&this.leapYear(n.year())?1:0)},weekDay:function(a,l,n){return(this.dayOfWeek(a,l,n)||7)<6},toJD:function(s,l,n){var o=this._validate(s,l,n,E.local.invalidDate),s=this._t2gYear(o.year());return i.toJD(s,o.month(),o.day())},fromJD:function(a){var l=i.fromJD(a),n=this._g2tYear(l.year());return this.newDate(n,l.month(),l.day())},_t2gYear:function(a){return a-this.yearsOffset-(a>=1&&a<=this.yearsOffset?1:0)},_g2tYear:function(a){return a+this.yearsOffset+(a>=-this.yearsOffset&&a<=-1?1:0)}}),E.calendars.thai=t}),i0=Mt(()=>{var E=Ir(),P=zr();function i(a){this.local=this.regionalOptions[a||""]||this.regionalOptions[""]}i.prototype=new E.baseCalendar,P(i.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(a){var l=this._validate(a,this.minMonth,this.minDay,E.local.invalidYear);return this.daysInYear(l.year())===355},weekOfYear:function(a,l,n){var o=this.newDate(a,l,n);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(a){for(var l=0,n=1;n<=12;n++)l+=this.daysInMonth(a,n);return l},daysInMonth:function(a,l){for(var n=this._validate(a,l,this.minDay,E.local.invalidMonth),o=n.toJD()-24e5+.5,s=0,f=0;f<t.length;f++){if(t[f]>o)return t[s]-t[s-1];s++}return 30},weekDay:function(a,l,n){return this.dayOfWeek(a,l,n)!==5},toJD:function(a,l,n){var o=this._validate(a,l,n,E.local.invalidDate),s=12*(o.year()-1)+o.month()-15292,f=o.day()+t[s-1]-1;return f+24e5-.5},fromJD:function(a){for(var l=a-24e5+.5,n=0,o=0;o<t.length&&!(t[o]>l);o++)n++;var s=n+15292,f=Math.floor((s-1)/12),e=f+1,p=s-12*f,c=l-t[n-1]+1;return this.newDate(e,p,c)},isValid:function(a,l,n){var o=E.baseCalendar.prototype.isValid.apply(this,arguments);return o&&(a=a.year!=null?a.year:a,o=a>=1276&&a<=1500),o},_validate:function(a,l,n,o){var s=E.baseCalendar.prototype._validate.apply(this,arguments);if(s.year<1276||s.year>1500)throw o.replace(/\{0\}/,this.local.name);return s}}),E.calendars.ummalqura=i;var t=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]}),o0=Mt((E,P)=>{P.exports=Ir(),Yd(),Zd(),Gd(),Jd(),Wd(),Xd(),$d(),Qd(),Kd(),t0(),e0(),a0(),r0(),n0(),i0()}),l0=Mt((E,P)=>{var i=o0(),t=Oe(),a=Fa(),l=a.EPOCHJD,n=a.ONEDAY,o={valType:"enumerated",values:t.sortObjectKeys(i.calendars),editType:"calc",dflt:"gregorian"},s=function(U,D,C,T){var Y={};return Y[C]=o,t.coerce(U,D,Y,C,T)},f=function(U,D,C,T){for(var Y=0;Y<C.length;Y++)s(U,D,C[Y]+"calendar",T.calendar)},e={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},p={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},c={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},h="##",_={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:h,w:h,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function y(U,D,C){for(var T=Math.floor((D+.05)/n)+l,Y=g(C).fromJD(T),z=0,j,F,R,Z,G;(z=U.indexOf("%",z))!==-1;)j=U.charAt(z+1),j==="0"||j==="-"||j==="_"?(R=3,F=U.charAt(z+2),j==="_"&&(j="-")):(F=j,j="0",R=2),Z=_[F],Z?(Z===h?G=h:G=Y.formatDate(Z[j]),U=U.substr(0,z)+G+U.substr(z+R),z+=G.length):z+=R;return U}var v={};function g(U){var D=v[U];return D||(D=v[U]=i.instance(U),D)}function x(U){return t.extendFlat({},o,{description:U})}function u(U){return"Sets the calendar system to use with `"+U+"` date data."}var d={xcalendar:x(u("x"))},m=t.extendFlat({},d,{ycalendar:x(u("y"))}),w=t.extendFlat({},m,{zcalendar:x(u("z"))}),k=x(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));P.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:m,bar:m,box:m,heatmap:m,contour:m,histogram:m,histogram2d:m,histogram2dcontour:m,scatter3d:w,surface:w,mesh3d:w,scattergl:m,ohlc:d,candlestick:d},layout:{calendar:x(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:k},yaxis:{calendar:k},scene:{xaxis:{calendar:k},yaxis:{calendar:k},zaxis:{calendar:k}},polar:{radialaxis:{calendar:k}}}},layoutAttributes:o,handleDefaults:s,handleTraceDefaults:f,CANONICAL_SUNDAY:p,CANONICAL_TICK:e,DFLTRANGE:c,getCal:g,worldCalFmt:y}}),s0=Mt((E,P)=>{P.exports=l0()}),u0=Mt((E,P)=>{var i=Ld();i.register([Fd(),Ud(),s0()]),P.exports=i});return u0()})();/*! Bundled license information:

	native-promise-only/lib/npo.src.js:
	  (*! Native Promise Only
	      v0.8.1 (c) Kyle Simpson
	      MIT License: http://getify.mit-license.org
	  *)

	polybooljs/index.js:
	  (*
	   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
	   * @license MIT
	   * @preserve Project Home: https://github.com/voidqk/polybooljs
	   *)

	object-assign/index.js:
	  (*
	  object-assign
	  (c) Sindre Sorhus
	  @license MIT
	  *)
	*/return window.Plotly=Ue,Ue})})(yu);var yh=yu.exports;const xh=gu(yh);function bh(Be,Ue,Mt={}){const ca=[];return Ue.forEach((va,Ke)=>{ca.push({name:Mt.name,legendgroup:Mt.name,showlegend:Ke===0,...gh,...Mt,x:Be,y:va})}),ca}function _h(Be=[],Ue=[]){return ei.all([hh,{xaxis:{tickvals:Ue,ticktext:Be},yaxis:{}}])}function wh(Be){const Mt=$1(Be[0].bandsData.path).map(W1),ca=X1(Be[0].bandsData.paths),va=_h(Mt,ca);let Ke=[];for(const[Ya,Oa]of Be.entries()){let Qa=Oa.traceFormat;(!Qa||Object.keys(Qa).length===0)&&(Qa={name:`Band Structure ${Ya}`,line:{color:Uo(Ya),width:1}});const Dr=Oa.bandsData,{xs:ua,ys:Fa}=J1(Dr),Ur=bh(ua,Fa,Qa);Ke.push(...Ur)}return{bandTraces:Ke,bandLayout:va}}function Mh(Be="h"){let Ue;return Be==="v"?Ue=vh:Ue=ph,Ue}function Th(Be,Ue="h",Mt={}){const ca=Ue==="v"?Be.y:Be.x,va=Ue==="v"?Be.x:Be.y;return{...mh,...Mt,x:ca,y:va}}function kh(Be,Ue="h"){const Mt=[];for(const[va,Ke]of Be.entries()){let Ya=Ke.traceFormat;(!Ya||Object.keys(Ya).length===0)&&(Ya={name:`DOS ${va}`,line:{color:Uo(va),width:2}});const Oa=Ke.dosData,Qa=Th(Oa,Ue,Ya);Mt.push(Qa)}const ca=Mh(Ue);return{dosTraces:Mt,dosLayout:ca}}function Ah(Be,Ue,Mt,ca={},va=1){const Ke=hu(Mt),Ya=hu(Ue),Oa=[];return Ya.forEach((Qa,Dr)=>{const ua=Ke[Dr],Fa=new Float64Array(Qa.length),Ur=new Float64Array(Qa.length);for(let Za=0;Za<Qa.length;Za++){const tn=ua[Za]*va;Fa[Za]=Qa[Za]+tn,Ur[Za]=Qa[Za]-tn}const _r=Be.length,lr=new Float32Array(_r*2),fn=new Float32Array(_r*2);for(let Za=0;Za<_r;Za++)lr[Za]=Be[Za],fn[Za]=Ur[Za],lr[2*_r-1-Za]=Be[Za],fn[2*_r-1-Za]=Fa[Za];Oa.push({name:ca.name,legendgroup:ca.name,type:"scatter",mode:"lines",fill:"toself",...ca,showlegend:Dr===0,x:lr,y:fn})}),Oa}function Lh(Be,Ue){for(const Mt in Be)Be[Mt]!==null&&typeof Be[Mt]=="object"&&!Array.isArray(Be[Mt])&&Ue[Mt]&&typeof Ue[Mt]=="object"&&!Array.isArray(Ue[Mt])?Ue[Mt]=ei(Ue[Mt],Be[Mt]):Ue[Mt]=Be[Mt]}function Ch(Be,{bandsDataArray:Ue=[],dosDataArray:Mt=[],fermiLevels:ca=[],customTraces:va=[],settings:Ke={}}){let Ya=[],Oa={},Qa=[],Dr=[],ua={};typeof ca=="number"&&(ca=[ca]);const Fa=Ue.length>0,Ur=Mt.length>0;if(Fa){const Za=wh(Ue);Ya=Za.bandTraces,Oa=Za.bandLayout;for(const[tn,xn]of Ue.entries())if(xn.hasOwnProperty("projections"))for(const[ai,en]of xn.projections.entries()){const Yr=en.traceFormat&&Object.keys(en.traceFormat).length>0?en.traceFormat:{name:`Projection ${ai}`,line:{color:Uo(ai),width:0}};Qa.push(...Ah(xn.bandsData.x,xn.bandsData.y,en.projData.weights,Yr))}}if(Ur){const tn=kh(Mt,Fa?"v":"h");Dr=tn.dosTraces,ua=tn.dosLayout}let _r={},lr=[];if(Ur&&!Fa)lr=Dr,_r={...ua,showlegend:(ua==null?void 0:ua.showlegend)??!0};else if(Fa&&!Ur)lr=[...Ya,...Qa],_r={...Oa,showlegend:(Oa==null?void 0:Oa.showlegend)??!0};else if(Ur&&Fa){Dr=Dr.map(tn=>({...tn,xaxis:"x2",yaxis:"y"}));const Za=G1([...Qa,...Dr]);lr=[...Ya,...Za],_r={...Fi,xaxis:{...Fi.xaxis||{},...(Oa==null?void 0:Oa.xaxis)||{}},xaxis2:{...Fi.xaxis2||{},...(ua==null?void 0:ua.xaxis2)||{}},yaxis:{...Fi.yaxis||{},...(Oa==null?void 0:Oa.yaxis)||{},...(ua==null?void 0:ua.yaxis)||{}}}}for(const Za of va)console.log(Za),Za.target==="dos"?lr.push({...Za,xaxis:"x2",yaxis:"y"}):Za.target==="bands"?lr.push({...Za,xaxis:"x",yaxis:"y"}):lr.push({...Za});const fn=Q1(ca,lr,Ur,Fa);Lh(Ke,_r),xh.react(Be,fn,_r,{displaylogo:!1,responsive:!0})}export{Ch as BandsVisualiser,X1 as getXLabelPos,$1 as getXLabelsfromkpath,J1 as getXYData,hh as plotBandLayout,Fi as plotCombinedLayout,ph as plotDOSLayout,vh as plotDOSLayoutF,Yo as plotLayoutDefault,W1 as prettifyLabels};
